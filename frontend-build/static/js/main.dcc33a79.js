/*! For license information please see main.dcc33a79.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},45:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8587);function a(e,t){if(null==e)return{};var r,a,s=(0,n.A)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},149:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},191:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler");Symbol.for("react.provider");var i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),f=Symbol.for("react.client.reference");function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case o:case s:case d:case u:case m:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case p:case i:return e;default:return t}}case n:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===o||e===s||e===d||e===u||"object"===typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===p||e.$$typeof===l||e.$$typeof===i||e.$$typeof===c||e.$$typeof===f||void 0!==e.getModuleId)}},219:(e,t,r)=>{"use strict";var n=r(3763),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function l(e){return n.isMemo(e)?o:i[e.$$typeof]||a}i[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[n.Memo]=o;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(m){var a=h(r);a&&a!==m&&e(t,a,n)}var o=d(r);u&&(o=o.concat(u(r)));for(var i=l(t),f=l(r),x=0;x<o.length;++x){var g=o[x];if(!s[g]&&(!n||!n[g])&&(!f||!f[g])&&(!i||!i[g])){var b=p(r,g);try{c(t,g,b)}catch(y){}}}}return t}},320:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).get(e)}},539:(e,t,r)=>{var n=r(9742),a=r(7498),s=r(3279);e.exports=function(e){return e&&e.length?n(e,s,a):void 0}},579:(e,t,r)=>{"use strict";e.exports=r(1153)},620:(e,t,r)=>{var n=r(6913),a=r(4052),s=r(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&s(e)&&"[object String]"==n(e)}},643:(e,t,r)=>{var n=r(7676)("toUpperCase");e.exports=n},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",s="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[s,o,i].join("|")+")"+c+l+")*"),u="(?:"+[s+n+"?",n,o,i,r].join("|")+")",p=RegExp(a+"(?="+a+")|"+u+d,"g");e.exports=function(e){return e.match(p)||[]}},755:(e,t,r)=>{var n=r(8895),a=r(7116);e.exports=function e(t,r,s,o,i){var l=-1,c=t.length;for(s||(s=a),i||(i=[]);++l<c;){var d=t[l];r>0&&s(d)?r>1?e(d,r-1,s,o,i):n(i,d):o||(i[i.length]=d)}return i}},793:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},801:(e,t,r)=>{var n=r(1141),a=r(6686),s=r(9841),o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=i.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):o.test(e)?NaN:+e}},805:(e,t,r)=>{"use strict";r(5881)},816:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2284);function a(e){var t=function(e,t){if("object"!=(0,n.A)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=(0,n.A)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.A)(t)?t:t+""}},914:(e,t,r)=>{var n=r(9841);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},917:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(3797).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},929:(e,t,r)=>{var n=r(3211),a=r(6571),s=r(9194),o=r(6686);e.exports=function(e,t,r){if(!o(r))return!1;var i=typeof t;return!!("number"==i?a(r)&&s(t,r.length):"string"==i&&t in r)&&n(r[t],e)}},977:(e,t,r)=>{var n=r(9096),a=r(4416);e.exports=function(e,t){return e&&e.length?a(e,n(t,2)):[]}},987:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(3797).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1024:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(3797).A)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},1069:(e,t,r)=>{var n=r(8541);e.exports=function(e){return null==e?"":n(e)}},1141:(e,t,r)=>{var n=r(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},1143:(e,t,r)=>{var n=r(3028)(Object.keys,Object);e.exports=n},1153:(e,t,r)=>{"use strict";var n=r(5043),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},1172:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(3797).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1268:(e,t,r)=>{var n=r(5428),a=r(7574),s=r(6832),o=s&&s.isTypedArray,i=o?a(o):n;e.exports=i},1310:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},1340:(e,t,r)=>{var n=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},1364:(e,t,r)=>{"use strict";r.d(t,{B:()=>m});var n={};r.r(n),r.d(n,{analytics:()=>l,approvals:()=>d,common:()=>a,dashboard:()=>i,errors:()=>h,projects:()=>u,roles:()=>o,status:()=>s,ui:()=>p,users:()=>c});const a={loading:"Memuat...",error:"Terjadi kesalahan",save:"Simpan",cancel:"Batal",confirm:"Konfirmasi",back:"Kembali",next:"Lanjut",add:"Tambah",edit:"Edit",delete:"Hapus",search:"Cari",filter:"Filter",reset:"Reset",download:"Unduh",upload:"Unggah",view:"Lihat",more:"Selengkapnya",create:"Buat",update:"Perbarui",success:"Berhasil",warning:"Peringatan",info:"Informasi"},s={active:"Aktif",inactive:"Nonaktif",pending:"Menunggu",completed:"Selesai",rejected:"Ditolak",approved:"Disetujui",canceled:"Dibatalkan",inProgress:"Berlangsung",onHold:"Ditunda",draft:"Draf",published:"Dipublikasikan",archived:"Diarsipkan",suspended:"Ditangguhkan",lowStock:"Stok Rendah",outOfStock:"Habis",reserved:"Dipesan",discontinued:"Dihentikan",paid:"Dibayar",overdue:"Terlambat"},o={admin:"Administrator",projectManager:"Manajer Proyek",financeManager:"Manajer Keuangan",inventoryManager:"Manajer Inventaris",hrManager:"Manajer SDM",supervisor:"Supervisor"},i={title:"Dashboard",welcome:"Selamat datang",summary:"Ringkasan",recentActivity:"Aktivitas Terbaru",quickActions:"Aksi Cepat",statistics:"Statistik",performance:"Performa"},l={title:"Dashboard Analitik",subtitle:"Analitik komprehensif dan pelaporan untuk proyek konstruksi Anda",chartTitles:{projectPerformance:"Performa Proyek",budgetAllocation:"Alokasi Anggaran",resourceUtilization:"Pemanfaatan Sumber Daya",timeline:"Linimasa Proyek"}},c={title:"Manajemen Pengguna",subtitle:"Kelola akun dan hak akses tim proyek",newUser:"Pengguna Baru",searchPlaceholder:"Cari berdasarkan username, email, atau nama...",allRoles:"Semua Peran",userCount:"{count} pengguna",tableHeaders:{user:"Pengguna",role:"Peran",position:"Posisi",joinDate:"Bergabung",status:"Status"},stats:{totalUsers:"Total Pengguna",activeUsers:"Pengguna Aktif",administrators:"Administrator",managers:"Manajer"},emptyState:{title:"Belum ada pengguna",subtitle:"Mulai dengan menambahkan pengguna baru"},noResults:{title:"Tidak ada pengguna yang ditemukan",subtitle:"Coba ubah filter pencarian Anda"}},d={title:"Dashboard Persetujuan",subtitle:"Kelola alur kerja dan hierarki persetujuan",stats:{pending:"Menunggu Persetujuan",approved:"Disetujui",rejected:"Ditolak"},workflowList:{title:"Alur Kerja Memerlukan Tindakan Anda",emptyState:"Tidak ada alur kerja yang memerlukan tindakan Anda",requestedBy:"Diminta oleh",unknown:"Tidak diketahui"},activityHistory:{title:"Aktivitas Terbaru",headers:{workflow:"Alur Kerja",date:"Tanggal",action:"Aksi",user:"Pengguna"},actions:{approved:"Disetujui",rejected:"Ditolak",delegated:"Didelegasikan",submitted:"Diajukan",reviewed:"Ditinjau"}},actions:{approve:"Setujui",reject:"Tolak",delegate:"Delegasikan"}},u={title:"Proyek",newProject:"Proyek Baru",tableHeaders:{project:"Proyek",budget:"Anggaran",progress:"Progress",timeline:"Timeline",actions:"Aksi"}},p={emptyState:{noData:"Belum ada data",noDataDesc:"Data akan ditampilkan di sini setelah Anda menambahkan item pertama.",addData:"Tambah Data",noResults:"Tidak ada hasil ditemukan",noResultsDesc:"Coba ubah filter atau kata kunci pencarian Anda.",clearSearch:"Hapus Pencarian",resetFilter:"Reset Filter",error:"Terjadi kesalahan",errorDesc:"Terjadi kesalahan saat memuat data. Silakan coba lagi.",retry:"Coba Lagi"},table:{actions:{view:"Lihat",edit:"Edit",delete:"Hapus",duplicate:"Duplikat",archive:"Arsip",restore:"Pulihkan",download:"Unduh",share:"Bagikan"}},pagination:{showing:"Menampilkan",to:"hingga",of:"dari",items:"item",page:"Halaman",perPage:"per halaman"}},h={required:"Wajib diisi",invalidEmail:"Format email tidak valid",invalidPhone:"Format nomor telepon tidak valid",minLength:"Minimal {length} karakter",maxLength:"Maksimal {length} karakter",passwordMismatch:"Password tidak cocok",serverError:"Terjadi kesalahan pada server",networkError:"Koneksi terputus. Periksa koneksi internet Anda.",unauthorized:"Anda tidak memiliki akses ke halaman ini",sessionExpired:"Sesi Anda telah berakhir. Silakan login kembali."};function m(){return n}},1497:(e,t,r)=>{"use strict";var n=r(3218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,s,o){if(o!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return r.PropTypes=r,r}},1558:e=>{e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},1629:(e,t,r)=>{var n=r(6913),a=r(6686);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1630:(e,t,r)=>{"use strict";var n=r(5043);var a=r(579);var s=r(9379),o=r(45),i=r(987),l=r(917);const c={sizes:{sm:{classes:"px-3 py-2 text-sm",iconSize:16,spacing:"space-y-3"},md:{classes:"px-4 py-3 text-base",iconSize:20,spacing:"space-y-4"},lg:{classes:"px-5 py-4 text-lg",iconSize:24,spacing:"space-y-5"}},variants:{default:{classes:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",bgColor:"bg-white"},minimal:{classes:"border-0 border-b-2 border-gray-300 focus:border-blue-500 rounded-none bg-transparent",bgColor:"bg-transparent"},filled:{classes:"border-transparent bg-gray-100 focus:bg-white focus:border-blue-500 focus:ring-blue-500",bgColor:"bg-gray-100 focus:bg-white"},outlined:{classes:"border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-500",bgColor:"bg-white"}},states:{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500",warning:"border-yellow-500 focus:border-yellow-500 focus:ring-yellow-500",disabled:"bg-gray-50 text-gray-500 cursor-not-allowed border-gray-200"},transitions:{all:"transition-all duration-200",colors:"transition-colors duration-200",transform:"transition-transform duration-200"},common:{focus:"focus:outline-none focus:ring-2 focus:ring-opacity-20",placeholder:"placeholder:text-gray-400",rounded:"rounded-lg",width:"w-full"}},d={text:{type:"text",autoComplete:"off",spellCheck:!1},email:{type:"email",autoComplete:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"},password:{type:"password",autoComplete:"current-password",minLength:8},tel:{type:"tel",autoComplete:"tel",pattern:"[0-9\\s\\-\\+\\(\\)]+"},url:{type:"url",autoComplete:"url",pattern:"https?://.*"},number:{type:"number",autoComplete:"off",inputMode:"numeric"},search:{type:"search",autoComplete:"off",spellCheck:!1},date:{type:"date",autoComplete:"bday"},time:{type:"time",autoComplete:"off"},datetime:{type:"datetime-local",autoComplete:"off"}},u=["label","type","placeholder","value","onChange","onBlur","onFocus","error","success","disabled","required","helperText","leftIcon","rightIcon","size","variant","className","id","name","autoComplete","maxLength"];(0,n.forwardRef)((e,t)=>{var r,n,p;let{label:h,type:m="text",placeholder:f,value:x,onChange:g,onBlur:b,onFocus:y,error:v,success:j,disabled:w=!1,required:N=!1,helperText:A,leftIcon:k,rightIcon:C,size:F="md",variant:S="default",className:E="",id:P,name:D,autoComplete:O,maxLength:T}=e,I=(0,o.A)(e,u);const M=P||function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"form-element","-").concat(Math.random().toString(36).substr(2,9))}("input"),_=d[m]||d.text,R=(null===(r=c.sizes[F])||void 0===r?void 0:r.classes)||c.sizes.md.classes,B=function(e,t,r){if(r)return"bg-gray-50 text-gray-500 cursor-not-allowed border-gray-200";if(e)return"border-red-500 focus:border-red-500 focus:ring-red-500";if(t)return"border-green-500 focus:border-green-500 focus:ring-green-500";const n={default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",minimal:"border-0 border-b-2 border-gray-300 focus:border-blue-500 rounded-none bg-transparent",filled:"border-transparent bg-gray-100 focus:bg-white focus:border-blue-500 focus:ring-blue-500",outlined:"border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-500"};return n[arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default"]||n.default}(v,j,w,S),L=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}(c.common.width,c.common.rounded,"border",c.transitions.all,R,B,k&&"pl-10",C&&"pr-10",w&&c.states.disabled,c.common.focus,c.common.placeholder,E);return(0,a.jsxs)("div",{className:"space-y-2",children:[h&&(0,a.jsxs)("label",{htmlFor:M,className:"block text-sm font-semibold text-gray-700",children:[h,N&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[k&&(0,a.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:k}),(0,a.jsx)("input",(0,s.A)({ref:t,type:_.type,id:M,name:D,placeholder:f,value:x||"",onChange:e=>{g&&g("number"===m?parseFloat(e.target.value)||"":e.target.value)},onBlur:b,onFocus:y,disabled:w,required:N,autoComplete:O||_.autoComplete,maxLength:T,pattern:_.pattern,minLength:_.minLength,inputMode:_.inputMode,spellCheck:_.spellCheck,className:L},I)),(0,a.jsxs)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:[v&&(0,a.jsx)(i.A,{size:(null===(n=c.sizes[F])||void 0===n?void 0:n.iconSize)||20,className:"text-red-500"}),j&&!v&&(0,a.jsx)(l.A,{size:(null===(p=c.sizes[F])||void 0===p?void 0:p.iconSize)||20,className:"text-green-500"}),C&&!v&&!j&&(0,a.jsx)("span",{className:"text-gray-400",children:C})]})]}),(A||v)&&(0,a.jsx)("p",{className:"text-sm ".concat(v?"text-red-600":"text-gray-500"),children:v||A})]})}).displayName="Input";r(4450),r(7950),r(1024),r(1172),r(3666),r(6875);r(1364)},1714:(e,t,r)=>{var n=r(1340);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},1733:(e,t,r)=>{var n=r(1775),a=r(4664),s=r(9096);e.exports=function(e,t){var r={};return t=s(t,3),a(e,function(e,a,s){n(r,a,t(e,a,s))}),r}},1775:(e,t,r)=>{var n=r(5654);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},1946:(e,t,r)=>{var n=r(1340);e.exports=function(e){return n(this.__data__,e)>-1}},2070:(e,t,r)=>{var n=r(7937)(r(6552),"Set");e.exports=n},2074:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},2140:(e,t,r)=>{"use strict";r.d(t,{oo:()=>n.oo});r(1630);var n=r(2140)},2154:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},2165:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r;return n(e,function(e,n,a){return!(r=t(e,n,a))}),!!r}},2284:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{A:()=>n})},2322:(e,t,r)=>{var n=r(6913),a=r(5990),s=r(2761),o=Function.prototype,i=Object.prototype,l=o.toString,c=i.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=n(e))return!1;var t=a(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==d}},2520:(e,t,r)=>{var n=r(5816),a=r(9096),s=r(9140),o=Math.max;e.exports=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var l=null==r?0:s(r);return l<0&&(l=o(i+l,0)),n(e,a(t,3),l)}},2536:(e,t,r)=>{var n=r(149),a=r(2969),s=r(9096),o=r(8883),i=r(320),l=r(7574),c=r(5893),d=r(3279),u=r(4052);e.exports=function(e,t,r){t=t.length?n(t,function(e){return u(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[d];var p=-1;t=n(t,l(s));var h=o(e,function(e,r,a){return{criteria:n(t,function(t){return t(e)}),index:++p,value:e}});return i(h,function(e,t){return c(e,t,r)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},2597:(e,t,r)=>{var n=r(4052),a=r(9841),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||(o.test(e)||!s.test(e)||null!=t&&e in Object(t))}},2622:(e,t,r)=>{var n=r(705);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},2662:(e,t,r)=>{var n=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,r)=>{"use strict";var n=r(5043),a=r(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function f(e,t,r,n,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,r,n){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!u.call(m,e)||!u.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),F=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var _,R=Object.assign;function B(e){if(void 0===_)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return"\n"+_+e}var L=!1;function z(e,t){if(!e||L)return"";L=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{L=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?B(e):""}function U(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case k:return"Profiler";case A:return"StrictMode";case E:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case F:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return W(e(t))}catch(r){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=K(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var r=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function J(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Q(e,t){X(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Y(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function se(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function pe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function xe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=fe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(he).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,Ae=null;function ke(e){if(e=ya(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=ja(t),we(e.stateNode,e.type,t))}}function Ce(e){Ne?Ae?Ae.push(e):Ae=[e]:Ne=e}function Fe(){if(Ne){var e=Ne,t=Ae;if(Ae=Ne=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Se(e,t){return e(t)}function Ee(){}var Pe=!1;function De(e,t,r){if(Pe)return e(t,r);Pe=!0;try{return Se(e,t,r)}finally{Pe=!1,(null!==Ne||null!==Ae)&&(Ee(),Fe())}}function Oe(e,t){var r=e.stateNode;if(null===r)return null;var n=ja(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Te=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Te=!1}function Me(e,t,r,n,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var _e=!1,Re=null,Be=!1,Le=null,ze={onError:function(e){_e=!0,Re=e}};function Ue(e,t,r,n,a,s,o,i,l){_e=!1,Re=null,Me.apply(ze,arguments)}function We(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return He(a),e;if(o===n)return He(a),t;o=o.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Je=a.unstable_requestPaint,Xe=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&r;if(0!==o){var i=o&~a;0!==i?n=ut(i):0!==(s&=o)&&(n=ut(s))}else 0!==(o=r&~a)?n=ut(o):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-ot(t)),n|=e[r],t&=~a;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function bt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var yt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,At,kt,Ct=!1,Ft=[],St=null,Et=null,Pt=null,Dt=new Map,Ot=new Map,Tt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function _t(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Rt(e){var t=ba(e.target);if(null!==t){var r=We(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void kt(e.priority,function(){Nt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ya(r))&&wt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ve=n,r.target.dispatchEvent(n),ve=null,t.shift()}return!0}function Lt(e,t,r){Bt(e)&&r.delete(t)}function zt(){Ct=!1,null!==St&&Bt(St)&&(St=null),null!==Et&&Bt(Et)&&(Et=null),null!==Pt&&Bt(Pt)&&(Pt=null),Dt.forEach(Lt),Ot.forEach(Lt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Wt(e){function t(t){return Ut(t,e)}if(0<Ft.length){Ut(Ft[0],e);for(var r=1;r<Ft.length;r++){var n=Ft[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==St&&Ut(St,e),null!==Et&&Ut(Et,e),null!==Pt&&Ut(Pt,e),Dt.forEach(t),Ot.forEach(t),r=0;r<Tt.length;r++)(n=Tt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Tt.length&&null===(r=Tt[0]).blockedOn;)Rt(r),null===r.blockedOn&&Tt.shift()}var Vt=v.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,r,n){var a=yt,s=Vt.transition;Vt.transition=null;try{yt=1,Gt(e,t,r,n)}finally{yt=a,Vt.transition=s}}function qt(e,t,r,n){var a=yt,s=Vt.transition;Vt.transition=null;try{yt=4,Gt(e,t,r,n)}finally{yt=a,Vt.transition=s}}function Gt(e,t,r,n){if(Ht){var a=$t(e,t,r,n);if(null===a)Hn(e,t,n,Yt,r),Mt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return St=_t(St,e,t,r,n,a),!0;case"dragenter":return Et=_t(Et,e,t,r,n,a),!0;case"mouseover":return Pt=_t(Pt,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Dt.set(s,_t(Dt.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Ot.set(s,_t(Ot.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Mt(e,n),4&t&&-1<It.indexOf(e)){for(;null!==a;){var s=ya(a);if(null!==s&&jt(s),null===(s=$t(e,t,r,n))&&Hn(e,t,n,Yt,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var Yt=null;function $t(e,t,r,n){if(Yt=null,null!==(e=ba(e=je(n))))if(null===(t=We(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Qt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Qt,n=r.length,a="value"in Xt?Xt.value:Xt.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,s){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,or,ir,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),dr=R({},lr,{view:0,detail:0}),ur=ar(dr),pr=R({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&"mousemove"===e.type?(sr=e.screenX-ir.screenX,or=e.screenY-ir.screenY):or=sr=0,ir=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:or}}),hr=ar(pr),mr=ar(R({},pr,{dataTransfer:0})),fr=ar(R({},dr,{relatedTarget:0})),xr=ar(R({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),gr=R({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),br=ar(gr),yr=ar(R({},lr,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function Ar(){return Nr}var kr=R({},dr,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=ar(kr),Fr=ar(R({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sr=ar(R({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar})),Er=ar(R({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pr=R({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dr=ar(Pr),Or=[9,13,27,32],Tr=d&&"CompositionEvent"in window,Ir=null;d&&"documentMode"in document&&(Ir=document.documentMode);var Mr=d&&"TextEvent"in window&&!Ir,_r=d&&(!Tr||Ir&&8<Ir&&11>=Ir),Rr=String.fromCharCode(32),Br=!1;function Lr(e,t){switch(e){case"keyup":return-1!==Or.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var Wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wr[e.type]:"textarea"===t}function Hr(e,t,r,n){Ce(n),0<(t=qn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Kr=null,qr=null;function Gr(e){Bn(e,0)}function Yr(e){if(G(va(e)))return e}function $r(e,t){if("change"===e)return t}var Jr=!1;if(d){var Xr;if(d){var Qr="oninput"in document;if(!Qr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Qr="function"===typeof Zr.oninput}Xr=Qr}else Xr=!1;Jr=Xr&&(!document.documentMode||9<document.documentMode)}function en(){Kr&&(Kr.detachEvent("onpropertychange",tn),qr=Kr=null)}function tn(e){if("value"===e.propertyName&&Yr(qr)){var t=[];Hr(t,qr,e,je(e)),De(Gr,t)}}function rn(e,t,r){"focusin"===e?(en(),qr=r,(Kr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr(qr)}function an(e,t){if("click"===e)return Yr(t)}function sn(e,t){if("input"===e||"change"===e)return Yr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!u.call(t,a)||!on(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Y((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mn(e){var t=pn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=dn(r,s);var o=dn(r,n);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=d&&"documentMode"in document&&11>=document.documentMode,xn=null,gn=null,bn=null,yn=!1;function vn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;yn||null==xn||xn!==Y(n)||("selectionStart"in(n=xn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},bn&&ln(bn,n)||(bn=n,0<(n=qn(gn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xn)))}function jn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},Nn={},An={};function kn(e){if(Nn[e])return Nn[e];if(!wn[e])return e;var t,r=wn[e];for(t in r)if(r.hasOwnProperty(t)&&t in An)return Nn[e]=r[t];return e}d&&(An=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var Cn=kn("animationend"),Fn=kn("animationiteration"),Sn=kn("animationstart"),En=kn("transitionend"),Pn=new Map,Dn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(e,t){Pn.set(e,t),l(t,[e])}for(var Tn=0;Tn<Dn.length;Tn++){var In=Dn[Tn];On(In.toLowerCase(),"on"+(In[0].toUpperCase()+In.slice(1)))}On(Cn,"onAnimationEnd"),On(Fn,"onAnimationIteration"),On(Sn,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(En,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_n=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function Rn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,i,l,c){if(Ue.apply(this,arguments),_e){if(!_e)throw Error(s(198));var d=Re;_e=!1,Re=null,Be||(Be=!0,Le=d)}}(n,t,void 0,e),e.currentTarget=null}function Bn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var i=n[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;Rn(a,i,c),s=l}else for(o=0;o<n.length;o++){if(l=(i=n[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;Rn(a,i,c),s=l}}}if(Be)throw e=Le,Be=!1,Le=null,e}function Ln(e,t){var r=t[fa];void 0===r&&(r=t[fa]=new Set);var n=e+"__bubble";r.has(n)||(Vn(t,e,2,!1),r.add(n))}function zn(e,t,r){var n=0;t&&(n|=4),Vn(r,e,n,t)}var Un="_reactListening"+Math.random().toString(36).slice(2);function Wn(e){if(!e[Un]){e[Un]=!0,o.forEach(function(t){"selectionchange"!==t&&(_n.has(t)||zn(t,!1,e),zn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Un]||(t[Un]=!0,zn("selectionchange",!1,t))}}function Vn(e,t,r,n){switch(Jt(t)){case 1:var a=Kt;break;case 4:a=qt;break;default:a=Gt}r=a.bind(null,t,r,e),a=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var i=n.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=ba(i)))return;if(5===(l=o.tag)||6===l){n=s=o;continue e}i=i.parentNode}}n=n.return}De(function(){var n=s,a=je(r),o=[];e:{var i=Pn.get(e);if(void 0!==i){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Cr;break;case"focusin":c="focus",l=fr;break;case"focusout":c="blur",l=fr;break;case"beforeblur":case"afterblur":l=fr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Sr;break;case Cn:case Fn:case Sn:l=xr;break;case En:l=Er;break;case"scroll":l=ur;break;case"wheel":l=Dr;break;case"copy":case"cut":case"paste":l=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Fr}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==i?i+"Capture":null:i;d=[];for(var h,m=n;null!==m;){var f=(h=m).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==p&&(null!=(f=Oe(m,p))&&d.push(Kn(m,f,h)))),u)break;m=m.return}0<d.length&&(i=new l(i,c,null,r,a),o.push({event:i,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!ba(c)&&!c[ma])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?ba(c):null)&&(c!==(u=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=hr,f="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Fr,f="onPointerLeave",p="onPointerEnter",m="pointer"),u=null==l?i:va(l),h=null==c?i:va(c),(i=new d(f,m+"leave",l,r,a)).target=u,i.relatedTarget=h,f=null,ba(a)===n&&((d=new d(p,m+"enter",c,r,a)).target=h,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(p=c,m=0,h=d=l;h;h=Gn(h))m++;for(h=0,f=p;f;f=Gn(f))h++;for(;0<m-h;)d=Gn(d),m--;for(;0<h-m;)p=Gn(p),h--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Gn(d),p=Gn(p)}d=null}else d=null;null!==l&&Yn(o,i,l,d,!1),null!==c&&null!==u&&Yn(o,u,c,d,!0)}if("select"===(l=(i=n?va(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var x=$r;else if(Vr(i))if(Jr)x=sn;else{x=nn;var g=rn}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(x=an);switch(x&&(x=x(e,n))?Hr(o,x,r,a):(g&&g(e,i,n),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=n?va(n):window,e){case"focusin":(Vr(g)||"true"===g.contentEditable)&&(xn=g,gn=n,bn=null);break;case"focusout":bn=gn=xn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,vn(o,r,a);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":vn(o,r,a)}var b;if(Tr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ur?Lr(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(_r&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==y?"onCompositionEnd"===y&&Ur&&(b=er()):(Qt="value"in(Xt=a)?Xt.value:Xt.textContent,Ur=!0)),0<(g=qn(n,y)).length&&(y=new yr(y,e,null,r,a),o.push({event:y,listeners:g}),b?y.data=b:null!==(b=zr(r))&&(y.data=b))),(b=Mr?function(e,t){switch(e){case"compositionend":return zr(t);case"keypress":return 32!==t.which?null:(Br=!0,Rr);case"textInput":return(e=t.data)===Rr&&Br?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!Tr&&Lr(e,t)?(e=er(),Zt=Qt=Xt=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _r&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=qn(n,"onBeforeInput")).length&&(a=new yr("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=b))}Bn(o,t)})}function Kn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Oe(e,r))&&n.unshift(Kn(e,s,a)),null!=(s=Oe(e,t))&&n.push(Kn(e,s,a))),e=e.return}return n}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,r,n,a){for(var s=t._reactName,o=[];null!==r&&r!==n;){var i=r,l=i.alternate,c=i.stateNode;if(null!==l&&l===n)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Oe(r,s))&&o.unshift(Kn(r,l,i)):a||null!=(l=Oe(r,s))&&o.push(Kn(r,l,i))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var $n=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Xn(e){return("string"===typeof e?e:""+e).replace($n,"\n").replace(Jn,"")}function Qn(e,t,r){if(t=Xn(t),Xn(e)!==t&&r)throw Error(s(425))}function Zn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:na;function ia(e){setTimeout(function(){throw e})}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Wt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Wt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),pa="__reactFiber$"+ua,ha="__reactProps$"+ua,ma="__reactContainer$"+ua,fa="__reactEvents$"+ua,xa="__reactListeners$"+ua,ga="__reactHandles$"+ua;function ba(e){var t=e[pa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ma]||r[pa]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=da(e);null!==e;){if(r=e[pa])return r;e=da(e)}return t}r=(e=r).parentNode}return null}function ya(e){return!(e=e[pa]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function va(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ja(e){return e[ha]||null}var wa=[],Na=-1;function Aa(e){return{current:e}}function ka(e){0>Na||(e.current=wa[Na],wa[Na]=null,Na--)}function Ca(e,t){Na++,wa[Na]=e.current,e.current=t}var Fa={},Sa=Aa(Fa),Ea=Aa(!1),Pa=Fa;function Da(e,t){var r=e.type.contextTypes;if(!r)return Fa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ta(){ka(Ea),ka(Sa)}function Ia(e,t,r){if(Sa.current!==Fa)throw Error(s(168));Ca(Sa,t),Ca(Ea,r)}function Ma(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,V(e)||"Unknown",a));return R({},r,n)}function _a(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fa,Pa=Sa.current,Ca(Sa,e),Ca(Ea,Ea.current),!0}function Ra(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=Ma(e,t,Pa),n.__reactInternalMemoizedMergedChildContext=e,ka(Ea),ka(Sa),Ca(Sa,e)):ka(Ea),Ca(Ea,r)}var Ba=null,La=!1,za=!1;function Ua(e){null===Ba?Ba=[e]:Ba.push(e)}function Wa(){if(!za&&null!==Ba){za=!0;var e=0,t=yt;try{var r=Ba;for(yt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ba=null,La=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),Ge(Ze,Wa),a}finally{yt=t,za=!1}}return null}var Va=[],Ha=0,Ka=null,qa=0,Ga=[],Ya=0,$a=null,Ja=1,Xa="";function Qa(e,t){Va[Ha++]=qa,Va[Ha++]=Ka,Ka=e,qa=t}function Za(e,t,r){Ga[Ya++]=Ja,Ga[Ya++]=Xa,Ga[Ya++]=$a,$a=e;var n=Ja;e=Xa;var a=32-ot(n)-1;n&=~(1<<a),r+=1;var s=32-ot(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ja=1<<32-ot(t)+a|r<<a|n,Xa=s+e}else Ja=1<<s|r<<a|n,Xa=e}function es(e){null!==e.return&&(Qa(e,1),Za(e,1,0))}function ts(e){for(;e===Ka;)Ka=Va[--Ha],Va[Ha]=null,qa=Va[--Ha],Va[Ha]=null;for(;e===$a;)$a=Ga[--Ya],Ga[Ya]=null,Xa=Ga[--Ya],Ga[Ya]=null,Ja=Ga[--Ya],Ga[Ya]=null}var rs=null,ns=null,as=!1,ss=null;function os(e,t){var r=Dc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function is(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,ns=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==$a?{id:Ja,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Dc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,ns=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=ns;if(t){var r=t;if(!is(e,t)){if(ls(e))throw Error(s(418));t=ca(r.nextSibling);var n=rs;t&&is(e,t)?os(n,r):(e.flags=-4097&e.flags|2,as=!1,rs=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function us(e){if(e!==rs)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ns)){if(ls(e))throw ps(),Error(s(418));for(;t;)os(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ns=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ns=null}}else ns=rs?ca(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=ns;e;)e=ca(e.nextSibling)}function hs(){ns=rs=null,as=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var fs=v.ReactCurrentBatchConfig;function xs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function ys(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Rc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===N?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&bs(s)===t.type)?((n=a(t,r.props)).ref=xs(e,t,r),n.return=e,n):((n=Ic(r.type,r.key,r.props,null,e.mode,n)).ref=xs(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Bc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=Mc(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function p(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Ic(t.type,t.key,t.props,null,e.mode,r)).ref=xs(e,null,t),r.return=e,r;case w:return(t=Bc(t,e.mode,r)).return=e,t;case O:return p(e,(0,t._init)(t._payload),r)}if(te(t)||M(t))return(t=Mc(t,e.mode,r,null)).return=e,t;gs(e,t)}return null}function h(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===a?c(e,t,r,n):null;case w:return r.key===a?d(e,t,r,n):null;case O:return h(e,t,(a=r._init)(r._payload),n)}if(te(r)||M(r))return null!==a?null:u(e,t,r,n,null);gs(e,r)}return null}function m(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case w:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case O:return m(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||M(n))return u(t,e=e.get(r)||null,n,a,null);gs(t,n)}return null}function f(a,s,i,l){for(var c=null,d=null,u=s,f=s=0,x=null;null!==u&&f<i.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=h(a,u,i[f],l);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(a,u),s=o(g,s,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===i.length)return r(a,u),as&&Qa(a,f),c;if(null===u){for(;f<i.length;f++)null!==(u=p(a,i[f],l))&&(s=o(u,s,f),null===d?c=u:d.sibling=u,d=u);return as&&Qa(a,f),c}for(u=n(a,u);f<i.length;f++)null!==(x=m(u,a,f,i[f],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),s=o(x,s,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(a,e)}),as&&Qa(a,f),c}function x(a,i,l,c){var d=M(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,f=i,x=i=0,g=null,b=l.next();null!==f&&!b.done;x++,b=l.next()){f.index>x?(g=f,f=null):g=f.sibling;var y=h(a,f,b.value,c);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(a,f),i=o(y,i,x),null===u?d=y:u.sibling=y,u=y,f=g}if(b.done)return r(a,f),as&&Qa(a,x),d;if(null===f){for(;!b.done;x++,b=l.next())null!==(b=p(a,b.value,c))&&(i=o(b,i,x),null===u?d=b:u.sibling=b,u=b);return as&&Qa(a,x),d}for(f=n(a,f);!b.done;x++,b=l.next())null!==(b=m(f,a,x,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?x:b.key),i=o(b,i,x),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(a,e)}),as&&Qa(a,x),d}return function e(n,s,o,l){if("object"===typeof o&&null!==o&&o.type===N&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case j:e:{for(var c=o.key,d=s;null!==d;){if(d.key===c){if((c=o.type)===N){if(7===d.tag){r(n,d.sibling),(s=a(d,o.props.children)).return=n,n=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&bs(c)===d.type){r(n,d.sibling),(s=a(d,o.props)).ref=xs(n,d,o),s.return=n,n=s;break e}r(n,d);break}t(n,d),d=d.sibling}o.type===N?((s=Mc(o.props.children,n.mode,l,o.key)).return=n,n=s):((l=Ic(o.type,o.key,o.props,null,n.mode,l)).ref=xs(n,s,o),l.return=n,n=l)}return i(n);case w:e:{for(d=o.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){r(n,s.sibling),(s=a(s,o.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=Bc(o,n.mode,l)).return=n,n=s}return i(n);case O:return e(n,s,(d=o._init)(o._payload),l)}if(te(o))return f(n,s,o,l);if(M(o))return x(n,s,o,l);gs(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(r(n,s.sibling),(s=a(s,o)).return=n,n=s):(r(n,s),(s=Rc(o,n.mode,l)).return=n,n=s),i(n)):r(n,s)}}var vs=ys(!0),js=ys(!1),ws=Aa(null),Ns=null,As=null,ks=null;function Cs(){ks=As=Ns=null}function Fs(e){var t=ws.current;ka(ws),e._currentValue=t}function Ss(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Es(e,t){Ns=e,ks=As=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yi=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===As){if(null===Ns)throw Error(s(308));As=e,Ns.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Ds=null;function Os(e){null===Ds?Ds=[e]:Ds.push(e)}function Ts(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Os(t)):(r.next=a.next,a.next=r),t.interleaved=r,Is(e,n)}function Is(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ms=!1;function _s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Sl)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Is(e,r)}return null===(a=n.interleaved)?(t.next=t,Os(n)):(t.next=a.next,a.next=t),n.interleaved=t,Is(e,r)}function zs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}function Us(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ws(e,t,r,n){var a=e.updateQueue;Ms=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(o=0,d=c=l=null,i=s;;){var p=i.lane,h=i.eventTime;if((n&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,f=i;switch(p=t,h=r,f.tag){case 1:if("function"===typeof(m=f.payload)){u=m.call(h,u,p);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=f.payload)?m.call(h,u,p):m)||void 0===p)break e;u=R({},u,p);break e;case 2:Ms=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[i]:p.push(i))}else h={eventTime:h,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,o|=p;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(p=i).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);_l|=o,e.lanes=o,e.memoizedState=u}}function Vs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Hs={},Ks=Aa(Hs),qs=Aa(Hs),Gs=Aa(Hs);function Ys(e){if(e===Hs)throw Error(s(174));return e}function $s(e,t){switch(Ca(Gs,t),Ca(qs,e),Ca(Ks,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ka(Ks),Ca(Ks,t)}function Js(){ka(Ks),ka(qs),ka(Gs)}function Xs(e){Ys(Gs.current);var t=Ys(Ks.current),r=le(t,e.type);t!==r&&(Ca(qs,e),Ca(Ks,r))}function Qs(e){qs.current===e&&(ka(Ks),ka(qs))}var Zs=Aa(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var no=v.ReactCurrentDispatcher,ao=v.ReactCurrentBatchConfig,so=0,oo=null,io=null,lo=null,co=!1,uo=!1,po=0,ho=0;function mo(){throw Error(s(321))}function fo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function xo(e,t,r,n,a,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=null===e||null===e.memoizedState?Zo:ei,e=r(n,a),uo){o=0;do{if(uo=!1,po=0,25<=o)throw Error(s(301));o+=1,lo=io=null,t.updateQueue=null,no.current=ti,e=r(n,a)}while(uo)}if(no.current=Qo,t=null!==io&&null!==io.next,so=0,lo=io=oo=null,co=!1,t)throw Error(s(300));return e}function go(){var e=0!==po;return po=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function yo(){if(null===io){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(s(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function vo(e,t){return"function"===typeof t?t(e):t}function jo(e){var t=yo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=io,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(null!==a){o=a.next,n=n.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((so&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,i=n):c=c.next=p,oo.lanes|=u,_l|=u}d=d.next}while(null!==d&&d!==o);null===c?i=n:c.next=l,on(n,t.memoizedState)||(yi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,_l|=o,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wo(e){var t=yo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);on(o,t.memoizedState)||(yi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function No(){}function Ao(e,t){var r=oo,n=yo(),a=t(),o=!on(n.memoizedState,a);if(o&&(n.memoizedState=a,yi=!0),n=n.queue,_o(Fo.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(r.flags|=2048,Do(9,Co.bind(null,r,n,a,t),void 0,null),null===El)throw Error(s(349));0!==(30&so)||ko(r,t,a)}return a}function ko(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Co(e,t,r,n){t.value=r,t.getSnapshot=n,So(t)&&Eo(e)}function Fo(e,t,r){return r(function(){So(t)&&Eo(e)})}function So(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function Eo(e){var t=Is(e,1);null!==t&&rc(t,e,1,-1)}function Po(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Do(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Oo(){return yo().memoizedState}function To(e,t,r,n){var a=bo();oo.flags|=e,a.memoizedState=Do(1|t,r,void 0,void 0===n?null:n)}function Io(e,t,r,n){var a=yo();n=void 0===n?null:n;var s=void 0;if(null!==io){var o=io.memoizedState;if(s=o.destroy,null!==n&&fo(n,o.deps))return void(a.memoizedState=Do(t,r,s,n))}oo.flags|=e,a.memoizedState=Do(1|t,r,s,n)}function Mo(e,t){return To(8390656,8,e,t)}function _o(e,t){return Io(2048,8,e,t)}function Ro(e,t){return Io(4,2,e,t)}function Bo(e,t){return Io(4,4,e,t)}function Lo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Io(4,4,Lo.bind(null,t,e),r)}function Uo(){}function Wo(e,t){var r=yo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vo(e,t){var r=yo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ho(e,t,r){return 0===(21&so)?(e.baseState&&(e.baseState=!1,yi=!0),e.memoizedState=r):(on(r,t)||(r=ft(),oo.lanes|=r,_l|=r,e.baseState=!0),t)}function Ko(e,t){var r=yt;yt=0!==r&&4>r?r:4,e(!0);var n=ao.transition;ao.transition={};try{e(!1),t()}finally{yt=r,ao.transition=n}}function qo(){return yo().memoizedState}function Go(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$o(e))Jo(t,r);else if(null!==(r=Ts(e,t,r,n))){rc(r,e,n,ec()),Xo(r,t,n)}}function Yo(e,t,r){var n=tc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($o(e))Jo(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,r);if(a.hasEagerState=!0,a.eagerState=i,on(i,o)){var l=t.interleaved;return null===l?(a.next=a,Os(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Ts(e,t,a,n))&&(rc(r,e,n,a=ec()),Xo(r,t,n))}}function $o(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){uo=co=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Xo(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}var Qo={readContext:Ps,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},Zo={readContext:Ps,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Mo,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,To(4194308,4,Lo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return To(4194308,4,e,t)},useInsertionEffect:function(e,t){return To(4,2,e,t)},useMemo:function(e,t){var r=bo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Go.bind(null,oo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Po,useDebugValue:Uo,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Ko.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oo,a=bo();if(as){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===El)throw Error(s(349));0!==(30&so)||ko(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Mo(Fo.bind(null,n,o,e),[e]),n.flags|=2048,Do(9,Co.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=bo(),t=El.identifierPrefix;if(as){var r=Xa;t=":"+t+"R"+(r=(Ja&~(1<<32-ot(Ja)-1)).toString(32)+r),0<(r=po++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Ps,useCallback:Wo,useContext:Ps,useEffect:_o,useImperativeHandle:zo,useInsertionEffect:Ro,useLayoutEffect:Bo,useMemo:Vo,useReducer:jo,useRef:Oo,useState:function(){return jo(vo)},useDebugValue:Uo,useDeferredValue:function(e){return Ho(yo(),io.memoizedState,e)},useTransition:function(){return[jo(vo)[0],yo().memoizedState]},useMutableSource:No,useSyncExternalStore:Ao,useId:qo,unstable_isNewReconciler:!1},ti={readContext:Ps,useCallback:Wo,useContext:Ps,useEffect:_o,useImperativeHandle:zo,useInsertionEffect:Ro,useLayoutEffect:Bo,useMemo:Vo,useReducer:wo,useRef:Oo,useState:function(){return wo(vo)},useDebugValue:Uo,useDeferredValue:function(e){var t=yo();return null===io?t.memoizedState=e:Ho(t,io.memoizedState,e)},useTransition:function(){return[wo(vo)[0],yo().memoizedState]},useMutableSource:No,useSyncExternalStore:Ao,useId:qo,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){for(var r in t=R({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ni(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:R({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),s=Bs(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Ls(e,s,a))&&(rc(t,e,a,n),zs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),s=Bs(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Ls(e,s,a))&&(rc(t,e,a,n),zs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),a=Bs(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ls(e,a,n))&&(rc(t,e,n,r),zs(t,e,n))}};function si(e,t,r,n,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,s))}function oi(e,t,r){var n=!1,a=Fa,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(a=Oa(t)?Pa:Sa.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Da(e,a):Fa),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ii(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},_s(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ps(s):(s=Oa(t)?Pa:Sa.current,a.context=Da(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ni(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Ws(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var r="",n=t;do{r+=U(n),n=n.return}while(n);var a=r}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function di(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pi="function"===typeof WeakMap?WeakMap:Map;function hi(e,t,r){(r=Bs(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hl||(Hl=!0,Kl=n),ui(0,t)},r}function mi(e,t,r){(r=Bs(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ui(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){ui(0,t),"function"!==typeof n&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function fi(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new pi;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=kc.bind(null,e,t,r),t.then(e,e))}function xi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gi(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Bs(-1,1)).tag=2,Ls(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bi=v.ReactCurrentOwner,yi=!1;function vi(e,t,r,n){t.child=null===e?js(t,null,r,n):vs(t,e.child,r,n)}function ji(e,t,r,n,a){r=r.render;var s=t.ref;return Es(t,a),n=xo(e,t,r,n,s,a),r=go(),null===e||yi?(as&&r&&es(t),t.flags|=1,vi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function wi(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ic(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ni(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(o,n)&&e.ref===t.ref)return Hi(e,t,a)}return t.flags|=1,(e=Tc(s,n)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(ln(s,n)&&e.ref===t.ref){if(yi=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,Hi(e,t,a);0!==(131072&e.flags)&&(yi=!0)}}return Ci(e,t,r,n,a)}function Ai(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Tl,Ol),Ol|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Tl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Ca(Tl,Ol),Ol|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ca(Tl,Ol),Ol|=n;return vi(e,t,a,r),t.child}function ki(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ci(e,t,r,n,a){var s=Oa(r)?Pa:Sa.current;return s=Da(t,s),Es(t,a),r=xo(e,t,r,n,s,a),n=go(),null===e||yi?(as&&n&&es(t),t.flags|=1,vi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Fi(e,t,r,n,a){if(Oa(r)){var s=!0;_a(t)}else s=!1;if(Es(t,a),null===t.stateNode)Vi(e,t),oi(t,r,n),li(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Da(t,c=Oa(r)?Pa:Sa.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==n||l!==c)&&ii(t,o,n,c),Ms=!1;var p=t.memoizedState;o.state=p,Ws(t,n,o,a),l=t.memoizedState,i!==n||p!==l||Ea.current||Ms?("function"===typeof d&&(ni(t,r,d,n),l=t.memoizedState),(i=Ms||si(t,r,i,n,p,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Rs(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ri(t.type,i),o.props=c,u=t.pendingProps,p=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ps(l):l=Da(t,l=Oa(r)?Pa:Sa.current);var h=r.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==u||p!==l)&&ii(t,o,n,l),Ms=!1,p=t.memoizedState,o.state=p,Ws(t,n,o,a);var m=t.memoizedState;i!==u||p!==m||Ea.current||Ms?("function"===typeof h&&(ni(t,r,h,n),m=t.memoizedState),(c=Ms||si(t,r,c,n,p,m,l)||!1)?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,m,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,m,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Si(e,t,r,n,s,a)}function Si(e,t,r,n,a,s){ki(e,t);var o=0!==(128&t.flags);if(!n&&!o)return a&&Ra(t,r,!1),Hi(e,t,s);n=t.stateNode,bi.current=t;var i=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,i,s)):vi(e,t,i,s),t.memoizedState=n.state,a&&Ra(t,r,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),$s(e,t.containerInfo)}function Pi(e,t,r,n,a){return hs(),ms(a),t.flags|=256,vi(e,t,r,n),t.child}var Di,Oi,Ti,Ii,Mi={dehydrated:null,treeContext:null,retryLane:0};function _i(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ri(e,t,r){var n,a=t.pendingProps,o=Zs.current,i=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ca(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=_c(l,a,0,null),e=Mc(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_i(r),t.memoizedState=Mi,e):Bi(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,a,o,i){if(r)return 256&t.flags?(t.flags&=-257,Li(e,t,i,n=di(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=_c({mode:"visible",children:n.children},a,0,null),(o=Mc(o,a,i,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&vs(t,e.child,null,i),t.child.memoizedState=_i(i),t.memoizedState=Mi,o);if(0===(1&t.mode))return Li(e,t,i,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Li(e,t,i,n=di(o=Error(s(419)),n,void 0))}if(l=0!==(i&e.childLanes),yi||l){if(null!==(n=El)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Is(e,a),rc(n,e,a,-1))}return fc(),Li(e,t,i,n=di(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Fc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ns=ca(a.nextSibling),rs=t,as=!0,ss=null,null!==e&&(Ga[Ya++]=Ja,Ga[Ya++]=Xa,Ga[Ya++]=$a,Ja=e.id,Xa=e.overflow,$a=t),t=Bi(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,o,r);if(i){i=a.fallback,l=t.mode,n=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Tc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==n?i=Tc(n,i):(i=Mc(i,l,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?_i(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Mi,a}return e=(i=e.child).sibling,a=Tc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Bi(e,t){return(t=_c({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Li(e,t,r,n){return null!==n&&ms(n),vs(t,e.child,null,r),(e=Bi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zi(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ss(e.return,t,r)}function Ui(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Wi(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(vi(e,t,n.children,r),0!==(2&(n=Zs.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zi(e,r,t);else if(19===e.tag)zi(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ca(Zs,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===eo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ui(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ui(t,!0,r,null,s);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),_l|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Tc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Tc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ki(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Gi(e,t,r){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qi(t),null;case 1:case 17:return Oa(t.type)&&Ta(),qi(t),null;case 3:return n=t.stateNode,Js(),ka(Ea),ka(Sa),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Oi(e,t),qi(t),null;case 5:Qs(t);var a=Ys(Gs.current);if(r=t.type,null!==e&&null!=t.stateNode)Ti(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return qi(t),null}if(e=Ys(Ks.current),us(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[pa]=t,n[ha]=o,e=0!==(1&t.mode),r){case"dialog":Ln("cancel",n),Ln("close",n);break;case"iframe":case"object":case"embed":Ln("load",n);break;case"video":case"audio":for(a=0;a<Mn.length;a++)Ln(Mn[a],n);break;case"source":Ln("error",n);break;case"img":case"image":case"link":Ln("error",n),Ln("load",n);break;case"details":Ln("toggle",n);break;case"input":J(n,o),Ln("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ln("invalid",n);break;case"textarea":ae(n,o),Ln("invalid",n)}for(var l in be(r,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qn(n.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ln("scroll",n)}switch(r){case"input":q(n),Z(n,o,!0);break;case"textarea":q(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Zn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[pa]=t,e[ha]=n,Di(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(r,n),r){case"dialog":Ln("cancel",e),Ln("close",e),a=n;break;case"iframe":case"object":case"embed":Ln("load",e),a=n;break;case"video":case"audio":for(a=0;a<Mn.length;a++)Ln(Mn[a],e);a=n;break;case"source":Ln("error",e),a=n;break;case"img":case"image":case"link":Ln("error",e),Ln("load",e),a=n;break;case"details":Ln("toggle",e),a=n;break;case"input":J(e,n),a=$(e,n),Ln("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=R({},n,{value:void 0}),Ln("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Ln("invalid",e)}for(o in be(r,a),c=a)if(c.hasOwnProperty(o)){var d=c[o];"style"===o?xe(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===o?"string"===typeof d?("textarea"!==r||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=d&&"onScroll"===o&&Ln("scroll",e):null!=d&&y(e,o,d,l))}switch(r){case"input":q(e),Z(e,n,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qi(t),null;case 6:if(e&&null!=t.stateNode)Ii(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=Ys(Gs.current),Ys(Ks.current),us(t)){if(n=t.stateNode,r=t.memoizedProps,n[pa]=t,(o=n.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Qn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[pa]=t,t.stateNode=n}return qi(t),null;case 13:if(ka(Zs),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ps(),hs(),t.flags|=98560,o=!1;else if(o=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[pa]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qi(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Il&&(Il=3):fc())),null!==t.updateQueue&&(t.flags|=4),qi(t),null);case 4:return Js(),Oi(e,t),null===e&&Wn(t.stateNode.containerInfo),qi(t),null;case 10:return Fs(t.type._context),qi(t),null;case 19:if(ka(Zs),null===(o=t.memoizedState))return qi(t),null;if(n=0!==(128&t.flags),null===(l=o.rendering))if(n)Ki(o,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ki(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ca(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Wl&&(t.flags|=128,n=!0,Ki(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=eo(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Ki(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!as)return qi(t),null}else 2*Xe()-o.renderingStartTime>Wl&&1073741824!==r&&(t.flags|=128,n=!0,Ki(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,r=Zs.current,Ca(Zs,n?1&r|2:1&r),t):(qi(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(qi(t),6&t.subtreeFlags&&(t.flags|=8192)):qi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yi(e,t){switch(ts(t),t.tag){case 1:return Oa(t.type)&&Ta(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),ka(Ea),ka(Sa),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qs(t),null;case 13:if(ka(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ka(Zs),null;case 4:return Js(),null;case 10:return Fs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Di=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Oi=function(){},Ti=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ys(Ks.current);var s,o=null;switch(r){case"input":a=$(e,a),n=$(e,n),o=[];break;case"select":a=R({},a,{value:void 0}),n=R({},n,{value:void 0}),o=[];break;case"textarea":a=ne(e,a),n=ne(e,n),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in be(r,n),r=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ln("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}},Ii=function(e,t,r,n){r!==n&&(t.flags|=4)};var $i=!1,Ji=!1,Xi="function"===typeof WeakSet?WeakSet:Set,Qi=null;function Zi(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Ac(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){Ac(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,r,s)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[ha],delete t[fa],delete t[xa],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var dl=null,ul=!1;function pl(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,r)}catch(i){}switch(r.tag){case 5:Ji||Zi(r,t);case 6:var n=dl,a=ul;dl=null,pl(e,t,r),ul=a,null!==(dl=n)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),Wt(e)):la(dl,r.stateNode));break;case 4:n=dl,a=ul,dl=r.stateNode.containerInfo,ul=!0,pl(e,t,r),dl=n,ul=a;break;case 0:case 11:case 14:case 15:if(!Ji&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(r,t,o),a=a.next}while(a!==n)}pl(e,t,r);break;case 1:if(!Ji&&(Zi(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){Ac(r,t,i)}pl(e,t,r);break;case 21:pl(e,t,r);break;case 22:1&r.mode?(Ji=(n=Ji)||null!==r.memoizedState,pl(e,t,r),Ji=n):pl(e,t,r);break;default:pl(e,t,r)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Xi),t.forEach(function(t){var n=Sc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function fl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));hl(o,i,a),dl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){Ac(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),gl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(x){Ac(e,e.return,x)}try{rl(5,e,e.return)}catch(x){Ac(e,e.return,x)}}break;case 1:fl(t,e),gl(e),512&n&&null!==r&&Zi(r,r.return);break;case 5:if(fl(t,e),gl(e),512&n&&null!==r&&Zi(r,r.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(x){Ac(e,e.return,x)}}if(4&n&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==r?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(a,o),ye(l,i);var d=ye(l,o);for(i=0;i<c.length;i+=2){var u=c[i],p=c[i+1];"style"===u?xe(a,p):"dangerouslySetInnerHTML"===u?ue(a,p):"children"===u?pe(a,p):y(a,u,p,d)}switch(l){case"input":Q(a,o);break;case"textarea":se(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var m=o.value;null!=m?re(a,!!o.multiple,m,!1):h!==!!o.multiple&&(null!=o.defaultValue?re(a,!!o.multiple,o.defaultValue,!0):re(a,!!o.multiple,o.multiple?[]:"",!1))}a[ha]=o}catch(x){Ac(e,e.return,x)}}break;case 6:if(fl(t,e),gl(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){Ac(e,e.return,x)}}break;case 3:if(fl(t,e),gl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(x){Ac(e,e.return,x)}break;case 4:default:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Xe())),4&n&&ml(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Ji=(d=Ji)||u,fl(t,e),Ji=d):fl(t,e),gl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Qi=e,u=e.child;null!==u;){for(p=Qi=u;null!==Qi;){switch(m=(h=Qi).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:Zi(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){n=h,r=h.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(x){Ac(n,r,x)}}break;case 5:Zi(h,h.return);break;case 22:if(null!==h.memoizedState){jl(p);continue}}null!==m?(m.return=h,Qi=m):jl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{a=p.stateNode,d?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=p.stateNode,i=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",i))}catch(x){Ac(e,e.return,x)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(x){Ac(e,e.return,x)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fl(t,e),gl(e),4&n&&ml(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ol(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(pe(a,""),n.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;ll(e,il(e),o);break;default:throw Error(s(161))}}catch(i){Ac(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,r){Qi=e,yl(e,t,r)}function yl(e,t,r){for(var n=0!==(1&e.mode);null!==Qi;){var a=Qi,s=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||$i;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Ji;i=$i;var c=Ji;if($i=o,(Ji=l)&&!c)for(Qi=a;null!==Qi;)l=(o=Qi).child,22===o.tag&&null!==o.memoizedState?wl(a):null!==l?(l.return=o,Qi=l):wl(a);for(;null!==s;)Qi=s,yl(s,t,r),s=s.sibling;Qi=a,$i=i,Ji=c}vl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Qi=s):vl(e)}}function vl(e){for(;null!==Qi;){var t=Qi;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ji||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Ji)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ri(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Vs(t,o,n);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Vs(t,i,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Wt(p)}}}break;default:throw Error(s(163))}Ji||512&t.flags&&al(t)}catch(h){Ac(t,t.return,h)}}if(t===e){Qi=null;break}if(null!==(r=t.sibling)){r.return=t.return,Qi=r;break}Qi=t.return}}function jl(e){for(;null!==Qi;){var t=Qi;if(t===e){Qi=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Qi=r;break}Qi=t.return}}function wl(e){for(;null!==Qi;){var t=Qi;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){Ac(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){Ac(t,a,l)}}var s=t.return;try{al(t)}catch(l){Ac(t,s,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Ac(t,o,l)}}}catch(l){Ac(t,t.return,l)}if(t===e){Qi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Qi=i;break}Qi=t.return}}var Nl,Al=Math.ceil,kl=v.ReactCurrentDispatcher,Cl=v.ReactCurrentOwner,Fl=v.ReactCurrentBatchConfig,Sl=0,El=null,Pl=null,Dl=0,Ol=0,Tl=Aa(0),Il=0,Ml=null,_l=0,Rl=0,Bl=0,Ll=null,zl=null,Ul=0,Wl=1/0,Vl=null,Hl=!1,Kl=null,ql=null,Gl=!1,Yl=null,$l=0,Jl=0,Xl=null,Ql=-1,Zl=0;function ec(){return 0!==(6&Sl)?Xe():-1!==Ql?Ql:Ql=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Sl)&&0!==Dl?Dl&-Dl:null!==fs.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,r,n){if(50<Jl)throw Jl=0,Xl=null,Error(s(185));gt(e,r,n),0!==(2&Sl)&&e===El||(e===El&&(0===(2&Sl)&&(Rl|=r),4===Il&&ic(e,Dl)),nc(e,n),1===r&&0===Sl&&0===(1&t.mode)&&(Wl=Xe()+500,La&&Wa()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),i=1<<o,l=a[o];-1===l?0!==(i&r)&&0===(i&n)||(a[o]=ht(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var n=pt(e,e===El?Dl:0);if(0===n)null!==r&&Ye(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ye(r),1===t)0===e.tag?function(e){La=!0,Ua(e)}(lc.bind(null,e)):Ua(lc.bind(null,e)),oa(function(){0===(6&Sl)&&Wa()}),r=null;else{switch(vt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Ec(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Ql=-1,Zl=0,0!==(6&Sl))throw Error(s(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=pt(e,e===El?Dl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=xc(e,n);else{t=n;var a=Sl;Sl|=2;var o=mc();for(El===e&&Dl===t||(Vl=null,Wl=Xe()+500,pc(e,t));;)try{bc();break}catch(l){hc(e,l)}Cs(),kl.current=o,Sl=a,null!==Pl?t=0:(El=null,Dl=0,t=Il)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(n=a,t=sc(e,a))),1===t)throw r=Ml,pc(e,0),ic(e,n),nc(e,Xe()),r;if(6===t)ic(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!on(s(),a))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=xc(e,n))&&(0!==(o=mt(e))&&(n=o,t=sc(e,o))),1===t))throw r=Ml,pc(e,0),ic(e,n),nc(e,Xe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,zl,Vl);break;case 3:if(ic(e,n),(130023424&n)===n&&10<(t=Ul+500-Xe())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(jc.bind(null,e,zl,Vl),t);break}jc(e,zl,Vl);break;case 4:if(ic(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-ot(n);o=1<<i,(i=t[i])>a&&(a=i),n&=~o}if(n=a,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Al(n/1960))-n)){e.timeoutHandle=na(jc.bind(null,e,zl,Vl),n);break}jc(e,zl,Vl);break;default:throw Error(s(329))}}}return nc(e,Xe()),e.callbackNode===r?ac.bind(null,e):null}function sc(e,t){var r=Ll;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=zl,zl=r,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ic(e,t){for(t&=~Bl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&Sl))throw Error(s(327));wc();var t=pt(e,0);if(0===(1&t))return nc(e,Xe()),null;var r=xc(e,t);if(0!==e.tag&&2===r){var n=mt(e);0!==n&&(t=n,r=sc(e,n))}if(1===r)throw r=Ml,pc(e,0),ic(e,t),nc(e,Xe()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,zl,Vl),nc(e,Xe()),null}function cc(e,t){var r=Sl;Sl|=1;try{return e(t)}finally{0===(Sl=r)&&(Wl=Xe()+500,La&&Wa())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Sl)&&wc();var t=Sl;Sl|=1;var r=Fl.transition,n=yt;try{if(Fl.transition=null,yt=1,e)return e()}finally{yt=n,Fl.transition=r,0===(6&(Sl=t))&&Wa()}}function uc(){Ol=Tl.current,ka(Tl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Pl)for(r=Pl.return;null!==r;){var n=r;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ta();break;case 3:Js(),ka(Ea),ka(Sa),ro();break;case 5:Qs(n);break;case 4:Js();break;case 13:case 19:ka(Zs);break;case 10:Fs(n.type._context);break;case 22:case 23:uc()}r=r.return}if(El=e,Pl=e=Tc(e.current,null),Dl=Ol=t,Il=0,Ml=null,Bl=Rl=_l=0,zl=Ll=null,null!==Ds){for(t=0;t<Ds.length;t++)if(null!==(n=(r=Ds[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var o=s.next;s.next=a,n.next=o}r.pending=n}Ds=null}return e}function hc(e,t){for(;;){var r=Pl;try{if(Cs(),no.current=Qo,co){for(var n=oo.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}co=!1}if(so=0,lo=io=oo=null,uo=!1,po=0,Cl.current=null,null===r||null===r.return){Il=1,Ml=t,Pl=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=xi(i);if(null!==m){m.flags&=-257,gi(m,i,l,0,t),1&m.mode&&fi(o,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var x=new Set;x.add(c),t.updateQueue=x}else f.add(c);break e}if(0===(1&t)){fi(o,d,t),fc();break e}c=Error(s(426))}else if(as&&1&l.mode){var g=xi(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gi(g,i,l,0,t),ms(ci(c,l));break e}}o=c=ci(c,l),4!==Il&&(Il=2),null===Ll?Ll=[o]:Ll.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Us(o,hi(0,c,t));break e;case 1:l=c;var b=o.type,y=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===ql||!ql.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,Us(o,mi(o,l,t));break e}}o=o.return}while(null!==o)}vc(r)}catch(v){t=v,Pl===r&&null!==r&&(Pl=r=r.return);continue}break}}function mc(){var e=kl.current;return kl.current=Qo,null===e?Qo:e}function fc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===El||0===(268435455&_l)&&0===(268435455&Rl)||ic(El,Dl)}function xc(e,t){var r=Sl;Sl|=2;var n=mc();for(El===e&&Dl===t||(Vl=null,pc(e,t));;)try{gc();break}catch(a){hc(e,a)}if(Cs(),Sl=r,kl.current=n,null!==Pl)throw Error(s(261));return El=null,Dl=0,Il}function gc(){for(;null!==Pl;)yc(Pl)}function bc(){for(;null!==Pl&&!$e();)yc(Pl)}function yc(e){var t=Nl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?vc(e):Pl=t,Cl.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Gi(r,t,Ol)))return void(Pl=r)}else{if(null!==(r=Yi(r,t)))return r.flags&=32767,void(Pl=r);if(null===e)return Il=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Il&&(Il=5)}function jc(e,t,r){var n=yt,a=Fl.transition;try{Fl.transition=null,yt=1,function(e,t,r,n){do{wc()}while(null!==Yl);if(0!==(6&Sl))throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ot(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,o),e===El&&(Pl=El=null,Dl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Gl||(Gl=!0,Ec(tt,function(){return wc(),null})),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Fl.transition,Fl.transition=null;var i=yt;yt=1;var l=Sl;Sl|=4,Cl.current=null,function(e,t){if(ea=Ht,hn(e=pn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(j){r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var m;p!==r||0!==a&&3!==p.nodeType||(l=i+a),p!==o||0!==n&&3!==p.nodeType||(c=i+n),3===p.nodeType&&(i+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break t;if(h===r&&++d===a&&(l=i),h===o&&++u===n&&(c=i),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Ht=!1,Qi=t;null!==Qi;)if(e=(t=Qi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qi=e;else for(;null!==Qi;){t=Qi;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var x=f.memoizedProps,g=f.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:ri(t.type,x),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(j){Ac(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Qi=e;break}Qi=t.return}f=tl,tl=!1}(e,r),xl(r,e),mn(ta),Ht=!!ea,ta=ea=null,e.current=r,bl(r,e,a),Je(),Sl=l,yt=i,Fl.transition=o}else e.current=r;if(Gl&&(Gl=!1,Yl=e,$l=a),o=e.pendingLanes,0===o&&(ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&$l)&&0!==e.tag&&wc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,Wa()}(e,t,r,n)}finally{Fl.transition=a,yt=n}return null}function wc(){if(null!==Yl){var e=vt($l),t=Fl.transition,r=yt;try{if(Fl.transition=null,yt=16>e?16:e,null===Yl)var n=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Sl))throw Error(s(331));var a=Sl;for(Sl|=4,Qi=e.current;null!==Qi;){var o=Qi,i=o.child;if(0!==(16&Qi.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Qi=d;null!==Qi;){var u=Qi;switch(u.tag){case 0:case 11:case 15:rl(8,u,o)}var p=u.child;if(null!==p)p.return=u,Qi=p;else for(;null!==Qi;){var h=(u=Qi).sibling,m=u.return;if(sl(u),u===d){Qi=null;break}if(null!==h){h.return=m,Qi=h;break}Qi=m}}}var f=o.alternate;if(null!==f){var x=f.child;if(null!==x){f.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Qi=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Qi=i;else e:for(;null!==Qi;){if(0!==(2048&(o=Qi).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,Qi=b;break e}Qi=o.return}}var y=e.current;for(Qi=y;null!==Qi;){var v=(i=Qi).child;if(0!==(2064&i.subtreeFlags)&&null!==v)v.return=i,Qi=v;else e:for(i=y;null!==Qi;){if(0!==(2048&(l=Qi).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){Ac(l,l.return,w)}if(l===i){Qi=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Qi=j;break e}Qi=l.return}}if(Sl=a,Wa(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(w){}n=!0}return n}finally{yt=r,Fl.transition=t}}return!1}function Nc(e,t,r){e=Ls(e,t=hi(0,t=ci(r,t),1),1),t=ec(),null!==e&&(gt(e,1,t),nc(e,t))}function Ac(e,t,r){if(3===e.tag)Nc(e,e,r);else for(;null!==t;){if(3===t.tag){Nc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===ql||!ql.has(n))){t=Ls(t,e=mi(t,e=ci(r,e),1),1),e=ec(),null!==t&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function kc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,El===e&&(Dl&r)===r&&(4===Il||3===Il&&(130023424&Dl)===Dl&&500>Xe()-Ul?pc(e,0):Bl|=r),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Is(e,t))&&(gt(e,t,r),nc(e,r))}function Fc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cc(e,r)}function Sc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Cc(e,r)}function Ec(e,t){return Ge(e,t)}function Pc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,r,n){return new Pc(e,t,r,n)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var r=e.alternate;return null===r?((r=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ic(e,t,r,n,a,o){var i=2;if(n=e,"function"===typeof e)Oc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case N:return Mc(r.children,a,o,t);case A:i=8,a|=8;break;case k:return(e=Dc(12,r,t,2|a)).elementType=k,e.lanes=o,e;case E:return(e=Dc(13,r,t,a)).elementType=E,e.lanes=o,e;case P:return(e=Dc(19,r,t,a)).elementType=P,e.lanes=o,e;case T:return _c(r,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case F:i=9;break e;case S:i=11;break e;case D:i=14;break e;case O:i=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dc(i,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function Mc(e,t,r,n){return(e=Dc(7,e,n,t)).lanes=r,e}function _c(e,t,r,n){return(e=Dc(22,e,n,t)).elementType=T,e.lanes=r,e.stateNode={isHidden:!1},e}function Rc(e,t,r){return(e=Dc(6,e,null,t)).lanes=r,e}function Bc(e,t,r){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,r,n,a,s,o,i,l){return e=new Lc(e,t,r,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_s(s),e}function Uc(e){if(!e)return Fa;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Oa(r))return Ma(e,r,t)}return t}function Wc(e,t,r,n,a,s,o,i,l){return(e=zc(r,n,!0,e,0,s,0,i,l)).context=Uc(null),r=e.current,(s=Bs(n=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,Ls(r,s,a),e.current.lanes=a,gt(e,a,n),nc(e,n),e}function Vc(e,t,r,n){var a=t.current,s=ec(),o=tc(a);return r=Uc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Bs(s,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ls(a,t,o))&&(rc(e,a,o,s),zs(e,a,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function qc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Nl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)yi=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return yi=!1,function(e,t,r){switch(t.tag){case 3:Ei(t),hs();break;case 5:Xs(t);break;case 1:Oa(t.type)&&_a(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ca(ws,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ca(Zs,1&Zs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Ri(e,t,r):(Ca(Zs,1&Zs.current),null!==(e=Hi(e,t,r))?e.sibling:null);Ca(Zs,1&Zs.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Wi(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(Zs,Zs.current),n)break;return null;case 22:case 23:return t.lanes=0,Ai(e,t,r)}return Hi(e,t,r)}(e,t,r);yi=0!==(131072&e.flags)}else yi=!1,as&&0!==(1048576&t.flags)&&Za(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vi(e,t),e=t.pendingProps;var a=Da(t,Sa.current);Es(t,r),a=xo(null,t,n,e,a,r);var o=go();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oa(n)?(o=!0,_a(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,_s(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,li(t,n,e,r),t=Si(null,t,n,!0,o,r)):(t.tag=0,as&&o&&es(t),vi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===D)return 14}return 2}(n),e=ri(n,e),a){case 0:t=Ci(null,t,n,e,r);break e;case 1:t=Fi(null,t,n,e,r);break e;case 11:t=ji(null,t,n,e,r);break e;case 14:t=wi(null,t,n,ri(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Ci(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 1:return n=t.type,a=t.pendingProps,Fi(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 3:e:{if(Ei(t),null===e)throw Error(s(387));n=t.pendingProps,a=(o=t.memoizedState).element,Rs(e,t),Ws(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pi(e,t,n,r,a=ci(Error(s(423)),t));break e}if(n!==a){t=Pi(e,t,n,r,a=ci(Error(s(424)),t));break e}for(ns=ca(t.stateNode.containerInfo.firstChild),rs=t,as=!0,ss=null,r=js(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(hs(),n===a){t=Hi(e,t,r);break e}vi(e,t,n,r)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,ra(n,a)?i=null:null!==o&&ra(n,o)&&(t.flags|=32),ki(e,t),vi(e,t,i,r),t.child;case 6:return null===e&&cs(t),null;case 13:return Ri(e,t,r);case 4:return $s(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=vs(t,null,n,r):vi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,ji(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 7:return vi(e,t,t.pendingProps,r),t.child;case 8:case 12:return vi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Ca(ws,n._currentValue),n._currentValue=i,null!==o)if(on(o.value,i)){if(o.children===a.children&&!Ea.current){t=Hi(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Bs(-1,r&-r)).tag=2;var d=o.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),Ss(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),Ss(i,r,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}vi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Es(t,r),n=n(a=Ps(a)),t.flags|=1,vi(e,t,n,r),t.child;case 14:return a=ri(n=t.type,t.pendingProps),wi(e,t,n,a=ri(n.type,a),r);case 15:return Ni(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ri(n,a),Vi(e,t),t.tag=1,Oa(n)?(e=!0,_a(t)):e=!1,Es(t,r),oi(t,n,a),li(t,n,a,r),Si(null,t,n,!0,e,r);case 19:return Wi(e,t,r);case 22:return Ai(e,t,r)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Zc(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if("function"===typeof a){var i=a;a=function(){var e=Hc(o);i.call(e)}}Vc(t,o,e,a)}else o=function(e,t,r,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=Hc(o);s.call(e)}}var o=Wc(t,n,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[ma]=o.current,Wn(8===e.nodeType?e.parentNode:e),dc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var i=n;n=function(){var e=Hc(l);i.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[ma]=l.current,Wn(8===e.nodeType?e.parentNode:e),dc(function(){Vc(t,l,r,n)}),l}(r,t,e,a,n);return Hc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Vc(null,e,null,null)}),t[ma]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Tt.length&&0!==t&&t<Tt[r].priority;r++);Tt.splice(r,0,e),0===r&&Rt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(bt(t,1|r),nc(t,Xe()),0===(6&Sl)&&(Wl=Xe()+500,Wa()))}break;case 13:dc(function(){var t=Is(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),qc(e,1)}},wt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)rc(t,e,134217728,ec());qc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),r=Is(e,t);if(null!==r)rc(r,e,t,ec());qc(e,t)}},At=function(){return yt},kt=function(e,t){var r=yt;try{return yt=e,t()}finally{yt=r}},we=function(e,t,r){switch(t){case"input":if(Q(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ja(n);if(!a)throw Error(s(90));G(n),Q(n,a)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Se=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[ya,va,ja,Ce,Fe,cc]},td={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{at=nd.inject(rd),st=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var r=!1,n="",a=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,r,0,n,a),e[ma]=t.current,Wn(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Jc(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,a=!1,o="",i=Gc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=Wc(t,null,e,1,null!=r?r:null,a,0,o,i),e[ma]=t.current,Wn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new $c(t)},t.render=function(e,t,r){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,r)=>{var n=r(5193),a=r(2761),s=Object.prototype,o=s.hasOwnProperty,i=s.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return a(e)&&o.call(e,"callee")&&!i.call(e,"callee")};e.exports=l},2794:(e,t,r)=>{var n=r(9742),a=r(7498),s=r(9096);e.exports=function(e,t){return e&&e.length?n(e,s(t,2),a):void 0}},2866:(e,t,r)=>{var n=r(2969);e.exports=function(e){return function(t){return n(t,e)}}},2929:(e,t,r)=>{var n=r(6552).Uint8Array;e.exports=n},2969:(e,t,r)=>{var n=r(5324),a=r(914);e.exports=function(e,t){for(var r=0,s=(t=n(t,e)).length;null!=e&&r<s;)e=e[a(t[r++])];return r&&r==s?e:void 0}},3028:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},3097:(e,t,r)=>{var n=r(2969);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},3204:(e,t,r)=>{var n=r(3343),a=r(2777),s=r(4052),o=r(4543),i=r(9194),l=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=s(e),d=!r&&a(e),u=!r&&!d&&o(e),p=!r&&!d&&!u&&l(e),h=r||d||u||p,m=h?n(e.length,String):[],f=m.length;for(var x in e)!t&&!c.call(e,x)||h&&("length"==x||u&&("offset"==x||"parent"==x)||p&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||i(x,f))||m.push(x);return m}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,r)=>{var n=r(9676),a=r(929),s=r(7303);e.exports=function(e){return function(t,r,o){return o&&"number"!=typeof o&&a(t,r,o)&&(r=o=void 0),t=s(t),void 0===r?(r=t,t=0):r=s(r),o=void 0===o?t<r?1:-1:s(o),n(t,r,o,e)}}},3343:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},3366:(e,t,r)=>{var n=r(7894),a=r(9057);e.exports=function(e,t){return null!=e&&a(e,t,n)}},3411:(e,t,r)=>{var n=r(149),a=r(9096),s=r(8883),o=r(4052);e.exports=function(e,t){return(o(e)?n:s)(e,a(t,3))}},3440:(e,t,r)=>{var n=r(6552)["__core-js_shared__"];e.exports=n},3538:(e,t,r)=>{var n=r(755),a=r(3411);e.exports=function(e,t){return n(a(e,t),1)}},3666:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(3797).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},3668:(e,t,r)=>{var n=r(8902),a=r(2587),s=r(8114);e.exports=function(e,t,r,o,i,l){var c=1&r,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var m=-1,f=!0,x=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++m<d;){var g=e[m],b=t[m];if(o)var y=c?o(b,g,m,t,e,l):o(g,b,m,e,t,l);if(void 0!==y){if(y)continue;f=!1;break}if(x){if(!a(t,function(e,t){if(!s(x,t)&&(g===e||i(g,e,r,o,l)))return x.push(t)})){f=!1;break}}else if(g!==b&&!i(g,b,r,o,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},3713:(e,t,r)=>{var n=r(6140),a=r(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3763:(e,t,r)=>{"use strict";e.exports=r(4983)},3781:(e,t,r)=>{var n=r(9417),a=r(8673);e.exports=function(e){for(var t=a(e),r=t.length;r--;){var s=t[r],o=e[s];t[r]=[s,o,n(o)]}return t}},3797:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(9379),a=r(45),s=r(5043),o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const i=["color","size","strokeWidth","absoluteStrokeWidth","children"];var l=(e,t)=>{const r=(0,s.forwardRef)((r,l)=>{let{color:c="currentColor",size:d=24,strokeWidth:u=2,absoluteStrokeWidth:p,children:h}=r,m=(0,a.A)(r,i);return(0,s.createElement)("svg",(0,n.A)((0,n.A)({ref:l},o),{},{width:d,height:d,stroke:c,strokeWidth:p?24*Number(u)/Number(d):u,className:"lucide lucide-".concat((f=e,f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},m),[...t.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...(Array.isArray(h)?h:[h])||[]]);var f});return r.displayName="".concat(e),r}},3871:e=>{e.exports=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,r)=>{var n=r(396),a=r(2866),s=r(2597),o=r(914);e.exports=function(e){return s(e)?n(o(e)):a(e)}},3950:(e,t,r)=>{var n=r(6686),a=r(4757),s=r(801),o=Math.max,i=Math.min;e.exports=function(e,t,r){var l,c,d,u,p,h,m=0,f=!1,x=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var r=l,n=c;return l=c=void 0,m=t,u=e.apply(n,r)}function y(e){var r=e-h;return void 0===h||r>=t||r<0||x&&e-m>=d}function v(){var e=a();if(y(e))return j(e);p=setTimeout(v,function(e){var r=t-(e-h);return x?i(r,d-(e-m)):r}(e))}function j(e){return p=void 0,g&&l?b(e):(l=c=void 0,u)}function w(){var e=a(),r=y(e);if(l=arguments,c=this,h=e,r){if(void 0===p)return function(e){return m=e,p=setTimeout(v,t),f?b(e):u}(h);if(x)return clearTimeout(p),p=setTimeout(v,t),b(h)}return void 0===p&&(p=setTimeout(v,t)),u}return t=s(t)||0,n(r)&&(f=!!r.leading,d=(x="maxWait"in r)?o(s(r.maxWait)||0,t):d,g="trailing"in r?!!r.trailing:g),w.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=h=c=p=void 0},w.flush=function(){return void 0===p?u:j(a())},w}},4020:e=>{e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,r)=>{var n=r(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,r,n,a){t.push(n?a.replace(s,"$1"):r||e)}),t});e.exports=o},4160:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},4190:(e,t,r)=>{var n=r(1340);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,x={};function g(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||m}function b(){}function y(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,f(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var a,s={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,a)&&!A.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:r,type:e,key:o,ref:i,props:s,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var F=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,a,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===s?"."+S(l,0):s,j(o)?(a="",null!=e&&(a=e.replace(F,"$&/")+"/"),E(o,t,a,"",function(e){return e})):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(F,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+S(i=e[c],c);l+=E(i,t,a,d,o)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)l+=E(i=i.value,t,a,d=s+S(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,r){if(null==e)return e;var n=[],a=0;return E(e,n,"","",function(e){return t.call(r,e,a++)}),n}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},T={transition:null},I={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:T,ReactCurrentOwner:N};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,r){P(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=y,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!A.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:r,type:e.type,key:s,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,r){return O.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,r){return O.current.useReducer(e,t,r)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return O.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},4258:(e,t,r)=>{var n=r(5906)();e.exports=n},4262:(e,t,r)=>{var n=r(8895),a=r(4052);e.exports=function(e,t,r){var s=t(e);return a(e)?s:n(s,r(e))}},4391:(e,t,r)=>{"use strict";var n=r(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4416:(e,t,r)=>{var n=r(8902),a=r(5866),s=r(1558),o=r(8114),i=r(8182),l=r(2074);e.exports=function(e,t,r){var c=-1,d=a,u=e.length,p=!0,h=[],m=h;if(r)p=!1,d=s;else if(u>=200){var f=t?null:i(e);if(f)return l(f);p=!1,d=o,m=new n}else m=t?[]:h;e:for(;++c<u;){var x=e[c],g=t?t(x):x;if(x=r||0!==x?x:0,p&&g===g){for(var b=m.length;b--;)if(m[b]===g)continue e;t&&m.push(g),h.push(x)}else d(m,g,r)||(m!==h&&m.push(g),h.push(x))}return h}},4445:(e,t)=>{"use strict";t.byteLength=function(e){var t=i(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,s=i(e),o=s[0],l=s[1],c=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,l)),d=0,u=l>0?o-4:o;for(r=0;r<u;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;2===l&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[d++]=255&t);1===l&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,a=n%3,s=[],o=16383,i=0,l=n-a;i<l;i+=o)s.push(c(e,i,i+o>l?l:i+o));1===a?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===a&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return s.join("")};for(var r=[],n=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function c(e,t,r){for(var n,a=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(l(n));return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},4450:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u});var n=r(9379),a=r(45),s=r(5043),o=r(7772),i=r(1364),l=r(579);const c=["variant","size","loading","disabled","icon","children","className"],d=e=>{let{variant:t="primary",size:r="md",loading:d=!1,disabled:u=!1,icon:p,children:h,className:m=""}=e,f=(0,a.A)(e,c);const{common:x}=(0,i.B)(),g=["inline-flex","items-center","justify-center","font-medium","border","cursor-pointer","transition-all","duration-150","ease-out","focus:outline-none","focus:ring-2","focus:ring-offset-2","disabled:cursor-not-allowed","disabled:opacity-50","disabled:transform-none","disabled:shadow-none"].join(" "),b={primary:["text-white","border-transparent","hover:shadow-md","hover:-translate-y-0.5","active:translate-y-0","focus:ring-blue-500"].join(" "),secondary:["hover:shadow-sm","hover:-translate-y-0.5","active:translate-y-0","focus:ring-blue-500"].join(" "),outline:["hover:shadow-sm","hover:-translate-y-0.5","active:translate-y-0","focus:ring-blue-500"].join(" "),danger:["text-white","border-transparent","hover:shadow-md","hover:-translate-y-0.5","active:translate-y-0","focus:ring-red-500"].join(" "),ghost:["bg-transparent","border-transparent","focus:ring-blue-500"].join(" ")},y={xs:["px-2","py-1","text-xs","rounded-md","gap-1","min-h-[28px]"].join(" "),sm:["px-3","py-1.5","text-sm","rounded-md","gap-1.5","min-h-[32px]"].join(" "),md:["px-4","py-2","text-sm","rounded-lg","gap-2","min-h-[40px]"].join(" "),lg:["px-6","py-3","text-base","rounded-lg","gap-2","min-h-[44px]"].join(" "),xl:["px-8","py-4","text-lg","rounded-xl","gap-3","min-h-[48px]"].join(" ")},v=[g,b[t],y[r],m].join(" "),j={xs:12,sm:14,md:16,lg:18,xl:20};return(0,l.jsx)("button",(0,n.A)((0,n.A)({className:v,style:(()=>{const e={transition:"all 0.15s ease-out"};switch(t){case"primary":return(0,n.A)((0,n.A)({},e),{},{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"});case"secondary":case"outline":return(0,n.A)((0,n.A)({},e),{},{backgroundColor:"#2C2C2E",borderColor:"#38383A",color:"#FFFFFF"});case"danger":return(0,n.A)((0,n.A)({},e),{},{backgroundColor:"#EF4444"});case"ghost":return(0,n.A)((0,n.A)({},e),{},{color:"#98989D"});default:return e}})(),disabled:u||d},f),{},{children:d?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.A,{size:j[r],className:"animate-spin"}),h&&(0,l.jsx)("span",{children:x.loading})]}):(0,l.jsxs)(l.Fragment,{children:[p&&(0,l.jsx)("span",{className:"flex-shrink-0",children:s.isValidElement(p)?s.cloneElement(p,{size:j[r]}):p}),h&&(0,l.jsx)("span",{children:h})]})}))},u=d},4467:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(816);function a(e,t,r){return(t=(0,n.A)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},4543:(e,t,r)=>{e=r.nmd(e);var n=r(6552),a=r(14),s=t&&!t.nodeType&&t,o=s&&e&&!e.nodeType&&e,i=o&&o.exports===s?n.Buffer:void 0,l=(i?i.isBuffer:void 0)||a;e.exports=l},4545:(e,t,r)=>{var n=r(7160);e.exports=function(){this.__data__=new n,this.size=0}},4552:(e,t,r)=>{var n=r(9812),a=Object.prototype,s=a.hasOwnProperty,o=a.toString,i=n?n.toStringTag:void 0;e.exports=function(e){var t=s.call(e,i),r=e[i];try{e[i]=void 0;var n=!0}catch(l){}var a=o.call(e);return n&&(t?e[i]=r:delete e[i]),a}},4597:(e,t,r)=>{var n=r(2587),a=r(9096),s=r(2165),o=r(4052),i=r(929);e.exports=function(e,t,r){var l=o(e)?n:s;return r&&i(e,t,r)&&(t=void 0),l(e,a(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,r)=>{var n=r(4258),a=r(8673);e.exports=function(e,t){return e&&n(e,t,a)}},4746:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r=!0;return n(e,function(e,n,a){return r=!!t(e,n,a)}),r}},4757:(e,t,r)=>{var n=r(6552);e.exports=function(){return n.Date.now()}},4816:(e,t,r)=>{var n=r(7251),a=r(7159),s=r(438),o=r(9394),i=r(6874);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},4983:(e,t)=>{"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,f=r?Symbol.for("react.memo"):60115,x=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,v=r?Symbol.for("react.scope"):60119;function j(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case s:case i:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case x:case f:case l:return e;default:return t}}case a:return t}}}function w(e){return j(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=p,t.Fragment=s,t.Lazy=x,t.Memo=f,t.Portal=a,t.Profiler=i,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||j(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return j(e)===c},t.isContextProvider=function(e){return j(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return j(e)===p},t.isFragment=function(e){return j(e)===s},t.isLazy=function(e){return j(e)===x},t.isMemo=function(e){return j(e)===f},t.isPortal=function(e){return j(e)===a},t.isProfiler=function(e){return j(e)===i},t.isStrictMode=function(e){return j(e)===o},t.isSuspense=function(e){return j(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===u||e===i||e===o||e===h||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===x||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===y||e.$$typeof===v||e.$$typeof===g)},t.typeOf=j},5029:(e,t,r)=>{var n=r(6989),a=r(3097),s=r(3366),o=r(2597),i=r(9417),l=r(1310),c=r(914);e.exports=function(e,t){return o(e)&&i(t)?l(c(e),t):function(r){var o=a(r,e);return void 0===o&&o===t?s(r,e):n(t,o,3)}}},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,r)=>{e.exports=r(1497)()},5193:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},5204:(e,t,r)=>{var n=r(7937)(r(6552),"Map");e.exports=n},5268:(e,t,r)=>{var n=r(9160);e.exports=function(e){return n(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},5324:(e,t,r)=>{var n=r(4052),a=r(2597),s=r(4079),o=r(1069);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:s(o(e))}},5387:(e,t,r)=>{var n=r(7937)(r(6552),"Promise");e.exports=n},5428:(e,t,r)=>{var n=r(6913),a=r(6173),s=r(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&a(e.length)&&!!o[n(e)]}},5538:(e,t,r)=>{var n=r(7160),a=r(4545),s=r(793),o=r(7760),i=r(3892),l=r(6788);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=s,c.prototype.get=o,c.prototype.has=i,c.prototype.set=l,e.exports=c},5575:(e,t,r)=>{var n=r(7937)(Object,"create");e.exports=n},5636:(e,t,r)=>{var n=r(1170),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,i=a(s.length-t,0),l=Array(i);++o<i;)l[o]=s[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=s[o];return c[t]=r(l),n(e,this,c)}}},5647:(e,t,r)=>{var n=r(3279),a=r(5636),s=r(6350);e.exports=function(e,t){return s(a(e,t,n),e+"")}},5652:(e,t,r)=>{var n=r(4664),a=r(6516)(n);e.exports=a},5654:(e,t,r)=>{var n=r(7937),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5752:(e,t,r)=>{var n=r(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,s,o,i){var l=1&r,c=n(e),d=c.length;if(d!=n(t).length&&!l)return!1;for(var u=d;u--;){var p=c[u];if(!(l?p in t:a.call(t,p)))return!1}var h=i.get(e),m=i.get(t);if(h&&m)return h==t&&m==e;var f=!0;i.set(e,t),i.set(t,e);for(var x=l;++u<d;){var g=e[p=c[u]],b=t[p];if(s)var y=l?s(b,g,p,t,e,i):s(g,b,p,e,t,i);if(!(void 0===y?g===b||o(g,b,r,s,i):y)){f=!1;break}x||(x="constructor"==p)}if(f&&!x){var v=e.constructor,j=t.constructor;v==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof j&&j instanceof j||(f=!1)}return i.delete(e),i.delete(t),f}},5797:(e,t,r)=>{var n=r(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},5816:e=>{e.exports=function(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}},5866:(e,t,r)=>{var n=r(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},5881:(e,t)=>{"use strict";var r,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case s:case i:case o:case p:case h:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case f:case m:case l:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference")},5893:(e,t,r)=>{var n=r(6599);e.exports=function(e,t,r){for(var a=-1,s=e.criteria,o=t.criteria,i=s.length,l=r.length;++a<i;){var c=n(s[a],o[a]);if(c)return a>=l?c:c*("desc"==r[a]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),i=o.length;i--;){var l=o[e?i:++a];if(!1===r(s[l],l,s))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,r)=>{var n=r(3028)(Object.getPrototypeOf,Object);e.exports=n},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,r)=>{var n=r(8325),a=r(6578)(n);e.exports=a},6361:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==n(e)}},6378:(e,t)=>{"use strict";var r,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case s:case i:case o:case p:case h:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case f:case m:case l:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference"),t.isFragment=function(e){return g(e)===s}},6382:(e,t,r)=>{"use strict";const n=r(4445),a=r(6900),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=l,t.IS=50;const o=2147483647;function i(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|f(e,t);let n=i(r);const a=n.write(e,t);a!==r&&(n=n.slice(0,a));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if($(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($(e,ArrayBuffer)||e&&$(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&($(e,SharedArrayBuffer)||e&&$(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,r);const a=function(e){if(l.isBuffer(e)){const t=0|m(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?i(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(a)return a;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return d(e),i(e<0?0:0|m(e))}function p(e){const t=e.length<0?0:0|m(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,l.prototype),n}function m(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let a=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(a)return n?-1:q(e).length;t=(""+t).toLowerCase(),a=!0}}function x(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return E(this,t,r);case"base64":return k(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,a){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"===typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,a);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,a){let s,o=1,i=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,i/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){let n=-1;for(s=r;s<i;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===l)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+l>i&&(r=i-l),s=r;s>=0;s--){let r=!0;for(let n=0;n<l;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function v(e,t,r,n){r=Number(r)||0;const a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(J(n))return o;e[r+o]=n}return o}function j(e,t,r,n){return Y(q(t,e.length-r),e,r,n)}function w(e,t,r,n){return Y(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function N(e,t,r,n){return Y(G(t),e,r,n)}function A(e,t,r,n){return Y(function(e,t){let r,n,a;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,a=r%256,s.push(a),s.push(n);return s}(t,e.length-r),e,r,n)}function k(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);const n=[];let a=t;for(;a<r;){const t=e[a];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(a+o<=r){let r,n,i,l;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[a+1],128===(192&r)&&(l=(31&t)<<6|63&r,l>127&&(s=l));break;case 3:r=e[a+1],n=e[a+2],128===(192&r)&&128===(192&n)&&(l=(15&t)<<12|(63&r)<<6|63&n,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:r=e[a+1],n=e[a+2],i=e[a+3],128===(192&r)&&128===(192&n)&&128===(192&i)&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&i,l>65535&&l<1114112&&(s=l))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),a+=o}return function(e){const t=e.length;if(t<=F)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=F));return r}(n)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return function(e,t,r){return d(e),e<=0?i(e):void 0!==t?"string"===typeof r?i(e).fill(t,r):i(e).fill(t):i(e)}(e,t,r)},l.allocUnsafe=function(e){return u(e)},l.allocUnsafeSlow=function(e){return u(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if($(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),$(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let a=0,s=Math.min(r,n);a<s;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=l.allocUnsafe(t);let a=0;for(r=0;r<e.length;++r){let t=e[r];if($(t,Uint8Array))a+t.length>n.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(n,a)):Uint8Array.prototype.set.call(n,t,a);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,a)}a+=t.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):x.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,a){if($(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(a>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const i=Math.min(s,o),c=this.slice(n,a),d=e.slice(t,r);for(let l=0;l<i;++l)if(c[l]!==d[l]){s=c[l],o=d[l];break}return s<o?-1:o<s?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return j(this,e,t,r);case"ascii":case"latin1":case"binary":return w(this,e,t,r);case"base64":return N(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const F=4096;function S(e,t,r){let n="";r=Math.min(e.length,r);for(let a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function E(e,t,r){let n="";r=Math.min(e.length,r);for(let a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function P(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let a="";for(let s=t;s<r;++s)a+=X[e[s]];return a}function D(e,t,r){const n=e.slice(t,r);let a="";for(let s=0;s<n.length-1;s+=2)a+=String.fromCharCode(n[s]+256*n[s+1]);return a}function O(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,r,n,a,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n,a){W(t,n,a,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function M(e,t,r,n,a){W(t,n,a,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function _(e,t,r,n,a,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(e,t,r,n,s){return t=+t,r>>>=0,s||_(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,s){return t=+t,r>>>=0,s||_(e,0,r,8),a.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],a=1,s=0;for(;++s<t&&(a*=256);)n+=this[e+s]*a;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e+--t],a=1;for(;t>0&&(a*=256);)n+=this[e+--t]*a;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Q(function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,a=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(a)<<BigInt(32))}),l.prototype.readBigUInt64BE=Q(function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],a=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(a)}),l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],a=1,s=0;for(;++s<t&&(a*=256);)n+=this[e+s]*a;return a*=128,n>=a&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=t,a=1,s=this[e+--n];for(;n>0&&(a*=256);)s+=this[e+--n]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Q(function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),l.prototype.readBigInt64BE=Q(function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),a.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),a.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),a.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),a.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){T(this,e,t,r,Math.pow(2,8*r)-1,0)}let a=1,s=0;for(this[t]=255&e;++s<r&&(a*=256);)this[t+s]=e/a&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){T(this,e,t,r,Math.pow(2,8*r)-1,0)}let a=r-1,s=1;for(this[t+a]=255&e;--a>=0&&(s*=256);)this[t+a]=e/s&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Q(function(e){return I(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Q(function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);T(this,e,t,r,n-1,-n)}let a=0,s=1,o=0;for(this[t]=255&e;++a<r&&(s*=256);)e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/s|0)-o&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);T(this,e,t,r,n-1,-n)}let a=r-1,s=1,o=0;for(this[t+a]=255&e;--a>=0&&(s*=256);)e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/s|0)-o&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Q(function(e){return I(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Q(function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const a=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),a},l.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(a=t;a<r;++a)this[a]=e;else{const s=l.isBuffer(e)?e:l.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=s[a%o]}return this};const L={};function z(e,t,r){L[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function U(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function W(e,t,r,n,a,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let a;throw a=s>3?0===t||t===BigInt(0)?">= 0".concat(n," and < 2").concat(n," ** ").concat(8*(s+1)).concat(n):">= -(2".concat(n," ** ").concat(8*(s+1)-1).concat(n,") and < 2 ** ")+"".concat(8*(s+1)-1).concat(n):">= ".concat(t).concat(n," and <= ").concat(r).concat(n),new L.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,r){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||H(t,e.length-(r+1))}(n,a,s)}function V(e,t){if("number"!==typeof e)throw new L.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,r){if(Math.floor(e)!==e)throw V(e,r),new L.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new L.ERR_BUFFER_OUT_OF_BOUNDS;throw new L.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}z("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)},TypeError),z("ERR_OUT_OF_RANGE",function(e,t,r){let n='The value of "'.concat(e,'" is out of range.'),a=r;return Number.isInteger(r)&&Math.abs(r)>2**32?a=U(String(r)):"bigint"===typeof r&&(a=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(a=U(a)),a+="n"),n+=" It must be ".concat(t,". Received ").concat(a),n},RangeError);const K=/[^+/0-9A-Za-z-_]/g;function q(e,t){let r;t=t||1/0;const n=e.length;let a=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&s.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function G(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function Y(e,t,r,n){let a;for(a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}function $(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let a=0;a<16;++a)t[n+a]=e[r]+e[a]}return t}();function Q(e){return"undefined"===typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},6399:(e,t,r)=>{var n=r(5538),a=r(3668),s=r(9987),o=r(5752),i=r(6924),l=r(4052),c=r(4543),d=r(1268),u="[object Arguments]",p="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,f,x,g){var b=l(e),y=l(t),v=b?p:i(e),j=y?p:i(t),w=(v=v==u?h:v)==h,N=(j=j==u?h:j)==h,A=v==j;if(A&&c(e)){if(!c(t))return!1;b=!0,w=!1}if(A&&!w)return g||(g=new n),b||d(e)?a(e,t,r,f,x,g):s(e,t,v,r,f,x,g);if(!(1&r)){var k=w&&m.call(e,"__wrapped__"),C=N&&m.call(t,"__wrapped__");if(k||C){var F=k?e.value():e,S=C?t.value():t;return g||(g=new n),x(F,S,r,f,g)}}return!!A&&(g||(g=new n),o(e,t,r,f,x,g))}},6516:(e,t,r)=>{var n=r(6571);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var s=r.length,o=t?s:-1,i=Object(r);(t?o--:++o<s)&&!1!==a(i[o],o,i););return r}}},6532:(e,t,r)=>{var n=r(5538),a=r(6989);e.exports=function(e,t,r,s){var o=r.length,i=o,l=!s;if(null==e)return!i;for(e=Object(e);o--;){var c=r[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var d=(c=r[o])[0],u=e[d],p=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var h=new n;if(s)var m=s(u,p,d,e,t,h);if(!(void 0===m?a(p,u,3,s,h):m))return!1}}return!0}},6552:(e,t,r)=>{var n=r(7105),a="object"==typeof self&&self&&self.Object===Object&&self,s=n||a||Function("return this")();e.exports=s},6571:(e,t,r)=>{var n=r(1629),a=r(6173);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),s=16-(a-n);if(n=a,s>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},6599:(e,t,r)=>{var n=r(9841);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,s=e===e,o=n(e),i=void 0!==t,l=null===t,c=t===t,d=n(t);if(!l&&!d&&!o&&e>t||o&&i&&c&&!l&&!d||a&&i&&c||!r&&c||!s)return 1;if(!a&&!o&&!d&&e<t||d&&r&&s&&!a&&!o||l&&r&&s||!i&&s||!c)return-1}return 0}},6600:(e,t,r)=>{var n=r(7937)(r(6552),"WeakMap");e.exports=n},6604:(e,t,r)=>{var n=r(3331)();e.exports=n},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,r)=>{var n=r(9742),a=r(61),s=r(3279);e.exports=function(e){return e&&e.length?n(e,s,a):void 0}},6788:(e,t,r)=>{var n=r(7160),a=r(5204),s=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new s(o)}return r.set(e,t),this.size=r.size,this}},6832:(e,t,r)=>{e=r.nmd(e);var n=r(7105),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,o=s&&s.exports===a&&n.process,i=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=i},6874:(e,t,r)=>{var n=r(2622);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},6875:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(3797).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6900:(e,t)=>{t.read=function(e,t,r,n,a){var s,o,i=8*a-n-1,l=(1<<i)-1,c=l>>1,d=-7,u=r?a-1:0,p=r?-1:1,h=e[t+u];for(u+=p,s=h&(1<<-d)-1,h>>=-d,d+=i;d>0;s=256*s+e[t+u],u+=p,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=256*o+e[t+u],u+=p,d-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),s-=c}return(h?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,a,s){var o,i,l,c=8*s-a-1,d=(1<<c)-1,u=d>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:s-1,m=n?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+u>=1?p/l:p*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=d?(i=0,o=d):o+u>=1?(i=(t*l-1)*Math.pow(2,a),o+=u):(i=t*Math.pow(2,u-1)*Math.pow(2,a),o=0));a>=8;e[r+h]=255&i,h+=m,i/=256,a-=8);for(o=o<<a|i,c+=a;c>0;e[r+h]=255&o,h+=m,o/=256,c-=8);e[r+h-m]|=128*f}},6913:(e,t,r)=>{var n=r(9812),a=r(4552),s=r(6095),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):s(e)}},6924:(e,t,r)=>{var n=r(7685),a=r(5204),s=r(5387),o=r(2070),i=r(6600),l=r(6913),c=r(6996),d="[object Map]",u="[object Promise]",p="[object Set]",h="[object WeakMap]",m="[object DataView]",f=c(n),x=c(a),g=c(s),b=c(o),y=c(i),v=l;(n&&v(new n(new ArrayBuffer(1)))!=m||a&&v(new a)!=d||s&&v(s.resolve())!=u||o&&v(new o)!=p||i&&v(new i)!=h)&&(v=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case f:return m;case x:return d;case g:return u;case b:return p;case y:return h}return t}),e.exports=v},6954:(e,t,r)=>{var n=r(1629),a=r(7857),s=r(6686),o=r(6996),i=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||a(e))&&(n(e)?p:i).test(o(e))}},6989:(e,t,r)=>{var n=r(6399),a=r(2761);e.exports=function e(t,r,s,o,i){return t===r||(null==t||null==r||!a(t)&&!a(r)?t!==t&&r!==r:n(t,r,s,o,e,i))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},7002:(e,t,r)=>{var n=r(5295),a=r(4746),s=r(9096),o=r(4052),i=r(929);e.exports=function(e,t,r){var l=o(e)?n:a;return r&&i(e,t,r)&&(t=void 0),l(e,s(t,3))}},7105:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},7116:(e,t,r)=>{var n=r(9812),a=r(2777),s=r(4052),o=n?n.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||a(e)||!!(o&&e&&e[o])}},7159:(e,t,r)=>{var n=r(2622);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,r)=>{var n=r(7563),a=r(9935),s=r(4190),o=r(1946),i=r(1714);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,o=a>>>1;n<o;){var i=2*(n+1)-1,l=e[i],c=i+1,d=e[c];if(0>s(l,r))c<a&&0>s(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[i]=r,n=i);else{if(!(c<a&&0>s(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,p=null,h=3,m=!1,f=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function j(e){if(x=!1,v(e),!f)if(null!==n(c))f=!0,T(w);else{var t=n(d);null!==t&&I(j,t.startTime-e)}}function w(e,r){f=!1,x&&(x=!1,b(C),C=-1),m=!0;var s=h;try{for(v(r),p=n(c);null!==p&&(!(p.expirationTime>r)||e&&!E());){var o=p.callback;if("function"===typeof o){p.callback=null,h=p.priorityLevel;var i=o(p.expirationTime<=r);r=t.unstable_now(),"function"===typeof i?p.callback=i:p===n(c)&&a(c),v(r)}else a(c);p=n(c)}if(null!==p)var l=!0;else{var u=n(d);null!==u&&I(j,u.startTime-r),l=!1}return l}finally{p=null,h=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,A=!1,k=null,C=-1,F=5,S=-1;function E(){return!(t.unstable_now()-S<F)}function P(){if(null!==k){var e=t.unstable_now();S=e;var r=!0;try{r=k(!0,e)}finally{r?N():(A=!1,k=null)}}else A=!1}if("function"===typeof y)N=function(){y(P)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=P,N=function(){O.postMessage(null)}}else N=function(){g(P,0)};function T(e){k=e,A||(A=!0,N())}function I(e,r){C=g(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,T(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,r(d,e),null===n(c)&&e===n(d)&&(x?(b(C),C=-1):x=!0,I(j,s-o))):(e.sortIndex=i,r(c,e),f||m||(f=!0,T(w))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},7251:(e,t,r)=>{var n=r(8724),a=r(7160),s=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(s||a),string:new n}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var i=new a(n,s||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],i]:e._events[l].push(i):(e._events[l]=i,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),i.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},i.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,s=n.length,o=new Array(s);a<s;a++)o[a]=n[a].fn;return o},i.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},i.prototype.emit=function(e,t,n,a,s,o){var i=r?r+e:e;if(!this._events[i])return!1;var l,c,d=this._events[i],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,a),!0;case 5:return d.fn.call(d.context,t,n,a,s),!0;case 6:return d.fn.call(d.context,t,n,a,s,o),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var p,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,a);break;default:if(!l)for(p=1,l=new Array(u-1);p<u;p++)l[p-1]=arguments[p];d[c].fn.apply(d[c].context,l)}}return!0},i.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},i.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},i.prototype.removeListener=function(e,t,n,a){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var i=this._events[s];if(i.fn)i.fn!==t||a&&!i.once||n&&i.context!==n||o(this,s);else{for(var l=0,c=[],d=i.length;l<d;l++)(i[l].fn!==t||a&&!i[l].once||n&&i[l].context!==n)&&c.push(i[l]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=r,i.EventEmitter=i,e.exports=i},7303:(e,t,r)=>{var n=r(801),a=1/0;e.exports=function(e){return e?(e=n(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,r)=>{var n=r(755),a=r(2536),s=r(5647),o=r(929),i=s(function(e,t){if(null==e)return[];var r=t.length;return r>1&&o(e,t[0],t[1])?t=[]:r>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,n(t,1),[])});e.exports=i},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,r)=>{var n=r(5575);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},7676:(e,t,r)=>{var n=r(8189),a=r(6311),s=r(9115),o=r(1069);e.exports=function(e){return function(t){t=o(t);var r=a(t)?s(t):void 0,i=r?r[0]:t.charAt(0),l=r?n(r,1).join(""):t.slice(1);return i[e]()+l}}},7685:(e,t,r)=>{var n=r(7937)(r(6552),"DataView");e.exports=n},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7772:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(3797).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7828:e=>{e.exports=function(){return[]}},7857:(e,t,r)=>{var n=r(3440),a=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,r)=>{var n=r(6954),a=r(4657);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,r)=>{var n=r(2070),a=r(5713),s=r(2074),o=n&&1/s(new n([,-0]))[1]==1/0?function(e){return new n(e)}:a;e.exports=o},8189:(e,t,r)=>{var n=r(3871);e.exports=function(e,t,r){var a=e.length;return r=void 0===r?a:r,!t&&r>=a?e:n(e,t,r)}},8210:function(e,t,r){var n;!function(){"use strict";var a,s=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},i=!0,l="[DecimalError] ",c=l+"Invalid argument: ",d=l+"Exponent out of range: ",u=Math.floor,p=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,f=9007199254740991,x=u(1286742750677284.5),g={};function b(e,t){var r,n,a,s,o,l,c,d,u=e.constructor,p=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),i?S(t,p):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a){for(s<0?(n=c,s=-s,l=d.length):(n=d,a=o,l=c.length),s>(l=(o=Math.ceil(p/7))>l?o+1:l+1)&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for((l=c.length)-(s=d.length)<0&&(s=l,n=d,d=c,c=n),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/m|0,c[s]%=m;for(r&&(c.unshift(r),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,i?S(t,p):t}function y(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function v(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(s+=k(r)),s+=n;(r=7-(n=(o=e[t])+"").length)&&(s+=k(r))}else if(0===o)return"0";for(;o%10===0;)o/=10;return s+o}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,r=(n=s.d.length)<(a=e.d.length)?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},g.dividedBy=g.div=function(e){return j(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return S(j(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return N(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,r=this,n=r.constructor,s=n.precision,o=s+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(i=!1,t=j(C(r,o),C(e,o),o),i=!0,S(t,s))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E(t,e):b(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(i=!1,t=j(r,e,0,1).times(e),i=!0,r.minus(t)):S(new n(r),a)},g.naturalExponential=g.exp=function(){return w(this)},g.naturalLogarithm=g.ln=function(){return C(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b(t,e):E(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},g.squareRoot=g.sqrt=function(){var e,t,r,n,a,s,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(l+"NaN")}for(e=N(c),i=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=v(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),n=new d(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new d(a.toString()),a=o=(r=d.precision)+3;;)if(n=(s=n).plus(j(c,s,o+2)).times(.5),v(s.d).slice(0,o)===(t=v(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(S(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if("9999"!=t)break;o+=4}return i=!0,S(n,r)},g.times=g.mul=function(e){var t,r,n,a,s,o,l,c,d,u=this,p=u.constructor,h=u.d,f=(e=new p(e)).d;if(!u.s||!e.s)return new p(0);for(e.s*=u.s,r=u.e+e.e,(c=h.length)<(d=f.length)&&(s=h,h=f,f=s,o=c,c=d,d=o),s=[],n=o=c+d;n--;)s.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+f[n]*h[a-n-1]+t,s[a--]=l%m|0,t=l/m|0;s[a]=(s[a]+t)%m|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,i?S(e,p.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(y(e,0,s),void 0===t?t=n.rounding:y(t,0,8),S(r,e+N(r)+1,t))},g.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=P(n,!0):(y(e,0,s),void 0===t?t=a.rounding:y(t,0,8),r=P(n=S(new a(n),e+1,t),!0,e+1)),r},g.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?P(a):(y(e,0,s),void 0===t?t=o.rounding:y(t,0,8),r=P((n=S(new o(a),e+N(a)+1,t)).abs(),!1,e+N(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return S(new t(e),N(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,r,n,s,o,c,d=this,p=d.constructor,h=+(e=new p(e));if(!e.s)return new p(a);if(!(d=new p(d)).s){if(e.s<1)throw Error(l+"Infinity");return d}if(d.eq(a))return d;if(n=p.precision,e.eq(a))return S(d,n);if(c=(t=e.e)>=(r=e.d.length-1),o=d.s,c){if((r=h<0?-h:h)<=f){for(s=new p(a),t=Math.ceil(n/7+4),i=!1;r%2&&D((s=s.times(d)).d,t),0!==(r=u(r/2));)D((d=d.times(d)).d,t);return i=!0,e.s<0?new p(a).div(s):S(s,n)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,r)]?-1:1,d.s=1,i=!1,s=e.times(C(d,n+12)),i=!0,(s=w(s)).s=o,s},g.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?n=P(a,(r=N(a))<=o.toExpNeg||r>=o.toExpPos):(y(e,1,s),void 0===t?t=o.rounding:y(t,0,8),n=P(a=S(new o(a),e,t),e<=(r=N(a))||r<=o.toExpNeg,e)),n},g.toSignificantDigits=g.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(y(e,1,s),void 0===t?t=r.rounding:y(t,0,8)),S(new r(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=N(e),r=e.constructor;return P(e,t<=r.toExpNeg||t>=r.toExpPos)};var j=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%m|0,n=r/m|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,s;if(r!=n)s=r>n?1:-1;else for(a=s=0;a<r;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*m+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,s,o){var i,c,d,u,p,h,f,x,g,b,y,v,j,w,A,k,C,F,E=n.constructor,P=n.s==a.s?1:-1,D=n.d,O=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(l+"Division by zero");for(c=n.e-a.e,C=O.length,A=D.length,x=(f=new E(P)).d=[],d=0;O[d]==(D[d]||0);)++d;if(O[d]>(D[d]||0)&&--c,(v=null==s?s=E.precision:o?s+(N(n)-N(a))+1:s)<0)return new E(0);if(v=v/7+2|0,d=0,1==C)for(u=0,O=O[0],v++;(d<A||u)&&v--;d++)j=u*m+(D[d]||0),x[d]=j/O|0,u=j%O|0;else{for((u=m/(O[0]+1)|0)>1&&(O=e(O,u),D=e(D,u),C=O.length,A=D.length),w=C,b=(g=D.slice(0,C)).length;b<C;)g[b++]=0;(F=O.slice()).unshift(0),k=O[0],O[1]>=m/2&&++k;do{u=0,(i=t(O,g,C,b))<0?(y=g[0],C!=b&&(y=y*m+(g[1]||0)),(u=y/k|0)>1?(u>=m&&(u=m-1),1==(i=t(p=e(O,u),g,h=p.length,b=g.length))&&(u--,r(p,C<h?F:O,h))):(0==u&&(i=u=1),p=O.slice()),(h=p.length)<b&&p.unshift(0),r(g,p,b),-1==i&&(i=t(O,g,C,b=g.length))<1&&(u++,r(g,C<b?F:O,b)),b=g.length):0===i&&(u++,g=[0]),x[d++]=u,i&&g[0]?g[b++]=D[w]||0:(g=[D[w]],b=1)}while((w++<A||void 0!==g[0])&&v--)}return x[0]||x.shift(),f.e=c,S(f,o?s+N(f)+1:s)}}();function w(e,t){var r,n,s,o,l,c=0,u=0,h=e.constructor,m=h.precision;if(N(e)>16)throw Error(d+N(e));if(!e.s)return new h(a);for(null==t?(i=!1,l=m):l=t,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(l+=Math.log(p(2,u))/Math.LN10*2+5|0,r=n=s=new h(a),h.precision=l;;){if(n=S(n.times(e),l),r=r.times(++c),v((o=s.plus(j(n,r,l))).d).slice(0,l)===v(s.d).slice(0,l)){for(;u--;)s=S(s.times(s),l);return h.precision=m,null==t?(i=!0,S(s,m)):s}s=o}}function N(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function A(e,t,r){if(t>e.LN10.sd())throw i=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return S(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function C(e,t){var r,n,s,o,c,d,u,p,h,m=1,f=e,x=f.d,g=f.constructor,b=g.precision;if(f.s<1)throw Error(l+(f.s?"NaN":"-Infinity"));if(f.eq(a))return new g(0);if(null==t?(i=!1,p=b):p=t,f.eq(10))return null==t&&(i=!0),A(g,p);if(p+=10,g.precision=p,n=(r=v(x)).charAt(0),o=N(f),!(Math.abs(o)<15e14))return u=A(g,p+2,b).times(o+""),f=C(new g(n+"."+r.slice(1)),p-10).plus(u),g.precision=b,null==t?(i=!0,S(f,b)):f;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=v((f=f.times(e)).d)).charAt(0),m++;for(o=N(f),n>1?(f=new g("0."+r),o++):f=new g(n+"."+r.slice(1)),d=c=f=j(f.minus(a),f.plus(a),p),h=S(f.times(f),p),s=3;;){if(c=S(c.times(h),p),v((u=d.plus(j(c,new g(s),p))).d).slice(0,p)===v(d.d).slice(0,p))return d=d.times(2),0!==o&&(d=d.plus(A(g,p+2,b).times(o+""))),d=j(d,new g(m),p),g.precision=b,null==t?(i=!0,S(d,b)):d;d=u,s+=2}}function F(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=u(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),i&&(e.e>x||e.e<-x))throw Error(d+r)}else e.s=0,e.e=0,e.d=[0];return e}function S(e,t,r){var n,a,s,o,l,c,h,f,g=e.d;for(o=1,s=g[0];s>=10;s/=10)o++;if((n=t-o)<0)n+=7,a=t,h=g[f=0];else{if((f=Math.ceil((n+1)/7))>=(s=g.length))return e;for(h=s=g[f],o=1;s>=10;s/=10)o++;a=(n%=7)-7+o}if(void 0!==r&&(l=h/(s=p(10,o-a-1))%10|0,c=t<0||void 0!==g[f+1]||h%s,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?a>0?h/p(10,o-a):0:g[f-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return c?(s=N(e),g.length=1,t=t-s-1,g[0]=p(10,(7-t%7)%7),e.e=u(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==n?(g.length=f,s=1,f--):(g.length=f+1,s=p(10,7-n),g[f]=a>0?(h/p(10,o-a)%p(10,a)|0)*s:0),c)for(;;){if(0==f){(g[0]+=s)==m&&(g[0]=1,++e.e);break}if(g[f]+=s,g[f]!=m)break;g[f--]=0,s=1}for(n=g.length;0===g[--n];)g.pop();if(i&&(e.e>x||e.e<-x))throw Error(d+N(e));return e}function E(e,t){var r,n,a,s,o,l,c,d,u,p,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),i?S(t,f):t;if(c=e.d,p=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n){for((u=o<0)?(r=c,o=-o,l=p.length):(r=p,n=d,l=c.length),o>(a=Math.max(Math.ceil(f/7),l)+2)&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for((u=(a=c.length)<(l=p.length))&&(l=a),a=0;a<l;a++)if(c[a]!=p[a]){u=c[a]<p[a];break}o=0}for(u&&(r=c,c=p,p=r,t.s=-t.s),l=c.length,a=p.length-l;a>0;--a)c[l++]=0;for(a=p.length;a>o;){if(c[--a]<p[a]){for(s=a;s&&0===c[--s];)c[s]=m-1;--c[s],c[a]+=m}c[a]-=p[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,i?S(t,f):t):new h(0)}function P(e,t,r){var n,a=N(e),s=v(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+k(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+k(-a-1)+s,r&&(n=r-o)>0&&(s+=k(n))):a>=o?(s+=k(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+k(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=k(n))),e.s<0?"-"+s:s}function D(e,t){if(e.length>t)return e.length=t,!0}function O(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,a=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(u(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}o=function e(t){var r,n,a;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):F(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!h.test(e))throw Error(c+e);F(t,e)}if(s.prototype=g,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=O,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return s.config(t),s}(o),o.default=o.Decimal=o,a=new o(1),void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},8259:(e,t,r)=>{var n=r(5797);e.exports=function(e){var t=n(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}},8325:(e,t,r)=>{var n=r(2541),a=r(5654),s=r(3279),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:s;e.exports=o},8468:(e,t,r)=>{var n=r(5816),a=r(644),s=r(4020);e.exports=function(e,t,r){return t===t?s(e,t,r):n(e,a,r)}},8541:(e,t,r)=>{var n=r(9812),a=r(149),s=r(4052),o=r(9841),i=n?n.prototype:void 0,l=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},8587:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}r.d(t,{A:()=>n})},8673:(e,t,r)=>{var n=r(3204),a=r(3713),s=r(6571);e.exports=function(e){return s(e)?n(e):a(e)}},8724:(e,t,r)=>{var n=r(7615),a=r(5051),s=r(2154),o=r(8734),i=r(2662);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},8734:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},8883:(e,t,r)=>{var n=r(5652),a=r(6571);e.exports=function(e,t){var r=-1,s=a(e)?Array(e.length):[];return n(e,function(e,n,a){s[++r]=t(e,n,a)}),s}},8895:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},8902:(e,t,r)=>{var n=r(4816),a=r(6179),s=r(6704);function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=s,e.exports=o},8990:(e,t,r)=>{var n=r(9995)(r(2520));e.exports=n},9057:(e,t,r)=>{var n=r(5324),a=r(2777),s=r(4052),o=r(9194),i=r(6173),l=r(914);e.exports=function(e,t,r){for(var c=-1,d=(t=n(t,e)).length,u=!1;++c<d;){var p=l(t[c]);if(!(u=null!=e&&r(e,p)))break;e=e[p]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&i(d)&&o(p,d)&&(s(e)||a(e))}},9062:(e,t,r)=>{"use strict";e.exports=r(6378)},9096:(e,t,r)=>{var n=r(9256),a=r(5029),s=r(3279),o=r(4052),i=r(3932);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?o(e)?a(e[0],e[1]):n(e):i(e)}},9115:(e,t,r)=>{var n=r(5967),a=r(6311),s=r(715);e.exports=function(e){return a(e)?s(e):n(e)}},9140:(e,t,r)=>{var n=r(7303);e.exports=function(e){var t=n(e),r=t%1;return t===t?r?t-r:t:0}},9160:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==n(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},9256:(e,t,r)=>{var n=r(6532),a=r(3781),s=r(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},9364:(e,t,r)=>{var n=r(9742),a=r(9096),s=r(61);e.exports=function(e,t){return e&&e.length?n(e,a(t,2),s):void 0}},9379:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(4467);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},9394:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).has(e)}},9395:(e,t,r)=>{var n=r(4262),a=r(9621),s=r(8673);e.exports=function(e){return n(e,s,a)}},9417:(e,t,r)=>{var n=r(6686);e.exports=function(e){return e===e&&!n(e)}},9621:(e,t,r)=>{var n=r(7529),a=r(7828),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(e){return null==e?[]:(e=Object(e),n(o(e),function(t){return s.call(e,t)}))}:a;e.exports=i},9676:e=>{var t=Math.ceil,r=Math.max;e.exports=function(e,n,a,s){for(var o=-1,i=r(t((n-e)/(a||1)),0),l=Array(i);i--;)l[s?i:++o]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,r)=>{var n=r(9841);e.exports=function(e,t,r){for(var a=-1,s=e.length;++a<s;){var o=e[a],i=t(o);if(null!=i&&(void 0===l?i===i&&!n(i):r(i,l)))var l=i,c=o}return c}},9812:(e,t,r)=>{var n=r(6552).Symbol;e.exports=n},9841:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},9853:(e,t,r)=>{var n=r(6989);e.exports=function(e,t){return n(e,t)}},9889:(e,t,r)=>{var n=r(3950),a=r(6686);e.exports=function(e,t,r){var s=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(s="leading"in r?!!r.leading:s,o="trailing"in r?!!r.trailing:o),n(e,t,{leading:s,maxWait:t,trailing:o})}},9935:(e,t,r)=>{var n=r(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},9987:(e,t,r)=>{var n=r(9812),a=r(2929),s=r(3211),o=r(3668),i=r(4160),l=r(2074),c=n?n.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,u,p){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=i;case"[object Set]":var m=1&n;if(h||(h=l),e.size!=t.size&&!m)return!1;var f=p.get(e);if(f)return f==t;n|=2,p.set(e,t);var x=o(h(e),h(t),n,c,u,p);return p.delete(e),x;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},9995:(e,t,r)=>{var n=r(9096),a=r(6571),s=r(8673);e.exports=function(e){return function(t,r,o){var i=Object(t);if(!a(t)){var l=n(r,3);t=s(t),r=function(e){return l(i[e],e,i)}}var c=e(t,r,o);return c>-1?i[l?t[c]:c]:void 0}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&n;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>o[e]=()=>n[e]);return o.default=()=>n,r.d(s,o),s}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Rt,hasStandardBrowserEnv:()=>Bt,hasStandardBrowserWebWorkerEnv:()=>zt});var t={};r.r(t),r.d(t,{scaleBand:()=>bh,scaleDiverging:()=>Jb,scaleDivergingLog:()=>Xb,scaleDivergingPow:()=>Zb,scaleDivergingSqrt:()=>ey,scaleDivergingSymlog:()=>Qb,scaleIdentity:()=>Hf,scaleImplicit:()=>xh,scaleLinear:()=>Vf,scaleLog:()=>Zf,scaleOrdinal:()=>gh,scalePoint:()=>vh,scalePow:()=>lx,scaleQuantile:()=>vx,scaleQuantize:()=>jx,scaleRadial:()=>ux,scaleSequential:()=>Vb,scaleSequentialLog:()=>Hb,scaleSequentialPow:()=>qb,scaleSequentialQuantile:()=>Yb,scaleSequentialSqrt:()=>Gb,scaleSequentialSymlog:()=>Kb,scaleSqrt:()=>cx,scaleSymlog:()=>nx,scaleThreshold:()=>wx,scaleTime:()=>Lb,scaleUtc:()=>zb,tickFormat:()=>Uf});var n,a=r(5043),s=r.t(a,2),o=r(4391),i=r(7950),l=r.t(i,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const d="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function p(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Pr){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,r,n){return void 0===r&&(r=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function x(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,t,r,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:o=!1}=a,i=s.history,l=n.Pop,p=null,x=g();function g(){return(i.state||{idx:null}).idx}function b(){l=n.Pop;let e=g(),t=null==e?null:e-x;x=e,p&&p({action:l,location:v.location,delta:t})}function y(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:f(e);return r=r.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==x&&(x=0,i.replaceState(c({},i.state,{idx:x}),""));let v={get action(){return l},get location(){return e(s,i)},listen(e){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(d,b),p=e,()=>{s.removeEventListener(d,b),p=null}},createHref:e=>t(s,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=n.Push;let a=m(v.location,e,t);r&&r(a,e),x=g()+1;let c=h(a,x),d=v.createHref(a);try{i.pushState(c,"",d)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(d)}o&&p&&p({action:l,location:v.location,delta:1})},replace:function(e,t){l=n.Replace;let a=m(v.location,e,t);r&&r(a,e),x=g();let s=h(a,x),c=v.createHref(a);i.replaceState(s,"",c),o&&p&&p({action:l,location:v.location,delta:0})},go:e=>i.go(e)};return v}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,r){return void 0===r&&(r="/"),v(e,t,r,!1)}function v(e,t,r,n){let a=I(("string"===typeof t?x(t):t).pathname||"/",r);if(null==a)return null;let s=j(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let i=0;null==o&&i<s.length;++i){let e=T(a);o=D(s[i],e,n)}return o}function j(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let i=L([n,o.relativePath]),l=r.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),j(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:P(i,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of w(e.path))a(e,t,n);else a(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let o=w(n.join("/")),i=[];return i.push(...o.map(e=>""===e?s:[s,e].join("/"))),a&&i.push(...o),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,A=3,k=2,C=1,F=10,S=-2,E=e=>"*"===e;function P(e,t){let r=e.split("/"),n=r.length;return r.some(E)&&(n+=S),t&&(n+=k),r.filter(e=>!E(e)).reduce((e,t)=>e+(N.test(t)?A:""===t?C:F),n)}function D(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},s="/",o=[];for(let i=0;i<n.length;++i){let e=n[i],l=i===n.length-1,c="/"===s?t:t.slice(s.length)||"/",d=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:L([s,d.pathname]),pathnameBase:z(L([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=L([s,d.pathnameBase]))}return o}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);p("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),i=a.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=i[r]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return p(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function M(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function _(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t){let r=_(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function B(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=x(e):(a=c({},e),u(!a.pathname||!a.pathname.includes("?"),M("?","pathname","search",a)),u(!a.pathname||!a.pathname.includes("#"),M("#","pathname","hash",a)),u(!a.search||!a.search.includes("#"),M("#","search","hash",a)));let s,o=""===e||""===a.pathname,i=o?"/":a.pathname;if(null==i)s=r;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"===typeof e?x(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:U(n),hash:W(a)}}(a,s),d=i&&"/"!==i&&i.endsWith("/"),p=(o||"."===i)&&r.endsWith("/");return l.pathname.endsWith("/")||!d&&!p||(l.pathname+="/"),l}const L=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],K=(new Set(H),["get",...H]);new Set(K),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}const G=a.createContext(null);const Y=a.createContext(null);const $=a.createContext(null);const J=a.createContext(null);const X=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=a.createContext(null);function Z(){return null!=a.useContext(J)}function ee(){return Z()||u(!1),a.useContext(J).location}function te(e){a.useContext($).static||a.useLayoutEffect(e)}function re(){let{isDataRoute:e}=a.useContext(X);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=fe(pe.UseNavigateStable),r=a.useRef(!1);te(()=>{r.current=!0});let n=a.useCallback(function(n,a){void 0===a&&(a={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,q({fromRouteId:t},a)))},[e,t]);return n}():function(){Z()||u(!1);let e=a.useContext(G),{basename:t,future:r,navigator:n}=a.useContext($),{matches:s}=a.useContext(X),{pathname:o}=ee(),i=JSON.stringify(R(s,r.v7_relativeSplatPath)),l=a.useRef(!1);te(()=>{l.current=!0});let c=a.useCallback(function(r,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof r)return void n.go(r);let s=B(r,JSON.parse(i),o,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:L([t,s.pathname])),(a.replace?n.replace:n.push)(s,a.state,a)},[t,n,i,o,e]);return c}()}function ne(){let{matches:e}=a.useContext(X),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=a.useContext($),{matches:s}=a.useContext(X),{pathname:o}=ee(),i=JSON.stringify(R(s,n.v7_relativeSplatPath));return a.useMemo(()=>B(e,JSON.parse(i),o,"path"===r),[e,i,o,r])}function se(e,t,r,s){Z()||u(!1);let{navigator:o}=a.useContext($),{matches:i}=a.useContext(X),l=i[i.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let p,h=ee();if(t){var m;let e="string"===typeof t?x(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||u(!1),p=e}else p=h;let f=p.pathname||"/",g=f;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:g});let v=de(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:L([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:L([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,r,s);return t&&v?a.createElement(J.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:n.Pop}},v):v}function oe(){let e=function(){var e;let t=a.useContext(Q),r=me(pe.UseRouteError),n=fe(pe.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:s},r):null,null)}const ie=a.createElement(oe,null);class le extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(X.Provider,{value:this.props.routeContext},a.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:r,children:n}=e,s=a.useContext(G);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(X.Provider,{value:t},n)}function de(e,t,r,n){var s;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=n)&&o.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let i=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=i.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||u(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let a=0;a<i.length;a++){let e=i[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=a),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){c=!0,i=d>=0?i.slice(0,d+1):[i[0]];break}}}return i.reduceRight((e,n,s)=>{let o,u=!1,p=null,h=null;var m;r&&(o=l&&n.route.id?l[n.route.id]:void 0,p=n.route.errorElement||ie,c&&(d<0&&0===s?(m="route-fallback",!1||xe[m]||(xe[m]=!0),u=!0,h=null):d===s&&(u=!0,h=n.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,s+1)),x=()=>{let t;return t=o?p:u?h:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(ce,{match:n,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===s)?a.createElement(le,{location:r.location,revalidation:r.revalidation,component:p,error:o,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function he(e){let t=a.useContext(G);return t||u(!1),t}function me(e){let t=a.useContext(Y);return t||u(!1),t}function fe(e){let t=function(){let e=a.useContext(X);return e||u(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||u(!1),r.route.id}const xe={};s.startTransition;function ge(e){let{to:t,replace:r,state:n,relative:s}=e;Z()||u(!1);let{future:o,static:i}=a.useContext($),{matches:l}=a.useContext(X),{pathname:c}=ee(),d=re(),p=B(t,R(l,o.v7_relativeSplatPath),c,"path"===s),h=JSON.stringify(p);return a.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:s}),[d,h,s,r,n]),null}function be(e){u(!1)}function ye(e){let{basename:t="/",children:r=null,location:s,navigationType:o=n.Pop,navigator:i,static:l=!1,future:c}=e;Z()&&u(!1);let d=t.replace(/^\/*/,"/"),p=a.useMemo(()=>({basename:d,navigator:i,static:l,future:q({v7_relativeSplatPath:!1},c)}),[d,c,i,l]);"string"===typeof s&&(s=x(s));let{pathname:h="/",search:m="",hash:f="",state:g=null,key:b="default"}=s,y=a.useMemo(()=>{let e=I(h,d);return null==e?null:{location:{pathname:e,search:m,hash:f,state:g,key:b},navigationType:o}},[d,h,m,f,g,b,o]);return null==y?null:a.createElement($.Provider,{value:p},a.createElement(J.Provider,{children:r,value:y}))}function ve(e){let{children:t,location:r}=e;return se(je(t),r)}new Promise(()=>{});a.Component;function je(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,(e,n)=>{if(!a.isValidElement(e))return;let s=[...t,n];if(e.type===a.Fragment)return void r.push.apply(r,je(e.props.children,s));e.type!==be&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=je(e.props.children,s)),r.push(o)}),r}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},we.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ke=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Pr){}const Ce=a.createContext({isTransitioning:!1});new Map;const Fe=s.startTransition;l.flushSync,s.useId;function Se(e){let{basename:t,children:r,future:n,window:s}=e,o=a.useRef();var i;null==o.current&&(o.current=(void 0===(i={window:s,v5Compat:!0})&&(i={}),g(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return m("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,i)));let l=o.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},p=a.useCallback(e=>{u&&Fe?Fe(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>l.listen(p),[l,p]),a.createElement(ye,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=a.forwardRef(function(e,t){let r,{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:p,unstable_viewTransition:h}=e,m=Ne(e,Ae),{basename:x}=a.useContext($),g=!1;if("string"===typeof d&&Pe.test(d)&&(r=d,Ee))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=I(t.pathname,x);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:g=!0}catch(Pr){}let b=function(e,t){let{relative:r}=void 0===t?{}:t;Z()||u(!1);let{basename:n,navigator:s}=a.useContext($),{hash:o,pathname:i,search:l}=ae(e,{relative:r}),c=i;return"/"!==n&&(c="/"===i?n:L([n,i])),s.createHref({pathname:c,search:l,hash:o})}(d,{relative:s}),y=function(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,unstable_viewTransition:l}=void 0===t?{}:t,c=re(),d=ee(),u=ae(e,{relative:i});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:f(d)===f(u);c(e,{replace:r,state:s,preventScrollReset:o,relative:i,unstable_viewTransition:l})}},[d,c,u,n,s,r,e,o,i,l])}(d,{replace:i,state:l,target:c,preventScrollReset:p,relative:s,unstable_viewTransition:h});return a.createElement("a",we({},m,{href:r||b,onClick:g||o?n:function(e){n&&n(e),e.defaultPrevented||y(e)},ref:t,target:c}))});const Oe=a.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:s="",end:o=!1,style:i,to:l,unstable_viewTransition:c,children:d}=e,p=Ne(e,ke),h=ae(l,{relative:p.relative}),m=ee(),f=a.useContext(Y),{navigator:x,basename:g}=a.useContext($),b=null!=f&&function(e,t){void 0===t&&(t={});let r=a.useContext(Ce);null==r&&u(!1);let{basename:n}=Me(Te.useViewTransitionState),s=ae(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=I(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=I(r.nextLocation.pathname,n)||r.nextLocation.pathname;return null!=O(s.pathname,i)||null!=O(s.pathname,o)}(h)&&!0===c,y=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,v=m.pathname,j=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(v=v.toLowerCase(),j=j?j.toLowerCase():null,y=y.toLowerCase()),j&&g&&(j=I(j,g)||j);const w="/"!==y&&y.endsWith("/")?y.length-1:y.length;let N,A=v===y||!o&&v.startsWith(y)&&"/"===v.charAt(w),k=null!=j&&(j===y||!o&&j.startsWith(y)&&"/"===j.charAt(y.length)),C={isActive:A,isPending:k,isTransitioning:b},F=A?r:void 0;N="function"===typeof s?s(C):[s,A?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let S="function"===typeof i?i(C):i;return a.createElement(De,we({},p,{"aria-current":F,className:N,ref:t,style:S,to:l,unstable_viewTransition:c}),"function"===typeof d?d(C):d)});var Te,Ie;function Me(e){let t=a.useContext(G);return t||u(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));function _e(e,t){return function(){return e.apply(t,arguments)}}const{toString:Re}=Object.prototype,{getPrototypeOf:Be}=Object,Le=(ze=Object.create(null),e=>{const t=Re.call(e);return ze[t]||(ze[t]=t.slice(8,-1).toLowerCase())});var ze;const Ue=e=>(e=e.toLowerCase(),t=>Le(t)===e),We=e=>t=>typeof t===e,{isArray:Ve}=Array,He=We("undefined");const Ke=Ue("ArrayBuffer");const qe=We("string"),Ge=We("function"),Ye=We("number"),$e=e=>null!==e&&"object"===typeof e,Je=e=>{if("object"!==Le(e))return!1;const t=Be(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xe=Ue("Date"),Qe=Ue("File"),Ze=Ue("Blob"),et=Ue("FileList"),tt=Ue("URLSearchParams");function rt(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ve(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=a?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let o;for(r=0;r<s;r++)o=n[r],t.call(null,e[o],o,e)}}function nt(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const at="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,st=e=>!He(e)&&e!==at;const ot=(it="undefined"!==typeof Uint8Array&&Be(Uint8Array),e=>it&&e instanceof it);var it;const lt=Ue("HTMLFormElement"),ct=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),dt=Ue("RegExp"),ut=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};rt(r,(r,a)=>{let s;!1!==(s=t(r,a,e))&&(n[a]=s||r)}),Object.defineProperties(e,n)},pt="abcdefghijklmnopqrstuvwxyz",ht="0123456789",mt={DIGIT:ht,ALPHA:pt,ALPHA_DIGIT:pt+pt.toUpperCase()+ht};const ft=Ue("AsyncFunction"),xt={isArray:Ve,isArrayBuffer:Ke,isBuffer:function(e){return null!==e&&!He(e)&&null!==e.constructor&&!He(e.constructor)&&Ge(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ge(e.append)&&("formdata"===(t=Le(e))||"object"===t&&Ge(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ke(e.buffer),t},isString:qe,isNumber:Ye,isBoolean:e=>!0===e||!1===e,isObject:$e,isPlainObject:Je,isUndefined:He,isDate:Xe,isFile:Qe,isBlob:Ze,isRegExp:dt,isFunction:Ge,isStream:e=>$e(e)&&Ge(e.pipe),isURLSearchParams:tt,isTypedArray:ot,isFileList:et,forEach:rt,merge:function e(){const{caseless:t}=st(this)&&this||{},r={},n=(n,a)=>{const s=t&&nt(r,a)||a;Je(r[s])&&Je(n)?r[s]=e(r[s],n):Je(n)?r[s]=e({},n):Ve(n)?r[s]=n.slice():r[s]=n};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&rt(arguments[a],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return rt(t,(t,n)=>{r&&Ge(t)?e[n]=_e(t,r):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,s,o;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],n&&!n(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==r&&Be(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Le,kindOfTest:Ue,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Ve(e))return e;let t=e.length;if(!Ye(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:lt,hasOwnProperty:ct,hasOwnProp:ct,reduceDescriptors:ut,freezeMethods:e=>{ut(e,(t,r)=>{if(Ge(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Ge(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach(e=>{r[e]=!0})};return Ve(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:nt,global:at,isContextDefined:st,ALPHABET:mt,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt.ALPHA_DIGIT,r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&Ge(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if($e(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const a=Ve(e)?[]:{};return rt(e,(e,t)=>{const s=r(e,n+1);!He(s)&&(a[t]=s)}),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:ft,isThenable:e=>e&&($e(e)||Ge(e))&&Ge(e.then)&&Ge(e.catch)};function gt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a)}xt.inherits(gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const bt=gt.prototype,yt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yt[e]={value:e}}),Object.defineProperties(gt,yt),Object.defineProperty(bt,"isAxiosError",{value:!0}),gt.from=(e,t,r,n,a,s)=>{const o=Object.create(bt);return xt.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),gt.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const vt=gt;var jt=r(6382).hp;function wt(e){return xt.isPlainObject(e)||xt.isArray(e)}function Nt(e){return xt.endsWith(e,"[]")?e.slice(0,-2):e}function At(e,t,r){return e?e.concat(t).map(function(e,t){return e=Nt(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const kt=xt.toFlatObject(xt,{},null,function(e){return/^is[A-Z]/.test(e)});const Ct=function(e,t,r){if(!xt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=xt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!xt.isUndefined(t[e])})).metaTokens,a=r.visitor||c,s=r.dots,o=r.indexes,i=(r.Blob||"undefined"!==typeof Blob&&Blob)&&xt.isSpecCompliantForm(t);if(!xt.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(xt.isDate(e))return e.toISOString();if(!i&&xt.isBlob(e))throw new vt("Blob is not supported. Use a Buffer instead.");return xt.isArrayBuffer(e)||xt.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):jt.from(e):e}function c(e,r,a){let i=e;if(e&&!a&&"object"===typeof e)if(xt.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(xt.isArray(e)&&function(e){return xt.isArray(e)&&!e.some(wt)}(e)||(xt.isFileList(e)||xt.endsWith(r,"[]"))&&(i=xt.toArray(e)))return r=Nt(r),i.forEach(function(e,n){!xt.isUndefined(e)&&null!==e&&t.append(!0===o?At([r],n,s):null===o?r:r+"[]",l(e))}),!1;return!!wt(e)||(t.append(At(a,r,s),l(e)),!1)}const d=[],u=Object.assign(kt,{defaultVisitor:c,convertValue:l,isVisitable:wt});if(!xt.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!xt.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),xt.forEach(r,function(r,s){!0===(!(xt.isUndefined(r)||null===r)&&a.call(t,r,xt.isString(s)?s.trim():s,n,u))&&e(r,n?n.concat(s):[s])}),d.pop()}}(e),t};function Ft(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function St(e,t){this._pairs=[],e&&Ct(e,this,t)}const Et=St.prototype;Et.append=function(e,t){this._pairs.push([e,t])},Et.toString=function(e){const t=e?function(t){return e.call(this,t,Ft)}:Ft;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Pt=St;function Dt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ot(e,t,r){if(!t)return e;const n=r&&r.encode||Dt,a=r&&r.serialize;let s;if(s=a?a(t,r):xt.isURLSearchParams(t)?t.toString():new Pt(t,r).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Tt=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){xt.forEach(this.handlers,function(t){null!==t&&e(t)})}},It={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var Mt=r(9379);const _t={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Pt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Rt="undefined"!==typeof window&&"undefined"!==typeof document,Bt=(Lt="undefined"!==typeof navigator&&navigator.product,Rt&&["ReactNative","NativeScript","NS"].indexOf(Lt)<0);var Lt;const zt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ut=(0,Mt.A)((0,Mt.A)({},e),_t);const Wt=function(e){function t(e,r,n,a){let s=e[a++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),i=a>=e.length;if(s=!s&&xt.isArray(n)?n.length:s,i)return xt.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!o;n[s]&&xt.isObject(n[s])||(n[s]=[]);return t(e,r,n[s],a)&&xt.isArray(n[s])&&(n[s]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}(n[s])),!o}if(xt.isFormData(e)&&xt.isFunction(e.entries)){const r={};return xt.forEachEntry(e,(e,n)=>{t(function(e){return xt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,r,0)}),r}return null};const Vt={transitional:It,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=xt.isObject(e);a&&xt.isHTMLForm(e)&&(e=new FormData(e));if(xt.isFormData(e))return n?JSON.stringify(Wt(e)):e;if(xt.isArrayBuffer(e)||xt.isBuffer(e)||xt.isStream(e)||xt.isFile(e)||xt.isBlob(e))return e;if(xt.isArrayBufferView(e))return e.buffer;if(xt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ct(e,new Ut.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Ut.isNode&&xt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=xt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ct(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(xt.isString(e))try{return(t||JSON.parse)(e),xt.trim(e)}catch(Pr){if("SyntaxError"!==Pr.name)throw Pr}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Vt.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&xt.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(Pr){if(r){if("SyntaxError"===Pr.name)throw vt.from(Pr,vt.ERR_BAD_RESPONSE,this,null,this.response);throw Pr}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ut.classes.FormData,Blob:Ut.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xt.forEach(["delete","get","head","post","put","patch"],e=>{Vt.headers[e]={}});const Ht=Vt,Kt=xt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qt=Symbol("internals");function Gt(e){return e&&String(e).trim().toLowerCase()}function Yt(e){return!1===e||null==e?e:xt.isArray(e)?e.map(Yt):String(e)}function $t(e,t,r,n,a){return xt.isFunction(n)?n.call(this,t,r):(a&&(t=r),xt.isString(t)?xt.isString(n)?-1!==t.indexOf(n):xt.isRegExp(n)?n.test(t):void 0:void 0)}class Jt{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=Gt(t);if(!a)throw new Error("header name must be a non-empty string");const s=xt.findKey(n,a);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=Yt(e))}const s=(e,t)=>xt.forEach(e,(e,r)=>a(e,r,t));return xt.isPlainObject(e)||e instanceof this.constructor?s(e,t):xt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&Kt[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t})(e),t):null!=e&&a(t,e,r),this}get(e,t){if(e=Gt(e)){const r=xt.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(xt.isFunction(t))return t.call(this,e,r);if(xt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Gt(e)){const r=xt.findKey(this,e);return!(!r||void 0===this[r]||t&&!$t(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=Gt(e)){const a=xt.findKey(r,e);!a||t&&!$t(0,r[a],a,t)||(delete r[a],n=!0)}}return xt.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!$t(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return xt.forEach(this,(n,a)=>{const s=xt.findKey(r,a);if(s)return t[s]=Yt(n),void delete t[a];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(a):String(a).trim();o!==a&&delete t[a],t[o]=Yt(n),r[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return xt.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&xt.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[qt]=this[qt]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=Gt(e);t[n]||(!function(e,t){const r=xt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})})}(r,e),t[n]=!0)}return xt.isArray(e)?e.forEach(n):n(e),this}}Jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),xt.reduceDescriptors(Jt.prototype,(e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}}),xt.freezeMethods(Jt);const Xt=Jt;function Qt(e,t){const r=this||Ht,n=t||r,a=Xt.from(n.headers);let s=n.data;return xt.forEach(e,function(e){s=e.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function Zt(e){return!(!e||!e.__CANCEL__)}function er(e,t,r){vt.call(this,null==e?"canceled":e,vt.ERR_CANCELED,t,r),this.name="CanceledError"}xt.inherits(er,vt,{__CANCEL__:!0});const tr=er;const rr=Ut.hasStandardBrowserEnv?{write(e,t,r,n,a,s){const o=[e+"="+encodeURIComponent(t)];xt.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),xt.isString(n)&&o.push("path="+n),xt.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function nr(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ar=Ut.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function n(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(e){const t=xt.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0};const sr=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,s=0,o=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=n[o];a||(a=l),r[s]=i,n[s]=l;let d=o,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-a<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}};function or(e,t){let r=0;const n=sr(50,250);return a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,i=s-r,l=n(i);r=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:i,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:a};c[t?"download":"upload"]=!0,e(c)}}const ir="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){let n=e.data;const a=Xt.from(e.headers).normalize();let s,o,{responseType:i,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(xt.isFormData(n))if(Ut.hasStandardBrowserEnv||Ut.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if(!1!==(o=a.getContentType())){const[e,...t]=o?o.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}let d=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",r=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(t+":"+r))}const u=nr(e.baseURL,e.url);function p(){if(!d)return;const n=Xt.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders());!function(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new vt("Request failed with status code "+r.status,[vt.ERR_BAD_REQUEST,vt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}(function(e){t(e),c()},function(e){r(e),c()},{data:i&&"text"!==i&&"json"!==i?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d}),d=null}if(d.open(e.method.toUpperCase(),Ot(u,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,"onloadend"in d?d.onloadend=p:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(p)},d.onabort=function(){d&&(r(new vt("Request aborted",vt.ECONNABORTED,e,d)),d=null)},d.onerror=function(){r(new vt("Network Error",vt.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||It;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new vt(t,n.clarifyTimeoutError?vt.ETIMEDOUT:vt.ECONNABORTED,e,d)),d=null},Ut.hasStandardBrowserEnv&&(l&&xt.isFunction(l)&&(l=l(e)),l||!1!==l&&ar(u))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&rr.read(e.xsrfCookieName);t&&a.set(e.xsrfHeaderName,t)}void 0===n&&a.setContentType(null),"setRequestHeader"in d&&xt.forEach(a.toJSON(),function(e,t){d.setRequestHeader(t,e)}),xt.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),i&&"json"!==i&&(d.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",or(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",or(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{d&&(r(!t||t.type?new tr(null,e,d):t),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(u);h&&-1===Ut.protocols.indexOf(h)?r(new vt("Unsupported protocol "+h+":",vt.ERR_BAD_REQUEST,e)):d.send(n||null)})},lr={http:null,xhr:ir};xt.forEach(lr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Pr){}Object.defineProperty(e,"adapterName",{value:t})}});const cr=e=>"- ".concat(e),dr=e=>xt.isFunction(e)||null===e||!1===e,ur=e=>{e=xt.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let s=0;s<t;s++){let t;if(r=e[s],n=r,!dr(r)&&(n=lr[(t=String(r)).toLowerCase()],void 0===n))throw new vt("Unknown adapter '".concat(t,"'"));if(n)break;a[t||"#"+s]=n}if(!n){const e=Object.entries(a).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let r=t?e.length>1?"since :\n"+e.map(cr).join("\n"):" "+cr(e[0]):"as no adapter specified";throw new vt("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function pr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new tr(null,e)}function hr(e){pr(e),e.headers=Xt.from(e.headers),e.data=Qt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ur(e.adapter||Ht.adapter)(e).then(function(t){return pr(e),t.data=Qt.call(e,e.transformResponse,t),t.headers=Xt.from(t.headers),t},function(t){return Zt(t)||(pr(e),t&&t.response&&(t.response.data=Qt.call(e,e.transformResponse,t.response),t.response.headers=Xt.from(t.response.headers))),Promise.reject(t)})}const mr=e=>e instanceof Xt?(0,Mt.A)({},e):e;function fr(e,t){t=t||{};const r={};function n(e,t,r){return xt.isPlainObject(e)&&xt.isPlainObject(t)?xt.merge.call({caseless:r},e,t):xt.isPlainObject(t)?xt.merge({},t):xt.isArray(t)?t.slice():t}function a(e,t,r){return xt.isUndefined(t)?xt.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function s(e,t){if(!xt.isUndefined(t))return n(void 0,t)}function o(e,t){return xt.isUndefined(t)?xt.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function i(r,a,s){return s in t?n(r,a):s in e?n(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t)=>a(mr(e),mr(t),!0)};return xt.forEach(Object.keys(Object.assign({},e,t)),function(n){const s=l[n]||a,o=s(e[n],t[n],n);xt.isUndefined(o)&&s!==i||(r[n]=o)}),r}const xr="1.6.8",gr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const br={};gr.transitional=function(e,t,r){function n(e,t){return"[Axios v1.6.8] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,s)=>{if(!1===e)throw new vt(n(a," has been removed"+(t?" in "+t:"")),vt.ERR_DEPRECATED);return t&&!br[a]&&(br[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,s)}};const yr={assertOptions:function(e,t,r){if("object"!==typeof e)throw new vt("options must be an object",vt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const t=e[s],r=void 0===t||o(t,s,e);if(!0!==r)throw new vt("option "+s+" must be "+r,vt.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new vt("Unknown option "+s,vt.ERR_BAD_OPTION)}},validators:gr},vr=yr.validators;class jr{constructor(e){this.defaults=e,this.interceptors={request:new Tt,response:new Tt}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=fr(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&yr.assertOptions(r,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),null!=n&&(xt.isFunction(n)?t.paramsSerializer={serialize:n}:yr.assertOptions(n,{encode:vr.function,serialize:vr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&xt.merge(a.common,a[t.method]);a&&xt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Xt.concat(s,a);const o=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[hr.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=o.length;let p=t;for(u=0;u<d;){const e=o[u++],t=o[u++];try{p=e(p)}catch(h){t.call(this,h);break}}try{c=hr.call(this,p)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Ot(nr((e=fr(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}xt.forEach(["delete","get","head","options"],function(e){jr.prototype[e]=function(t,r){return this.request(fr(r||{},{method:e,url:t,data:(r||{}).data}))}}),xt.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,a){return this.request(fr(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}jr.prototype[e]=t(),jr.prototype[e+"Form"]=t(!0)});const wr=jr;class Nr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,a){r.reason||(r.reason=new tr(e,n,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new Nr(function(t){e=t});return{token:t,cancel:e}}}const Ar=Nr;const kr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kr).forEach(e=>{let[t,r]=e;kr[r]=t});const Cr=kr;const Fr=function e(t){const r=new wr(t),n=_e(wr.prototype.request,r);return xt.extend(n,wr.prototype,r,{allOwnKeys:!0}),xt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(fr(t,r))},n}(Ht);Fr.Axios=wr,Fr.CanceledError=tr,Fr.CancelToken=Ar,Fr.isCancel=Zt,Fr.VERSION=xr,Fr.toFormData=Ct,Fr.AxiosError=vt,Fr.Cancel=Fr.CanceledError,Fr.all=function(e){return Promise.all(e)},Fr.spread=function(e){return function(t){return e.apply(null,t)}},Fr.isAxiosError=function(e){return xt.isObject(e)&&!0===e.isAxiosError},Fr.mergeConfig=fr,Fr.AxiosHeaders=Xt,Fr.formToJSON=e=>Wt(xt.isHTMLForm(e)?new FormData(e):e),Fr.getAdapter=ur,Fr.HttpStatusCode=Cr,Fr.default=Fr;const Sr=Fr;function Er(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let Pr={data:""},Dr=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Pr,Or=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Tr=/\/\*[^]*?\*\/|  +/g,Ir=/\n+/g,Mr=(e,t)=>{let r="",n="",a="";for(let s in e){let o=e[s];"@"==s[0]?"i"==s[1]?r=s+" "+o+";":n+="f"==s[1]?Mr(o,s):s+"{"+Mr(o,"k"==s[1]?"":t)+"}":"object"==typeof o?n+=Mr(o,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Mr.p?Mr.p(s,o):s+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+n},_r={},Rr=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+Rr(e[r]);return t}return e},Br=(e,t,r,n,a)=>{let s=Rr(e),o=_r[s]||(_r[s]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(s));if(!_r[o]){let t=s!==e?e:(e=>{let t,r,n=[{}];for(;t=Or.exec(e.replace(Tr,""));)t[4]?n.shift():t[3]?(r=t[3].replace(Ir," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(Ir," ").trim();return n[0]})(e);_r[o]=Mr(a?{["@keyframes "+o]:t}:t,r?"":"."+o)}let i=r&&_r.g?_r.g:null;return r&&(_r.g=_r[o]),((e,t,r,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(_r[o],t,n,i),o};function Lr(e){let t=this||{},r=e.call?e(t.p):e;return Br(r.unshift?r.raw?((e,t,r)=>e.reduce((e,n,a)=>{let s=t[a];if(s&&s.call){let e=s(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":Mr(e,""):!1===e?"":e}return e+n+(null==s?"":s)},""))(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,Dr(t.target),t.g,t.o,t.k)}Lr.bind({g:1});let zr,Ur,Wr,Vr=Lr.bind({k:1});function Hr(e,t){let r=this||{};return function(){let n=arguments;function a(s,o){let i=Object.assign({},s),l=i.className||a.className;r.p=Object.assign({theme:Ur&&Ur()},i),r.o=/ *go\d+/.test(l),i.className=Lr.apply(r,n)+(l?" "+l:""),t&&(i.ref=o);let c=e;return e[0]&&(c=i.as||e,delete i.as),Wr&&c[0]&&Wr(i),zr(c,i)}return t?t(a):a}}var Kr,qr,Gr,Yr,$r,Jr,Xr,Qr,Zr,en,tn,rn,nn,an,sn,on,ln=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,cn=(()=>{let e=0;return()=>(++e).toString()})(),dn=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),un="default",pn=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return(0,Mt.A)((0,Mt.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,r)});case 1:return(0,Mt.A)((0,Mt.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,Mt.A)((0,Mt.A)({},e),t.toast):e)});case 2:let{toast:n}=t;return pn(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return(0,Mt.A)((0,Mt.A)({},e),{},{toasts:e.toasts.map(e=>e.id===a||void 0===a?(0,Mt.A)((0,Mt.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,Mt.A)((0,Mt.A)({},e),{},{toasts:[]}):(0,Mt.A)((0,Mt.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,Mt.A)((0,Mt.A)({},e),{},{pausedAt:t.time});case 6:let s=t.time-(e.pausedAt||0);return(0,Mt.A)((0,Mt.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,Mt.A)((0,Mt.A)({},e),{},{pauseDuration:e.pauseDuration+s}))})}},hn=[],mn={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},fn={},xn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:un;fn[t]=pn(fn[t]||mn,e),hn.forEach(e=>{let[r,n]=e;r===t&&n(fn[t])})},gn=e=>Object.keys(fn).forEach(t=>xn(e,t)),bn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un;return t=>{xn(t,e)}},yn=e=>(t,r)=>{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return(0,Mt.A)((0,Mt.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{},{id:(null==r?void 0:r.id)||cn()})}(t,e,r);return bn(n.toasterId||(e=>Object.keys(fn).find(t=>fn[t].toasts.some(t=>t.id===e)))(n.id))({type:2,toast:n}),n.id},vn=(e,t)=>yn("blank")(e,t);vn.error=yn("error"),vn.success=yn("success"),vn.loading=yn("loading"),vn.custom=yn("custom"),vn.dismiss=(e,t)=>{let r={type:3,toastId:e};t?bn(t)(r):gn(r)},vn.dismissAll=e=>vn.dismiss(void 0,e),vn.remove=(e,t)=>{let r={type:4,toastId:e};t?bn(t)(r):gn(r)},vn.removeAll=e=>vn.remove(void 0,e),vn.promise=(e,t,r)=>{let n=vn.loading(t.loading,(0,Mt.A)((0,Mt.A)({},r),null==r?void 0:r.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?ln(t.success,e):void 0;return a?vn.success(a,(0,Mt.A)((0,Mt.A)({id:n},r),null==r?void 0:r.success)):vn.dismiss(n),e}).catch(e=>{let a=t.error?ln(t.error,e):void 0;a?vn.error(a,(0,Mt.A)((0,Mt.A)({id:n},r),null==r?void 0:r.error)):vn.dismiss(n)}),e};var jn=Vr(Kr||(Kr=Er(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),wn=Vr(qr||(qr=Er(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Nn=Vr(Gr||(Gr=Er(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),An=Hr("div")(Yr||(Yr=Er(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",jn,wn,e=>e.secondary||"#fff",Nn),kn=Vr($r||($r=Er(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Cn=Hr("div")(Jr||(Jr=Er(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",kn),Fn=Vr(Xr||(Xr=Er(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Sn=Vr(Qr||(Qr=Er(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),En=Hr("div")(Zr||(Zr=Er(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Fn,Sn,e=>e.secondary||"#fff"),Pn=Hr("div")(en||(en=Er(["\n  position: absolute;\n"]))),Dn=Hr("div")(tn||(tn=Er(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),On=Vr(rn||(rn=Er(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Tn=Hr("div")(nn||(nn=Er(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),On),In=e=>{let{toast:t}=e,{icon:r,type:n,iconTheme:s}=t;return void 0!==r?"string"==typeof r?a.createElement(Tn,null,r):r:"blank"===n?null:a.createElement(Dn,null,a.createElement(Cn,(0,Mt.A)({},s)),"loading"!==n&&a.createElement(Pn,null,"error"===n?a.createElement(An,(0,Mt.A)({},s)):a.createElement(En,(0,Mt.A)({},s))))},Mn=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),_n=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Rn=Hr("div")(an||(an=Er(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Bn=Hr("div")(sn||(sn=Er(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"])));a.memo(e=>{let{toast:t,position:r,style:n,children:s}=e,o=t.height?((e,t)=>{let r=e.includes("top")?1:-1,[n,a]=dn()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Mn(r),_n(r)];return{animation:t?"".concat(Vr(n)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Vr(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||r||"top-center",t.visible):{opacity:0},i=a.createElement(In,{toast:t}),l=a.createElement(Bn,(0,Mt.A)({},t.ariaProps),ln(t.message,t));return a.createElement(Rn,{className:t.className,style:(0,Mt.A)((0,Mt.A)((0,Mt.A)({},o),n),t.style)},"function"==typeof s?s({icon:i,message:l}):a.createElement(a.Fragment,null,i,l))});!function(e,t,r,n){Mr.p=t,zr=e,Ur=r,Wr=n}(a.createElement);Lr(on||(on=Er(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"])));var Ln=vn;const zn=(()=>{const e=window.location.hostname;return"nusantaragroup.co"===e||e.includes("nusantaragroup")?(console.log("\ud83c\udf10 Production mode - using https://nusantaragroup.co/api"),"https://nusantaragroup.co/api"):(console.log("\ud83d\udd27 Using ENV API URL:","/api"),"/api")})(),Un=(()=>{const e=window.location.hostname;return"nusantaragroup.co"===e||e.includes("nusantaragroup")?"https://nusantaragroup.co":"http://localhost:5000"})(),Wn=e=>e?e.startsWith("http")?e:"".concat(Un).concat(e):"";console.log("\ud83d\udcca Config:",{API_URL:zn,BASE_URL:Un,hostname:window.location.hostname});var Vn=r(579);const Hn=(0,a.createContext)(),Kn=()=>{const e=(0,a.useContext)(Hn);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},qn=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{const e=localStorage.getItem("token");if("mock-development-token"===e)return localStorage.removeItem("token"),delete Sr.defaults.headers.common.Authorization,void o(!1);e?(Sr.defaults.headers.common.Authorization="Bearer ".concat(e),(async()=>{try{const e="".concat(zn,"/auth/me"),t=await Sr.get(e);if(!t.data.success||!t.data.user)throw new Error("Invalid response structure");n(t.data.user)}catch(e){console.error("Token verification failed:",e),e.response&&(401===e.response.status?console.log("Token expired or invalid, clearing auth state"):e.response.status>=500&&console.error("Server error during token verification:",e.response.status)),i()}finally{o(!1)}})()):o(!1)},[]);const i=()=>{localStorage.removeItem("token"),delete Sr.defaults.headers.common.Authorization,n(null),Ln.success("Logout berhasil!")},l={user:r,login:async e=>{try{o(!0);const t="".concat(zn,"/auth/login");console.log("\ud83d\udd17 Login URL:",t),console.log("\ud83c\udf10 Current hostname:",window.location.hostname);const r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));const a=await r.json();if(a.success){const{token:e,user:t}=a;return localStorage.setItem("token",e),Sr.defaults.headers.common.Authorization="Bearer ".concat(e),n(t),Ln.success("Login berhasil!"),{success:!0}}throw new Error(a.error||"Login gagal")}catch(t){console.error("Login error:",t);let e="Login gagal";return"TypeError"===t.name&&t.message.includes("fetch")?e="Koneksi ke server bermasalah. Periksa koneksi jaringan.":t.message.includes("401")?e="Username atau password salah":t.message.includes("429")?e="Terlalu banyak percobaan login. Coba lagi nanti":t.message&&(e=t.message),Ln.error(e),{success:!1,error:e}}finally{o(!1)}},logout:i,loading:s,isAuthenticated:!!r,token:localStorage.getItem("token")};return(0,Vn.jsx)(Hn.Provider,{value:l,children:t})},Gn=(0,a.createContext)(),Yn=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;if(e){const t="dark"===e;n(t),s(t)}else t?(n(!0),s(!0)):(n(!1),s(!1))},[]);const s=e=>{const t=document.documentElement;e?(t.classList.add("dark"),document.body.style.backgroundColor="#0f172a",document.body.style.color="#f1f5f9"):(t.classList.remove("dark"),document.body.style.backgroundColor="#f8fafc",document.body.style.color="#0f172a")};(0,a.useEffect)(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{localStorage.getItem("theme")||(n(e.matches),s(e.matches))};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]);const o={isDarkMode:r,toggleTheme:()=>{const e=!r;n(e),s(e),localStorage.setItem("theme",e?"dark":"light")},theme:r?"dark":"light"};return(0,Vn.jsx)(Gn.Provider,{value:o,children:t})},$n=(0,a.memo)(e=>{let{size:t="md",text:r="Loading..."}=e;return(0,Vn.jsxs)("div",{className:"flex flex-col items-center justify-center p-4",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full border-2 border-gray-300 border-t-blue-600 ".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[t])}),r&&(0,Vn.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:r})]})});$n.displayName="LoadingSpinner";const Jn=$n,Xn=e=>{let{children:t,roles:r=[]}=e;const{user:n,loading:a}=Kn(),s=ee();return a?(0,Vn.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Vn.jsx)(Jn,{size:"large"})}):n?r.length>0&&!r.includes(n.role)?(0,Vn.jsx)(ge,{to:"/dashboard",replace:!0}):t:(0,Vn.jsx)(ge,{to:"/login",state:{from:s},replace:!0})};var Qn=r(3797);const Zn=(0,Qn.A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ea=(0,Qn.A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),ta=(0,Qn.A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),ra=(0,Qn.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var na=r(3666);const aa=(0,Qn.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),sa=(0,Qn.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),oa=(0,Qn.A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var ia=r(1024);const la=(0,Qn.A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ca=(0,Qn.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),da=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(0),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),c=(0,a.useRef)(null),d=re();(0,a.useEffect)(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&o(!1)};return s&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[s]),(0,a.useEffect)(()=>{u();const e=setInterval(u,3e4);return()=>clearInterval(e)},[]);const u=async()=>{try{const e=localStorage.getItem("token");if(!e)return;const r=await fetch("".concat(zn,"/notifications?limit=10&unreadOnly=false"),{headers:{Authorization:"Bearer ".concat(e)}});if(r.ok){const e=await r.json();e.success&&e.data&&(t(e.data.notifications||[]),n(e.data.unreadCount||0))}}catch(e){console.error("Error loading notifications:",e)}},p=e=>{const t=new Date,r=new Date(e),n=t-r,a=Math.floor(n/6e4),s=Math.floor(n/36e5),o=Math.floor(n/864e5);return a<1?"Just now":a<60?"".concat(a,"m ago"):s<24?"".concat(s,"h ago"):o<7?"".concat(o,"d ago"):r.toLocaleDateString()};return(0,Vn.jsxs)("div",{className:"relative",ref:c,children:[(0,Vn.jsxs)("button",{onClick:()=>o(!s),className:"relative p-2 text-[#8E8E93] hover:text-white hover:bg-[#3A3A3C] rounded-lg transition-colors",title:"Notifications",children:[(0,Vn.jsx)(oa,{size:20}),r>0&&(0,Vn.jsx)("span",{className:"absolute top-1 right-1 w-5 h-5 bg-[#FF3B30] text-white text-xs font-semibold rounded-full flex items-center justify-center",children:r>9?"9+":r})]}),s&&(0,Vn.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-[#1C1C1E] border border-[#3A3A3C] rounded-lg shadow-2xl z-50 max-h-[600px] overflow-hidden",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-[#3A3A3C]",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-white font-semibold",children:"Notifications"}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:r>0?"".concat(r," unread"):"All caught up!"})]}),e.length>0&&(0,Vn.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("token");(await fetch("".concat(zn,"/notifications/read-all"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(e)}})).ok&&(t(e=>e.map(e=>(0,Mt.A)((0,Mt.A)({},e),{},{status:"read"}))),n(0))}catch(e){console.error("Error marking all as read:",e)}},className:"text-xs text-[#0A84FF] hover:text-[#409CFF] transition-colors flex items-center space-x-1",children:[(0,Vn.jsx)(ia.A,{size:14}),(0,Vn.jsx)("span",{children:"Mark all read"})]})]}),(0,Vn.jsx)("div",{className:"overflow-y-auto max-h-[500px]",children:0===e.length?(0,Vn.jsxs)("div",{className:"p-8 text-center",children:[(0,Vn.jsx)(oa,{size:48,className:"mx-auto text-[#3A3A3C] mb-3"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"No notifications yet"}),(0,Vn.jsx)("p",{className:"text-xs text-[#636366] mt-1",children:"You'll see updates here when you have notifications"})]}):(0,Vn.jsx)("div",{className:"divide-y divide-[#2C2C2E]",children:e.map(e=>{return(0,Vn.jsx)("div",{className:"p-4 hover:bg-[#2C2C2E] transition-colors ".concat("pending"===e.status?"bg-[#1C1C1E]":"bg-[#1C1C1E] opacity-75"),children:(0,Vn.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vn.jsx)("div",{className:"text-2xl flex-shrink-0",children:(r=e.notificationType,{approval_request:"\ud83d\udcdd",approved:"\u2705",rejected:"\u274c",escalation:"\u26a0\ufe0f",completed:"\ud83c\udf89",system:"\ud83d\udd14"}[r]||"\ud83d\udcec")}),(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:e.subject}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mt-1 line-clamp-2",children:e.message}),(0,Vn.jsx)("p",{className:"text-xs text-[#636366] mt-2",children:p(e.createdAt)})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 ml-2",children:["pending"===e.status&&(0,Vn.jsx)("button",{onClick:()=>(async e=>{try{const r=localStorage.getItem("token");(await fetch("".concat(zn,"/notifications/").concat(e,"/read"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(r)}})).ok&&(t(t=>t.map(t=>t.id===e?(0,Mt.A)((0,Mt.A)({},t),{},{status:"read"}):t)),n(e=>Math.max(0,e-1)))}catch(r){console.error("Error marking notification as read:",r)}})(e.id),className:"p-1 text-[#0A84FF] hover:bg-[#3A3A3C] rounded transition-colors",title:"Mark as read",children:(0,Vn.jsx)(la,{size:14})}),(0,Vn.jsx)("button",{onClick:()=>(async e=>{try{const r=localStorage.getItem("token");(await fetch("".concat(zn,"/notifications/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r)}})).ok&&(t(t=>t.filter(t=>t.id!==e)),u())}catch(r){console.error("Error deleting notification:",r)}})(e.id),className:"p-1 text-[#8E8E93] hover:text-[#FF3B30] hover:bg-[#3A3A3C] rounded transition-colors",title:"Delete",children:(0,Vn.jsx)(ca,{size:14})})]})]}),"pending"===e.status&&(0,Vn.jsx)("span",{className:"inline-block mt-2 px-2 py-0.5 text-xs font-medium bg-[#0A84FF] text-white rounded",children:"New"})]})]})},e.id);var r})})}),e.length>0&&(0,Vn.jsx)("div",{className:"border-t border-[#3A3A3C] p-3",children:(0,Vn.jsx)("button",{onClick:()=>{o(!1),d("/notifications")},className:"w-full text-center text-sm text-[#0A84FF] hover:text-[#409CFF] transition-colors",children:"View All Notifications"})})]})]})},ua=e=>{var t,r;let{onMenuClick:n}=e;const{user:s,logout:o}=Kn(),{isDarkMode:i,toggleTheme:l}=(()=>{const e=(0,a.useContext)(Gn);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e})(),c=re(),[d,u]=(0,a.useState)(!1),p=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return(0,Vn.jsx)("header",{className:"sticky top-0 z-30 bg-[#1C1C1E] backdrop-blur-xl border-b border-[#38383A] shadow-lg",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 lg:px-6",children:[(0,Vn.jsx)("div",{className:"flex items-center space-x-4",children:(0,Vn.jsx)("button",{onClick:n,className:"p-2 rounded-lg text-[#98989D] hover:text-white hover:bg-[#2C2C2E] transition-colors duration-150 lg:hidden focus:outline-none focus:ring-2 focus:ring-[#0A84FF]","aria-label":"Toggle menu",children:(0,Vn.jsx)(Zn,{size:20})})}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)("button",{onClick:l,className:"p-2 rounded-lg text-[#98989D] hover:text-white hover:bg-[#2C2C2E] transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]","aria-label":"Toggle theme",children:i?(0,Vn.jsx)(ea,{size:18}):(0,Vn.jsx)(ta,{size:18})}),(0,Vn.jsx)(da,{}),(0,Vn.jsxs)("div",{className:"relative",ref:p,children:[(0,Vn.jsxs)("button",{onClick:()=>u(!d),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-[#2C2C2E] transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]","aria-label":"User menu",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-[#636366] to-[#48484A] rounded-full flex items-center justify-center shadow-lg",children:(0,Vn.jsx)(ra,{size:16,className:"text-white"})}),(0,Vn.jsx)("div",{className:"hidden sm:block text-left",children:(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:(null===s||void 0===s||null===(t=s.profile)||void 0===t?void 0:t.fullName)||"Admin User"})}),(0,Vn.jsx)(na.A,{size:16,className:"text-[#636366]"})]}),d&&(0,Vn.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-[#2C2C2E] rounded-xl shadow-xl border border-[#38383A] py-2 z-50",children:[(0,Vn.jsxs)("div",{className:"px-4 py-3 border-b border-[#38383A]",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:(null===s||void 0===s||null===(r=s.profile)||void 0===r?void 0:r.fullName)||"Admin User"}),(0,Vn.jsx)("p",{className:"text-xs text-[#98989D]",children:"System Administrator"})]}),(0,Vn.jsxs)("button",{onClick:()=>{u(!1),c("/settings/profile")},className:"w-full flex items-center px-4 py-2.5 text-sm text-[#98989D] hover:text-white hover:bg-[#3A3A3C] transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)(ra,{size:16,className:"mr-3"}),"Profile"]}),(0,Vn.jsxs)("button",{onClick:()=>{u(!1),c("/settings")},className:"w-full flex items-center px-4 py-2.5 text-sm text-[#98989D] hover:text-white hover:bg-[#3A3A3C] transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)(aa,{size:16,className:"mr-3"}),"Pengaturan"]}),(0,Vn.jsx)("hr",{className:"my-2 border-[#38383A]"}),(0,Vn.jsxs)("button",{onClick:()=>{u(!1),o(),c("/login")},className:"w-full flex items-center px-4 py-2.5 text-sm text-[#FF453A] hover:bg-[#FF453A]/10 transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#FF453A]",children:[(0,Vn.jsx)(sa,{size:16,className:"mr-3"}),"Keluar"]})]})]})]})]})})},pa=(0,Qn.A)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),ha=(0,Qn.A)("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),ma=(0,Qn.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),fa=(0,Qn.A)("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]),xa=(0,Qn.A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ga=(0,Qn.A)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),ba=(0,Qn.A)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ya=(0,Qn.A)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),va=(0,Qn.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var ja=r(1172);const wa=e=>{let{isOpen:t,onClose:r}=e;const n=ee(),[s,o]=(0,a.useState)(["projects"]),i=[{id:"dashboard",label:"Dashboard",icon:pa,path:"/dashboard"},{id:"projects",label:"Manajemen Proyek",icon:ha,path:"/projects"},{id:"manpower",label:"SDM",icon:ma,path:"/manpower"},{id:"assets",label:"Asset Management",icon:fa,path:"/assets"},{id:"finance",label:"Keuangan",icon:xa,path:"/finance"},{id:"subsidiaries",label:"Perusahaan",icon:ga,path:"/subsidiaries"},{id:"reports",label:"Laporan",icon:ba,path:"/analytics"},{id:"operations",label:"Operations",icon:ya,path:"/operations"},{id:"settings",label:"Pengaturan",icon:aa,path:"/settings"}],l=e=>n.pathname===e||n.pathname.startsWith(e+"/"),c=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=e.icon,i=l(e.path),d=e.hasSubmenu&&e.submenu,u=(p=e.id,s.includes(p));var p;const h=n>0?"ml-6":"";return(0,Vn.jsx)("li",{className:h,children:d?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsxs)("button",{onClick:()=>(e=>{o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e.id),className:"w-full flex items-center justify-between space-x-3 px-4 py-3 rounded-lg transition-colors duration-150 group focus:outline-none focus:ring-2 focus:ring-[#0A84FF] ".concat(i||null!==(t=e.submenu)&&void 0!==t&&t.some(e=>l(e.path))?"bg-[#0A84FF]/20 text-[#0A84FF] border border-[#0A84FF]/30":"text-[#98989D] hover:text-white hover:bg-[#2C2C2E]"),children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)(a,{size:20,className:i?"text-[#0A84FF]":"text-[#636366] group-hover:text-white"}),(0,Vn.jsx)("span",{className:"font-medium",children:e.label})]}),u?(0,Vn.jsx)(na.A,{size:16,className:"text-[#636366]"}):(0,Vn.jsx)(va,{size:16,className:"text-[#636366]"})]}),u&&(0,Vn.jsx)("ul",{className:"mt-2 space-y-1",children:e.submenu.map(e=>c(e,n+1))})]}):(0,Vn.jsxs)(Oe,{to:e.path,onClick:r,className:e=>{let{isActive:t}=e;return"flex items-center space-x-3 px-4 py-2.5 rounded-lg transition-colors duration-150 group focus:outline-none focus:ring-2 focus:ring-[#0A84FF] ".concat(n>0?"text-sm":""," ").concat(t?"bg-[#0A84FF]/20 text-[#0A84FF] border border-[#0A84FF]/30":"text-[#98989D] hover:text-white hover:bg-[#2C2C2E]")},children:[(0,Vn.jsx)(a,{size:n>0?16:20,className:i?"text-[#0A84FF]":"text-[#636366] group-hover:text-white"}),(0,Vn.jsx)("span",{className:"font-medium",children:e.label})]})},e.id)};return(0,Vn.jsx)(Vn.Fragment,{children:(0,Vn.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-[#1C1C1E] border-r border-[#38383A] transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ".concat(t?"translate-x-0":"-translate-x-full"),children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-[#0A84FF] to-[#5E5CE6] rounded-lg flex items-center justify-center shadow-lg",children:(0,Vn.jsx)("span",{className:"text-white text-sm font-bold",children:"NG"})}),(0,Vn.jsx)("span",{className:"text-white font-semibold text-lg",children:"Nusantara Group"})]}),(0,Vn.jsx)("button",{onClick:r,className:"p-2 rounded-lg text-[#98989D] hover:text-white hover:bg-[#2C2C2E] transition-colors duration-150 lg:hidden focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:(0,Vn.jsx)(ja.A,{size:20})})]}),(0,Vn.jsx)("nav",{className:"flex-1 px-4 py-6 overflow-y-auto",children:(0,Vn.jsx)("ul",{className:"space-y-2",children:i.map(e=>c(e))})}),(0,Vn.jsx)("div",{className:"p-4 border-t border-[#38383A]",children:(0,Vn.jsx)("div",{className:"px-4 py-2 rounded-lg bg-[#2C2C2E]",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("p",{className:"text-xs text-[#98989D]",children:"Version 2.1.0"}),(0,Vn.jsx)("p",{className:"text-xs text-[#636366]",children:"\xa9 2025 Nusantara Group"})]})})})]})})},Na=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(!1),s=()=>{n(!1)};return(0,Vn.jsxs)("div",{className:"flex h-screen bg-[#1C1C1E]",children:[(0,Vn.jsx)(wa,{isOpen:r,onClose:s}),(0,Vn.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Vn.jsx)(ua,{onMenuClick:()=>{n(!r)}}),(0,Vn.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-[#1C1C1E] p-6",children:t})]}),r&&(0,Vn.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden transition-opacity duration-200",onClick:s})]})},Aa=(0,Qn.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ka=(0,Qn.A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Ca=(0,Qn.A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Fa=()=>{const[e,t]=(0,a.useState)({username:"admin",password:"admin123"}),[r,n]=(0,a.useState)(!1),{login:s,user:o}=Kn(),i=re();(0,a.useEffect)(()=>{o&&i("/admin")},[o,i]);const l=r=>{t((0,Mt.A)((0,Mt.A)({},e),{},{[r.target.name]:r.target.value}))};return(0,Vn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,Vn.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Vn.jsx)("div",{className:"text-center",children:(0,Vn.jsxs)(De,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium mb-4",children:[(0,Vn.jsx)(Aa,{size:16,className:"mr-1"}),"Kembali ke Beranda"]})}),(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"mx-auto h-16 w-16 bg-blue-600 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(ka,{size:32,className:"text-white"})}),(0,Vn.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Portal Admin"}),(0,Vn.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Masuk ke sistem administrasi NUSANTARA GROUP"})]}),(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,Vn.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{t.preventDefault(),n(!0);try{const t=await s(e);null!==t&&void 0!==t&&t.success&&i("/admin")}finally{n(!1)}},children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username atau Email"}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Vn.jsx)(ra,{size:20,className:"text-gray-400"})}),(0,Vn.jsx)("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"form-input pl-10",placeholder:"Masukkan username atau email",value:e.username,onChange:l})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Vn.jsx)(Ca,{size:20,className:"text-gray-400"})}),(0,Vn.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"form-input pl-10",placeholder:"Masukkan password",value:e.password,onChange:l})]})]}),(0,Vn.jsx)("button",{type:"submit",disabled:r,className:"w-full btn-primary ".concat(r?"opacity-50 cursor-not-allowed":""),children:r?"Sedang Login...":"Login"})]}),(0,Vn.jsxs)("div",{className:"mt-8 border-t border-gray-200 pt-6",children:[(0,Vn.jsxs)("div",{className:"mb-4",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"\ufffd Credentials Ujicoba - Production Database"}),(0,Vn.jsx)("p",{className:"text-xs text-gray-600",children:"Updated: 13 Sep 2025 | Default: admin/admin123"})]}),(0,Vn.jsx)("div",{className:"space-y-3",children:[{username:"admin",password:"admin123",role:"Super Administrator",info:"Production User - AKTIF",name:"Administrator"},{username:"lisatanasyassnmdes",password:"admin123",role:"Manager Operasional",info:"Production User - AKTIF",name:"Lisa Tanasya"},{username:"sintadewisemm",password:"admin123",role:"Staff Keuangan",info:"Production User - AKTIF",name:"Sinta Dewi"}].map((e,a)=>(0,Vn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Vn.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Vn.jsxs)("div",{className:"text-xs text-gray-500",children:[e.role," \u2022 ",e.username]}),(0,Vn.jsx)("div",{className:"text-xs text-green-600 font-medium",children:e.info})]})}),(0,Vn.jsxs)("div",{className:"flex gap-2",children:[(0,Vn.jsx)("button",{onClick:()=>{return r=e.username,n=e.password,void t({username:r,password:n});var r,n},className:"flex-1 text-xs bg-blue-100 text-blue-700 px-3 py-2 rounded hover:bg-blue-200 transition-colors",children:"\ud83d\udcdd Isi Form"}),(0,Vn.jsx)("button",{onClick:()=>(async(e,r)=>{t({username:e,password:r}),n(!0);try{const t=await s({username:e,password:r});null!==t&&void 0!==t&&t.success&&i("/admin")}finally{n(!1)}})(e.username,e.password),disabled:r,className:"flex-1 text-xs bg-green-100 text-green-700 px-3 py-2 rounded hover:bg-green-200 transition-colors ".concat(r?"opacity-50 cursor-not-allowed":""),children:"\u26a1 Login Langsung"})]})]},a))}),(0,Vn.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[(0,Vn.jsx)("p",{className:"text-xs text-blue-700 font-medium",children:'\ud83d\udca1 Tips: Gunakan "Login Langsung" untuk masuk tanpa mengetik!'}),(0,Vn.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"\ufffd Semua akun menggunakan password: admin123"})]})]})]}),(0,Vn.jsx)("div",{className:"text-center text-sm text-gray-500",children:"\xa9 2024 NUSANTARA GROUP. All rights reserved."})]})})},Sa=(0,Qn.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var Ea=r(917);const Pa={animation:{testimonialRotationInterval:5e3,counterAnimationDuration:2e3,scrollBehavior:"smooth",defaultTransition:"transition-all duration-300"},layout:{heroHeight:"min-h-screen",sectionPadding:"py-20",containerMaxWidth:"max-w-7xl",gridBreakpoints:{mobile:"grid-cols-1",tablet:"md:grid-cols-2",desktop:"lg:grid-cols-3"}},socialMedia:{linkedin:"#",instagram:"#",email:"info@nusantaragroup.co.id",phone:"+62 267 123456"},contact:{address:"Jl. Raya Karawang No. 123, Karawang Barat, Kab. Karawang",phone:"+62 267 123456",email:"info@nusantaragroup.co.id",workingHours:"Senin - Jumat: 08:00 - 17:00 WIB"},navigation:[{href:"#home",label:"Beranda"},{href:"#about",label:"Tentang"},{href:"#services",label:"Layanan"},{href:"#projects",label:"Proyek"},{href:"#contact",label:"Kontak"}],ctaButtons:{primary:{text:"Konsultasi Gratis",href:"#contact",className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white"},secondary:{text:"Lihat Portofolio",href:"#projects",className:"bg-white/90 backdrop-blur-sm border-2 border-gray-200 text-gray-700"}}},Da=["LPSE Karawang","KADIN Karawang","ISO 9001:2015","SMK3 Certified"],Oa=e=>{let{isMenuOpen:t,toggleMenu:r,activeSection:n="home",onNavigate:a,className:s=""}=e;const{navigation:o}=Pa;return(0,Vn.jsx)("nav",{className:"fixed top-0 w-full bg-white/95 backdrop-blur-lg shadow-lg z-50 ".concat(s),role:"navigation","aria-label":"Primary",children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,Vn.jsx)("div",{className:"flex-shrink-0",children:(0,Vn.jsxs)(De,{to:"/",className:"flex items-center",children:[(0,Vn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-3 rounded-xl",children:(0,Vn.jsx)("span",{className:"font-bold text-xl",children:"NG"})}),(0,Vn.jsxs)("div",{className:"ml-3",children:[(0,Vn.jsx)("div",{className:"text-xl font-bold text-gray-900",children:"Nusantara Group"}),(0,Vn.jsx)("div",{className:"text-sm text-gray-600",children:"Building Excellence"})]})]})}),(0,Vn.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[o.map(e=>(0,Vn.jsx)(Ta,{href:e.href,label:e.label,isActive:n===e.href.replace("#",""),onClick:()=>a&&a(e.href.replace("#",""))},e.href)),(0,Vn.jsx)(Ia,{})]}),(0,Vn.jsx)("div",{className:"md:hidden",children:(0,Vn.jsx)("button",{onClick:r,className:"text-gray-700 hover:text-blue-600 p-2 rounded-xl hover:bg-gray-100 transition-all duration-300",children:t?(0,Vn.jsx)(ja.A,{size:28}):(0,Vn.jsx)(Zn,{size:28})})})]}),t&&(0,Vn.jsx)(Ma,{navigation:o,activeSection:n,onClose:r,onNavigate:a})]})})},Ta=e=>{let{href:t,label:r,isActive:n,onClick:a}=e;return(0,Vn.jsxs)("a",{href:t,className:"font-semibold transition-colors duration-300 relative group ".concat(n?"text-blue-600":"text-gray-700 hover:text-blue-600"),"aria-current":n?"page":void 0,onClick:a,children:[r,(0,Vn.jsx)("span",{className:"absolute -bottom-1 left-0 h-0.5 bg-blue-600 transition-all duration-300 ".concat(n?"w-full":"w-0 group-hover:w-full")})]})},Ia=()=>{const{ctaButtons:e}=Pa;return(0,Vn.jsx)(De,{to:"/login",className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl hover:scale-105 transform",children:"Login"})},Ma=e=>{let{navigation:t,activeSection:r,onClose:n,onNavigate:a}=e;return(0,Vn.jsx)("div",{className:"md:hidden bg-white/95 backdrop-blur-lg border-t border-gray-100",children:(0,Vn.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[t.map(e=>(0,Vn.jsx)("a",{href:e.href,className:"block px-4 py-3 rounded-xl transition-all duration-300 font-semibold ".concat(r===e.href.replace("#","")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-blue-50"),onClick:t=>{n(),a&&a(e.href.replace("#",""))},children:e.label},e.href)),(0,Vn.jsx)("div",{className:"px-4 py-2",children:(0,Vn.jsx)(De,{to:"/login",className:"block w-full text-center bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 font-semibold",onClick:n,children:"Login"})})]})})},_a=(0,Qn.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Ra=(0,Qn.A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Ba=(0,Qn.A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),La=(0,Qn.A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),za=(0,Qn.A)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Ua=(0,Qn.A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Wa=(0,Qn.A)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Va=(0,Qn.A)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ha=[{number:"75+",label:"Proyek Selesai",icon:ka,description:"Proyek infrastruktur dan konstruksi",color:"from-blue-400 to-blue-600"},{number:"15+",label:"Tahun Pengalaman",icon:Sa,description:"Melayani pembangunan infrastruktur",color:"from-green-400 to-green-600"},{number:"100%",label:"Tingkat Kepuasan",icon:Ba,description:"Klien yang memberikan rating 5 bintang",color:"from-purple-400 to-purple-600"},{number:"A+",label:"Rating Kualitas",icon:La,description:"Standar mutu dan keselamatan kerja",color:"from-orange-400 to-orange-600"}],Ka=[{title:"Konstruksi Sipil",description:"Pembangunan infrastruktur jalan, jembatan, dan fasilitas umum dengan teknologi modern dan standar internasional",icon:ka,projects:["Jalan Raya & Highways","Jembatan & Flyover","Sistem Drainase","Irigasi & Water Management"],image:"/services/sipil.jpg",stats:{projects:"45+",experience:"15 tahun"}},{title:"Bangunan Gedung",description:"Konstruksi gedung perkantoran, sekolah, dan fasilitas publik dengan desain arsitektur yang fungsional",icon:za,projects:["Gedung Perkantoran","Fasilitas Pendidikan","Fasilitas Kesehatan","Balai Serbaguna"],image:"/services/gedung.jpg",stats:{projects:"30+",experience:"12 tahun"}},{title:"Proyek Pemerintah",description:"Spesialisasi dalam tender pemerintah, penunjukan langsung dan pengadaan infrastruktur publik",icon:Ua,projects:["Tender Pemerintah","Penunjukan Langsung","Pengadaan Infrastruktur","Fasilitas Publik"],image:"/services/pemerintah.jpg",stats:{projects:"60+",experience:"15 tahun"}}],qa=[{name:"Ir. Bambang Suryadi",role:"Pejabat Pembuat Komitmen",company:"Dinas PUPR",quote:"Nusantara Group menunjukkan profesionalisme dan ketepatan waktu yang luar biasa. Kualitas pekerjaan sangat memuaskan dan sesuai spesifikasi teknis yang ketat.",rating:5,project:"Pembangunan Jalan Raya Karawang Timur"},{name:"Drs. Ahmad Hidayat, M.Si",role:"Kepala Dinas Pendidikan",company:"Pemkab Karawang",quote:"Pembangunan gedung sekolah yang dikerjakan sangat berkualitas. Material yang digunakan berkualitas tinggi dan pengerjaan sesuai timeline yang disepakati.",rating:5,project:"Pembangunan SMAN 5 Karawang"},{name:"Ir. Siti Nurhayati",role:"Project Manager",company:"PT Karawang Industrial Estate",quote:"Sangat terkesan dengan manajemen proyek yang profesional. Tim teknis sangat kompeten dan komunikasi berjalan lancar selama pengerjaan proyek.",rating:5,project:"Infrastruktur Kawasan Industri"}],Ga={title:"Tentang Nusantara Group",subtitle:"Membangun Masa Depan Indonesia",description:"PT Nusantara Group didirikan dengan visi menjadi perusahaan konstruksi terdepan di Indonesia. Dengan pengalaman lebih dari 15 tahun, kami telah menyelesaikan berbagai proyek infrastruktur dan bangunan gedung yang berkualitas tinggi.",values:[{title:"Kualitas Terjamin",description:"Standar internasional dalam setiap proyek",icon:La},{title:"Tepat Waktu",description:"Komitmen terhadap timeline yang disepakati",icon:Sa},{title:"Profesional",description:"Tim berpengalaman dan bersertifikat",icon:Wa},{title:"Inovasi",description:"Teknologi konstruksi modern dan berkelanjutan",icon:Va}],certifications:["ISO 9001:2015 - Quality Management","SMK3 - Sistem Manajemen Keselamatan Kerja","SIUJK - Surat Izin Usaha Jasa Konstruksi","SBU - Sertifikat Badan Usaha"]},Ya=[{title:"Pengalaman Terpercaya",description:"Lebih dari 15 tahun pengalaman dalam industri konstruksi dengan track record yang solid",icon:Wa,stats:"75+ Proyek Selesai"},{title:"Tim Profesional",description:"Tenaga ahli bersertifikat dan berpengalaman dalam bidang konstruksi dan manajemen proyek",icon:ma,stats:"50+ Ahli Konstruksi"},{title:"Teknologi Modern",description:"Menggunakan teknologi konstruksi terkini untuk efisiensi dan kualitas hasil yang optimal",icon:Va,stats:"Tech-Enabled"},{title:"Jaminan Kualitas",description:"Komitmen pada standar kualitas internasional dengan sistem manajemen yang tersertifikasi",icon:La,stats:"ISO 9001:2015"}],$a=zn,Ja=Sr.create({baseURL:$a,timeout:1e4,headers:{"Content-Type":"application/json"}});Ja.interceptors.request.use(e=>{var t;const r=localStorage.getItem("token");if(console.log("\ud83d\udd10 AXIOS REQUEST DEBUG:",{url:e.url,method:e.method,hasToken:!!r,tokenPreview:r?r.substring(0,20)+"...":"No token",data:"post"===(null===(t=e.method)||void 0===t?void 0:t.toLowerCase())?e.data:"N/A (GET request)"}),r?(e.headers.Authorization="Bearer ".concat(r),console.log("\u2705 Token added to request headers")):console.log("\u274c No token found in localStorage"),e.data instanceof FormData){delete e.headers["Content-Type"],console.log("=== AXIOS INTERCEPTOR DEBUG ==="),console.log("FormData detected in interceptor"),console.log("URL:",e.url),console.log("Method:",e.method),console.log("Headers after Content-Type removal:",e.headers),console.log("FormData entries:");for(let t of e.data.entries())console.log(t[0]+": ",t[1]);console.log("==============================")}return e},e=>(console.log("\u274c AXIOS REQUEST ERROR:",e),Promise.reject(e))),Ja.interceptors.response.use(e=>(console.log("\u2705 AXIOS RESPONSE SUCCESS:",{url:e.config.url,status:e.status,dataPreview:JSON.stringify(e.data).substring(0,100)+"..."}),e),e=>{var t,r,n,a;return console.error("API Error:",{url:null===(t=e.config)||void 0===t?void 0:t.url,status:null===(r=e.response)||void 0===r?void 0:r.status,message:e.message,responseData:null===(n=e.response)||void 0===n?void 0:n.data}),401===(null===(a=e.response)||void 0===a?void 0:a.status)&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const Xa={get:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await Ja.get(e,{params:t})).data}catch(a){var r,n;throw new Error((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to fetch data")}},post:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{console.log("\ud83d\udce4 POST REQUEST DATA:",t);return(await Ja.post(e,t)).data}catch(p){var r,n,a,s,o,i,l,c,d,u;if(console.log("\ud83d\udeab POST ERROR DETAILS:",{status:null===(r=p.response)||void 0===r?void 0:r.status,data:null===(n=p.response)||void 0===n?void 0:n.data,details:null===(a=p.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.details}),null!==(o=p.response)&&void 0!==o&&null!==(i=o.data)&&void 0!==i&&i.details&&Array.isArray(p.response.data.details)){const e=p.response.data.details.map(e=>{var t;return"object"===typeof e?"".concat(null===(t=e.path)||void 0===t?void 0:t.join("."),": ").concat(e.message):e}).join(", ");throw new Error("Validation Error: ".concat(e))}throw new Error((null===(l=p.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.error)||(null===(d=p.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)||"Failed to create data")}},put:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{console.log("\ud83d\udd04 PUT REQUEST:",e,t);return(await Ja.put(e,t)).data}catch(i){var r,n,a,s,o;if(console.error("\u274c PUT ERROR:",null===(r=i.response)||void 0===r?void 0:r.data),null!==(n=i.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.errors&&Array.isArray(i.response.data.errors)){const e=i.response.data.errors.map(e=>"object"===typeof e?"".concat(e.field,": ").concat(e.message):e).join(", ");throw new Error("Validation Error: ".concat(e))}throw new Error((null===(s=i.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||"Failed to update data")}},patch:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{console.log("\ud83d\udd04 PATCH REQUEST:",e,t);return(await Ja.patch(e,t)).data}catch(c){var r,n,a,s,o,i,l;if(console.error("\u274c PATCH ERROR:",null===(r=c.response)||void 0===r?void 0:r.data),null!==(n=c.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.errors&&Array.isArray(c.response.data.errors)){const e=c.response.data.errors.map(e=>"object"===typeof e?"".concat(e.field,": ").concat(e.message):e).join(", ");throw new Error("Validation Error: ".concat(e))}throw new Error((null===(s=c.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.error)||(null===(i=c.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||"Failed to update data")}},delete:async e=>{try{return(await Ja.delete(e)).data}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to delete data")}},upload:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const n=new FormData;n.append("file",t);return(await Ja.post(e,n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(r){const t=Math.round(100*e.loaded/e.total);r(t)}}})).data}catch(s){var n,a;throw new Error((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to upload file")}}},Qa=e=>Xa.get("/manpower",e),Za=e=>Xa.post("/manpower",e),es=e=>Xa.delete("/manpower/".concat(e)),ts=e=>Xa.get("/projects",e),rs=e=>Xa.get("/projects/".concat(e)),ns=e=>Xa.post("/projects",e),as=(e,t)=>Xa.put("/projects/".concat(e),t),ss=(e,t)=>Xa.patch("/projects/".concat(e,"/status"),t),os=e=>Xa.delete("/projects/".concat(e)),is=e=>Xa.get("/projects/".concat(e,"/milestones")),ls=(e,t)=>Xa.post("/projects/".concat(e,"/milestones"),t),cs=(e,t,r)=>Xa.put("/projects/".concat(e,"/milestones/").concat(t),r),ds=(e,t)=>Xa.delete("/projects/".concat(e,"/milestones/").concat(t)),us=(e,t)=>Xa.put("/projects/".concat(e,"/milestones/").concat(t,"/approve"),{}),ps=e=>Xa.get("/projects/".concat(e,"/team")),hs=(e,t)=>Xa.post("/projects/".concat(e,"/team"),t),ms=(e,t,r)=>Xa.put("/projects/".concat(e,"/team/").concat(t),r),fs=(e,t)=>Xa.delete("/projects/".concat(e,"/team/").concat(t)),xs=e=>Xa.get("/projects/".concat(e,"/documents")),gs=async(e,t)=>{try{return(await Ja.post("/projects/".concat(e,"/documents"),t)).data}catch(a){var r,n;throw console.error("Upload error:",a),new Error((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to upload document")}},bs=(e,t,r)=>Xa.put("/projects/".concat(e,"/documents/").concat(t),r),ys=(e,t)=>Xa.delete("/projects/".concat(e,"/documents/").concat(t)),vs=async(e,t)=>await Ja.get("/projects/".concat(e,"/documents/").concat(t,"/download"),{responseType:"blob"}),js=(e,t)=>Xa.post("/projects/".concat(e,"/berita-acara"),t),ws=(e,t,r)=>Xa.patch("/projects/".concat(e,"/berita-acara/").concat(t),r),Ns=(e,t,r)=>Xa.post("/projects/".concat(e,"/berita-acara/").concat(t,"/submit"),r),As=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Xa.patch("/projects/".concat(e,"/berita-acara/").concat(t,"/approve"),r)},ks=(e,t,r)=>Xa.patch("/projects/".concat(e,"/berita-acara/").concat(t,"/reject"),r),Cs=e=>Xa.get("/subsidiaries",e),Fs=e=>Xa.get("/subsidiaries/".concat(e)),Ss=e=>Xa.post("/subsidiaries",e),Es=(e,t)=>Xa.put("/subsidiaries/".concat(e),t),Ps=e=>Xa.delete("/subsidiaries/".concat(e)),Ds=()=>Xa.get("/subsidiaries/statistics"),Os=e=>Xa.get("/finance",e),Ts=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=(0,Mt.A)({page:e,limit:t},r);return Xa.get("/finance",n)},Is=e=>Xa.post("/finance",e),Ms=(e,t)=>Xa.put("/finance/".concat(e),t),_s=e=>Xa.delete("/finance/".concat(e)),Rs=e=>Xa.get("/finance?projectId=".concat(e)),Bs=e=>Xa.get("/finance/reports",e),Ls=e=>Xa.get("/tax",e),zs=e=>Xa.post("/tax",e),Us=e=>Xa.delete("/tax/".concat(e)),Ws=e=>Xa.get("/subsidiaries",e),Vs=e=>Xa.get("/projects",e),Hs=Xa,Ks=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,r]=(0,a.useState)(null),[n,s]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!t)return;const r=new IntersectionObserver(e=>{let[t]=e;s(t.isIntersecting),t.isIntersecting&&!o&&i(!0)},(0,Mt.A)({threshold:.1,rootMargin:"0px 0px -50px 0px"},e));return r.observe(t),()=>{r.disconnect()}},[t,o,e]),{elementRef:r,isIntersecting:n,hasIntersected:o}},qs=e=>{let{stats:t=Ha,className:r="",animated:n=!0}=e;const{elementRef:a,hasIntersected:s}=Ks();return(0,Vn.jsxs)("div",{ref:a,className:"bg-white/90 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-white/20 hover:shadow-3xl transition-all duration-500 transform hover:scale-105 ".concat(r),children:[(0,Vn.jsxs)("div",{className:"text-center mb-8",children:[(0,Vn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pencapaian Kami"}),(0,Vn.jsx)("p",{className:"text-gray-600",children:"Rekam jejak yang membanggakan"})]}),(0,Vn.jsx)("div",{className:"grid grid-cols-2 gap-6",children:t.map((e,t)=>(0,Vn.jsx)(Gs,{stat:e,animated:n&&s,delay:200*t},t))})]})},Gs=e=>{let{stat:t,animated:r,delay:n=0}=e;const s=t.icon,o="string"===typeof t.number?parseInt(t.number.replace(/\D/g,""))||0:Number.isFinite(t.number)?t.number:0,{currentValue:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[n,s]=(0,a.useState)(0),[o,i]=(0,a.useState)(!1),l=()=>{if(o)return;i(!0);const r=Date.now(),a=n,l=e-a,c=()=>{const e=Date.now()-r,n=Math.min(e/t,1),o=n*(2-n),d=Math.round(a+l*o);s(d),n<1?requestAnimationFrame(c):i(!1)};requestAnimationFrame(c)};return(0,a.useEffect)(()=>{r&&e>0&&l()},[e,r]),{currentValue:n,startAnimation:l,isAnimating:o,reset:()=>s(0)}}(o,2e3,r);return(0,Vn.jsxs)("div",{className:"text-center group",style:{animationDelay:"".concat(n,"ms")},children:[(0,Vn.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-r ".concat(t.color," mb-4 group-hover:scale-110 transition-transform duration-300"),children:(0,Vn.jsx)(s,{size:28,className:"text-white"})}),(0,Vn.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:r?(e=>{const r=t.number;if("string"!==typeof r)return String(e);if(r.includes("%"))return"".concat(e,"%");if(r.includes("+"))return"".concat(e,"+");if("A+"===r)return e>=o?"A+":"A";if(r.startsWith("Rp")){if(/M\b/i.test(r)){const t=(e/10).toFixed(1);return"Rp ".concat(t,"M")}return"Rp ".concat(e.toLocaleString("id-ID"))}return String(e)})(i):"string"===typeof t.number?t.number:String(t.number)}),(0,Vn.jsx)("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:t.label}),(0,Vn.jsx)("div",{className:"text-xs text-gray-500 leading-relaxed",children:t.description})]})},Ys=e=>{let{badges:t,className:r=""}=e;return(0,Vn.jsxs)("div",{className:"pt-8 ".concat(r),children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-500 mb-4 font-semibold",children:"Dipercaya oleh:"}),(0,Vn.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:t.map((e,t)=>(0,Vn.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl py-3 px-4 text-center hover:shadow-lg transition-all duration-300 hover:scale-105 transform",children:(0,Vn.jsx)("div",{className:"text-sm font-bold text-gray-700",children:e})},t))})]})},$s=e=>{let{primaryCTA:t,secondaryCTA:r,onPrimaryClick:n,onSecondaryClick:a,className:s=""}=e;return(0,Vn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 ".concat(s),children:[(0,Vn.jsxs)("a",{href:t.href,onClick:n,className:"group px-8 py-4 rounded-2xl transition-all duration-300 inline-flex items-center justify-center font-bold text-lg shadow-xl hover:shadow-2xl hover:scale-105 transform ".concat(t.className),children:[(0,Vn.jsx)("span",{children:t.text}),(0,Vn.jsx)(_a,{size:24,className:"ml-2 group-hover:translate-x-1 transition-transform duration-300"})]}),(0,Vn.jsxs)("a",{href:r.href,onClick:a,className:"group px-8 py-4 rounded-2xl transition-all duration-300 inline-flex items-center justify-center font-bold text-lg shadow-lg hover:shadow-xl ".concat(r.className),children:[(0,Vn.jsx)(Ra,{size:20,className:"mr-2"}),(0,Vn.jsx)("span",{children:r.text})]})]})},Js=e=>{let{stats:t,className:r=""}=e;const{ctaButtons:n}=Pa,{handleConsultationClick:s,handlePortfolioClick:o}=(()=>{const[e,t]=(0,a.useState)({}),r=(0,a.useCallback)(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click";t(t=>{var n;return(0,Mt.A)((0,Mt.A)({},t),{},{[e]:(0,Mt.A)((0,Mt.A)({},t[e]),{},{[r]:((null===(n=t[e])||void 0===n?void 0:n[r])||0)+1,lastClicked:(new Date).toISOString()})})}),"undefined"!==typeof window.gtag&&window.gtag("event","cta_click",{cta_id:e,action:r})},[]),n=(0,a.useCallback)(()=>{r("consultation","click")},[r]),s=(0,a.useCallback)(()=>{r("portfolio","click")},[r]),o=(0,a.useCallback)(()=>{r("contact","click")},[r]);return{ctaClicks:e,trackCTAClick:r,handleConsultationClick:n,handlePortfolioClick:s,handleContactClick:o}})();return(0,Vn.jsx)("section",{id:"home",className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center pt-20 ".concat(r),children:(0,Vn.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Vn.jsxs)("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[(0,Vn.jsx)(Xs,{primaryCTA:n.primary,secondaryCTA:n.secondary,onPrimaryClick:s,onSecondaryClick:o}),(0,Vn.jsx)("div",{className:"relative",children:(0,Vn.jsx)(qs,{stats:t})})]})})})},Xs=e=>{let{primaryCTA:t,secondaryCTA:r,onPrimaryClick:n,onSecondaryClick:a}=e;return(0,Vn.jsxs)("div",{className:"text-left",children:[(0,Vn.jsxs)("div",{className:"inline-flex items-center bg-blue-100 text-blue-800 px-4 py-2 rounded-full font-semibold text-sm mb-6",children:[(0,Vn.jsx)("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2 animate-pulse"}),"Kontraktor Terpercaya Karawang"]}),(0,Vn.jsxs)("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Membangun",(0,Vn.jsxs)("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:[" ","Infrastruktur"," "]}),"Berkualitas Tinggi"]}),(0,Vn.jsxs)("p",{className:"text-xl lg:text-2xl text-gray-600 leading-relaxed max-w-2xl mb-8",children:["Perusahaan kontraktor profesional dengan ",(0,Vn.jsx)("span",{className:"font-bold text-blue-600",children:"15+ tahun pengalaman"}),"di Kabupaten Karawang. Spesialisasi konstruksi sipil, infrastruktur, dan bangunan gedung dengan standar internasional."]}),(0,Vn.jsx)($s,{primaryCTA:t,secondaryCTA:r,onPrimaryClick:n,onSecondaryClick:a,className:"mb-12"}),(0,Vn.jsx)(Ys,{badges:Da})]})},Qs=e=>{let{className:t=""}=e;const{elementRef:r,hasIntersected:n}=Ks();return(0,Vn.jsx)("section",{id:"about",ref:r,className:"py-20 bg-white ".concat(t),children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Vn.jsxs)("div",{className:"text-center mb-16",children:[(0,Vn.jsx)("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:Ga.title}),(0,Vn.jsx)("p",{className:"text-xl text-blue-600 font-semibold mb-4",children:Ga.subtitle}),(0,Vn.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto leading-relaxed",children:Ga.description})]}),(0,Vn.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:Ga.values.map((e,t)=>(0,Vn.jsx)(Zs,{value:e,animated:n,delay:100*t},t))}),(0,Vn.jsx)(eo,{}),(0,Vn.jsx)(ro,{})]})})},Zs=e=>{let{value:t,animated:r,delay:n=0}=e;const a=t.icon;return(0,Vn.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-8 rounded-2xl text-center group hover:shadow-xl transition-all duration-500 transform ".concat(r?"animate-fade-in-up":"opacity-0"),style:{animationDelay:"".concat(n,"ms")},children:[(0,Vn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:(0,Vn.jsx)(a,{size:32,className:"text-white"})}),(0,Vn.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:t.title}),(0,Vn.jsx)("p",{className:"text-gray-600 leading-relaxed",children:t.description})]})},eo=()=>(0,Vn.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-3xl p-12 mb-16",children:[(0,Vn.jsxs)("div",{className:"text-center mb-12",children:[(0,Vn.jsx)("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Mengapa Memilih Kami?"}),(0,Vn.jsx)("p",{className:"text-lg text-gray-600",children:"Keunggulan yang membuat kami berbeda dari yang lain"})]}),(0,Vn.jsx)("div",{className:"grid md:grid-cols-2 gap-8",children:Ya.map((e,t)=>(0,Vn.jsx)(to,{item:e},t))})]}),to=e=>{let{item:t}=e;const r=t.icon;return(0,Vn.jsx)("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 group",children:(0,Vn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Vn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-3 rounded-xl group-hover:scale-110 transition-transform duration-300",children:(0,Vn.jsx)(r,{size:24,className:"text-white"})}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Vn.jsx)("h4",{className:"text-xl font-bold text-gray-900",children:t.title}),(0,Vn.jsx)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold",children:t.stats})]}),(0,Vn.jsx)("p",{className:"text-gray-600 leading-relaxed",children:t.description})]})]})})},ro=()=>(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Sertifikasi & Standar Kualitas"}),(0,Vn.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:Ga.certifications.map((e,t)=>(0,Vn.jsx)("div",{className:"bg-white border-2 border-gray-100 p-6 rounded-xl hover:border-blue-300 hover:shadow-lg transition-all duration-300",children:(0,Vn.jsx)("div",{className:"text-sm font-semibold text-gray-700 text-center",children:e})},t))})]}),no=e=>{let{className:t=""}=e;const{elementRef:r,hasIntersected:n}=Ks();return(0,Vn.jsx)("section",{id:"services",ref:r,className:"py-20 bg-gradient-to-br from-gray-50 to-blue-50 ".concat(t),children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Vn.jsxs)("div",{className:"text-center mb-16",children:[(0,Vn.jsx)("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Layanan Kami"}),(0,Vn.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Menyediakan solusi konstruksi terpadu dengan teknologi modern dan standar internasional untuk berbagai kebutuhan infrastruktur"})]}),(0,Vn.jsx)("div",{className:"grid lg:grid-cols-3 gap-8",children:Ka.map((e,t)=>(0,Vn.jsx)(ao,{service:e,animated:n,delay:200*t},t))}),(0,Vn.jsx)(so,{})]})})},ao=e=>{let{service:t,animated:r,delay:n=0}=e;const a=t.icon;return(0,Vn.jsxs)("div",{className:"bg-white rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:scale-105 group ".concat(r?"animate-fade-in-up":"opacity-0"),style:{animationDelay:"".concat(n,"ms")},children:[(0,Vn.jsxs)("div",{className:"relative h-48 bg-gradient-to-br from-blue-600 to-indigo-600 overflow-hidden",children:[(0,Vn.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,Vn.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Vn.jsx)(a,{size:64,className:"text-white group-hover:scale-110 transition-transform duration-300"})}),(0,Vn.jsxs)("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full",children:[(0,Vn.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:t.stats.projects}),(0,Vn.jsx)("div",{className:"text-xs text-gray-600",children:"Proyek"})]})]}),(0,Vn.jsxs)("div",{className:"p-8",children:[(0,Vn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:t.title}),(0,Vn.jsx)("p",{className:"text-gray-600 leading-relaxed mb-6",children:t.description}),(0,Vn.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,Vn.jsx)("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Spesialisasi:"}),t.projects.map((e,t)=>(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),(0,Vn.jsx)("span",{className:"text-sm text-gray-700",children:e})]},t))]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-100",children:[(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"text-lg font-bold text-blue-600",children:t.stats.projects}),(0,Vn.jsx)("div",{className:"text-xs text-gray-500",children:"Proyek"})]}),(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"text-lg font-bold text-green-600",children:t.stats.experience}),(0,Vn.jsx)("div",{className:"text-xs text-gray-500",children:"Pengalaman"})]}),(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"text-lg font-bold text-purple-600",children:"100%"}),(0,Vn.jsx)("div",{className:"text-xs text-gray-500",children:"Sukses"})]})]})]})]})},so=()=>(0,Vn.jsxs)("div",{className:"mt-20",children:[(0,Vn.jsxs)("div",{className:"text-center mb-12",children:[(0,Vn.jsx)("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Proses Kerja Kami"}),(0,Vn.jsx)("p",{className:"text-lg text-gray-600",children:"Metodologi yang terbukti untuk hasil yang optimal"})]}),(0,Vn.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{step:"01",title:"Konsultasi & Perencanaan",description:"Analisis kebutuhan dan penyusunan rencana teknis yang detail"},{step:"02",title:"Desain & Engineering",description:"Pembuatan desain teknis dan kalkulasi struktural yang akurat"},{step:"03",title:"Pelaksanaan Konstruksi",description:"Eksekusi pembangunan dengan pengawasan ketat dan kontrol kualitas"},{step:"04",title:"Quality Control & Handover",description:"Pemeriksaan final, testing, dan serah terima proyek"}].map((e,t)=>(0,Vn.jsx)(oo,{step:e,index:t},t))})]}),oo=e=>{let{step:t,index:r}=e;return(0,Vn.jsxs)("div",{className:"relative group",children:[r<3&&(0,Vn.jsx)("div",{className:"hidden lg:block absolute top-12 left-full w-8 h-0.5 bg-gray-300 group-hover:bg-blue-600 transition-colors duration-300 z-0"}),(0,Vn.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative z-10",children:[(0,Vn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white w-12 h-12 rounded-xl flex items-center justify-center font-bold text-lg mb-4 group-hover:scale-110 transition-transform duration-300",children:t.step}),(0,Vn.jsx)("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:t.title}),(0,Vn.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.description})]})]})},io=(0,Qn.A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),lo=e=>{let{projects:t=[],className:r=""}=e;const{elementRef:n,hasIntersected:a}=Ks();return(0,Vn.jsx)("section",{id:"projects",ref:n,className:"py-20 bg-white ".concat(r),children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Vn.jsxs)("div",{className:"text-center mb-16",children:[(0,Vn.jsx)("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Proyek Terbaru"}),(0,Vn.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Sampel proyek aktif dan selesai sebagai bukti kualitas dan konsistensi kami"})]}),t&&t.length>0?(0,Vn.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,t)=>(0,Vn.jsx)(co,{project:e,animated:a,delay:120*t},e.id||t))}):(0,Vn.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-12 text-center",children:(0,Vn.jsx)("p",{className:"text-gray-600",children:"Belum ada data proyek untuk ditampilkan."})})]})})},co=e=>{let{project:t,animated:r,delay:n=0}=e;const a="completed"===t.status,s=a?"text-green-600 bg-green-50":"text-blue-600 bg-blue-50",o=a?Ea.A:Sa;return(0,Vn.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 transform hover:scale-[1.02] overflow-hidden ".concat(r?"animate-fade-in-up":"opacity-0"),style:{animationDelay:"".concat(n,"ms")},children:[(0,Vn.jsxs)("div",{className:"p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Vn.jsx)("h3",{className:"text-xl font-bold text-gray-900 line-clamp-2",children:t.name||"Proyek"}),(0,Vn.jsx)("span",{className:"ml-3 px-3 py-1 rounded-full text-xs font-semibold ".concat(s," whitespace-nowrap"),children:(0,Vn.jsxs)("span",{className:"inline-flex items-center",children:[(0,Vn.jsx)(o,{size:14,className:"mr-1"}),a?"Selesai":"Aktif"]})})]}),t.description&&(0,Vn.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:t.description}),(0,Vn.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,Vn.jsxs)("div",{className:"inline-flex items-center",children:[(0,Vn.jsx)(io,{size:16,className:"mr-1"}),new Date(t.createdAt).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})]}),"number"===typeof t.progress&&(0,Vn.jsxs)("div",{className:"font-semibold text-gray-700",children:["Progress: ",t.progress,"%"]})]})]}),(0,Vn.jsx)("div",{className:"px-6 pb-6",children:(0,Vn.jsxs)("a",{href:"/projects/".concat(t.id),className:"inline-flex items-center text-blue-600 font-semibold hover:text-blue-700 transition-colors",children:["Lihat Detail",(0,Vn.jsx)(va,{size:18,className:"ml-1"})]})})]})},uo=(0,Qn.A)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),po=(0,Qn.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ho=e=>{let{className:t=""}=e;const{activeTestimonial:r,goToTestimonial:n,nextTestimonial:s,prevTestimonial:o,isAutoRotating:i}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const[n,s]=(0,a.useState)(0),[o,i]=(0,a.useState)(t);(0,a.useEffect)(()=>{if(!o||e.length<=1)return;const t=setInterval(()=>{s(t=>(t+1)%e.length)},r);return()=>clearInterval(t)},[e.length,o,r]);const l=e=>{s(e),i(!1),setTimeout(()=>i(!0),1e4)};return{activeTestimonial:n,goToTestimonial:l,nextTestimonial:()=>{l((n+1)%e.length)},prevTestimonial:()=>{l(0===n?e.length-1:n-1)},isAutoRotating:o,setIsAutoRotating:i}}(qa);return(0,Vn.jsx)("section",{id:"testimonials",className:"py-20 bg-white ".concat(t),children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Vn.jsxs)("div",{className:"text-center mb-16",children:[(0,Vn.jsx)("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Testimoni Klien"}),(0,Vn.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Kepercayaan dan kepuasan klien adalah prioritas utama kami"})]}),(0,Vn.jsxs)("div",{className:"relative max-w-4xl mx-auto",children:[(0,Vn.jsx)(mo,{testimonial:qa[r]}),(0,Vn.jsx)(fo,{testimonials:qa,activeIndex:r,onGoTo:n,onNext:s,onPrev:o,isAutoRotating:i})]}),(0,Vn.jsx)(xo,{})]})})},mo=e=>{let{testimonial:t}=e;return(0,Vn.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-3xl p-12 relative overflow-hidden",children:[(0,Vn.jsx)("div",{className:"absolute top-8 left-8 opacity-10",children:(0,Vn.jsx)(uo,{size:80,className:"text-blue-600"})}),(0,Vn.jsxs)("div",{className:"relative z-10",children:[(0,Vn.jsx)("div",{className:"flex items-center justify-center mb-8",children:[...Array(t.rating)].map((e,t)=>(0,Vn.jsx)(Ba,{size:24,className:"text-yellow-400 fill-current"},t))}),(0,Vn.jsxs)("blockquote",{className:"text-xl md:text-2xl text-gray-700 italic leading-relaxed text-center mb-8",children:['"',t.quote,'"']}),(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"text-xl font-bold text-gray-900 mb-1",children:t.name}),(0,Vn.jsx)("div",{className:"text-blue-600 font-semibold mb-1",children:t.role}),(0,Vn.jsx)("div",{className:"text-gray-600 mb-4",children:t.company}),(0,Vn.jsx)("div",{className:"inline-block bg-white px-4 py-2 rounded-full border border-gray-200",children:(0,Vn.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:["Proyek: ",t.project]})})]})]})]})},fo=e=>{let{testimonials:t,activeIndex:r,onGoTo:n,onNext:a,onPrev:s,isAutoRotating:o}=e;return(0,Vn.jsxs)("div",{className:"flex items-center justify-center mt-8 space-x-4",children:[(0,Vn.jsx)("button",{onClick:s,className:"p-3 rounded-full bg-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 group",children:(0,Vn.jsx)(po,{size:20,className:"text-gray-600 group-hover:text-blue-600"})}),(0,Vn.jsx)("div",{className:"flex space-x-2",children:t.map((e,t)=>(0,Vn.jsx)("button",{onClick:()=>n(t),className:"w-3 h-3 rounded-full transition-all duration-300 ".concat(t===r?"bg-blue-600 scale-125":"bg-gray-300 hover:bg-gray-400")},t))}),(0,Vn.jsx)("button",{onClick:a,className:"p-3 rounded-full bg-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 group",children:(0,Vn.jsx)(va,{size:20,className:"text-gray-600 group-hover:text-blue-600"})}),o&&(0,Vn.jsxs)("div",{className:"ml-4 flex items-center space-x-2 text-sm text-gray-500",children:[(0,Vn.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,Vn.jsx)("span",{children:"Auto"})]})]})},xo=()=>(0,Vn.jsx)("div",{className:"mt-16 grid grid-cols-2 lg:grid-cols-4 gap-8",children:[{value:"100%",label:"Tingkat Kepuasan",color:"text-green-600"},{value:"5.0",label:"Rating Rata-rata",color:"text-yellow-600"},{value:"95%",label:"Repeat Client",color:"text-blue-600"},{value:"24/7",label:"Customer Support",color:"text-purple-600"}].map((e,t)=>(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"text-3xl font-bold mb-2 ".concat(e.color),children:e.value}),(0,Vn.jsx)("div",{className:"text-gray-600 font-semibold",children:e.label})]},t))});var go=r(45);const bo=(0,Qn.A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),yo=(0,Qn.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),vo=(0,Qn.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),jo=(0,Qn.A)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),wo=["type","name","label","value","onChange","options"],No=e=>{let{className:t=""}=e;const{contact:r}=Pa,{formData:n,isSubmitting:s,submitStatus:o,updateField:i,submitForm:l}=(()=>{const[e,t]=(0,a.useState)({}),[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)(null),i=(0,a.useCallback)((e,r)=>{t(t=>(0,Mt.A)((0,Mt.A)({},t),{},{[e]:r}))},[]),l=(0,a.useCallback)(()=>{t({}),o(null)},[]),c=(0,a.useCallback)(async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;n(!0),o(null);try{if(!(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok)throw new Error("Failed to submit form");o({type:"success",message:"Form berhasil dikirim!"}),l()}catch(a){o({type:"error",message:"Terjadi kesalahan. Silakan coba lagi."})}finally{n(!1)}},[e,l]);return{formData:e,isSubmitting:r,submitStatus:s,updateField:i,resetForm:l,submitForm:c}})();return(0,Vn.jsx)("section",{id:"contact",className:"py-20 bg-gradient-to-br from-blue-50 to-indigo-50 ".concat(t),children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Vn.jsxs)("div",{className:"text-center mb-16",children:[(0,Vn.jsx)("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Hubungi Kami"}),(0,Vn.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Siap membantu mewujudkan proyek konstruksi impian Anda. Konsultasi gratis dan tanpa komitmen."})]}),(0,Vn.jsxs)("div",{className:"grid lg:grid-cols-2 gap-16",children:[(0,Vn.jsx)(Ao,{contact:r}),(0,Vn.jsx)(Co,{formData:n,isSubmitting:s,submitStatus:o,onFieldUpdate:i,onSubmit:e=>{e.preventDefault(),l("/api/contact",n)}})]}),(0,Vn.jsx)(So,{contact:r})]})})},Ao=e=>{let{contact:t}=e;const r=[{icon:bo,title:"Alamat Kantor",content:t.address,color:"from-blue-500 to-blue-600"},{icon:yo,title:"Telepon",content:t.phone,color:"from-green-500 to-green-600"},{icon:vo,title:"Email",content:t.email,color:"from-purple-500 to-purple-600"},{icon:Sa,title:"Jam Operasional",content:t.workingHours,color:"from-orange-500 to-orange-600"}];return(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Informasi Kontak"}),(0,Vn.jsx)("div",{className:"space-y-6 mb-8",children:r.map((e,t)=>(0,Vn.jsx)(ko,{item:e},t))}),(0,Vn.jsx)("div",{className:"bg-gray-200 rounded-2xl h-64 flex items-center justify-center",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)(bo,{size:48,className:"text-gray-400 mx-auto mb-2"}),(0,Vn.jsx)("p",{className:"text-gray-500",children:"Peta Lokasi"})]})})]})},ko=e=>{let{item:t}=e;const r=t.icon;return(0,Vn.jsxs)("div",{className:"flex items-start space-x-4 p-6 bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[(0,Vn.jsx)("div",{className:"p-3 rounded-xl bg-gradient-to-r ".concat(t.color),children:(0,Vn.jsx)(r,{size:24,className:"text-white"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h4",{className:"font-bold text-gray-900 mb-1",children:t.title}),(0,Vn.jsx)("p",{className:"text-gray-600",children:t.content})]})]})},Co=e=>{let{formData:t,isSubmitting:r,submitStatus:n,onFieldUpdate:a,onSubmit:s}=e;return(0,Vn.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-2xl",children:[(0,Vn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Kirim Pesan"}),(0,Vn.jsxs)("form",{onSubmit:s,className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Vn.jsx)(Fo,{type:"text",name:"name",label:"Nama Lengkap",value:t.name||"",onChange:e=>a("name",e),required:!0}),(0,Vn.jsx)(Fo,{type:"email",name:"email",label:"Email",value:t.email||"",onChange:e=>a("email",e),required:!0})]}),(0,Vn.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Vn.jsx)(Fo,{type:"tel",name:"phone",label:"Nomor Telepon",value:t.phone||"",onChange:e=>a("phone",e),required:!0}),(0,Vn.jsx)(Fo,{type:"text",name:"company",label:"Perusahaan (Opsional)",value:t.company||"",onChange:e=>a("company",e)})]}),(0,Vn.jsx)(Fo,{type:"select",name:"service",label:"Layanan yang Diminati",value:t.service||"",onChange:e=>a("service",e),options:[{value:"",label:"Pilih layanan"},{value:"konstruksi-sipil",label:"Konstruksi Sipil"},{value:"bangunan-gedung",label:"Bangunan Gedung"},{value:"proyek-pemerintah",label:"Proyek Pemerintah"},{value:"konsultasi",label:"Konsultasi"}],required:!0}),(0,Vn.jsx)(Fo,{type:"textarea",name:"message",label:"Pesan",value:t.message||"",onChange:e=>a("message",e),placeholder:"Ceritakan tentang proyek Anda...",rows:4,required:!0}),n&&(0,Vn.jsx)("div",{className:"p-4 rounded-xl ".concat("success"===n.type?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:n.message}),(0,Vn.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-8 rounded-2xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 font-bold text-lg shadow-xl hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:r?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Mengirim..."]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(jo,{size:20,className:"mr-2"}),"Kirim Pesan"]})})]})]})},Fo=e=>{let{type:t,name:r,label:n,value:a,onChange:s,options:o}=e,i=(0,go.A)(e,wo);const l="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200";return(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:n}),"textarea"===t?(0,Vn.jsx)("textarea",(0,Mt.A)({name:r,value:a,onChange:e=>s(e.target.value),className:l},i)):"select"===t?(0,Vn.jsx)("select",(0,Mt.A)((0,Mt.A)({name:r,value:a,onChange:e=>s(e.target.value),className:l},i),{},{children:o.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))})):(0,Vn.jsx)("input",(0,Mt.A)({type:t,name:r,value:a,onChange:e=>s(e.target.value),className:l},i))]})},So=e=>{let{contact:t}=e;return(0,Vn.jsxs)("div",{className:"text-center mt-16 p-12 bg-white rounded-3xl shadow-2xl",children:[(0,Vn.jsx)("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Siap Memulai Proyek Anda?"}),(0,Vn.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"Dapatkan konsultasi gratis dan proposal terbaik untuk proyek konstruksi Anda"}),(0,Vn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Vn.jsxs)("a",{href:"tel:".concat(t.phone.replace(/\s/g,"")),className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-8 py-4 rounded-2xl hover:from-green-700 hover:to-green-800 transition-all duration-300 font-bold text-lg shadow-xl hover:shadow-2xl inline-flex items-center justify-center",children:[(0,Vn.jsx)(yo,{size:20,className:"mr-2"}),"Hubungi Sekarang"]}),(0,Vn.jsxs)("a",{href:"mailto:".concat(t.email),className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-2xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 font-bold text-lg shadow-xl hover:shadow-2xl inline-flex items-center justify-center",children:[(0,Vn.jsx)(vo,{size:20,className:"mr-2"}),"Kirim Email"]})]})]})},Eo=(0,Qn.A)("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),Po=(0,Qn.A)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Do=(0,Qn.A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Oo=e=>{let{className:t=""}=e;const{contact:r,socialMedia:n}=Pa,a=(new Date).getFullYear();return(0,Vn.jsxs)("footer",{className:"bg-gray-900 text-white ".concat(t),children:[(0,Vn.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,Vn.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,Vn.jsx)(To,{}),(0,Vn.jsx)(Io,{}),(0,Vn.jsx)(Mo,{}),(0,Vn.jsx)(_o,{contact:r,socialMedia:n})]})}),(0,Vn.jsx)("div",{className:"border-t border-gray-800",children:(0,Vn.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Vn.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,Vn.jsxs)("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["\xa9 ",a," Nusantara Group. All rights reserved."]}),(0,Vn.jsxs)("div",{className:"flex space-x-6 text-sm text-gray-400",children:[(0,Vn.jsx)("a",{href:"/privacy",className:"hover:text-white transition-colors duration-300",children:"Privacy Policy"}),(0,Vn.jsx)("a",{href:"/terms",className:"hover:text-white transition-colors duration-300",children:"Terms of Service"}),(0,Vn.jsx)("a",{href:"/sitemap",className:"hover:text-white transition-colors duration-300",children:"Sitemap"})]})]})})})]})},To=()=>(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Vn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-3 rounded-xl mr-3",children:(0,Vn.jsx)(ka,{size:24})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-xl font-bold",children:"Nusantara Group"}),(0,Vn.jsx)("div",{className:"text-gray-400 text-sm",children:"Building Excellence"})]})]}),(0,Vn.jsx)("p",{className:"text-gray-400 leading-relaxed mb-6",children:"Kontraktor profesional dengan 15+ tahun pengalaman dalam pembangunan infrastruktur dan konstruksi berkualitas tinggi di Kabupaten Karawang."}),(0,Vn.jsxs)("div",{className:"flex space-x-3",children:[(0,Vn.jsx)(Bo,{href:"#",icon:Eo}),(0,Vn.jsx)(Bo,{href:"#",icon:Po}),(0,Vn.jsx)(Bo,{href:"#",icon:Do})]})]}),Io=()=>(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-bold mb-6",children:"Quick Links"}),(0,Vn.jsx)("ul",{className:"space-y-3",children:[{label:"Beranda",href:"#home"},{label:"Tentang Kami",href:"#about"},{label:"Layanan",href:"#services"},{label:"Portofolio",href:"#projects"},{label:"Testimoni",href:"#testimonials"},{label:"Kontak",href:"#contact"},{label:"Blog",href:"/blog"},{label:"Karir",href:"/careers"}].map((e,t)=>(0,Vn.jsx)("li",{children:(0,Vn.jsx)("a",{href:e.href,className:"text-gray-400 hover:text-white transition-colors duration-300",children:e.label})},t))})]}),Mo=()=>(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-bold mb-6",children:"Layanan Kami"}),(0,Vn.jsx)("ul",{className:"space-y-3",children:[{label:"Konstruksi Sipil",href:"#services"},{label:"Bangunan Gedung",href:"#services"},{label:"Proyek Pemerintah",href:"#services"},{label:"Jalan & Jembatan",href:"#services"},{label:"Sistem Drainase",href:"#services"},{label:"Irigasi",href:"#services"},{label:"Konsultasi",href:"#contact"},{label:"Maintenance",href:"#contact"}].map((e,t)=>(0,Vn.jsx)("li",{children:(0,Vn.jsx)("a",{href:e.href,className:"text-gray-400 hover:text-white transition-colors duration-300",children:e.label})},t))})]}),_o=e=>{let{contact:t,socialMedia:r}=e;return(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-bold mb-6",children:"Hubungi Kami"}),(0,Vn.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,Vn.jsx)(Ro,{icon:bo,text:t.address}),(0,Vn.jsx)(Ro,{icon:yo,text:t.phone,href:"tel:".concat(t.phone)}),(0,Vn.jsx)(Ro,{icon:vo,text:t.email,href:"mailto:".concat(t.email)})]}),(0,Vn.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl",children:[(0,Vn.jsx)("div",{className:"text-sm font-semibold mb-2",children:"Jam Operasional:"}),(0,Vn.jsx)("div",{className:"text-gray-400 text-sm",children:t.workingHours})]})]})},Ro=e=>{let{icon:t,text:r,href:n}=e;const a=(0,Vn.jsxs)("div",{className:"flex items-start space-x-3 text-gray-400 hover:text-white transition-colors duration-300",children:[(0,Vn.jsx)(t,{size:16,className:"mt-1 flex-shrink-0"}),(0,Vn.jsx)("span",{className:"text-sm",children:r})]});return n?(0,Vn.jsx)("a",{href:n,children:a}):a},Bo=e=>{let{href:t,icon:r}=e;return(0,Vn.jsx)("a",{href:t,className:"bg-gray-800 p-3 rounded-xl hover:bg-blue-600 transition-all duration-300 group",children:(0,Vn.jsx)(r,{size:20,className:"text-gray-400 group-hover:text-white"})})},Lo=()=>(0,Vn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Vn.jsx)("p",{className:"text-gray-600",children:"Memuat halaman..."})]})}),zo=()=>{const{stats:e,recentProjects:t,loading:r,error:n}=(()=>{const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null),c=async()=>{try{var e;const r=await Ja.get("/stats/overview");null!==(e=r.data)&&void 0!==e&&e.success&&t(r.data.data)}catch(r){console.error("Error fetching stats:",r),l("Failed to load statistics")}},d=async()=>{try{var e;const t=await Ja.get("/stats/recent-projects?limit=6");null!==(e=t.data)&&void 0!==e&&e.success&&n(t.data.data)}catch(t){console.error("Error fetching recent projects:",t),l("Failed to load recent projects")}};return(0,a.useEffect)(()=>{(async()=>{o(!0);try{await Promise.all([c(),d()])}catch(e){l("Failed to initialize landing page data")}finally{o(!1)}})()},[]),{stats:e,recentProjects:r,loading:s,error:i,refetch:()=>{c(),d()}}})(),{isMenuOpen:s,activeSection:o,toggleMenu:i,setSection:l}=(()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)("home"),s=(0,a.useCallback)(()=>{t(e=>!e)},[]);return{isMenuOpen:e,activeSection:r,toggleMenu:s,closeMenu:(0,a.useCallback)(()=>{t(!1)},[]),openMenu:(0,a.useCallback)(()=>{t(!0)},[]),setSection:(0,a.useCallback)(e=>{n(e)},[])}})();(0,a.useEffect)(()=>(document.documentElement.style.scrollBehavior="smooth",()=>{document.documentElement.style.scrollBehavior="auto"}),[]);const c=(d=e)?[{number:"".concat(d.totalProjects||0),label:"Total Proyek",icon:ka,description:"Proyek yang telah dikerjakan",color:"from-blue-400 to-blue-600"},{number:"".concat(d.activeProjects||0),label:"Proyek Aktif",icon:Sa,description:"Proyek yang sedang berjalan",color:"from-green-400 to-green-600"},{number:"".concat(d.completedProjects||0),label:"Proyek Selesai",icon:Ea.A,description:"Proyek yang telah selesai",color:"from-purple-400 to-purple-600"},{number:d.totalValue?"Rp ".concat((d.totalValue/1e9).toFixed(1),"M"):"Rp 0",label:"Total Nilai Proyek",icon:xa,description:"Nilai total proyek",color:"from-orange-400 to-orange-600"}]:Ha;var d;return r?(0,Vn.jsx)(Lo,{}):(n&&console.error("Landing page error:",n),(0,Vn.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Vn.jsx)(Oa,{isMenuOpen:s,toggleMenu:i,activeSection:o,onNavigate:l}),(0,Vn.jsxs)("main",{children:[(0,Vn.jsx)(Js,{stats:c}),(0,Vn.jsx)(Qs,{}),(0,Vn.jsx)(no,{}),(0,Vn.jsx)(lo,{projects:t}),(0,Vn.jsx)(ho,{}),(0,Vn.jsx)(No,{})]}),(0,Vn.jsx)(Oo,{})]}))};const Uo=class{static async getDashboardOverview(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"month";try{const[t,r,n]=await Promise.all([ts().catch(()=>({data:[]})),Os().catch(()=>({data:[]})),Qa().catch(()=>({data:[]}))]),a=t.data||[],s=r.data||[],o=n.data||[];return this.calculateDashboardMetrics({projects:a,financeTransactions:s,employees:o,timeRange:e})}catch(t){throw console.error("Error fetching dashboard overview:",t),new Error("Failed to fetch dashboard data")}}static calculateDashboardMetrics(e){let{projects:t,financeTransactions:r,employees:n,timeRange:a}=e;const s=r.filter(e=>"income"===e.type||"credit"===e.type).reduce((e,t)=>e+parseFloat(t.amount||0),0),o=r.filter(e=>"expense"===e.type||"debit"===e.type).reduce((e,t)=>e+parseFloat(t.amount||0),0),i=s-o,l=s>0?i/s*100:0,c=t.filter(e=>"active"===e.status).length,d=t.filter(e=>"completed"===e.status).length,u=t.reduce((e,t)=>e+parseFloat(t.budget||0),0),p=t.length>0?u/t.length:0,h=n.length,m=n.filter(e=>"active"===e.status).length,f=this.calculateDepartmentBreakdown(n),x=this.calculateAvgPerformance(n),g=this.generateRecentActivities(r,t),b=this.generateAlerts(t,n,r);return{overview:{totalRevenue:s,totalExpenses:o,netProfit:i,profitMargin:Math.round(10*l)/10,cashFlow:i,totalProjects:t.length,activeProjects:c,completedProjects:d,totalEmployees:h,activeEmployees:m},financial:{revenue:s,expenses:o,profit:i,profitMargin:l,pendingInvoices:r.filter(e=>"pending"===e.status||"unpaid"===e.status).length,paidInvoices:r.filter(e=>"completed"===e.status||"paid"===e.status).length},projects:{total:t.length,active:c,completed:d,planning:t.filter(e=>"planning"===e.status).length,onHold:t.filter(e=>"on_hold"===e.status).length,totalValue:u,avgValue:p},employees:{total:h,active:m,departments:f,avgPerformance:x,newHires:this.calculateNewHires(n,a)},recentActivities:g,alerts:b,lastUpdated:new Date}}static calculateDepartmentBreakdown(e){return e.reduce((e,t)=>{const r=t.department||"Unknown";return e[r]=(e[r]||0)+1,e},{})}static calculateAvgPerformance(e){if(0===e.length)return 0;const t=e.reduce((e,t)=>e+(t.performanceRating||0),0);return Math.round(t/e.length*10)/10}static calculateNewHires(e,t){const r=new Date;let n;switch(t){case"week":n=new Date(r.getTime()-6048e5);break;case"month":default:n=new Date(r.getTime()-2592e6);break;case"quarter":n=new Date(r.getTime()-7776e6)}return e.filter(e=>new Date(e.hireDate||e.joinDate)>=n).length}static generateRecentActivities(e,t){const r=[];return e.sort((e,t)=>new Date(t.createdAt||t.date)-new Date(e.createdAt||e.date)).slice(0,10).forEach(e=>{r.push({id:"transaction-".concat(e.id),type:"transaction",description:e.description,amount:e.amount,date:e.createdAt||e.date,status:e.status,user:"System"})}),t.filter(e=>e.updatedAt).sort((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt)).slice(0,5).forEach(e=>{r.push({id:"project-".concat(e.id),type:"project",description:"Project ".concat(e.name," updated"),status:e.status,date:e.updatedAt,user:"System"})}),r.sort((e,t)=>new Date(t.date)-new Date(e.date)).slice(0,15)}static generateAlerts(e,t,r){const n=[];e.forEach(e=>{const t=r.filter(t=>t.projectId===e.id),a=t.reduce((e,t)=>e+parseFloat(t.amount||0),0),s=parseFloat(e.budget||0),o=s>0?a/s*100:0;o>90&&n.push({id:"budget-".concat(e.id),type:"warning",title:"Budget Alert",message:'Project "'.concat(e.name,'" has used ').concat(o.toFixed(1),"% of budget"),timestamp:new Date,priority:o>100?"high":"medium"})});const a=t.filter(e=>"active"!==e.status).length;return a>0&&n.push({id:"employees-inactive",type:"info",title:"Inactive Employees",message:"".concat(a," employees are currently inactive"),timestamp:new Date,priority:"low"}),n.sort((e,t)=>{const r={high:3,medium:2,low:1};return r[t.priority]-r[e.priority]})}static async getProjectDashboard(e){try{const[t,r]=await Promise.all([rs(e),Rs(e).catch(()=>({data:[]}))]),n=t.data,a=r.data||[];return{project:n,financialSummary:this.calculateProjectFinancials(n,a),recentTransactions:a.slice(0,10),timeline:this.generateProjectTimeline(n,a)}}catch(t){throw console.error("Error fetching project dashboard:",t),new Error("Failed to fetch project data")}}static calculateProjectFinancials(e,t){const r=t.reduce((e,t)=>e+parseFloat(t.amount||0),0),n=parseFloat(e.budget||0),a=n>0?r/n*100:0;return{budget:n,spent:r,remaining:n-r,utilization:Math.round(10*a)/10,status:a>100?"over-budget":a>90?"warning":"on-track"}}static generateProjectTimeline(e,t){const r=[];return e.startDate&&r.push({date:e.startDate,type:"milestone",title:"Project Started",description:"Project ".concat(e.name," commenced")}),t.forEach(e=>{r.push({date:e.createdAt||e.date,type:"transaction",title:e.description,amount:e.amount})}),r.sort((e,t)=>new Date(t.date)-new Date(e.date))}},Wo=()=>{const[e,t]=(0,a.useState)({projects:{total:0,active:0,completed:0},purchaseOrders:{total:0,pending:0,approved:0},budget:{total:0,used:0,remaining:0},materials:{total:0,inStock:0,lowStock:0}}),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)([]),c=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"month";try{var r,a,i,c,d,u,p,h,m,f,x,g,b,y;n(!0);const s=await Uo.getDashboardOverview(e),o={projects:{total:(null===(r=s.overview)||void 0===r?void 0:r.totalProjects)||0,active:(null===(a=s.overview)||void 0===a?void 0:a.activeProjects)||0,completed:(null===(i=s.projects)||void 0===i?void 0:i.completed)||0},purchaseOrders:{total:(null===(c=s.financial)||void 0===c?void 0:c.pendingInvoices)+(null===(d=s.financial)||void 0===d?void 0:d.paidInvoices)||0,pending:(null===(u=s.financial)||void 0===u?void 0:u.pendingInvoices)||0,approved:(null===(p=s.financial)||void 0===p?void 0:p.paidInvoices)||0},budget:{total:(null===(h=s.overview)||void 0===h?void 0:h.totalRevenue)||0,used:(null===(m=s.financial)||void 0===m?void 0:m.expenses)||0,remaining:(null===(f=s.financial)||void 0===f?void 0:f.profit)||0},materials:{total:(null===(x=s.overview)||void 0===x?void 0:x.totalInventoryItems)||0,inStock:((null===(g=s.overview)||void 0===g?void 0:g.totalInventoryItems)||0)-((null===(b=s.overview)||void 0===b?void 0:b.lowStockItems)||0),lowStock:(null===(y=s.overview)||void 0===y?void 0:y.lowStockItems)||0}};t(o),l(s.recentActivities||[])}catch(s){console.error("Error fetching dashboard data:",s),o("Failed to load dashboard data. Please try again.")}finally{n(!1)}},[]);return(0,a.useEffect)(()=>{c()},[c]),{dashboardData:e,recentActivities:i,loading:r,error:s,fetchDashboardData:c}};var Vo=r(987);const Ho=(0,Qn.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ko=e=>{let{message:t="Loading..."}=e;return(0,Vn.jsx)("div",{className:"flex items-center justify-center h-64 bg-[#1C1C1E]",children:(0,Vn.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0A84FF]"}),(0,Vn.jsx)("span",{className:"mt-3 text-[#98989D] text-sm",children:t})]})})},qo=e=>{let{error:t,onRetry:r,title:n="Error Loading Data"}=e;return(0,Vn.jsx)("div",{className:"flex items-center justify-center h-64 bg-[#1C1C1E]",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)(Vo.A,{className:"h-16 w-16 text-[#FF453A] mx-auto mb-4"}),(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:n}),(0,Vn.jsx)("p",{className:"text-[#98989D] mb-4",children:t}),r&&(0,Vn.jsxs)("button",{onClick:r,className:"px-5 py-2.5 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0970DD] transition-colors duration-150 flex items-center gap-2 mx-auto focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)(Ho,{className:"h-4 w-4"}),"Retry"]})]})})},Go=e=>{let{title:t,value:r,subtitle:n,icon:a,color:s="blue",trend:o,onClick:i}=e;return(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-xl p-5 hover:border-[#48484A] transition-colors duration-150 ".concat(i?"cursor-pointer":""),onClick:i,children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] truncate mb-2",children:t}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-white mb-1",children:"number"===typeof r?Yo(r):r}),n&&(0,Vn.jsx)("p",{className:"text-sm text-[#636366]",children:n}),o&&(0,Vn.jsx)("div",{className:"flex items-center mt-2",children:(0,Vn.jsx)("span",{className:"text-xs font-medium ".concat(o.startsWith("+")?"text-[#30D158]":"text-[#FF453A]"),children:o})})]}),a&&(0,Vn.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0 ".concat({blue:"text-[#0A84FF] bg-[#0A84FF]/10",green:"text-[#30D158] bg-[#30D158]/10",red:"text-[#FF453A] bg-[#FF453A]/10",yellow:"text-[#FF9F0A] bg-[#FF9F0A]/10",purple:"text-[#BF5AF2] bg-[#BF5AF2]/10",gray:"text-[#98989D] bg-[#98989D]/10"}[s]),children:(0,Vn.jsx)(a,{className:"h-6 w-6"})})]})})},Yo=e=>e>=1e9?"".concat((e/1e9).toFixed(1),"B"):e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString(),$o=e=>{let{loading:t,onRefresh:r}=e;return(0,Vn.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),(0,Vn.jsx)("p",{className:"text-[#98989D]",children:"Ringkasan aktivitas dan statistik proyek"})]}),(0,Vn.jsxs)("button",{onClick:r,disabled:t,className:"px-5 py-2.5 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0970DD] transition-colors duration-150 flex items-center gap-2 text-sm font-medium disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)(Ho,{className:"w-4 h-4 ".concat(t?"animate-spin":"")}),"Refresh"]})]})},Jo=(0,Qn.A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Xo=(0,Qn.A)("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Qo=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),Zo=e=>{let{data:t}=e;return t?(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Vn.jsx)(Go,{title:"Total Proyek",value:t.projects.total,subtitle:"".concat(t.projects.active," aktif"),icon:ga,color:"blue",trend:"+12% dari bulan lalu"}),(0,Vn.jsx)(Go,{title:"Purchase Orders",value:t.purchaseOrders.total,subtitle:"".concat(t.purchaseOrders.pending," pending"),icon:Jo,color:"green",trend:"+8% dari bulan lalu"}),(0,Vn.jsx)(Go,{title:"Total Budget",value:Qo(t.budget.total),subtitle:"".concat(Qo(t.budget.remaining)," tersisa"),icon:xa,color:"purple"}),(0,Vn.jsx)(Go,{title:"Material Items",value:t.materials.total,subtitle:"".concat(t.materials.lowStock," stok rendah"),icon:Xo,color:"yellow"})]}):null},ei=()=>{const e=[{icon:ga,text:"Buat Proyek Baru",color:"[#0A84FF]"},{icon:Jo,text:"Buat Purchase Order",color:"[#30D158]"},{icon:ba,text:"Lihat Laporan",color:"[#64D2FF]"},{icon:Xo,text:"Kelola Inventory",color:"[#FF9F0A]"}];return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] p-6 rounded-xl hover:border-[#48484A] transition-colors",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),(0,Vn.jsx)("div",{className:"space-y-3",children:e.map((e,t)=>(0,Vn.jsxs)("button",{className:"w-full flex items-center justify-between p-3 text-left border border-[#38383A] rounded-lg hover:bg-[#3A3A3C] hover:border-[#48484A] transition-colors duration-150",children:[(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)(e.icon,{className:"h-5 w-5 text-".concat(e.color," mr-3")}),(0,Vn.jsx)("span",{className:"font-medium text-white",children:e.text})]}),(0,Vn.jsx)("div",{className:"text-[#98989D]",children:"\u2192"})]},t))})]})},ti=(0,Qn.A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ri=(0,Qn.A)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),ni=e=>{let{activities:t=[]}=e;const r=e=>{switch(e){case"project":return(0,Vn.jsx)(ga,{className:"h-5 w-5 text-[#0A84FF]"});case"purchase_order":return(0,Vn.jsx)(Jo,{className:"h-5 w-5 text-[#30D158]"});case"approval":return(0,Vn.jsx)(Ea.A,{className:"h-5 w-5 text-[#30D158]"});case"alert":return(0,Vn.jsx)(ti,{className:"h-5 w-5 text-[#FF9F0A]"});default:return(0,Vn.jsx)(ri,{className:"h-5 w-5 text-[#98989D]"})}};return(0,Vn.jsxs)("div",{className:"lg:col-span-2 bg-[#2C2C2E] border border-[#38383A] p-6 rounded-xl hover:border-[#48484A] transition-colors",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Aktivitas Terbaru"}),(0,Vn.jsx)("div",{className:"space-y-4",children:0===t.length?(0,Vn.jsxs)("div",{className:"text-center py-8 text-[#636366]",children:[(0,Vn.jsx)(ri,{className:"h-8 w-8 mx-auto mb-2 text-[#636366]"}),(0,Vn.jsx)("p",{children:"Belum ada aktivitas terbaru"})]}):t.map((e,t)=>(0,Vn.jsxs)("div",{className:"flex items-start space-x-3 py-3 border-b border-[#38383A] last:border-b-0",children:[(0,Vn.jsx)("div",{className:"flex-shrink-0",children:r(e.type)}),(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:e.title}),(0,Vn.jsx)("p",{className:"text-sm text-[#98989D]",children:e.description}),(0,Vn.jsx)("p",{className:"text-xs text-[#636366] mt-1",children:e.timestamp})]})]},t))})]})},ai=e=>{let{projectData:t}=e;if(!t)return null;const{total:r,active:n,completed:a}=t,s=[{title:"Proyek Aktif",value:n,icon:Ua,color:"[#0A84FF]"},{title:"Dalam Perencanaan",value:r-n-a,icon:Sa,color:"[#FF9F0A]"},{title:"Selesai",value:a,icon:Ea.A,color:"[#30D158]"},{title:"Bermasalah",value:0,icon:ti,color:"[#FF453A]"}];return(0,Vn.jsxs)("div",{className:"mt-8 bg-[#2C2C2E] border border-[#38383A] p-6 rounded-xl hover:border-[#48484A] transition-colors",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Status Proyek"}),(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:s.map((e,t)=>(0,Vn.jsxs)("div",{className:"text-center p-4 border border-[#38383A] rounded-lg hover:bg-[#3A3A3C] transition-colors",children:[(0,Vn.jsx)(e.icon,{className:"h-8 w-8 text-".concat(e.color," mx-auto mb-2")}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-white",children:e.value}),(0,Vn.jsx)("p",{className:"text-sm text-[#98989D]",children:e.title})]},t))})]})},si=()=>{const{dashboardData:e,recentActivities:t,loading:r,error:n,fetchDashboardData:a}=Wo();return r?(0,Vn.jsx)(Ko,{message:"Loading dashboard data..."}):n?(0,Vn.jsx)(qo,{error:n,onRetry:a,title:"Dashboard Error"}):(0,Vn.jsxs)("div",{className:"p-6 bg-[#1C1C1E] min-h-screen",children:[(0,Vn.jsx)($o,{loading:r,onRefresh:a}),(0,Vn.jsx)(Zo,{data:e}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Vn.jsx)(ei,{}),(0,Vn.jsx)(ni,{activities:t})]}),(0,Vn.jsx)(ai,{projectData:e.projects})]})},oi=(0,Qn.A)("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),ii=(0,Qn.A)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),li=(0,Qn.A)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),ci=(0,Qn.A)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),di=(0,Qn.A)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ui=(0,Qn.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),pi=e=>{console.log("\ud83d\udd0d VALIDATOR - Starting validation for:",e);const t={};if(e.type||(console.log("\u274c Type missing"),t.type="Tipe transaksi harus dipilih"),e.category&&""!==e.category.trim()||(console.log("\u274c Category missing or empty"),t.category="Kategori harus diisi"),e.amount&&""!==e.amount&&"0"!==e.amount?parseFloat(e.amount)<=0?(console.log("\u274c Amount <= 0"),t.amount="Jumlah harus lebih dari 0"):isNaN(parseFloat(e.amount))&&(console.log("\u274c Amount not a number"),t.amount="Jumlah harus berupa angka"):(console.log("\u274c Amount missing or zero"),t.amount="Jumlah harus diisi"),e.description&&""!==e.description.trim()?e.description.length<5?(console.log("\u274c Description too short:",e.description.length,"chars"),t.description="Deskripsi minimal 5 karakter"):e.description.length>500&&(console.log("\u274c Description too long:",e.description.length,"chars"),t.description="Deskripsi maksimal 500 karakter"):(console.log("\u274c Description missing or empty"),t.description="Deskripsi harus diisi"),e.date){const r=new Date(e.date),n=new Date;n.setHours(23,59,59,999),isNaN(r.getTime())?(console.log("\u274c Date invalid format"),t.date="Format tanggal tidak valid"):r>n&&(console.log("\u274c Date in future:",r,"vs today:",n),t.date="Tanggal tidak boleh di masa depan")}else console.log("\u274c Date missing"),t.date="Tanggal harus diisi";return"expense"!==e.type&&"transfer"!==e.type||e.accountFrom&&""!==e.accountFrom.trim()||(console.log("\u274c AccountFrom missing for",e.type),t.accountFrom="Akun sumber harus dipilih"),"income"!==e.type&&"transfer"!==e.type||e.accountTo&&""!==e.accountTo.trim()||(console.log("\u274c AccountTo missing for",e.type),t.accountTo="Akun tujuan harus dipilih"),"transfer"===e.type&&e.accountFrom&&e.accountTo&&e.accountFrom===e.accountTo&&(console.log("\u274c Transfer: same account",e.accountFrom),t.accountTo="Akun tujuan harus berbeda dari akun sumber"),e.referenceNumber&&""!==e.referenceNumber.trim()&&(e.referenceNumber.length<3?(console.log("\u274c Reference number too short"),t.referenceNumber="Nomor referensi minimal 3 karakter"):e.referenceNumber.length>50&&(console.log("\u274c Reference number too long"),t.referenceNumber="Nomor referensi maksimal 50 karakter")),console.log("\ud83d\udd0d VALIDATOR - Final errors:",t),console.log("\u2705 VALIDATOR - Is Valid:",0===Object.keys(t).length),{isValid:0===Object.keys(t).length,errors:t}},hi=e=>{const t={};if(e.type||(t.type="Jenis pajak harus dipilih"),e.amount&&""!==e.amount&&"0"!==e.amount?parseFloat(e.amount)<=0?t.amount="Jumlah pajak harus lebih dari 0":isNaN(parseFloat(e.amount))&&(t.amount="Jumlah pajak harus berupa angka"):t.amount="Jumlah pajak harus diisi",e.period){if(/^\d{4}-\d{2}$/.test(e.period)){const[r,n]=e.period.split("-").map(Number),a=(new Date).getFullYear();(r<2e3||r>a+1)&&(t.period="Tahun harus antara 2000 dan ".concat(a+1)),(n<1||n>12)&&(t.period="Bulan harus antara 01 dan 12")}else t.period="Format periode harus YYYY-MM"}else t.period="Periode harus diisi";if(e.description&&e.description.length>500&&(t.description="Deskripsi maksimal 500 karakter"),e.paymentDate){const r=new Date(e.paymentDate);isNaN(r.getTime())&&(t.paymentDate="Format tanggal pembayaran tidak valid")}return{isValid:0===Object.keys(t).length,errors:t}},mi=e=>{let{selectedSubsidiary:t,onSubsidiaryChange:r,subsidiaries:n=[],loadingSubsidiaries:a=!1,selectedProject:s,onProjectChange:o,projects:i=[],loadingProjects:l=!1,compact:c=!1}=e;return(0,Vn.jsxs)("div",{className:"flex ".concat(c?"space-x-2":"space-x-3"),children:[(0,Vn.jsxs)("select",{value:t,onChange:e=>r(e.target.value),className:"rounded-lg px-4 py-2 ".concat(c?"text-xs":"text-sm"," font-medium transition-all duration-200 focus:outline-none focus:ring-2"),style:{backgroundColor:"#2C2C2E",color:"#FFFFFF",border:"1px solid #38383A"},disabled:a,children:[(0,Vn.jsx)("option",{value:"all",style:{backgroundColor:"#2C2C2E",color:"#FFFFFF"},children:a?"Loading...":"Semua Anak Perusahaan"}),n.map(e=>(0,Vn.jsx)("option",{value:e.id,style:{backgroundColor:"#2C2C2E",color:"#FFFFFF"},children:e.name},e.id))]}),(0,Vn.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:"rounded-lg px-4 py-2 ".concat(c?"text-xs":"text-sm"," font-medium transition-all duration-200 focus:outline-none focus:ring-2"),style:{backgroundColor:"#2C2C2E",color:"#FFFFFF",border:"1px solid #38383A"},disabled:l,children:[(0,Vn.jsx)("option",{value:"all",style:{backgroundColor:"#2C2C2E",color:"#FFFFFF"},children:l?"Loading Projects...":"All Projects"}),i.map(e=>(0,Vn.jsx)("option",{value:e.id,style:{backgroundColor:"#2C2C2E",color:"#FFFFFF"},children:e.name},e.id))]})]})},fi=(0,Qn.A)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),xi=e=>null===e||void 0===e||isNaN(e)?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),gi=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"-";const r="string"===typeof e?new Date(e):e,n=(0,Mt.A)({year:"numeric",month:"long",day:"numeric"},t&&{hour:"2-digit",minute:"2-digit"});return new Intl.DateTimeFormat("id-ID",n).format(r)},bi=e=>({pajak_penghasilan:"Pajak Penghasilan (PPh)",pajak_pertambahan_nilai:"Pajak Pertambahan Nilai (PPN)",pajak_bumi_bangunan:"Pajak Bumi dan Bangunan (PBB)",bpjs_kesehatan:"BPJS Kesehatan",bpjs_ketenagakerjaan:"BPJS Ketenagakerjaan"}[e]||e),yi=e=>{let{transactions:t=[],loading:r=!1,onView:n,onEdit:a,onDelete:s,currentPage:o=1,totalPages:i=1,onPageChange:l,onAddNew:c}=e;return(0,Vn.jsxs)("div",{className:"rounded-xl shadow-lg overflow-hidden",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"min-w-full",children:[(0,Vn.jsx)("thead",{children:(0,Vn.jsxs)("tr",{style:{backgroundColor:"#1C1C1E"},children:[(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D"},children:"Date"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D"},children:"Type"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D"},children:"Category"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D"},children:"Description"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",style:{color:"#98989D"},children:"Amount"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D"},children:"Payment Method"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",style:{color:"#98989D"},children:"Actions"})]})}),(0,Vn.jsx)("tbody",{children:r?(0,Vn.jsx)("tr",{children:(0,Vn.jsxs)("td",{colSpan:"7",className:"px-6 py-12 text-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto",style:{borderColor:"#0A84FF"}}),(0,Vn.jsx)("p",{className:"mt-2",style:{color:"#98989D"},children:"Loading transactions..."})]})}):0===t.length?(0,Vn.jsx)("tr",{children:(0,Vn.jsxs)("td",{colSpan:"7",className:"px-6 py-12 text-center",children:[(0,Vn.jsx)("div",{className:"mb-4",style:{color:"#636366"},children:(0,Vn.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Vn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Vn.jsx)("h3",{className:"text-lg font-medium mb-2",style:{color:"#FFFFFF"},children:"No Transactions Found"}),(0,Vn.jsx)("p",{className:"mb-4",style:{color:"#98989D"},children:"Get started by creating your first financial transaction."}),c&&(0,Vn.jsx)("button",{onClick:c,className:"px-4 py-2 rounded-lg transition-all duration-200 inline-flex items-center space-x-2",style:{backgroundColor:"rgba(10, 132, 255, 0.15)",color:"#0A84FF",border:"1px solid rgba(10, 132, 255, 0.3)"},children:(0,Vn.jsx)("span",{children:"Add First Transaction"})})]})}):t.map(e=>{return(0,Vn.jsxs)("tr",{className:"transition-colors duration-150",style:{borderBottom:"1px solid #38383A"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(56, 56, 58, 0.3)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"#FFFFFF"},children:gi(e.date)}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-medium",style:{backgroundColor:"income"===e.type?"rgba(48, 209, 88, 0.15)":"expense"===e.type?"rgba(255, 69, 58, 0.15)":"rgba(10, 132, 255, 0.15)",color:"income"===e.type?"#30D158":"expense"===e.type?"#FF453A":"#0A84FF",border:"income"===e.type?"1px solid rgba(48, 209, 88, 0.3)":"expense"===e.type?"1px solid rgba(255, 69, 58, 0.3)":"1px solid rgba(10, 132, 255, 0.3)"},children:(t=e.type,{income:"Income",expense:"Expense",transfer:"Transfer"}[t]||t)})}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"#FFFFFF"},children:e.category}),(0,Vn.jsx)("td",{className:"px-6 py-4 text-sm max-w-xs truncate",style:{color:"#98989D"},children:e.description}),(0,Vn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold",style:{color:"income"===e.type?"#30D158":"#FF453A"},children:["income"===e.type?"+":"-"," ",xi(e.amount)]}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"#98989D"},children:e.paymentMethod||"-"}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[n&&(0,Vn.jsx)("button",{onClick:()=>n(e),className:"p-1.5 rounded transition-all duration-200",style:{color:"#0A84FF",backgroundColor:"transparent"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(10, 132, 255, 0.15)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",title:"View Details",children:(0,Vn.jsx)(la,{className:"w-4 h-4"})}),a&&(0,Vn.jsx)("button",{onClick:()=>a(e),className:"p-1.5 rounded transition-all duration-200",style:{color:"#30D158",backgroundColor:"transparent"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(48, 209, 88, 0.15)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",title:"Edit Transaction",children:(0,Vn.jsx)(fi,{className:"w-4 h-4"})}),s&&(0,Vn.jsx)("button",{onClick:()=>s(e),className:"p-1.5 rounded transition-all duration-200",style:{color:"#FF453A",backgroundColor:"transparent"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(255, 69, 58, 0.15)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",title:"Delete Transaction",children:(0,Vn.jsx)(ca,{className:"w-4 h-4"})})]})})]},e.id);var t})})]})}),!r&&t.length>0&&i>1&&(0,Vn.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",style:{borderTop:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"text-sm",style:{color:"#98989D"},children:["Page ",o," of ",i]}),(0,Vn.jsxs)("div",{className:"flex space-x-2",children:[(0,Vn.jsx)("button",{onClick:()=>l(o-1),disabled:1===o,className:"px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:1===o?"rgba(56, 56, 58, 0.3)":"rgba(10, 132, 255, 0.15)",color:1===o?"#636366":"#0A84FF",border:1===o?"1px solid #38383A":"1px solid rgba(10, 132, 255, 0.3)"},children:"Previous"}),(0,Vn.jsx)("button",{onClick:()=>l(o+1),disabled:o===i,className:"px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:o===i?"rgba(56, 56, 58, 0.3)":"rgba(10, 132, 255, 0.15)",color:o===i?"#636366":"#0A84FF",border:o===i?"1px solid #38383A":"1px solid rgba(10, 132, 255, 0.3)"},children:"Next"})]})]})]})},vi=e=>{let{formData:t,onChange:r,onSubmit:n,onCancel:s,projects:o=[],loadingProjects:i=!1,cashAccounts:l=[],loadingCashAccounts:c=!1,isSubmitting:d=!1,isEdit:u=!1}=e;const[p,h]=a.useState({}),m=(e,t)=>{r(e,t),p[e]&&h(t=>{const r=(0,Mt.A)({},t);return delete r[e],r})};return(0,Vn.jsxs)("div",{className:"rounded-xl shadow-lg",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"p-6",style:{borderBottom:"1px solid #38383A"},children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold",style:{color:"#FFFFFF"},children:u?"Edit Transaction":"Create New Transaction"}),(0,Vn.jsx)("p",{className:"text-sm mt-1",style:{color:"#98989D"},children:u?"Update transaction details":"Add a new financial transaction to your records"})]}),(0,Vn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("\ud83c\udfaf FORM SUBMIT - Starting validation..."),console.log("\ud83d\udcdd Form Data:",t);const r=pi(t);if(console.log("\ud83d\udd0d Validation Result:",r),console.log("\u2753 Is Valid:",r.isValid),console.log("\u2753 Errors:",r.errors),!r.isValid)return console.error("\u274c VALIDATION FAILED:",r.errors),h(r.errors),void alert("Validation Error: "+JSON.stringify(r.errors,null,2));console.log("\u2705 Validation passed, calling onSubmit..."),h({}),n(e)},className:"p-6 space-y-6",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Transaction Type *"}),(0,Vn.jsxs)("select",{value:t.type,onChange:e=>m("type",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:p.type?"1px solid #FF453A":"1px solid #38383A"},required:!0,children:[(0,Vn.jsx)("option",{value:"expense",children:"Expense"}),(0,Vn.jsx)("option",{value:"income",children:"Income"}),(0,Vn.jsx)("option",{value:"transfer",children:"Transfer"})]}),p.type&&(0,Vn.jsx)("p",{className:"mt-1 text-sm",style:{color:"#FF453A"},children:p.type})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Category *"}),(0,Vn.jsxs)("select",{value:t.category,onChange:e=>m("category",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:p.category?"1px solid #FF453A":"1px solid #38383A"},required:!0,children:[(0,Vn.jsx)("option",{value:"",children:"Select Category"}),(0,Vn.jsx)("option",{value:"Materials",children:"Materials"}),(0,Vn.jsx)("option",{value:"Labor",children:"Labor"}),(0,Vn.jsx)("option",{value:"Equipment",children:"Equipment"}),(0,Vn.jsx)("option",{value:"Subcontractor",children:"Subcontractor"}),(0,Vn.jsx)("option",{value:"Transportation",children:"Transportation"}),(0,Vn.jsx)("option",{value:"Administrative",children:"Administrative"}),(0,Vn.jsx)("option",{value:"Project Revenue",children:"Project Revenue"}),(0,Vn.jsx)("option",{value:"Other Income",children:"Other Income"}),(0,Vn.jsx)("option",{value:"Other Expense",children:"Other Expense"})]}),p.category&&(0,Vn.jsx)("p",{className:"mt-1 text-sm",style:{color:"#FF453A"},children:p.category})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Amount (IDR) *"}),(0,Vn.jsx)("input",{type:"number",value:t.amount,onChange:e=>m("amount",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:p.amount?"1px solid #FF453A":"1px solid #38383A"},placeholder:"0",min:"0",step:"0.01",required:!0}),p.amount&&(0,Vn.jsx)("p",{className:"mt-1 text-sm",style:{color:"#FF453A"},children:p.amount})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Transaction Date *"}),(0,Vn.jsx)("input",{type:"date",value:t.date,onChange:e=>m("date",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:p.date?"1px solid #FF453A":"1px solid #38383A"},required:!0}),p.date&&(0,Vn.jsx)("p",{className:"mt-1 text-sm",style:{color:"#FF453A"},children:p.date})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Project"}),(0,Vn.jsxs)("select",{value:t.projectId,onChange:e=>m("projectId",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:"1px solid #38383A"},disabled:i,children:[(0,Vn.jsx)("option",{value:"",children:i?"Loading Projects...":"No Project"}),o.map(e=>{var t;return(0,Vn.jsxs)("option",{value:e.id,children:[e.name," - ",(null===(t=e.subsidiary)||void 0===t?void 0:t.name)||"No Subsidiary"]},e.id)})]})]}),"transfer"!==t.type&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"income"===t.type?"Receiving Account *":"Paying Account *"}),(0,Vn.jsxs)("select",{value:"income"===t.type?t.accountTo:t.accountFrom,onChange:e=>m("income"===t.type?"accountTo":"accountFrom",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:p.accountFrom||p.accountTo?"1px solid #FF453A":"1px solid #38383A"},required:!0,disabled:c,children:[(0,Vn.jsx)("option",{value:"",children:c?"Loading accounts...":"Select Bank Account"}),l.map(e=>(0,Vn.jsxs)("option",{value:e.id,children:[e.displayName," - ",e.formattedBalance]},e.id))]}),(p.accountFrom||p.accountTo)&&(0,Vn.jsx)("p",{className:"mt-1 text-sm",style:{color:"#FF453A"},children:p.accountFrom||p.accountTo}),(0,Vn.jsx)("p",{className:"mt-1 text-xs",style:{color:"#98989D"},children:"income"===t.type?"Account receiving the payment":"Account making the payment"})]}),"transfer"===t.type&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"From Account *"}),(0,Vn.jsxs)("select",{value:t.accountFrom,onChange:e=>m("accountFrom",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:p.accountFrom?"1px solid #FF453A":"1px solid #38383A"},required:!0,disabled:c,children:[(0,Vn.jsx)("option",{value:"",children:"Select source account"}),l.map(e=>(0,Vn.jsxs)("option",{value:e.id,disabled:e.id===t.accountTo,children:[e.displayName," - ",e.formattedBalance]},e.id))]}),p.accountFrom&&(0,Vn.jsx)("p",{className:"mt-1 text-sm",style:{color:"#FF453A"},children:p.accountFrom})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"To Account *"}),(0,Vn.jsxs)("select",{value:t.accountTo,onChange:e=>m("accountTo",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:p.accountTo?"1px solid #FF453A":"1px solid #38383A"},required:!0,disabled:c,children:[(0,Vn.jsx)("option",{value:"",children:"Select destination account"}),l.map(e=>(0,Vn.jsxs)("option",{value:e.id,disabled:e.id===t.accountFrom,children:[e.displayName," - ",e.formattedBalance]},e.id))]}),p.accountTo&&(0,Vn.jsx)("p",{className:"mt-1 text-sm",style:{color:"#FF453A"},children:p.accountTo})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Reference Number"}),(0,Vn.jsx)("input",{type:"text",value:t.referenceNumber,onChange:e=>m("referenceNumber",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:p.referenceNumber?"1px solid #FF453A":"1px solid #38383A"},placeholder:"INV-001, REF-123, etc."}),p.referenceNumber&&(0,Vn.jsx)("p",{className:"mt-1 text-sm",style:{color:"#FF453A"},children:p.referenceNumber})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Description *"}),(0,Vn.jsx)("textarea",{value:t.description,onChange:e=>m("description",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:p.description?"1px solid #FF453A":"1px solid #38383A"},placeholder:"Enter transaction description",rows:"3",required:!0}),p.description&&(0,Vn.jsx)("p",{className:"mt-1 text-sm",style:{color:"#FF453A"},children:p.description})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Additional Notes"}),(0,Vn.jsx)("textarea",{value:t.notes,onChange:e=>m("notes",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:"1px solid #38383A"},placeholder:"Any additional notes or comments",rows:"2"})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",style:{borderTop:"1px solid #38383A"},children:[(0,Vn.jsx)("button",{type:"button",onClick:s,className:"px-5 py-2.5 rounded-lg font-medium transition-all duration-200",style:{backgroundColor:"rgba(255, 69, 58, 0.15)",color:"#FF453A",border:"1px solid rgba(255, 69, 58, 0.3)"},disabled:d,children:"Cancel"}),(0,Vn.jsx)("button",{type:"submit",className:"px-5 py-2.5 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"rgba(10, 132, 255, 0.15)",color:"#0A84FF",border:"1px solid rgba(10, 132, 255, 0.3)"},disabled:d,children:d?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2",style:{borderColor:"#0A84FF"}}),(0,Vn.jsx)("span",{children:"Saving..."})]}):(0,Vn.jsx)("span",{children:u?"Update Transaction":"Create Transaction"})})]})]})]})},ji=e=>{let{transaction:t,subsidiaryInfo:r,onClose:n}=e;return t?(0,i.createPortal)((0,Vn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},children:(0,Vn.jsxs)("div",{className:"rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"p-6 flex justify-between items-center",style:{borderBottom:"1px solid #38383A"},children:[(0,Vn.jsx)("h3",{className:"text-lg font-medium",style:{color:"#FFFFFF"},children:"Transaction Details"}),(0,Vn.jsx)("button",{onClick:n,className:"transition-colors",style:{color:"#636366"},onMouseEnter:e=>e.currentTarget.style.color="#98989D",onMouseLeave:e=>e.currentTarget.style.color="#636366",children:(0,Vn.jsx)(ja.A,{className:"w-5 h-5"})})]}),(0,Vn.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Vn.jsx)("div",{className:"flex items-center space-x-2",children:(0,Vn.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"income"===t.type?"rgba(48, 209, 88, 0.15)":"expense"===t.type?"rgba(255, 69, 58, 0.15)":"rgba(10, 132, 255, 0.15)",color:"income"===t.type?"#30D158":"expense"===t.type?"#FF453A":"#0A84FF",border:"income"===t.type?"1px solid rgba(48, 209, 88, 0.3)":"expense"===t.type?"1px solid rgba(255, 69, 58, 0.3)":"1px solid rgba(10, 132, 255, 0.3)"},children:"income"===t.type?"Income":"expense"===t.type?"Expense":"Transfer"})}),(0,Vn.jsxs)("div",{className:"rounded-lg p-4",style:{backgroundColor:"#1C1C1E"},children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"Amount"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"income"===t.type?"#30D158":"#FF453A"},children:xi(t.amount)})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"Category"}),(0,Vn.jsx)("p",{className:"font-medium",style:{color:"#FFFFFF"},children:t.category})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"Date"}),(0,Vn.jsx)("p",{className:"font-medium",style:{color:"#FFFFFF"},children:gi(t.date,!0)})]}),("expense"===t.type||"transfer"===t.type)&&t.accountFrom&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"transfer"===t.type?"From Account":"Paying Account"}),(0,Vn.jsx)("p",{className:"font-medium",style:{color:"#FFFFFF"},children:t.accountFrom})]}),("income"===t.type||"transfer"===t.type)&&t.accountTo&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"transfer"===t.type?"To Account":"Receiving Account"}),(0,Vn.jsx)("p",{className:"font-medium",style:{color:"#FFFFFF"},children:t.accountTo})]}),t.paymentMethod&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"Payment Method"}),(0,Vn.jsx)("p",{className:"font-medium",style:{color:"#FFFFFF"},children:(a=t.paymentMethod,{bank_transfer:"Transfer Bank",cash:"Tunai",check:"Cek",credit_card:"Kartu Kredit",debit_card:"Kartu Debit",e_wallet:"E-Wallet"}[a]||a)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"Reference Number"}),(0,Vn.jsx)("p",{className:"font-medium",style:{color:"#FFFFFF"},children:t.referenceNumber||"-"})]})]}),r&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"Subsidiary"}),(0,Vn.jsx)("p",{className:"font-medium",style:{color:"#FFFFFF"},children:r.name})]}),t.projectId&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"Project"}),(0,Vn.jsx)("p",{className:"font-medium",style:{color:"#FFFFFF"},children:t.projectName||t.projectId})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"Description"}),(0,Vn.jsx)("p",{style:{color:"#FFFFFF"},children:t.description})]}),t.notes&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"Notes"}),(0,Vn.jsx)("p",{className:"text-sm rounded p-3",style:{color:"#98989D",backgroundColor:"#1C1C1E"},children:t.notes})]}),(0,Vn.jsxs)("div",{className:"pt-4 text-xs",style:{borderTop:"1px solid #38383A",color:"#636366"},children:[(0,Vn.jsxs)("p",{children:["Transaction ID: ",t.id]}),t.createdAt&&(0,Vn.jsxs)("p",{children:["Created: ",gi(t.createdAt,!0)]})]})]}),(0,Vn.jsx)("div",{className:"p-6 flex justify-end",style:{borderTop:"1px solid #38383A"},children:(0,Vn.jsx)("button",{onClick:n,className:"px-4 py-2 rounded-lg transition-all duration-200",style:{backgroundColor:"rgba(10, 132, 255, 0.15)",color:"#0A84FF",border:"1px solid rgba(10, 132, 255, 0.3)"},children:"Close"})})]})}),document.body):null;var a},wi=e=>{let{transaction:t,onConfirm:r,onCancel:n,isDeleting:a}=e;return t?(0,i.createPortal)((0,Vn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},children:(0,Vn.jsx)("div",{className:"rounded-lg max-w-md w-full",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Vn.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(255, 69, 58, 0.15)"},children:(0,Vn.jsx)(ti,{className:"w-5 h-5",style:{color:"#FF453A"}})}),(0,Vn.jsx)("h3",{className:"text-lg font-medium",style:{color:"#FFFFFF"},children:"Delete Transaction"})]}),(0,Vn.jsx)("p",{className:"mb-4",style:{color:"#98989D"},children:"Are you sure you want to delete this transaction? This action cannot be undone."}),(0,Vn.jsxs)("div",{className:"rounded-lg p-3 mb-4 text-sm",style:{backgroundColor:"#1C1C1E"},children:[(0,Vn.jsx)("p",{style:{color:"#98989D"},children:"Transaction Details:"}),(0,Vn.jsx)("p",{className:"font-medium mt-1",style:{color:"#FFFFFF"},children:t.description}),(0,Vn.jsx)("p",{className:"font-semibold mt-1",style:{color:"income"===t.type?"#30D158":"#FF453A"},children:xi(t.amount)}),(0,Vn.jsx)("p",{className:"mt-1",style:{color:"#98989D"},children:gi(t.date)})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,Vn.jsx)("button",{onClick:n,className:"px-4 py-2 rounded-lg transition-all duration-200",style:{backgroundColor:"rgba(152, 152, 157, 0.15)",color:"#98989D",border:"1px solid rgba(152, 152, 157, 0.3)"},disabled:a,children:"Cancel"}),(0,Vn.jsx)("button",{onClick:r,className:"px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"rgba(255, 69, 58, 0.15)",color:"#FF453A",border:"1px solid rgba(255, 69, 58, 0.3)"},disabled:a,children:a?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Vn.jsx)("span",{children:"Deleting..."})]}):(0,Vn.jsx)("span",{children:"Delete Transaction"})})]})]})})}),document.body):null},Ni=e=>{let{showView:t,showDelete:r,transaction:n,subsidiaryInfo:a,onCloseView:s,onCloseDelete:o,onConfirmDelete:i,isDeleting:l}=e;return(0,Vn.jsxs)(Vn.Fragment,{children:[t&&(0,Vn.jsx)(ji,{transaction:n,subsidiaryInfo:a,onClose:s}),r&&(0,Vn.jsx)(wi,{transaction:n,onConfirm:i,onCancel:o,isDeleting:l})]})},Ai=(0,Qn.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ki=(0,Qn.A)("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Ci=e=>{var t,r,n,a,s,o,i,l,c,d,u,p,h,m,f,x,g,b,y,v,j,w,N,A,k,C,F,S,E;let{data:P,onClose:D,companyInfo:O={name:"PT. NUSANTARA KONSTRUKSI",address:"Jakarta, Indonesia",period:"Untuk Tahun yang Berakhir 31 Desember 2024"}}=e;const T=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e||0);return(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow-lg border-2 border-blue-200 p-6 mb-6 print:shadow-none print:border-none",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Laporan Laba Rugi Lengkap"}),(0,Vn.jsxs)("div",{className:"flex space-x-2",children:[(0,Vn.jsxs)("button",{onClick:()=>{window.print()},className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[(0,Vn.jsx)(ki,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:"Print"})]}),(0,Vn.jsxs)("button",{onClick:()=>{},className:"flex items-center space-x-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[(0,Vn.jsx)(Ai,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:"PDF"})]}),(0,Vn.jsx)("button",{onClick:D,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,Vn.jsx)(ja.A,{className:"w-4 h-4"})})]})]}),(0,Vn.jsxs)("div",{className:"text-center mb-6 print:mb-4",children:[(0,Vn.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-1",children:O.name}),(0,Vn.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:O.address}),(0,Vn.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mt-3",children:"LAPORAN LABA RUGI"}),(0,Vn.jsx)("p",{className:"text-gray-600 text-sm",children:O.period}),(0,Vn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"(Dinyatakan dalam Rupiah)"})]}),(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,Vn.jsx)("thead",{children:(0,Vn.jsxs)("tr",{className:"border-b-2 border-gray-800",children:[(0,Vn.jsx)("th",{className:"text-left py-2 font-semibold text-gray-900",children:"KETERANGAN"}),(0,Vn.jsx)("th",{className:"text-right py-2 font-semibold text-gray-900 w-40",children:"JUMLAH (IDR)"})]})}),(0,Vn.jsxs)("tbody",{children:[(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900",children:"PENDAPATAN USAHA"}),(0,Vn.jsx)("td",{className:"py-2 text-right"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Pendapatan Proyek"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:T((null===(t=P.breakdown)||void 0===t||null===(r=t.income)||void 0===r||null===(n=r.categories)||void 0===n?void 0:n["Project Payment"])||0)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Pendapatan Milestone"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:T((null===(a=P.breakdown)||void 0===a||null===(s=a.income)||void 0===s||null===(o=s.categories)||void 0===o?void 0:o["Milestone Payment"])||0)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Pendapatan Konsultasi"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:T((null===(i=P.breakdown)||void 0===i||null===(l=i.income)||void 0===l||null===(c=l.categories)||void 0===c?void 0:c["Consultation Fee"])||0)})]}),(0,Vn.jsxs)("tr",{className:"border-t border-gray-300",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900",children:"TOTAL PENDAPATAN USAHA"}),(0,Vn.jsx)("td",{className:"py-2 text-right font-semibold border-t border-gray-300",children:T((null===(d=P.incomeStatement)||void 0===d?void 0:d.revenue)||0)})]}),(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900 pt-4",children:"BEBAN POKOK PENJUALAN"}),(0,Vn.jsx)("td",{className:"py-2 text-right pt-4"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Beban Material"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:T((null===(u=P.breakdown)||void 0===u||null===(p=u.expense)||void 0===p||null===(h=p.categories)||void 0===h?void 0:h["Material Purchase"])||0)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Beban Subkontraktor"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:T((null===(m=P.breakdown)||void 0===m||null===(f=m.expense)||void 0===f||null===(x=f.categories)||void 0===x?void 0:x["Subcontractor Fee"])||0)})]}),(0,Vn.jsxs)("tr",{className:"border-t border-gray-300",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900",children:"TOTAL BEBAN POKOK PENJUALAN"}),(0,Vn.jsxs)("td",{className:"py-2 text-right font-semibold border-t border-gray-300",children:["(",T((null===(g=P.incomeStatement)||void 0===g?void 0:g.directCosts)||0),")"]})]}),(0,Vn.jsxs)("tr",{className:"border-t-2 border-gray-600",children:[(0,Vn.jsx)("td",{className:"py-2 font-bold text-gray-900",children:"LABA KOTOR"}),(0,Vn.jsx)("td",{className:"py-2 text-right font-bold text-blue-600",children:T((null===(b=P.incomeStatement)||void 0===b?void 0:b.grossProfit)||0)})]}),(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900 pt-4",children:"BEBAN OPERASIONAL"}),(0,Vn.jsx)("td",{className:"py-2 text-right pt-4"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Beban Sewa Peralatan"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:T((null===(y=P.breakdown)||void 0===y||null===(v=y.expense)||void 0===v||null===(j=v.categories)||void 0===j?void 0:j["Equipment Rental"])||0)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Beban Kantor"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:T((null===(w=P.breakdown)||void 0===w||null===(N=w.expense)||void 0===N||null===(A=N.categories)||void 0===A?void 0:A["Office Expenses"])||0)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Beban Pemeliharaan Kendaraan"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:T((null===(k=P.breakdown)||void 0===k||null===(C=k.expense)||void 0===C||null===(F=C.categories)||void 0===F?void 0:F["Vehicle Maintenance"])||0)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Beban Administrasi & Umum"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:T(8e6)})]}),(0,Vn.jsxs)("tr",{className:"border-t border-gray-300",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900",children:"TOTAL BEBAN OPERASIONAL"}),(0,Vn.jsxs)("td",{className:"py-2 text-right font-semibold border-t border-gray-300",children:["(",T((null===(S=P.incomeStatement)||void 0===S?void 0:S.indirectCosts)||0),")"]})]}),(0,Vn.jsxs)("tr",{className:"border-t-2 border-gray-800",children:[(0,Vn.jsx)("td",{className:"py-3 font-bold text-lg text-gray-900",children:"LABA BERSIH TAHUN BERJALAN"}),(0,Vn.jsx)("td",{className:"py-3 text-right font-bold text-lg text-emerald-600",children:T((null===(E=P.incomeStatement)||void 0===E?void 0:E.netIncome)||0)})]})]})]})}),(0,Vn.jsxs)("div",{className:"mt-8 print:mt-6",children:[(0,Vn.jsxs)("div",{className:"flex justify-between text-xs text-gray-600",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{children:"Disiapkan oleh:"}),(0,Vn.jsx)("div",{className:"mt-8 border-b border-gray-400 w-32"}),(0,Vn.jsx)("p",{className:"mt-1",children:"Bagian Keuangan"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{children:"Disetujui oleh:"}),(0,Vn.jsx)("div",{className:"mt-8 border-b border-gray-400 w-32"}),(0,Vn.jsx)("p",{className:"mt-1",children:"Direktur Keuangan"})]})]}),(0,Vn.jsx)("div",{className:"text-center mt-6 text-xs text-gray-500",children:(0,Vn.jsx)("p",{children:"Laporan sesuai Pernyataan Standar Akuntansi Keuangan (PSAK)"})})]})]})},Fi=e=>{var t,r,n,a,s,o,i,l,c,d,u,p,h,m,f,x,g,b,y,v,j,w,N;let{data:A,onClose:k,companyInfo:C={name:"PT. NUSANTARA KONSTRUKSI",address:"Jakarta, Indonesia",date:"Per 31 Desember 2024"}}=e;const F=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e||0),S={current:{cash:.4*(null===(t=A.balanceSheet)||void 0===t?void 0:t.currentAssets)||0,accountsReceivable:.35*(null===(r=A.balanceSheet)||void 0===r?void 0:r.currentAssets)||0,inventory:.2*(null===(n=A.balanceSheet)||void 0===n?void 0:n.currentAssets)||0,prepaidExpenses:.05*(null===(a=A.balanceSheet)||void 0===a?void 0:a.currentAssets)||0,total:(null===(s=A.balanceSheet)||void 0===s?void 0:s.currentAssets)||0},fixed:{landBuilding:.6*(null===(o=A.balanceSheet)||void 0===o?void 0:o.fixedAssets)||0,equipment:.25*(null===(i=A.balanceSheet)||void 0===i?void 0:i.fixedAssets)||0,vehicles:.1*(null===(l=A.balanceSheet)||void 0===l?void 0:l.fixedAssets)||0,accumulatedDepreciation:-.05*(null===(c=A.balanceSheet)||void 0===c?void 0:c.fixedAssets)||0,total:(null===(d=A.balanceSheet)||void 0===d?void 0:d.fixedAssets)||0}},E={current:{accountsPayable:.4*(null===(u=A.balanceSheet)||void 0===u?void 0:u.totalLiabilities)||0,shortTermDebt:.2*(null===(p=A.balanceSheet)||void 0===p?void 0:p.totalLiabilities)||0,accruedExpenses:.15*(null===(h=A.balanceSheet)||void 0===h?void 0:h.totalLiabilities)||0,taxPayable:.1*(null===(m=A.balanceSheet)||void 0===m?void 0:m.totalLiabilities)||0,total:.85*(null===(f=A.balanceSheet)||void 0===f?void 0:f.totalLiabilities)||0},longTerm:{longTermDebt:.15*(null===(x=A.balanceSheet)||void 0===x?void 0:x.totalLiabilities)||0,total:.15*(null===(g=A.balanceSheet)||void 0===g?void 0:g.totalLiabilities)||0},totalLiabilities:(null===(b=A.balanceSheet)||void 0===b?void 0:b.totalLiabilities)||0},P={capital:.6*(null===(y=A.balanceSheet)||void 0===y?void 0:y.totalEquity)||0,retainedEarnings:.4*(null===(v=A.balanceSheet)||void 0===v?void 0:v.totalEquity)||0,total:(null===(j=A.balanceSheet)||void 0===j?void 0:j.totalEquity)||0};return(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow-lg border-2 border-green-200 p-6 mb-6 print:shadow-none print:border-none",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Neraca Lengkap"}),(0,Vn.jsxs)("div",{className:"flex space-x-2",children:[(0,Vn.jsxs)("button",{onClick:()=>{window.print()},className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[(0,Vn.jsx)(ki,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:"Print"})]}),(0,Vn.jsxs)("button",{onClick:()=>{},className:"flex items-center space-x-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[(0,Vn.jsx)(Ai,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:"PDF"})]}),(0,Vn.jsx)("button",{onClick:k,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,Vn.jsx)(ja.A,{className:"w-4 h-4"})})]})]}),(0,Vn.jsxs)("div",{className:"text-center mb-6 print:mb-4",children:[(0,Vn.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-1",children:C.name}),(0,Vn.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:C.address}),(0,Vn.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mt-3",children:"NERACA"}),(0,Vn.jsx)("p",{className:"text-gray-600 text-sm",children:C.date}),(0,Vn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"(Dinyatakan dalam Rupiah)"})]}),(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,Vn.jsx)("thead",{children:(0,Vn.jsxs)("tr",{className:"border-b-2 border-gray-800",children:[(0,Vn.jsx)("th",{className:"text-left py-2 font-semibold text-gray-900",children:"KETERANGAN"}),(0,Vn.jsx)("th",{className:"text-right py-2 font-semibold text-gray-900 w-40",children:"JUMLAH (IDR)"})]})}),(0,Vn.jsxs)("tbody",{children:[(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-bold text-base text-gray-900",children:"ASET"}),(0,Vn.jsx)("td",{className:"py-2 text-right"})]}),(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900",children:"ASET LANCAR"}),(0,Vn.jsx)("td",{className:"py-2 text-right"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Kas dan Setara Kas"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(S.current.cash)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Piutang Usaha"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(S.current.accountsReceivable)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Persediaan"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(S.current.inventory)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Beban Dibayar di Muka"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(S.current.prepaidExpenses)})]}),(0,Vn.jsxs)("tr",{className:"border-t border-gray-300",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900",children:"TOTAL ASET LANCAR"}),(0,Vn.jsx)("td",{className:"py-2 text-right font-semibold border-t border-gray-300",children:F(S.current.total)})]}),(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900 pt-4",children:"ASET TIDAK LANCAR"}),(0,Vn.jsx)("td",{className:"py-2 text-right pt-4"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Tanah dan Bangunan"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(S.fixed.landBuilding)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Peralatan dan Mesin"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(S.fixed.equipment)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Kendaraan"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(S.fixed.vehicles)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Akumulasi Penyusutan"}),(0,Vn.jsxs)("td",{className:"py-1 text-right",children:["(",F(Math.abs(S.fixed.accumulatedDepreciation)),")"]})]}),(0,Vn.jsxs)("tr",{className:"border-t border-gray-300",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900",children:"TOTAL ASET TIDAK LANCAR"}),(0,Vn.jsx)("td",{className:"py-2 text-right font-semibold border-t border-gray-300",children:F(S.fixed.total)})]}),(0,Vn.jsxs)("tr",{className:"border-t-2 border-gray-600",children:[(0,Vn.jsx)("td",{className:"py-3 font-bold text-base text-gray-900",children:"TOTAL ASET"}),(0,Vn.jsx)("td",{className:"py-3 text-right font-bold text-base text-blue-600",children:F((null===(w=A.balanceSheet)||void 0===w?void 0:w.totalAssets)||0)})]}),(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-bold text-base text-gray-900 pt-6",children:"KEWAJIBAN DAN EKUITAS"}),(0,Vn.jsx)("td",{className:"py-2 text-right pt-6"})]}),(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900",children:"KEWAJIBAN LANCAR"}),(0,Vn.jsx)("td",{className:"py-2 text-right"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Utang Usaha"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(E.current.accountsPayable)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Utang Bank Jangka Pendek"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(E.current.shortTermDebt)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Beban Terutang"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(E.current.accruedExpenses)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Utang Pajak"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(E.current.taxPayable)})]}),(0,Vn.jsxs)("tr",{className:"border-t border-gray-300",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900",children:"TOTAL KEWAJIBAN LANCAR"}),(0,Vn.jsx)("td",{className:"py-2 text-right font-semibold border-t border-gray-300",children:F(E.current.total)})]}),(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900 pt-4",children:"KEWAJIBAN TIDAK LANCAR"}),(0,Vn.jsx)("td",{className:"py-2 text-right pt-4"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Utang Bank Jangka Panjang"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(E.longTerm.longTermDebt)})]}),(0,Vn.jsxs)("tr",{className:"border-t border-gray-300",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900",children:"TOTAL KEWAJIBAN TIDAK LANCAR"}),(0,Vn.jsx)("td",{className:"py-2 text-right font-semibold border-t border-gray-300",children:F(E.longTerm.total)})]}),(0,Vn.jsxs)("tr",{className:"border-t border-gray-600",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900",children:"TOTAL KEWAJIBAN"}),(0,Vn.jsx)("td",{className:"py-2 text-right font-semibold text-red-600",children:F(E.totalLiabilities)})]}),(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900 pt-4",children:"EKUITAS"}),(0,Vn.jsx)("td",{className:"py-2 text-right pt-4"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Modal Saham"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(P.capital)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Saldo Laba"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:F(P.retainedEarnings)})]}),(0,Vn.jsxs)("tr",{className:"border-t border-gray-300",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900",children:"TOTAL EKUITAS"}),(0,Vn.jsx)("td",{className:"py-2 text-right font-semibold border-t border-gray-300 text-green-600",children:F(P.total)})]}),(0,Vn.jsxs)("tr",{className:"border-t-2 border-gray-800",children:[(0,Vn.jsx)("td",{className:"py-3 font-bold text-base text-gray-900",children:"TOTAL KEWAJIBAN DAN EKUITAS"}),(0,Vn.jsx)("td",{className:"py-3 text-right font-bold text-base text-emerald-600",children:F(E.totalLiabilities+P.total)})]})]})]})}),(0,Vn.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,Vn.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Vn.jsx)("span",{className:"font-semibold",children:"Verifikasi:"})," Total Aset = Total Kewajiban + Ekuitas (",F((null===(N=A.balanceSheet)||void 0===N?void 0:N.totalAssets)||0)," = ",F(E.totalLiabilities+P.total),")"]})}),(0,Vn.jsxs)("div",{className:"mt-8 print:mt-6",children:[(0,Vn.jsxs)("div",{className:"flex justify-between text-xs text-gray-600",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{children:"Disiapkan oleh:"}),(0,Vn.jsx)("div",{className:"mt-8 border-b border-gray-400 w-32"}),(0,Vn.jsx)("p",{className:"mt-1",children:"Bagian Keuangan"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{children:"Disetujui oleh:"}),(0,Vn.jsx)("div",{className:"mt-8 border-b border-gray-400 w-32"}),(0,Vn.jsx)("p",{className:"mt-1",children:"Direktur Keuangan"})]})]}),(0,Vn.jsx)("div",{className:"text-center mt-6 text-xs text-gray-500",children:(0,Vn.jsx)("p",{children:"Laporan sesuai Pernyataan Standar Akuntansi Keuangan (PSAK)"})})]})]})},Si=e=>{var t,r,n,a,s,o,i;let{data:l,onClose:c,companyInfo:d={name:"PT. NUSANTARA KONSTRUKSI",address:"Jakarta, Indonesia",period:"Untuk Tahun yang Berakhir 31 Desember 2024"}}=e;const u=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e||0),p={netIncome:(null===(t=l.incomeStatement)||void 0===t?void 0:t.netIncome)||0,adjustments:{depreciation:5e6,amortization:1e6,badDebtExpense:5e5},workingCapitalChanges:{accountsReceivable:-2e6,inventory:-15e5,prepaidExpenses:-3e5,accountsPayable:18e5,accruedExpenses:9e5},total:(null===(r=l.cashFlow)||void 0===r?void 0:r.operatingCashFlow)||0},h={equipmentPurchase:-12e6,vehiclePurchase:-5e6,investmentSales:1245e3,total:(null===(n=l.cashFlow)||void 0===n?void 0:n.investingCashFlow)||0},m={loanProceeds:5e6,loanRepayments:-25e5,dividendPayments:0,total:(null===(a=l.cashFlow)||void 0===a?void 0:a.financingCashFlow)||0},f=15e6,x=f+((null===(s=l.cashFlow)||void 0===s?void 0:s.netCashChange)||0);return(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow-lg border-2 border-purple-200 p-6 mb-6 print:shadow-none print:border-none",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Laporan Arus Kas Lengkap"}),(0,Vn.jsxs)("div",{className:"flex space-x-2",children:[(0,Vn.jsxs)("button",{onClick:()=>{window.print()},className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[(0,Vn.jsx)(ki,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:"Print"})]}),(0,Vn.jsxs)("button",{onClick:()=>{},className:"flex items-center space-x-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[(0,Vn.jsx)(Ai,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:"PDF"})]}),(0,Vn.jsx)("button",{onClick:c,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,Vn.jsx)(ja.A,{className:"w-4 h-4"})})]})]}),(0,Vn.jsxs)("div",{className:"text-center mb-6 print:mb-4",children:[(0,Vn.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-1",children:d.name}),(0,Vn.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:d.address}),(0,Vn.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mt-3",children:"LAPORAN ARUS KAS"}),(0,Vn.jsx)("h3",{className:"text-base text-gray-700",children:"(Metode Tidak Langsung)"}),(0,Vn.jsx)("p",{className:"text-gray-600 text-sm",children:d.period}),(0,Vn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"(Dinyatakan dalam Rupiah)"})]}),(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,Vn.jsx)("thead",{children:(0,Vn.jsxs)("tr",{className:"border-b-2 border-gray-800",children:[(0,Vn.jsx)("th",{className:"text-left py-2 font-semibold text-gray-900",children:"KETERANGAN"}),(0,Vn.jsx)("th",{className:"text-right py-2 font-semibold text-gray-900 w-40",children:"JUMLAH (IDR)"})]})}),(0,Vn.jsxs)("tbody",{children:[(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-bold text-base text-gray-900",children:"ARUS KAS DARI AKTIVITAS OPERASI"}),(0,Vn.jsx)("td",{className:"py-2 text-right"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Laba Bersih"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:u(p.netIncome)})]}),(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900 pt-3",children:"Penyesuaian untuk menyelaraskan laba bersih:"}),(0,Vn.jsx)("td",{className:"py-2 text-right pt-3"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-6 text-gray-700",children:"Beban Penyusutan"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:u(p.adjustments.depreciation)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-6 text-gray-700",children:"Beban Amortisasi"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:u(p.adjustments.amortization)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-6 text-gray-700",children:"Beban Piutang Ragu-ragu"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:u(p.adjustments.badDebtExpense)})]}),(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900 pt-3",children:"Perubahan dalam aset dan kewajiban operasi:"}),(0,Vn.jsx)("td",{className:"py-2 text-right pt-3"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-6 text-gray-700",children:"Piutang Usaha"}),(0,Vn.jsxs)("td",{className:"py-1 text-right",children:["(",u(Math.abs(p.workingCapitalChanges.accountsReceivable)),")"]})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-6 text-gray-700",children:"Persediaan"}),(0,Vn.jsxs)("td",{className:"py-1 text-right",children:["(",u(Math.abs(p.workingCapitalChanges.inventory)),")"]})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-6 text-gray-700",children:"Beban Dibayar di Muka"}),(0,Vn.jsxs)("td",{className:"py-1 text-right",children:["(",u(Math.abs(p.workingCapitalChanges.prepaidExpenses)),")"]})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-6 text-gray-700",children:"Utang Usaha"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:u(p.workingCapitalChanges.accountsPayable)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-6 text-gray-700",children:"Beban Terutang"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:u(p.workingCapitalChanges.accruedExpenses)})]}),(0,Vn.jsxs)("tr",{className:"border-t-2 border-gray-600",children:[(0,Vn.jsx)("td",{className:"py-3 font-bold text-gray-900",children:"KAS BERSIH DARI AKTIVITAS OPERASI"}),(0,Vn.jsx)("td",{className:"py-3 text-right font-bold text-green-600",children:u(p.total)})]}),(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-bold text-base text-gray-900 pt-6",children:"ARUS KAS DARI AKTIVITAS INVESTASI"}),(0,Vn.jsx)("td",{className:"py-2 text-right pt-6"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Pembelian Peralatan"}),(0,Vn.jsxs)("td",{className:"py-1 text-right",children:["(",u(Math.abs(h.equipmentPurchase)),")"]})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Pembelian Kendaraan"}),(0,Vn.jsxs)("td",{className:"py-1 text-right",children:["(",u(Math.abs(h.vehiclePurchase)),")"]})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Penjualan Investasi"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:u(h.investmentSales)})]}),(0,Vn.jsxs)("tr",{className:"border-t-2 border-gray-600",children:[(0,Vn.jsx)("td",{className:"py-3 font-bold text-gray-900",children:"KAS BERSIH UNTUK AKTIVITAS INVESTASI"}),(0,Vn.jsxs)("td",{className:"py-3 text-right font-bold text-red-600",children:["(",u(Math.abs(h.total)),")"]})]}),(0,Vn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Vn.jsx)("td",{className:"py-2 font-bold text-base text-gray-900 pt-6",children:"ARUS KAS DARI AKTIVITAS PENDANAAN"}),(0,Vn.jsx)("td",{className:"py-2 text-right pt-6"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Penerimaan Pinjaman Bank"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:u(m.loanProceeds)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Pembayaran Pinjaman Bank"}),(0,Vn.jsxs)("td",{className:"py-1 text-right",children:["(",u(Math.abs(m.loanRepayments)),")"]})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1 pl-4 text-gray-700",children:"Pembayaran Dividen"}),(0,Vn.jsx)("td",{className:"py-1 text-right",children:u(m.dividendPayments)})]}),(0,Vn.jsxs)("tr",{className:"border-t-2 border-gray-600",children:[(0,Vn.jsx)("td",{className:"py-3 font-bold text-gray-900",children:"KAS BERSIH DARI AKTIVITAS PENDANAAN"}),(0,Vn.jsx)("td",{className:"py-3 text-right font-bold text-blue-600",children:u(m.total)})]}),(0,Vn.jsxs)("tr",{className:"border-t-2 border-gray-800",children:[(0,Vn.jsx)("td",{className:"py-3 font-bold text-base text-gray-900",children:"KENAIKAN (PENURUNAN) BERSIH KAS"}),(0,Vn.jsx)("td",{className:"py-3 text-right font-bold text-base text-purple-600",children:u((null===(o=l.cashFlow)||void 0===o?void 0:o.netCashChange)||0)})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-2 font-semibold text-gray-900",children:"KAS DAN SETARA KAS AWAL PERIODE"}),(0,Vn.jsx)("td",{className:"py-2 text-right font-semibold",children:u(f)})]}),(0,Vn.jsxs)("tr",{className:"border-t-2 border-gray-800",children:[(0,Vn.jsx)("td",{className:"py-3 font-bold text-base text-gray-900",children:"KAS DAN SETARA KAS AKHIR PERIODE"}),(0,Vn.jsx)("td",{className:"py-3 text-right font-bold text-base text-emerald-600",children:u(x)})]})]})]})}),(0,Vn.jsxs)("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:[(0,Vn.jsx)("h4",{className:"font-semibold text-green-800 mb-1 text-sm",children:"Rekonsiliasi:"}),(0,Vn.jsxs)("div",{className:"text-sm text-green-700 space-y-1",children:[(0,Vn.jsxs)("p",{children:[(0,Vn.jsx)("span",{className:"font-medium",children:"Aktivitas Operasi:"})," ",u(p.total)]}),(0,Vn.jsxs)("p",{children:[(0,Vn.jsx)("span",{className:"font-medium",children:"Aktivitas Investasi:"})," (",u(Math.abs(h.total)),")"]}),(0,Vn.jsxs)("p",{children:[(0,Vn.jsx)("span",{className:"font-medium",children:"Aktivitas Pendanaan:"})," ",u(m.total)]}),(0,Vn.jsxs)("p",{className:"border-t pt-1 font-semibold",children:[(0,Vn.jsx)("span",{className:"font-medium",children:"Perubahan Kas Bersih:"})," ",u((null===(i=l.cashFlow)||void 0===i?void 0:i.netCashChange)||0)]})]})]}),(0,Vn.jsxs)("div",{className:"mt-8 print:mt-6",children:[(0,Vn.jsxs)("div",{className:"flex justify-between text-xs text-gray-600",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{children:"Disiapkan oleh:"}),(0,Vn.jsx)("div",{className:"mt-8 border-b border-gray-400 w-32"}),(0,Vn.jsx)("p",{className:"mt-1",children:"Bagian Keuangan"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{children:"Disetujui oleh:"}),(0,Vn.jsx)("div",{className:"mt-8 border-b border-gray-400 w-32"}),(0,Vn.jsx)("p",{className:"mt-1",children:"Direktur Keuangan"})]})]}),(0,Vn.jsx)("div",{className:"text-center mt-6 text-xs text-gray-500",children:(0,Vn.jsx)("p",{children:"Laporan sesuai PSAK No. 2"})})]})]})},Ei=e=>{let{reports:t={},loading:r=!1,activeDetailedReport:n=null,onToggleDetailedReport:a,onExport:s}=e;const{incomeStatement:o={},balanceSheet:i={},cashFlow:l={},summary:c={}}=t;return r?(0,Vn.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,Vn.jsx)("div",{className:"rounded-lg shadow-lg p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"animate-pulse",children:[(0,Vn.jsx)("div",{className:"h-4 rounded w-3/4 mb-4",style:{backgroundColor:"#38383A"}}),(0,Vn.jsxs)("div",{className:"space-y-2",children:[(0,Vn.jsx)("div",{className:"h-3 rounded",style:{backgroundColor:"#38383A"}}),(0,Vn.jsx)("div",{className:"h-3 rounded w-5/6",style:{backgroundColor:"#38383A"}}),(0,Vn.jsx)("div",{className:"h-3 rounded w-4/6",style:{backgroundColor:"#38383A"}})]})]})},e))}):(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Vn.jsxs)("div",{className:"rounded-lg shadow-lg p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-medium",style:{color:"#FFFFFF"},children:"Income Statement"}),(0,Vn.jsx)(ii,{className:"w-5 h-5",style:{color:"#636366"}})]}),(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm text-gray-600",children:"Revenue"}),(0,Vn.jsx)("span",{className:"font-semibold text-green-600",children:xi((null===o||void 0===o?void 0:o.revenue)||0)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm text-gray-600",children:"Direct Costs"}),(0,Vn.jsxs)("span",{className:"font-semibold text-red-600",children:["(",xi((null===o||void 0===o?void 0:o.directCosts)||0),")"]})]}),(0,Vn.jsxs)("div",{className:"flex justify-between border-t pt-3",children:[(0,Vn.jsx)("span",{className:"text-sm text-gray-600",children:"Gross Profit"}),(0,Vn.jsx)("span",{className:"font-semibold text-blue-600",children:xi((null===o||void 0===o?void 0:o.grossProfit)||0)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Indirect Costs"}),(0,Vn.jsxs)("span",{className:"font-semibold",style:{color:"#FF453A"},children:["(",xi((null===o||void 0===o?void 0:o.indirectCosts)||0),")"]})]}),(0,Vn.jsxs)("div",{className:"flex justify-between pt-3 font-bold",style:{borderTop:"1px solid #38383A"},children:[(0,Vn.jsx)("span",{style:{color:"#FFFFFF"},children:"Net Income"}),(0,Vn.jsx)("span",{style:{color:((null===o||void 0===o?void 0:o.netIncome)||0)>=0?"#30D158":"#FF453A"},children:xi((null===o||void 0===o?void 0:o.netIncome)||0)})]})]}),(0,Vn.jsx)("button",{onClick:()=>a("income"),className:"mt-4 w-full py-2 rounded-lg transition-colors text-sm font-medium",style:{background:"income"===n?"linear-gradient(135deg, #0A84FF 0%, #0066CC 100%)":"rgba(10, 132, 255, 0.15)",color:"income"===n?"#FFFFFF":"#0A84FF",border:"income"===n?"none":"1px solid rgba(10, 132, 255, 0.3)"},children:"income"===n?"Hide Detailed Report":"View Detailed Report"})]}),(0,Vn.jsxs)("div",{className:"rounded-lg shadow-lg p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-medium",style:{color:"#FFFFFF"},children:"Balance Sheet"}),(0,Vn.jsx)(ka,{className:"w-5 h-5 text-gray-400"})]}),(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm text-gray-600",children:"Total Assets"}),(0,Vn.jsx)("span",{className:"font-semibold text-blue-600",children:xi((null===i||void 0===i?void 0:i.totalAssets)||0)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Current Assets"}),(0,Vn.jsx)("span",{className:"font-medium",style:{color:"#FFFFFF"},children:xi((null===i||void 0===i?void 0:i.currentAssets)||0)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between pt-3",style:{borderTop:"1px solid #38383A"},children:[(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Total Liabilities"}),(0,Vn.jsx)("span",{className:"font-semibold",style:{color:"#FF453A"},children:xi((null===i||void 0===i?void 0:i.totalLiabilities)||0)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Current Liabilities"}),(0,Vn.jsx)("span",{className:"font-medium",style:{color:"#FFFFFF"},children:xi((null===i||void 0===i?void 0:i.currentLiabilities)||0)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between pt-3 font-bold",style:{borderTop:"1px solid #38383A"},children:[(0,Vn.jsx)("span",{style:{color:"#FFFFFF"},children:"Equity"}),(0,Vn.jsx)("span",{style:{color:"#30D158"},children:xi((null===i||void 0===i?void 0:i.equity)||0)})]})]}),(0,Vn.jsx)("button",{onClick:()=>a("balance"),className:"mt-4 w-full py-2 rounded-lg transition-colors text-sm font-medium",style:{background:"balance"===n?"linear-gradient(135deg, #0A84FF 0%, #0066CC 100%)":"rgba(10, 132, 255, 0.15)",color:"balance"===n?"#FFFFFF":"#0A84FF",border:"balance"===n?"none":"1px solid rgba(10, 132, 255, 0.3)"},children:"balance"===n?"Hide Detailed Report":"View Detailed Report"})]}),(0,Vn.jsxs)("div",{className:"rounded-lg shadow-lg p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-medium",style:{color:"#FFFFFF"},children:"Cash Flow Statement"}),(0,Vn.jsx)(ri,{className:"w-5 h-5 text-gray-400"})]}),(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm text-gray-600",children:"Operating Activities"}),(0,Vn.jsx)("span",{className:"font-semibold ".concat(((null===l||void 0===l?void 0:l.operating)||0)>=0?"text-green-600":"text-red-600"),children:xi((null===l||void 0===l?void 0:l.operating)||0)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm text-gray-600",children:"Investing Activities"}),(0,Vn.jsx)("span",{className:"font-semibold ".concat(((null===l||void 0===l?void 0:l.investing)||0)>=0?"text-green-600":"text-red-600"),children:xi((null===l||void 0===l?void 0:l.investing)||0)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Financing Activities"}),(0,Vn.jsx)("span",{className:"font-semibold",style:{color:((null===l||void 0===l?void 0:l.financing)||0)>=0?"#30D158":"#FF453A"},children:xi((null===l||void 0===l?void 0:l.financing)||0)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between pt-3 font-bold",style:{borderTop:"1px solid #38383A"},children:[(0,Vn.jsx)("span",{style:{color:"#FFFFFF"},children:"Net Cash Flow"}),(0,Vn.jsx)("span",{style:{color:((null===l||void 0===l?void 0:l.netCashFlow)||0)>=0?"#30D158":"#FF453A"},children:xi((null===l||void 0===l?void 0:l.netCashFlow)||0)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Cash Balance"}),(0,Vn.jsx)("span",{className:"font-semibold",style:{color:"#0A84FF"},children:xi((null===l||void 0===l?void 0:l.endingBalance)||0)})]})]}),(0,Vn.jsx)("button",{onClick:()=>a("cashflow"),className:"mt-4 w-full py-2 rounded-lg transition-colors text-sm font-medium",style:{background:"cashflow"===n?"linear-gradient(135deg, #0A84FF 0%, #0066CC 100%)":"rgba(10, 132, 255, 0.15)",color:"cashflow"===n?"#FFFFFF":"#0A84FF",border:"cashflow"===n?"none":"1px solid rgba(10, 132, 255, 0.3)"},children:"cashflow"===n?"Hide Detailed Report":"View Detailed Report"})]})]}),"income"===n&&(0,Vn.jsxs)("div",{className:"rounded-lg shadow-lg p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsx)("h3",{className:"text-xl font-semibold",style:{color:"#FFFFFF"},children:"Detailed Income Statement"}),s&&(0,Vn.jsxs)("button",{onClick:()=>s("income"),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 text-sm",children:[(0,Vn.jsx)(Ai,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:"Export"})]})]}),(0,Vn.jsx)(Ci,{data:t})]}),"balance"===n&&(0,Vn.jsxs)("div",{className:"rounded-lg shadow-lg p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsx)("h3",{className:"text-xl font-semibold",style:{color:"#FFFFFF"},children:"Detailed Balance Sheet"}),s&&(0,Vn.jsxs)("button",{onClick:()=>s("balance"),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 text-sm",children:[(0,Vn.jsx)(Ai,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:"Export"})]})]}),(0,Vn.jsx)(Fi,{data:t})]}),"cashflow"===n&&(0,Vn.jsxs)("div",{className:"rounded-lg shadow-lg p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsx)("h3",{className:"text-xl font-semibold",style:{color:"#FFFFFF"},children:"Detailed Cash Flow Statement"}),s&&(0,Vn.jsxs)("button",{onClick:()=>s("cashflow"),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 text-sm",children:[(0,Vn.jsx)(Ai,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:"Export"})]})]}),(0,Vn.jsx)(Si,{data:l})]}),c&&Object.keys(c).length>0&&(0,Vn.jsxs)("div",{className:"rounded-lg shadow-lg p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold mb-4",style:{color:"#FFFFFF"},children:"Financial Summary"}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vn.jsxs)("div",{className:"rounded-lg p-4",style:{background:"linear-gradient(135deg, rgba(10, 132, 255, 0.2) 0%, rgba(10, 132, 255, 0.1) 100%)",border:"1px solid rgba(10, 132, 255, 0.3)"},children:[(0,Vn.jsx)("p",{className:"text-sm font-medium mb-1",style:{color:"#0A84FF"},children:"Total Income"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#0A84FF"},children:xi(c.totalIncome||0)})]}),(0,Vn.jsxs)("div",{className:"rounded-lg p-4",style:{background:"linear-gradient(135deg, rgba(255, 69, 58, 0.2) 0%, rgba(255, 69, 58, 0.1) 100%)",border:"1px solid rgba(255, 69, 58, 0.3)"},children:[(0,Vn.jsx)("p",{className:"text-sm font-medium mb-1",style:{color:"#FF453A"},children:"Total Expenses"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#FF453A"},children:xi(c.totalExpense||0)})]}),(0,Vn.jsxs)("div",{className:"rounded-lg p-4",style:{background:"linear-gradient(135deg, rgba(48, 209, 88, 0.2) 0%, rgba(48, 209, 88, 0.1) 100%)",border:"1px solid rgba(48, 209, 88, 0.3)"},children:[(0,Vn.jsx)("p",{className:"text-sm font-medium mb-1",style:{color:"#30D158"},children:"Net Balance"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#30D158"},children:xi(c.balance||0)})]})]})]})]})},Pi=(0,Qn.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Di=e=>{let{taxRecords:t=[],loading:r=!1,showForm:n=!1,onToggleForm:s,formData:o,onChange:i,onSubmit:l,onCancel:c,isSubmitting:d=!1,onDelete:u,selectedTax:p,showDeleteModal:h,onConfirmDelete:m,onCancelDelete:f}=e;const[x,g]=a.useState({}),b=(e,t)=>{i(e,t),x[e]&&g(t=>{const r=(0,Mt.A)({},t);return delete r[e],r})},y=e=>({paid:"Paid",filed:"Filed",calculated:"Calculated",draft:"Draft",overdue:"Overdue"}[e]||e);return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsx)("h2",{className:"text-2xl font-semibold",style:{color:"#FFFFFF"},children:"Tax Management Dashboard"}),(0,Vn.jsxs)("button",{onClick:s,className:"px-4 py-2 rounded-lg transition-colors duration-150 flex items-center space-x-2",style:{background:n?"linear-gradient(135deg, rgba(152, 152, 157, 0.3) 0%, rgba(152, 152, 157, 0.15) 100%)":"linear-gradient(135deg, #0A84FF 0%, #0066CC 100%)",color:"#FFFFFF"},children:[(0,Vn.jsx)(Pi,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:n?"Cancel":"New Tax Filing"})]})]}),n&&(0,Vn.jsxs)("div",{className:"rounded-lg shadow-lg",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"p-6",style:{borderBottom:"1px solid #38383A"},children:[(0,Vn.jsx)("h3",{className:"text-lg font-medium",style:{color:"#FFFFFF"},children:"Create New Tax Filing"}),(0,Vn.jsx)("p",{className:"text-sm mt-1",style:{color:"#98989D"},children:"Add a new tax obligation record"})]}),(0,Vn.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=hi(o);Object.keys(t).length>0?g(t):(g({}),l(e))},className:"p-6 space-y-6",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Tax Type *"}),(0,Vn.jsxs)("select",{value:o.type,onChange:e=>b("type",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:x.type?"1px solid #FF453A":"1px solid #38383A"},required:!0,children:[(0,Vn.jsx)("option",{value:"pajak_penghasilan",children:"PPh (Pajak Penghasilan)"}),(0,Vn.jsx)("option",{value:"ppn",children:"PPN (Pajak Pertambahan Nilai)"}),(0,Vn.jsx)("option",{value:"pph21",children:"PPh 21 (Pajak Gaji)"}),(0,Vn.jsx)("option",{value:"pph23",children:"PPh 23 (Pajak Jasa)"}),(0,Vn.jsx)("option",{value:"pph4_ayat2",children:"PPh Final (Pasal 4 Ayat 2)"}),(0,Vn.jsx)("option",{value:"other",children:"Other Tax"})]}),x.type&&(0,Vn.jsx)("p",{className:"mt-1 text-sm",style:{color:"#FF453A"},children:x.type})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Tax Amount (IDR) *"}),(0,Vn.jsx)("input",{type:"number",value:o.amount,onChange:e=>b("amount",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:x.amount?"1px solid #FF453A":"1px solid #38383A"},placeholder:"0",min:"0",step:"0.01",required:!0}),x.amount&&(0,Vn.jsx)("p",{className:"mt-1 text-sm",style:{color:"#FF453A"},children:x.amount})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Tax Period (Month-Year) *"}),(0,Vn.jsx)("input",{type:"month",value:o.period,onChange:e=>b("period",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:x.period?"1px solid #FF453A":"1px solid #38383A"},required:!0}),x.period&&(0,Vn.jsx)("p",{className:"mt-1 text-sm",style:{color:"#FF453A"},children:x.period})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Payment Status *"}),(0,Vn.jsxs)("select",{value:o.status,onChange:e=>b("status",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:"1px solid #38383A"},required:!0,children:[(0,Vn.jsx)("option",{value:"draft",children:"Draft"}),(0,Vn.jsx)("option",{value:"calculated",children:"Calculated"}),(0,Vn.jsx)("option",{value:"filed",children:"Filed"}),(0,Vn.jsx)("option",{value:"paid",children:"Paid"}),(0,Vn.jsx)("option",{value:"overdue",children:"Overdue"})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Due Date"}),(0,Vn.jsx)("input",{type:"date",value:o.dueDate,onChange:e=>b("dueDate",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:"1px solid #38383A"}})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Tax Rate (%)"}),(0,Vn.jsx)("input",{type:"number",value:o.taxRate,onChange:e=>b("taxRate",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:"1px solid #38383A"},placeholder:"0",min:"0",max:"100",step:"0.01"})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Description *"}),(0,Vn.jsx)("input",{type:"text",value:o.description,onChange:e=>b("description",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:x.description?"1px solid #FF453A":"1px solid #38383A"},placeholder:"Enter tax description or notes",required:!0}),x.description&&(0,Vn.jsx)("p",{className:"mt-1 text-sm",style:{color:"#FF453A"},children:x.description})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Reference Number"}),(0,Vn.jsx)("input",{type:"text",value:o.reference,onChange:e=>b("reference",e.target.value),className:"w-full rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:"1px solid #38383A"},placeholder:"SPT number, NTPN, or other reference"})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",style:{borderTop:"1px solid #38383A"},children:[(0,Vn.jsx)("button",{type:"button",onClick:c,className:"px-4 py-2 rounded-lg transition-colors duration-150",style:{backgroundColor:"rgba(152, 152, 157, 0.15)",border:"1px solid #38383A",color:"#98989D"},disabled:d,children:"Cancel"}),(0,Vn.jsx)("button",{type:"submit",className:"px-4 py-2 rounded-lg transition-colors duration-150 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{background:"linear-gradient(135deg, #0A84FF 0%, #0066CC 100%)",color:"#FFFFFF"},disabled:d,children:d?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Vn.jsx)("span",{children:"Saving..."})]}):(0,Vn.jsx)("span",{children:"Create Tax Filing"})})]})]})]}),(0,Vn.jsx)("div",{className:"rounded-lg shadow-lg overflow-hidden",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"min-w-full",style:{borderCollapse:"collapse"},children:[(0,Vn.jsx)("thead",{style:{backgroundColor:"#1C1C1E"},children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D",borderBottom:"1px solid #38383A"},children:"Reference"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D",borderBottom:"1px solid #38383A"},children:"Tax Type"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D",borderBottom:"1px solid #38383A"},children:"Period"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",style:{color:"#98989D",borderBottom:"1px solid #38383A"},children:"Amount"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D",borderBottom:"1px solid #38383A"},children:"Status"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D",borderBottom:"1px solid #38383A"},children:"Due Date"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D",borderBottom:"1px solid #38383A"},children:"Actions"})]})}),(0,Vn.jsx)("tbody",{style:{backgroundColor:"#2C2C2E"},children:r?(0,Vn.jsx)("tr",{children:(0,Vn.jsxs)("td",{colSpan:"7",className:"px-6 py-12 text-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto",style:{borderBottomColor:"#0A84FF"}}),(0,Vn.jsx)("p",{className:"mt-2",style:{color:"#98989D"},children:"Loading tax records..."})]})}):0===t.length?(0,Vn.jsx)("tr",{children:(0,Vn.jsxs)("td",{colSpan:"7",className:"px-6 py-12 text-center",children:[(0,Vn.jsx)(li,{className:"w-12 h-12 mx-auto mb-3",style:{color:"#636366"}}),(0,Vn.jsx)("h3",{className:"text-lg font-medium mb-2",style:{color:"#FFFFFF"},children:"No Tax Records Found"}),(0,Vn.jsx)("p",{className:"mb-4",style:{color:"#98989D"},children:"No tax filings have been recorded yet."}),(0,Vn.jsxs)("button",{onClick:s,className:"px-4 py-2 rounded-lg transition-colors duration-150 flex items-center space-x-2 mx-auto",style:{background:"linear-gradient(135deg, #0A84FF 0%, #0066CC 100%)",color:"#FFFFFF"},children:[(0,Vn.jsx)(Pi,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:"Add First Tax Filing"})]})]})}):t.map(e=>{return(0,Vn.jsxs)("tr",{style:{borderBottom:"1px solid #38383A"},className:"transition-colors duration-150 hover:bg-opacity-50",onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",style:{color:"#FFFFFF"},children:e.reference||e.id}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"#FFFFFF"},children:bi(e.type)}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"#98989D"},children:e.period}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold",style:{color:"#FFFFFF"},children:xi(e.amount)}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat((t=e.status,{paid:"bg-green-100 text-green-800",filed:"bg-blue-100 text-blue-800",calculated:"bg-yellow-100 text-yellow-800",draft:"bg-gray-100 text-gray-800",overdue:"bg-red-100 text-red-800"}[t]||"bg-gray-100 text-gray-800")),children:y(e.status)})}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.dueDate?new Date(e.dueDate).toLocaleDateString("id-ID"):"-"}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Vn.jsx)("button",{onClick:()=>u(e),className:"px-3 py-1.5 rounded-lg transition-colors duration-150 hover:bg-opacity-25",style:{backgroundColor:"rgba(255, 69, 58, 0.15)",border:"1px solid #FF453A",color:"#FF453A"},children:"Delete"})})]},e.id);var t})})]})})}),h&&p&&(0,Vn.jsx)("div",{className:"mt-6 rounded-lg p-6 shadow-lg border-l-4 animate-fadeIn",style:{backgroundColor:"#2C2C2E",border:"1px solid #FF453A",borderLeftColor:"#FF453A",borderLeftWidth:"4px"},children:(0,Vn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Vn.jsx)("div",{className:"flex-shrink-0",children:(0,Vn.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(255, 69, 58, 0.15)"},children:(0,Vn.jsx)("svg",{className:"w-6 h-6",style:{color:"#FF453A"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Vn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h3",{className:"text-lg font-bold mb-2",style:{color:"#FFFFFF"},children:"Confirm Delete Tax Record"}),(0,Vn.jsx)("p",{className:"mb-4",style:{color:"#98989D"},children:"Are you sure you want to delete this tax record? This action cannot be undone."}),(0,Vn.jsx)("div",{className:"mb-4 p-4 rounded-lg",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs mb-1",style:{color:"#98989D"},children:"Tax Type"}),(0,Vn.jsx)("p",{className:"font-semibold",style:{color:"#FFFFFF"},children:bi(p.type)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs mb-1",style:{color:"#98989D"},children:"Amount"}),(0,Vn.jsx)("p",{className:"font-semibold",style:{color:"#FFFFFF"},children:xi(p.amount)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs mb-1",style:{color:"#98989D"},children:"Period"}),(0,Vn.jsx)("p",{className:"font-semibold",style:{color:"#FFFFFF"},children:p.period})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs mb-1",style:{color:"#98989D"},children:"Reference"}),(0,Vn.jsx)("p",{className:"font-semibold",style:{color:"#FFFFFF"},children:p.reference||p.id})]})]})}),(0,Vn.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,Vn.jsx)("button",{onClick:f,className:"px-4 py-2 rounded-lg transition-colors duration-150 hover:bg-opacity-20",style:{backgroundColor:"rgba(152, 152, 157, 0.15)",border:"1px solid #38383A",color:"#98989D"},children:"Cancel"}),(0,Vn.jsxs)("button",{onClick:m,className:"px-4 py-2 rounded-lg transition-colors duration-150 hover:bg-opacity-25 flex items-center space-x-2",style:{backgroundColor:"rgba(255, 69, 58, 0.15)",border:"1px solid #FF453A",color:"#FF453A"},children:[(0,Vn.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Vn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,Vn.jsx)("span",{children:"Delete Tax Record"})]})]})]})]})})]})},Oi=((0,Qn.A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),(0,Qn.A)("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),(0,Qn.A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])),Ti=(0,Qn.A)("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);function Ii(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Ii(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}const Mi=function(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Ii(e))&&(n&&(n+=" "),n+=t);return n};var _i=r(9889),Ri=r.n(_i),Bi=r(620),Li=r.n(Bi),zi=r(5268),Ui=r.n(zi),Wi=r(3097),Vi=r.n(Wi),Hi=r(9160),Ki=r.n(Hi),qi=r(9686),Gi=r.n(qi),Yi=function(e){return 0===e?0:e>0?1:-1},$i=function(e){return Li()(e)&&e.indexOf("%")===e.length-1},Ji=function(e){return Ki()(e)&&!Ui()(e)},Xi=function(e){return Ji(e)||Li()(e)},Qi=0,Zi=function(e){var t=++Qi;return"".concat(e||"").concat(t)},el=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Ji(e)&&!Li()(e))return n;if($i(e)){var s=e.indexOf("%");r=t*parseFloat(e.slice(0,s))/100}else r=+e;return Ui()(r)&&(r=n),a&&r>t&&(r=t),r},tl=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},rl=function(e,t){return Ji(e)&&Ji(t)?function(r){return e+r*(t-e)}:function(){return t}};function nl(e,t,r){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):Vi()(e,t))===r}):null}var al=function(e,t){return Ji(e)&&Ji(t)?e-t:Li()(e)&&Li()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},sl=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]},ol=r(1629),il=r.n(ol),ll=r(6686),cl=r.n(ll),dl=r(9062);function ul(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function pl(e){return pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(e)}var hl=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ml=["points","pathLength"],fl={svg:["viewBox","children"],polygon:ml,polyline:ml},xl=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gl=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,a.isValidElement)(e)&&(r=e.props),!cl()(r))return null;var n={};return Object.keys(r).forEach(function(e){xl.includes(e)&&(n[e]=t||function(t){return r[e](r,t)})}),n},bl=function(e,t,r){if(!cl()(e)||"object"!==pl(e))return null;var n=null;return Object.keys(e).forEach(function(a){var s=e[a];xl.includes(a)&&"function"===typeof s&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(s,t,r))}),n},yl=["children"],vl=["children"];function jl(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wl(e){return wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(e)}var Nl={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Al=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},kl=null,Cl=null,Fl=function e(t){if(t===kl&&Array.isArray(Cl))return Cl;var r=[];return a.Children.forEach(t,function(t){Gi()(t)||((0,dl.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))}),Cl=r,kl=t,r};function Sl(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(function(e){return Al(e)}):[Al(t)],Fl(e).forEach(function(e){var t=Vi()(e,"type.displayName")||Vi()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}function El(e,t){var r=Sl(e,t);return r&&r[0]}var Pl=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!Ji(r)||r<=0||!Ji(n)||n<=0)},Dl=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ol=function(e){return e&&e.type&&Li()(e.type)&&Dl.indexOf(e.type)>=0},Tl=function(e){return e&&"object"===wl(e)&&"clipDot"in e},Il=function(e,t,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,a.isValidElement)(e)&&(n=e.props),!cl()(n))return null;var s={};return Object.keys(n).forEach(function(e){var a;(function(e,t,r,n){var a,s=null!==(a=null===fl||void 0===fl?void 0:fl[n])&&void 0!==a?a:[];return t.startsWith("data-")||!il()(e)&&(n&&s.includes(t)||hl.includes(t))||r&&xl.includes(t)})(null===(a=n)||void 0===a?void 0:a[e],e,t,r)&&(s[e]=n[e])}),s},Ml=function e(t,r){if(t===r)return!0;var n=a.Children.count(t);if(n!==a.Children.count(r))return!1;if(0===n)return!0;if(1===n)return _l(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var o=t[s],i=r[s];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!_l(o,i))return!1}return!0},_l=function(e,t){if(Gi()(e)&&Gi()(t))return!0;if(!Gi()(e)&&!Gi()(t)){var r=e.props||{},n=r.children,a=jl(r,yl),s=t.props||{},o=s.children,i=jl(s,vl);return n&&o?ul(a,i)&&Ml(n,o):!n&&!o&&ul(a,i)}return!1},Rl=function(e,t){var r=[],n={};return Fl(e).forEach(function(e,a){if(Ol(e))r.push(e);else if(e){var s=Al(e.type),o=t[s]||{},i=o.handler,l=o.once;if(i&&(!l||!n[s])){var c=i(e,s,a);r.push(c),n[s]=!0}}}),r};function Bl(e){return Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(e)}function Ll(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(r),!0).forEach(function(t){Ul(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ll(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ul(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Bl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Bl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bl(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Vl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hl=(0,a.forwardRef)(function(e,t){var r=e.aspect,n=e.initialDimension,s=void 0===n?{width:-1,height:-1}:n,o=e.width,i=void 0===o?"100%":o,l=e.height,c=void 0===l?"100%":l,d=e.minWidth,u=void 0===d?0:d,p=e.minHeight,h=e.maxHeight,m=e.children,f=e.debounce,x=void 0===f?0:f,g=e.id,b=e.className,y=e.onResize,v=e.style,j=void 0===v?{}:v,w=(0,a.useRef)(null),N=(0,a.useRef)();N.current=y,(0,a.useImperativeHandle)(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var A=Wl((0,a.useState)({containerWidth:s.width,containerHeight:s.height}),2),k=A[0],C=A[1],F=(0,a.useCallback)(function(e,t){C(function(r){var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);(0,a.useEffect)(function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,a=r.height;F(n,a),null===(t=N.current)||void 0===t||t.call(N,n,a)};x>0&&(e=Ri()(e,x,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=w.current.getBoundingClientRect(),n=r.width,a=r.height;return F(n,a),t.observe(w.current),function(){t.disconnect()}},[F,x]);var S=(0,a.useMemo)(function(){var e=k.containerWidth,t=k.containerHeight;if(e<0||t<0)return null;sl($i(i)||$i(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,c),sl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var n=$i(i)?e:i,s=$i(c)?t:c;r&&r>0&&(n?s=n/r:s&&(n=s*r),h&&s>h&&(s=h)),sl(n>0||s>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,s,i,c,u,p,r);var o=!Array.isArray(m)&&Al(m.type).endsWith("Chart");return a.Children.map(m,function(e){return a.isValidElement(e)?(0,a.cloneElement)(e,zl({width:n,height:s},o?{style:zl({height:"100%",width:"100%",maxHeight:s,maxWidth:n},e.props.style)}:{})):e})},[r,m,c,h,p,u,k,i]);return a.createElement("div",{id:g?"".concat(g):void 0,className:Mi("recharts-responsive-container",b),style:zl(zl({},j),{},{width:i,height:c,minWidth:u,minHeight:p,maxHeight:h}),ref:w},S)}),Kl=r(6604),ql=r.n(Kl),Gl=r(7424),Yl=r.n(Gl),$l="Invariant failed";function Jl(e,t){if(!e)throw new Error($l)}var Xl=["children","width","height","viewBox","className","style","title","desc"];function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}function Zl(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ec(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,o=e.className,i=e.style,l=e.title,c=e.desc,d=Zl(e,Xl),u=s||{width:r,height:n,x:0,y:0},p=Mi("recharts-surface",o);return a.createElement("svg",Ql({},Il(d,!0,"svg"),{className:p,width:r,height:n,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),a.createElement("title",null,l),a.createElement("desc",null,c),t)}var tc=["children","className"];function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}function nc(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ac=a.forwardRef(function(e,t){var r=e.children,n=e.className,s=nc(e,tc),o=Mi("recharts-layer",n);return a.createElement("g",rc({className:o},Il(s,!0),{ref:t}),r)});function sc(e){return sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(e)}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oc.apply(this,arguments)}function ic(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return lc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(r),!0).forEach(function(t){uc(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uc(e,t,r){return t=function(e){var t=function(e,t){if("object"!=sc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=sc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sc(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pc(e){return Array.isArray(e)&&Xi(e[0])&&Xi(e[1])?e.join(" ~ "):e}var hc=function(e){var t=e.separator,r=void 0===t?" : ":t,n=e.contentStyle,s=void 0===n?{}:n,o=e.itemStyle,i=void 0===o?{}:o,l=e.labelStyle,c=void 0===l?{}:l,d=e.payload,u=e.formatter,p=e.itemSorter,h=e.wrapperClassName,m=e.labelClassName,f=e.label,x=e.labelFormatter,g=e.accessibilityLayer,b=void 0!==g&&g,y=dc({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),v=dc({margin:0},c),j=!Gi()(f),w=j?f:"",N=Mi("recharts-default-tooltip",h),A=Mi("recharts-tooltip-label",m);j&&x&&void 0!==d&&null!==d&&(w=x(f,d));var k=b?{role:"status","aria-live":"assertive"}:{};return a.createElement("div",oc({className:N,style:y},k),a.createElement("p",{className:A,style:v},a.isValidElement(w)?w:"".concat(w)),function(){if(d&&d.length){var e=(p?Yl()(d,p):d).map(function(e,t){if("none"===e.type)return null;var n=dc({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i),s=e.formatter||u||pc,o=e.value,l=e.name,c=o,p=l;if(s&&null!=c&&null!=p){var h=s(o,l,e,t,d);if(Array.isArray(h)){var m=ic(h,2);c=m[0],p=m[1]}else c=h}return a.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:n},Xi(p)?a.createElement("span",{className:"recharts-tooltip-item-name"},p):null,Xi(p)?a.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,a.createElement("span",{className:"recharts-tooltip-item-value"},c),a.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return a.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function mc(e){return mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(e)}function fc(e,t,r){return t=function(e){var t=function(e,t){if("object"!=mc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mc(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xc="recharts-tooltip-wrapper",gc={visibility:"hidden"};function bc(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Mi(xc,fc(fc(fc(fc({},"".concat(xc,"-right"),Ji(r)&&t&&Ji(t.x)&&r>=t.x),"".concat(xc,"-left"),Ji(r)&&t&&Ji(t.x)&&r<t.x),"".concat(xc,"-bottom"),Ji(n)&&t&&Ji(t.y)&&n>=t.y),"".concat(xc,"-top"),Ji(n)&&t&&Ji(t.y)&&n<t.y))}function yc(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,i=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(s&&Ji(s[n]))return s[n];var d=r[n]-i-a,u=r[n]+a;return t[n]?o[n]?d:u:o[n]?d<l[n]?Math.max(u,l[n]):Math.max(d,l[n]):u+i>l[n]+c?Math.max(d,l[n]):Math.max(u,l[n])}function vc(e){return vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(e)}function jc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jc(Object(r),!0).forEach(function(t){Sc(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Nc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ec(n.key),n)}}function Ac(e,t,r){return t=Cc(t),function(e,t){if(t&&("object"===vc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kc()?Reflect.construct(t,r||[],Cc(e).constructor):t.apply(e,r))}function kc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kc=function(){return!!e})()}function Cc(e){return Cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cc(e)}function Fc(e,t){return Fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fc(e,t)}function Sc(e,t,r){return(t=Ec(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ec(e){var t=function(e,t){if("object"!=vc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vc(t)?t:t+""}var Pc=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Sc(e=Ac(this,t,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Sc(e,"handleKeyDown",function(t){var r,n,a,s;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=e.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(a=null===(s=e.props.coordinate)||void 0===s?void 0:s.y)&&void 0!==a?a:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fc(e,t)}(t,e),r=t,n=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,s=t.animationDuration,o=t.animationEasing,i=t.children,l=t.coordinate,c=t.hasPayload,d=t.isAnimationActive,u=t.offset,p=t.position,h=t.reverseDirection,m=t.useTranslate3d,f=t.viewBox,x=t.wrapperStyle,g=function(e){var t,r,n=e.allowEscapeViewBox,a=e.coordinate,s=e.offsetTopLeft,o=e.position,i=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=yc({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:s,position:o,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=yc({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:s,position:o,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):gc,cssClasses:bc({translateX:t,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:u,position:p,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:f}),b=g.cssClasses,y=g.cssProperties,v=wc(wc({transition:d&&r?"transform ".concat(s,"ms ").concat(o):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},x);return a.createElement("div",{tabIndex:-1,className:b,style:v,ref:function(t){e.wrapperNode=t}},i)}}],n&&Nc(r.prototype,n),s&&Nc(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent),Dc={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Dc[e]},set:function(e,t){if("string"===typeof e)Dc[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(t){Dc[t]=e[t]})}}},Oc=r(977),Tc=r.n(Oc);function Ic(e,t,r){return!0===t?Tc()(e,r):il()(t)?Tc()(e,t):e}function Mc(e){return Mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(e)}function _c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(r),!0).forEach(function(t){Vc(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Bc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hc(n.key),n)}}function Lc(e,t,r){return t=Uc(t),function(e,t){if(t&&("object"===Mc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zc()?Reflect.construct(t,r||[],Uc(e).constructor):t.apply(e,r))}function zc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zc=function(){return!!e})()}function Uc(e){return Uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Uc(e)}function Wc(e,t){return Wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wc(e,t)}function Vc(e,t,r){return(t=Hc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hc(e){var t=function(e,t){if("object"!=Mc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mc(t)?t:t+""}function Kc(e){return e.dataKey}var qc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lc(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wc(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,s=t.animationDuration,o=t.animationEasing,i=t.content,l=t.coordinate,c=t.filterNull,d=t.isAnimationActive,u=t.offset,p=t.payload,h=t.payloadUniqBy,m=t.position,f=t.reverseDirection,x=t.useTranslate3d,g=t.viewBox,b=t.wrapperStyle,y=null!==p&&void 0!==p?p:[];c&&y.length&&(y=Ic(p.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),h,Kc));var v=y.length>0;return a.createElement(Pc,{allowEscapeViewBox:n,animationDuration:s,animationEasing:o,isAnimationActive:d,active:r,coordinate:l,hasPayload:v,offset:u,position:m,reverseDirection:f,useTranslate3d:x,viewBox:g,wrapperStyle:b},function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):"function"===typeof e?a.createElement(e,t):a.createElement(hc,t)}(i,Rc(Rc({},this.props),{},{payload:y})))}}],n&&Bc(r.prototype,n),s&&Bc(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);Vc(qc,"displayName","Tooltip"),Vc(qc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Dc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Gc=r(643),Yc=r.n(Gc);Math.abs,Math.atan2;const $c=Math.cos,Jc=(Math.max,Math.min,Math.sin),Xc=Math.sqrt,Qc=Math.PI,Zc=2*Qc;const ed={draw(e,t){const r=Xc(t/Qc);e.moveTo(r,0),e.arc(0,0,r,0,Zc)}},td={draw(e,t){const r=Xc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},rd=Xc(1/3),nd=2*rd,ad={draw(e,t){const r=Xc(t/nd),n=r*rd;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},sd={draw(e,t){const r=Xc(t),n=-r/2;e.rect(n,n,r,r)}},od=Jc(Qc/10)/Jc(7*Qc/10),id=Jc(Zc/10)*od,ld=-$c(Zc/10)*od,cd={draw(e,t){const r=Xc(.8908130915292852*t),n=id*r,a=ld*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const t=Zc*s/5,o=$c(t),i=Jc(t);e.lineTo(i*r,-o*r),e.lineTo(o*n-i*a,i*n+o*a)}e.closePath()}},dd=Xc(3),ud={draw(e,t){const r=-Xc(t/(3*dd));e.moveTo(0,2*r),e.lineTo(-dd*r,-r),e.lineTo(dd*r,-r),e.closePath()}},pd=-.5,hd=Xc(3)/2,md=1/Xc(12),fd=3*(md/2+1),xd={draw(e,t){const r=Xc(t/fd),n=r/2,a=r*md,s=n,o=r*md+r,i=-s,l=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(i,l),e.lineTo(pd*n-hd*a,hd*n+pd*a),e.lineTo(pd*s-hd*o,hd*s+pd*o),e.lineTo(pd*i-hd*l,hd*i+pd*l),e.lineTo(pd*n+hd*a,pd*a-hd*n),e.lineTo(pd*s+hd*o,pd*o-hd*s),e.lineTo(pd*i+hd*l,pd*l-hd*i),e.closePath()}};function gd(e){return function(){return e}}var bd,yd,vd,jd,wd,Nd,Ad,kd,Cd,Fd,Sd,Ed,Pd,Dd;const Od=Math.PI,Td=2*Od,Id=1e-6,Md=Td-Id;function _d(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class Rd{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?_d:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return _d;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append(bd||(bd=Er(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(yd||(yd=Er(["Z"]))))}lineTo(e,t){this._append(vd||(vd=Er(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,r,n){this._append(jd||(jd=Er(["Q",",",",",",",""])),+e,+t,this._x1=+r,this._y1=+n)}bezierCurveTo(e,t,r,n,a,s){this._append(wd||(wd=Er(["C",",",",",",",",",",",""])),+e,+t,+r,+n,this._x1=+a,this._y1=+s)}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error("negative radius: ".concat(a));let s=this._x1,o=this._y1,i=r-e,l=n-t,c=s-e,d=o-t,u=c*c+d*d;if(null===this._x1)this._append(Nd||(Nd=Er(["M",",",""])),this._x1=e,this._y1=t);else if(u>Id)if(Math.abs(d*i-l*c)>Id&&a){let p=r-s,h=n-o,m=i*i+l*l,f=p*p+h*h,x=Math.sqrt(m),g=Math.sqrt(u),b=a*Math.tan((Od-Math.acos((m+u-f)/(2*x*g)))/2),y=b/g,v=b/x;Math.abs(y-1)>Id&&this._append(kd||(kd=Er(["L",",",""])),e+y*c,t+y*d),this._append(Cd||(Cd=Er(["A",",",",0,0,",",",",",""])),a,a,+(d*p>c*h),this._x1=e+v*i,this._y1=t+v*l)}else this._append(Ad||(Ad=Er(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,r,n,a,s){if(e=+e,t=+t,s=!!s,(r=+r)<0)throw new Error("negative radius: ".concat(r));let o=r*Math.cos(n),i=r*Math.sin(n),l=e+o,c=t+i,d=1^s,u=s?n-a:a-n;null===this._x1?this._append(Fd||(Fd=Er(["M",",",""])),l,c):(Math.abs(this._x1-l)>Id||Math.abs(this._y1-c)>Id)&&this._append(Sd||(Sd=Er(["L",",",""])),l,c),r&&(u<0&&(u=u%Td+Td),u>Md?this._append(Ed||(Ed=Er(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),r,r,d,e-o,t-i,r,r,d,this._x1=l,this._y1=c):u>Id&&this._append(Pd||(Pd=Er(["A",",",",0,",",",",",",",""])),r,r,+(u>=Od),d,this._x1=e+r*Math.cos(a),this._y1=t+r*Math.sin(a)))}rect(e,t,r,n){this._append(Dd||(Dd=Er(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,r=+r,+n,-r)}toString(){return this._}}function Bd(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError("invalid digits: ".concat(r));t=e}return e},()=>new Rd(t)}Xc(3),Xc(3);function Ld(e){return Ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(e)}var zd=["type","size","sizeType"];function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(this,arguments)}function Wd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wd(Object(r),!0).forEach(function(t){Hd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Hd(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Ld(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ld(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ld(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kd(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var qd={symbolCircle:ed,symbolCross:td,symbolDiamond:ad,symbolSquare:sd,symbolStar:cd,symbolTriangle:ud,symbolWye:xd},Gd=Math.PI/180,Yd=function(e){var t=e.type,r=void 0===t?"circle":t,n=e.size,s=void 0===n?64:n,o=e.sizeType,i=void 0===o?"area":o,l=Vd(Vd({},Kd(e,zd)),{},{type:r,size:s,sizeType:i}),c=l.className,d=l.cx,u=l.cy,p=Il(l,!0);return d===+d&&u===+u&&s===+s?a.createElement("path",Ud({},p,{className:Mi("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:function(){var e=function(e){var t="symbol".concat(Yc()(e));return qd[t]||ed}(r),t=function(e,t){let r=null,n=Bd(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"===typeof e?e:gd(e||ed),t="function"===typeof t?t:gd(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:gd(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:gd(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(e).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*Gd;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,i,r));return t()}()})):null};function $d(e){return $d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(e)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jd.apply(this,arguments)}function Xd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,au(n.key),n)}}function Zd(e,t,r){return t=tu(t),function(e,t){if(t&&("object"===$d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eu()?Reflect.construct(t,r||[],tu(e).constructor):t.apply(e,r))}function eu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eu=function(){return!!e})()}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tu(e)}function ru(e,t){return ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ru(e,t)}function nu(e,t,r){return(t=au(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function au(e){var t=function(e,t){if("object"!=$d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$d(t)?t:t+""}Yd.registerSymbol=function(e,t){qd["symbol".concat(Yc()(e))]=t};var su=32,ou=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zd(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ru(e,t)}(t,e),r=t,n=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,n=su/6,s=su/3,o=e.inactive?t:e.color;if("plainline"===e.type)return a.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:su,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return a.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(r,"h").concat(s,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*s,",").concat(r,"\n            H").concat(su,"M").concat(2*s,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(s,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return a.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(su,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(a.isValidElement(e.legendIcon)){var i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xd(Object(r),!0).forEach(function(t){nu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete i.legendIcon,a.cloneElement(e.legendIcon,i)}return a.createElement(Yd,{fill:o,cx:r,cy:r,size:su,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,n=t.iconSize,s=t.layout,o=t.formatter,i=t.inactiveColor,l={x:0,y:0,width:su,height:su},c={display:"horizontal"===s?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(t,r){var s=t.formatter||o,u=Mi(nu(nu({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var p=il()(t.value)?null:t.value;sl(!il()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=t.inactive?i:t.color;return a.createElement("li",Jd({className:u,style:c,key:"legend-item-".concat(r)},bl(e.props,t,r)),a.createElement(ec,{width:n,height:n,viewBox:l,style:d},e.renderIcon(t)),a.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},s?s(p,t,r):p))})}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,n=e.align;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return a.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}],n&&Qd(r.prototype,n),s&&Qd(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);function iu(e){return iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(e)}nu(ou,"displayName","Legend"),nu(ou,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var lu=["ref"];function cu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function du(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(r),!0).forEach(function(t){xu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gu(n.key),n)}}function pu(e,t,r){return t=mu(t),function(e,t){if(t&&("object"===iu(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hu()?Reflect.construct(t,r||[],mu(e).constructor):t.apply(e,r))}function hu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hu=function(){return!!e})()}function mu(e){return mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mu(e)}function fu(e,t){return fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fu(e,t)}function xu(e,t,r){return(t=gu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gu(e){var t=function(e,t){if("object"!=iu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=iu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iu(t)?t:t+""}function bu(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yu(e){return e.value}var vu=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return xu(e=pu(this,t,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fu(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?du({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,s=n.align,o=n.verticalAlign,i=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===s&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===s?{right:i&&i.right||0}:{left:i&&i.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:i&&i.bottom||0}:{top:i&&i.top||0}),du(du({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,n=t.width,s=t.height,o=t.wrapperStyle,i=t.payloadUniqBy,l=t.payload,c=du(du({position:"absolute",width:n||"auto",height:s||"auto"},this.getDefaultPosition(o)),o);return a.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(a.isValidElement(e))return a.cloneElement(e,t);if("function"===typeof e)return a.createElement(e,t);t.ref;var r=bu(t,lu);return a.createElement(ou,r)}(r,du(du({},this.props),{},{payload:Ic(l,i,yu)})))}}],s=[{key:"getWithHeight",value:function(e,t){var r=du(du({},this.defaultProps),e.props).layout;return"vertical"===r&&Ji(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],n&&uu(r.prototype,n),s&&uu(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ju.apply(this,arguments)}xu(vu,"displayName","Legend"),xu(vu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var wu=function(e){var t=e.cx,r=e.cy,n=e.r,s=e.className,o=Mi("recharts-dot",s);return t===+t&&r===+r&&n===+n?a.createElement("circle",ju({},Il(e,!1),gl(e),{className:o,cx:t,cy:r,r:n})):null},Nu=r(5173),Au=r.n(Nu),ku=Object.getOwnPropertyNames,Cu=Object.getOwnPropertySymbols,Fu=Object.prototype.hasOwnProperty;function Su(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function Eu(e){return function(t,r,n){if(!t||!r||"object"!==typeof t||"object"!==typeof r)return e(t,r,n);var a=n.cache,s=a.get(t),o=a.get(r);if(s&&o)return s===r&&o===t;a.set(t,r),a.set(r,t);var i=e(t,r,n);return a.delete(t),a.delete(r),i}}function Pu(e){return ku(e).concat(Cu(e))}var Du=Object.hasOwn||function(e,t){return Fu.call(e,t)};function Ou(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Tu=Object.getOwnPropertyDescriptor,Iu=Object.keys;function Mu(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function _u(e,t){return Ou(e.getTime(),t.getTime())}function Ru(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Bu(e,t){return e===t}function Lu(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,s,o=new Array(n),i=e.entries(),l=0;(a=i.next())&&!a.done;){for(var c=t.entries(),d=!1,u=0;(s=c.next())&&!s.done;)if(o[u])u++;else{var p=a.value,h=s.value;if(r.equals(p[0],h[0],l,u,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){d=o[u]=!0;break}u++}if(!d)return!1;l++}return!0}var zu=Ou;function Uu(e,t,r){var n=Iu(e),a=n.length;if(Iu(t).length!==a)return!1;for(;a-- >0;)if(!Yu(e,t,r,n[a]))return!1;return!0}function Wu(e,t,r){var n,a,s,o=Pu(e),i=o.length;if(Pu(t).length!==i)return!1;for(;i-- >0;){if(!Yu(e,t,r,n=o[i]))return!1;if(a=Tu(e,n),s=Tu(t,n),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable))return!1}return!0}function Vu(e,t){return Ou(e.valueOf(),t.valueOf())}function Hu(e,t){return e.source===t.source&&e.flags===t.flags}function Ku(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,s,o=new Array(n),i=e.values();(a=i.next())&&!a.done;){for(var l=t.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!o[d]&&r.equals(a.value,s.value,a.value,s.value,e,t,r)){c=o[d]=!0;break}d++}if(!c)return!1}return!0}function qu(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Gu(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Yu(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||Du(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var $u=Array.isArray,Ju="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Xu=Object.assign,Qu=Object.prototype.toString.call.bind(Object.prototype.toString);var Zu=ep();ep({strict:!0}),ep({circular:!0}),ep({circular:!0,strict:!0}),ep({createInternalComparator:function(){return Ou}}),ep({strict:!0,createInternalComparator:function(){return Ou}}),ep({circular:!0,createInternalComparator:function(){return Ou}}),ep({circular:!0,createInternalComparator:function(){return Ou},strict:!0});function ep(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,s=e.createState,o=e.strict,i=void 0!==o&&o,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Wu:Mu,areDatesEqual:_u,areErrorsEqual:Ru,areFunctionsEqual:Bu,areMapsEqual:n?Su(Lu,Wu):Lu,areNumbersEqual:zu,areObjectsEqual:n?Wu:Uu,arePrimitiveWrappersEqual:Vu,areRegExpsEqual:Hu,areSetsEqual:n?Su(Ku,Wu):Ku,areTypedArraysEqual:n?Wu:qu,areUrlsEqual:Gu};if(r&&(a=Xu({},a,r(a))),t){var s=Eu(a.areArraysEqual),o=Eu(a.areMapsEqual),i=Eu(a.areObjectsEqual),l=Eu(a.areSetsEqual);a=Xu({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,i=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(e,h,m){if(e===h)return!0;if(null==e||null==h)return!1;var f=typeof e;if(f!==typeof h)return!1;if("object"!==f)return"number"===f?o(e,h,m):"function"===f&&a(e,h,m);var x=e.constructor;if(x!==h.constructor)return!1;if(x===Object)return i(e,h,m);if($u(e))return t(e,h,m);if(null!=Ju&&Ju(e))return u(e,h,m);if(x===Date)return r(e,h,m);if(x===RegExp)return c(e,h,m);if(x===Map)return s(e,h,m);if(x===Set)return d(e,h,m);var g=Qu(e);return"[object Date]"===g?r(e,h,m):"[object RegExp]"===g?c(e,h,m):"[object Map]"===g?s(e,h,m):"[object Set]"===g?d(e,h,m):"[object Object]"===g?"function"!==typeof e.then&&"function"!==typeof h.then&&i(e,h,m):"[object URL]"===g?p(e,h,m):"[object Error]"===g?n(e,h,m):"[object Arguments]"===g?i(e,h,m):("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)&&l(e,h,m)}}(l),d=a?a(c):(t=c,function(e,r,n,a,s,o,i){return t(e,r,i)});return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(e,o){var i=n(),l=i.cache,c=void 0===l?t?new WeakMap:void 0:l,d=i.meta;return r(e,o,{cache:c,equals:a,meta:d,strict:s})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(e,t){return r(e,t,o)}}({circular:n,comparator:c,createState:s,equals:d,strict:i})}function tp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame(function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)})}function rp(e){return rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(e)}function np(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ap(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ap(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sp(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=np(n),s=a[0],o=a.slice(1);return"number"===typeof s?void tp(r.bind(null,o),s):(r(s),void tp(r.bind(null,o)))}"object"===rp(n)&&e(n),"function"===typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function op(e){return op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(e)}function ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ip(Object(r),!0).forEach(function(t){cp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ip(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cp(e,t,r){return t=function(e){var t=function(e,t){if("object"!==op(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==op(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===op(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dp=function(e){return e},up=function(e,t){return Object.keys(t).reduce(function(r,n){return lp(lp({},r),{},cp({},n,e(n,t[n])))},{})},pp=function(e,t,r){return e.map(function(e){return"".concat((n=e,n.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(r);var n}).join(",")};function hp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||fp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mp(e){return function(e){if(Array.isArray(e))return xp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fp(e,t){if(e){if("string"===typeof e)return xp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xp(e,t):void 0}}function xp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gp=1e-4,bp=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},yp=function(e,t){return e.map(function(e,r){return e*Math.pow(t,r)}).reduce(function(e,t){return e+t})},vp=function(e,t){return function(r){var n=bp(e,t);return yp(n,r)}},jp=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],s=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,s=1,o=1;break;case"ease":n=.25,a=.1,s=.25,o=1;break;case"ease-in":n=.42,a=0,s=1,o=1;break;case"ease-out":n=.42,a=0,s=.58,o=1;break;case"ease-in-out":n=0,a=0,s=.58,o=1;break;default:var i=t[0].split("(");if("cubic-bezier"===i[0]&&4===i[1].split(")")[0].split(",").length){var l=hp(i[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);n=l[0],a=l[1],s=l[2],o=l[3]}}[n,s,a,o].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var c,d,u=vp(n,s),p=vp(a,o),h=(c=n,d=s,function(e){var t=bp(c,d),r=[].concat(mp(t.map(function(e,t){return e*t}).slice(1)),[0]);return yp(r,e)}),m=function(e){return e>1?1:e<0?0:e},f=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=u(r)-t,s=h(r);if(Math.abs(a-t)<gp||s<gp)return p(r);r=m(r-a/s)}return p(r)};return f.isStepper=!1,f},wp=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"===typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jp(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,s=e.dt,o=void 0===s?17:s,i=function(e,t,n){var s=n+(-(e-t)*r-n*a)*o/1e3,i=n*o/1e3+e;return Math.abs(i-t)<gp&&Math.abs(s)<gp?[t,0]:[i,s]};return i.isStepper=!0,i.dt=o,i}();default:if("cubic-bezier"===n.split("(")[0])return jp(n)}return"function"===typeof n?n:null};function Np(e){return Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(e)}function Ap(e){return function(e){if(Array.isArray(e))return Pp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ep(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Cp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kp(Object(r),!0).forEach(function(t){Fp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fp(e,t,r){return t=function(e){var t=function(e,t){if("object"!==Np(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Np(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Np(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||Ep(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ep(e,t){if(e){if("string"===typeof e)return Pp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pp(e,t):void 0}}function Pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Dp=function(e,t,r){return e+(t-e)*r},Op=function(e){return e.from!==e.to},Tp=function e(t,r,n){var a=up(function(e,r){if(Op(r)){var n=Sp(t(r.from,r.to,r.velocity),2),a=n[0],s=n[1];return Cp(Cp({},r),{},{from:a,velocity:s})}return r},r);return n<1?up(function(e,t){return Op(t)?Cp(Cp({},t),{},{velocity:Dp(t.velocity,a[e].velocity,n),from:Dp(t.from,a[e].from,n)}):t},r):e(t,a,n-1)};const Ip=function(e,t,r,n,a){var s,o,i,l,c=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),d=c.reduce(function(r,n){return Cp(Cp({},r),{},Fp({},n,[e[n],t[n]]))},{}),u=c.reduce(function(r,n){return Cp(Cp({},r),{},Fp({},n,{from:e[n],velocity:0,to:t[n]}))},{}),p=-1,h=function(){return null};return h=r.isStepper?function(n){i||(i=n);var s=(n-i)/r.dt;u=Tp(r,u,s),a(Cp(Cp(Cp({},e),t),up(function(e,t){return t.from},u))),i=n,Object.values(u).filter(Op).length&&(p=requestAnimationFrame(h))}:function(s){l||(l=s);var o=(s-l)/n,i=up(function(e,t){return Dp.apply(void 0,Ap(t).concat([r(o)]))},d);if(a(Cp(Cp(Cp({},e),t),i)),o<1)p=requestAnimationFrame(h);else{var c=up(function(e,t){return Dp.apply(void 0,Ap(t).concat([r(1)]))},d);a(Cp(Cp(Cp({},e),t),c))}},function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(p)}}};function Mp(e){return Mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(e)}var _p=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Rp(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bp(e){return function(e){if(Array.isArray(e))return Lp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Lp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Up(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zp(Object(r),!0).forEach(function(t){Wp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wp(e,t,r){return(t=Hp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hp(n.key),n)}}function Hp(e){var t=function(e,t){if("object"!==Mp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Mp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Mp(t)?t:String(t)}function Kp(e,t){return Kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kp(e,t)}function qp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Pr){return!1}}();return function(){var r,n=$p(e);if(t){var a=$p(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Gp(this,r)}}function Gp(e,t){if(t&&("object"===Mp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yp(e)}function Yp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$p(e)}var Jp=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kp(e,t)}(o,e);var t,r,n,s=qp(o);function o(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(r=s.call(this,e,t)).props,a=n.isActive,i=n.attributeName,l=n.from,c=n.to,d=n.steps,u=n.children,p=n.duration;if(r.handleStyleChange=r.handleStyleChange.bind(Yp(r)),r.changeStyle=r.changeStyle.bind(Yp(r)),!a||p<=0)return r.state={style:{}},"function"===typeof u&&(r.state={style:c}),Gp(r);if(d&&d.length)r.state={style:d[0].style};else if(l){if("function"===typeof u)return r.state={style:l},Gp(r);r.state={style:i?Wp({},i,l):l}}else r.state={style:{}};return r}return t=o,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,s=t.shouldReAnimate,o=t.to,i=t.from,l=this.state.style;if(n)if(r){if(!(Zu(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||s?i:e.to;if(this.state&&l){var u={style:a?Wp({},a,d):d};(a&&l[a]!==d||!a&&l!==d)&&this.setState(u)}this.runAnimation(Up(Up({},this.props),{},{from:d,begin:0}))}}else{var p={style:a?Wp({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(p)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,s=e.easing,o=e.begin,i=e.onAnimationEnd,l=e.onAnimationStart,c=Ip(r,n,wp(s),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,i])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,s=r[0],o=s.style,i=s.duration,l=void 0===i?0:i;return this.manager.start([a].concat(Bp(r.reduce(function(e,n,a){if(0===a)return e;var s=n.duration,o=n.easing,i=void 0===o?"ease":o,l=n.style,c=n.properties,d=n.onAnimationEnd,u=a>0?r[a-1]:n,p=c||Object.keys(l);if("function"===typeof i||"spring"===i)return[].concat(Bp(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:s,easing:i}),s]);var h=pp(p,s,i),m=Up(Up(Up({},u.style),l),{},{transition:h});return[].concat(Bp(e),[m,s,d]).filter(dp)},[o,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=sp());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,s=e.easing,o=e.onAnimationStart,i=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!==typeof s&&"function"!==typeof c&&"spring"!==s)if(l.length>1)this.runStepAnimation(e);else{var u=n?Wp({},n,a):a,p=pp(Object.keys(u),r,s);d.start([o,t,Up(Up({},u),{},{transition:p}),r,i])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.begin,e.duration),n=(e.attributeName,e.easing,e.isActive),s=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,Rp(e,_p)),o=a.Children.count(t),i=this.state.style;if("function"===typeof t)return t(i);if(!n||0===o||r<=0)return t;var l=function(e){var t=e.props,r=t.style,n=void 0===r?{}:r,o=t.className;return(0,a.cloneElement)(e,Up(Up({},s),{},{style:Up(Up({},n),i),className:o}))};return 1===o?l(a.Children.only(t)):a.createElement("div",null,a.Children.map(t,function(e){return l(e)}))}}],r&&Vp(t.prototype,r),n&&Vp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(a.PureComponent);Jp.displayName="Animate",Jp.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Jp.propTypes={from:Au().oneOfType([Au().object,Au().string]),to:Au().oneOfType([Au().object,Au().string]),attributeName:Au().string,duration:Au().number,begin:Au().number,easing:Au().oneOfType([Au().string,Au().func]),steps:Au().arrayOf(Au().shape({duration:Au().number.isRequired,style:Au().object.isRequired,easing:Au().oneOfType([Au().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Au().func]),properties:Au().arrayOf("string"),onAnimationEnd:Au().func})),children:Au().oneOfType([Au().node,Au().func]),isActive:Au().bool,canBegin:Au().bool,onAnimationEnd:Au().func,shouldReAnimate:Au().bool,onAnimationStart:Au().func,onAnimationReStart:Au().func};const Xp=Jp;function Qp(e){return Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(e)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(this,arguments)}function eh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return th(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return th(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function th(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rh(Object(r),!0).forEach(function(t){ah(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ah(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Qp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Qp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qp(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sh=function(e,t,r,n,a){var s,o=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=a[u]>o?o:a[u];s="M".concat(e,",").concat(t+i*d[0]),d[0]>0&&(s+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),s+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(s+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+i*d[1])),s+="L ".concat(e+r,",").concat(t+n-i*d[2]),d[2]>0&&(s+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+r-l*d[2],",").concat(t+n)),s+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(s+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-i*d[3])),s+="Z"}else if(o>0&&a===+a&&a>0){var p=Math.min(o,a);s="M ".concat(e,",").concat(t+i*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,"\n            L ").concat(e+r-l*p,",").concat(t,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*p,"\n            L ").concat(e+r,",").concat(t+n-i*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-l*p,",").concat(t+n,"\n            L ").concat(e+l*p,",").concat(t+n,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*p," Z")}else s="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return s},oh=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,s=t.y,o=t.width,i=t.height;if(Math.abs(o)>0&&Math.abs(i)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),d=Math.min(s,s+i),u=Math.max(s,s+i);return r>=l&&r<=c&&n>=d&&n<=u}return!1},ih={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lh=function(e){var t=nh(nh({},ih),e),r=(0,a.useRef)(),n=eh((0,a.useState)(-1),2),s=n[0],o=n[1];(0,a.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}},[]);var i=t.x,l=t.y,c=t.width,d=t.height,u=t.radius,p=t.className,h=t.animationEasing,m=t.animationDuration,f=t.animationBegin,x=t.isAnimationActive,g=t.isUpdateAnimationActive;if(i!==+i||l!==+l||c!==+c||d!==+d||0===c||0===d)return null;var b=Mi("recharts-rectangle",p);return g?a.createElement(Xp,{canBegin:s>0,from:{width:c,height:d,x:i,y:l},to:{width:c,height:d,x:i,y:l},duration:m,animationEasing:h,isActive:g},function(e){var n=e.width,o=e.height,i=e.x,l=e.y;return a.createElement(Xp,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:m,isActive:x,easing:h},a.createElement("path",Zp({},Il(t,!0),{className:b,d:sh(i,l,n,o,u),ref:r})))}):a.createElement("path",Zp({},Il(t,!0),{className:b,d:sh(i,l,c,d,u)}))};function ch(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function dh(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class uh extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fh;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(ph(this,e))}has(e){return super.has(ph(this,e))}set(e,t){return super.set(hh(this,e),t)}delete(e){return super.delete(mh(this,e))}}Set;function ph(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):t}function hh(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):(r.set(a,t),t)}function mh(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)&&(t=r.get(a),r.delete(a)),t}function fh(e){return null!==e&&"object"===typeof e?e.valueOf():e}const xh=Symbol("implicit");function gh(){var e=new uh,t=[],r=[],n=xh;function a(a){let s=e.get(a);if(void 0===s){if(n!==xh)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new uh;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return gh(t,r).unknown(n)},ch.apply(a,arguments),a}function bh(){var e,t,r=gh().unknown(void 0),n=r.domain,a=r.range,s=0,o=1,i=!1,l=0,c=0,d=.5;function u(){var r=n().length,u=o<s,p=u?o:s,h=u?s:o;e=(h-p)/Math.max(1,r-l+2*c),i&&(e=Math.floor(e)),p+=(h-p-e*(r-l))*d,t=e*(1-l),i&&(p=Math.round(p),t=Math.round(t));var m=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),s=new Array(a);++n<a;)s[n]=e+n*r;return s}(r).map(function(t){return p+e*t});return a(u?m.reverse():m)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),u()):n()},r.range=function(e){return arguments.length?([s,o]=e,s=+s,o=+o,u()):[s,o]},r.rangeRound=function(e){return[s,o]=e,s=+s,o=+o,i=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(i=!!e,u()):i},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return bh(n(),[s,o]).round(i).paddingInner(l).paddingOuter(c).align(d)},ch.apply(u(),arguments)}function yh(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return yh(t())},e}function vh(){return yh(bh.apply(null,arguments).paddingInner(1))}function jh(e){return jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(e)}function wh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wh(Object(r),!0).forEach(function(t){Ah(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ah(e,t,r){return t=function(e){var t=function(e,t){if("object"!=jh(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jh(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kh={widthCache:{},cacheCount:0},Ch={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Fh="recharts_measurement_span";var Sh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Dc.isSsr)return{width:0,height:0};var r=function(e){var t=Nh({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),n=JSON.stringify({text:e,copyStyle:r});if(kh.widthCache[n])return kh.widthCache[n];try{var a=document.getElementById(Fh);a||((a=document.createElement("span")).setAttribute("id",Fh),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Nh(Nh({},Ch),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),i={width:o.width,height:o.height};return kh.widthCache[n]=i,++kh.cacheCount>2e3&&(kh.cacheCount=0,kh.widthCache={}),i}catch(Pr){return{width:0,height:0}}};function Eh(e){return Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(e)}function Ph(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Dh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Th(n.key),n)}}function Th(e){var t=function(e,t){if("object"!=Eh(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Eh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Eh(t)?t:t+""}var Ih=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mh=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_h=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rh=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Bh={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Lh=Object.keys(Bh),zh="NaN";var Uh=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||_h.test(r)||(this.num=NaN,this.unit=""),Lh.includes(r)&&(this.num=function(e,t){return e*Bh[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=Ph(null!==(r=Rh.exec(t))&&void 0!==r?r:[],3),a=n[1],s=n[2];return new e(parseFloat(a),null!==s&&void 0!==s?s:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Oh(t.prototype,r),n&&Oh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function Wh(e){if(e.includes(zh))return zh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=Ph(null!==(r=Ih.exec(t))&&void 0!==r?r:[],4),a=n[1],s=n[2],o=n[3],i=Uh.parse(null!==a&&void 0!==a?a:""),l=Uh.parse(null!==o&&void 0!==o?o:""),c="*"===s?i.multiply(l):i.divide(l);if(c.isNaN())return zh;t=t.replace(Ih,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=Ph(null!==(d=Mh.exec(t))&&void 0!==d?d:[],4),p=u[1],h=u[2],m=u[3],f=Uh.parse(null!==p&&void 0!==p?p:""),x=Uh.parse(null!==m&&void 0!==m?m:""),g="+"===h?f.add(x):f.subtract(x);if(g.isNaN())return zh;t=t.replace(Mh,g.toString())}return t}var Vh=/\(([^()]*)\)/;function Hh(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=Ph(Vh.exec(t),2)[1];t=t.replace(Vh,Wh(r))}return t}(t),t=Wh(t)}function Kh(e){var t=function(e){try{return Hh(e)}catch(Pr){return zh}}(e.slice(5,-1));return t===zh?"":t}var qh=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Gh=["dx","dy","angle","className","breakAll"];function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yh.apply(this,arguments)}function $h(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Xh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qh=/[ \f\n\r\t\v\u2028\u2029]+/,Zh=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];return Gi()(t)||(a=r?t.toString().split(""):t.toString().split(Qh)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:Sh(e,n).width}}),spaceWidth:r?0:Sh("\xa0",n).width}}catch(Pr){return null}},em=function(e){return[{words:Gi()(e)?[]:e.toString().split(Qh)}]},tm=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((t||r)&&!Dc.isSsr){var i=Zh({breakAll:s,children:n,style:a});return i?function(e,t,r,n,a){var s=e.maxLines,o=e.children,i=e.style,l=e.breakAll,c=Ji(s),d=o,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var s=t.word,o=t.width,i=e[e.length-1];if(i&&(null==n||a||i.width+o+r<Number(n)))i.words.push(s),i.width+=o+r;else{var l={words:[s],width:o};e.push(l)}return e},[])},p=u(t);if(!c)return p;for(var h,m=function(e){var t=d.slice(0,e),r=Zh({breakAll:l,style:i,children:t+"\u2026"}).wordsWithComputedWidth,a=u(r),o=a.length>s||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(n);return[o,a]},f=0,x=d.length-1,g=0;f<=x&&g<=d.length-1;){var b=Math.floor((f+x)/2),y=Jh(m(b-1),2),v=y[0],j=y[1],w=Jh(m(b),1)[0];if(v||w||(f=b+1),v&&w&&(x=b-1),!v&&w){h=j;break}g++}return h||p}({breakAll:s,children:n,maxLines:o,style:a},i.wordsWithComputedWidth,i.spaceWidth,t,r):em(n)}return em(n)},rm="#808080",nm=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,s=void 0===n?0:n,o=e.lineHeight,i=void 0===o?"1em":o,l=e.capHeight,c=void 0===l?"0.71em":l,d=e.scaleToFit,u=void 0!==d&&d,p=e.textAnchor,h=void 0===p?"start":p,m=e.verticalAnchor,f=void 0===m?"end":m,x=e.fill,g=void 0===x?rm:x,b=$h(e,qh),y=(0,a.useMemo)(function(){return tm({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:u,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,u,b.style,b.width]),v=b.dx,j=b.dy,w=b.angle,N=b.className,A=b.breakAll,k=$h(b,Gh);if(!Xi(r)||!Xi(s))return null;var C,F=r+(Ji(v)?v:0),S=s+(Ji(j)?j:0);switch(f){case"start":C=Kh("calc(".concat(c,")"));break;case"middle":C=Kh("calc(".concat((y.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:C=Kh("calc(".concat(y.length-1," * -").concat(i,")"))}var E=[];if(u){var P=y[0].width,D=b.width;E.push("scale(".concat((Ji(D)?D/P:1)/P,")"))}return w&&E.push("rotate(".concat(w,", ").concat(F,", ").concat(S,")")),E.length&&(k.transform=E.join(" ")),a.createElement("text",Yh({},Il(k,!0),{x:F,y:S,className:Mi("recharts-text",N),textAnchor:h,fill:g.includes("url")?rm:g}),y.map(function(e,t){var r=e.words.join(A?"":" ");return a.createElement("tspan",{x:F,dy:0===t?C:i,key:"".concat(r,"-").concat(t)},r)}))};const am=Math.sqrt(50),sm=Math.sqrt(10),om=Math.sqrt(2);function im(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=am?10:s>=sm?5:s>=om?2:1;let i,l,c;return a<0?(c=Math.pow(10,-a)/o,i=Math.round(e*c),l=Math.round(t*c),i/c<e&&++i,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,i=Math.round(e/c),l=Math.round(t/c),i*c<e&&++i,l*c>t&&--l),l<i&&.5<=r&&r<2?im(e,t,2*r):[i,l,c]}function lm(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,s,o]=n?im(t,e,r):im(e,t,r);if(!(s>=a))return[];const i=s-a+1,l=new Array(i);if(n)if(o<0)for(let c=0;c<i;++c)l[c]=(s-c)/-o;else for(let c=0;c<i;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<i;++c)l[c]=(a+c)/-o;else for(let c=0;c<i;++c)l[c]=(a+c)*o;return l}function cm(e,t,r){return im(e=+e,t=+t,r=+r)[2]}function dm(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?cm(t,e,r):cm(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function um(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pm(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hm(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(n,n))return s;do{const t=a+s>>>1;r(e[t],n)<0?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=um,r=(t,r)=>um(e(t),r),n=(t,r)=>e(t)-r):(t=e===um||e===pm?e:mm,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return s>r&&n(e[s-1],t)>-n(e[s],t)?s-1:s},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(n,n))return s;do{const t=a+s>>>1;r(e[t],n)<=0?a=t+1:s=t}while(a<s)}return a}}}function mm(){return 0}function fm(e){return null===e?NaN:+e}const xm=hm(um),gm=xm.right,bm=(xm.left,hm(fm).center,gm);function ym(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function vm(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function jm(){}var wm=.7,Nm=1/wm,Am="\\s*([+-]?\\d+)\\s*",km="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fm=/^#([0-9a-f]{3,8})$/,Sm=new RegExp("^rgb\\(".concat(Am,",").concat(Am,",").concat(Am,"\\)$")),Em=new RegExp("^rgb\\(".concat(Cm,",").concat(Cm,",").concat(Cm,"\\)$")),Pm=new RegExp("^rgba\\(".concat(Am,",").concat(Am,",").concat(Am,",").concat(km,"\\)$")),Dm=new RegExp("^rgba\\(".concat(Cm,",").concat(Cm,",").concat(Cm,",").concat(km,"\\)$")),Om=new RegExp("^hsl\\(".concat(km,",").concat(Cm,",").concat(Cm,"\\)$")),Tm=new RegExp("^hsla\\(".concat(km,",").concat(Cm,",").concat(Cm,",").concat(km,"\\)$")),Im={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Mm(){return this.rgb().formatHex()}function _m(){return this.rgb().formatRgb()}function Rm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Fm.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Bm(t):3===r?new Um(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Lm(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Lm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Sm.exec(e))?new Um(t[1],t[2],t[3],1):(t=Em.exec(e))?new Um(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Pm.exec(e))?Lm(t[1],t[2],t[3],t[4]):(t=Dm.exec(e))?Lm(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Om.exec(e))?Gm(t[1],t[2]/100,t[3]/100,1):(t=Tm.exec(e))?Gm(t[1],t[2]/100,t[3]/100,t[4]):Im.hasOwnProperty(e)?Bm(Im[e]):"transparent"===e?new Um(NaN,NaN,NaN,0):null}function Bm(e){return new Um(e>>16&255,e>>8&255,255&e,1)}function Lm(e,t,r,n){return n<=0&&(e=t=r=NaN),new Um(e,t,r,n)}function zm(e,t,r,n){return 1===arguments.length?function(e){return e instanceof jm||(e=Rm(e)),e?new Um((e=e.rgb()).r,e.g,e.b,e.opacity):new Um}(e):new Um(e,t,r,null==n?1:n)}function Um(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Wm(){return"#".concat(qm(this.r)).concat(qm(this.g)).concat(qm(this.b))}function Vm(){const e=Hm(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Km(this.r),", ").concat(Km(this.g),", ").concat(Km(this.b)).concat(1===e?")":", ".concat(e,")"))}function Hm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Km(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qm(e){return((e=Km(e))<16?"0":"")+e.toString(16)}function Gm(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $m(e,t,r,n)}function Ym(e){if(e instanceof $m)return new $m(e.h,e.s,e.l,e.opacity);if(e instanceof jm||(e=Rm(e)),!e)return new $m;if(e instanceof $m)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,i=s-a,l=(s+a)/2;return i?(o=t===s?(r-n)/i+6*(r<n):r===s?(n-t)/i+2:(t-r)/i+4,i/=l<.5?s+a:2-s-a,o*=60):i=l>0&&l<1?0:o,new $m(o,i,l,e.opacity)}function $m(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Jm(e){return(e=(e||0)%360)<0?e+360:e}function Xm(e){return Math.max(0,Math.min(1,e||0))}function Qm(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function Zm(e,t,r,n,a){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*a)/6}ym(jm,Rm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Mm,formatHex:Mm,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ym(this).formatHsl()},formatRgb:_m,toString:_m}),ym(Um,zm,vm(jm,{brighter(e){return e=null==e?Nm:Math.pow(Nm,e),new Um(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?wm:Math.pow(wm,e),new Um(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Um(Km(this.r),Km(this.g),Km(this.b),Hm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wm,formatHex:Wm,formatHex8:function(){return"#".concat(qm(this.r)).concat(qm(this.g)).concat(qm(this.b)).concat(qm(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Vm,toString:Vm})),ym($m,function(e,t,r,n){return 1===arguments.length?Ym(e):new $m(e,t,r,null==n?1:n)},vm(jm,{brighter(e){return e=null==e?Nm:Math.pow(Nm,e),new $m(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?wm:Math.pow(wm,e),new $m(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Um(Qm(e>=240?e-240:e+120,a,n),Qm(e,a,n),Qm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new $m(Jm(this.h),Xm(this.s),Xm(this.l),Hm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hm(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Jm(this.h),", ").concat(100*Xm(this.s),"%, ").concat(100*Xm(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const ef=e=>()=>e;function tf(e,t){return function(r){return e+r*t}}function rf(e){return 1===(e=+e)?nf:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):ef(isNaN(t)?r:t)}}function nf(e,t){var r=t-e;return r?tf(e,r):ef(isNaN(e)?t:e)}const af=function e(t){var r=rf(t);function n(e,t){var n=r((e=zm(e)).r,(t=zm(t)).r),a=r(e.g,t.g),s=r(e.b,t.b),o=nf(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=s(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function sf(e){return function(t){var r,n,a=t.length,s=new Array(a),o=new Array(a),i=new Array(a);for(r=0;r<a;++r)n=zm(t[r]),s[r]=n.r||0,o[r]=n.g||0,i[r]=n.b||0;return s=e(s),o=e(o),i=e(i),n.opacity=1,function(e){return n.r=s(e),n.g=o(e),n.b=i(e),n+""}}}sf(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],s=e[n+1],o=n>0?e[n-1]:2*a-s,i=n<t-1?e[n+2]:2*s-a;return Zm((r-n/t)*t,o,a,s,i)}}),sf(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],i=e[(n+2)%t];return Zm((r-n/t)*t,a,s,o,i)}});function of(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),o=new Array(n);for(r=0;r<a;++r)s[r]=ff(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<a;++r)o[r]=s[r](e);return o}}function lf(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function cf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function df(e,t){var r,n={},a={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=ff(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var uf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pf=new RegExp(uf.source,"g");function hf(e,t){var r,n,a,s=uf.lastIndex=pf.lastIndex=0,o=-1,i=[],l=[];for(e+="",t+="";(r=uf.exec(e))&&(n=pf.exec(t));)(a=n.index)>s&&(a=t.slice(s,a),i[o]?i[o]+=a:i[++o]=a),(r=r[0])===(n=n[0])?i[o]?i[o]+=n:i[++o]=n:(i[++o]=null,l.push({i:o,x:cf(r,n)})),s=pf.lastIndex;return s<t.length&&(a=t.slice(s),i[o]?i[o]+=a:i[++o]=a),i.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)i[(r=l[n]).i]=r.x(e);return i.join("")})}function mf(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(r=0;r<n;++r)a[r]=e[r]*(1-s)+t[r]*s;return a}}function ff(e,t){var r,n=typeof t;return null==t||"boolean"===n?ef(t):("number"===n?cf:"string"===n?(r=Rm(t))?(t=r,af):hf:t instanceof Rm?af:t instanceof Date?lf:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?mf:Array.isArray(t)?of:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?df:cf)(e,t)}function xf(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function gf(e){return+e}var bf=[0,1];function yf(e){return e}function vf(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function jf(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=vf(a,n),s=r(o,s)):(n=vf(n,a),s=r(s,o)),function(e){return s(n(e))}}function wf(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=vf(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(t){var r=bm(e,t,1,n)-1;return s[r](a[r](t))}}function Nf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Af(){var e,t,r,n,a,s,o=bf,i=bf,l=ff,c=yf;function d(){var e=Math.min(o.length,i.length);return c!==yf&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(o[0],o[e-1])),n=e>2?wf:jf,a=s=null,u}function u(t){return null==t||isNaN(t=+t)?r:(a||(a=n(o.map(e),i,l)))(e(c(t)))}return u.invert=function(r){return c(t((s||(s=n(i,o.map(e),cf)))(r)))},u.domain=function(e){return arguments.length?(o=Array.from(e,gf),d()):o.slice()},u.range=function(e){return arguments.length?(i=Array.from(e),d()):i.slice()},u.rangeRound=function(e){return i=Array.from(e),l=xf,d()},u.clamp=function(e){return arguments.length?(c=!!e||yf,d()):c!==yf},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,n){return e=r,t=n,d()}}function kf(){return Af()(yf,yf)}var Cf,Ff=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sf(e){if(!(t=Ff.exec(e)))throw new Error("invalid format: "+e);var t;return new Ef({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Ef(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Pf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Df(e){return(e=Pf(Math.abs(e)))?e[1]:NaN}function Of(e,t){var r=Pf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}Sf.prototype=Ef.prototype,Ef.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Tf={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Of(100*e,t),r:Of,s:function(e,t){var r=Pf(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Cf=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Pf(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function If(e){return e}var Mf,_f,Rf,Bf=Array.prototype.map,Lf=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function zf(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?If:(t=Bf.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,s=[],o=0,i=t[0],l=0;a>0&&i>0&&(l+i+1>n&&(i=Math.max(1,n-l)),s.push(e.substring(a-=i,a+i)),!((l+=i+1)>n));)i=t[o=(o+1)%t.length];return s.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",i=void 0===e.numerals?If:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Bf.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=Sf(e)).fill,r=e.align,u=e.sign,p=e.symbol,h=e.zero,m=e.width,f=e.comma,x=e.precision,g=e.trim,b=e.type;"n"===b?(f=!0,b="g"):Tf[b]||(void 0===x&&(x=12),g=!0,b="g"),(h||"0"===t&&"="===r)&&(h=!0,t="0",r="=");var y="$"===p?a:"#"===p&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",v="$"===p?s:/[%p]/.test(b)?l:"",j=Tf[b],w=/[defgprs%]/.test(b);function N(e){var a,s,l,p=y,N=v;if("c"===b)N=j(e)+N,e="";else{var A=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:j(Math.abs(e),x),g&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),A&&0===+e&&"+"!==u&&(A=!1),p=(A?"("===u?u:c:"-"===u||"("===u?"":u)+p,N=("s"===b?Lf[8+Cf/3]:"")+N+(A&&"("===u?")":""),w)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?o+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}f&&!h&&(e=n(e,1/0));var k=p.length+e.length+N.length,C=k<m?new Array(m-k+1).join(t):"";switch(f&&h&&(e=n(C+e,C.length?m-N.length:1/0),C=""),r){case"<":e=p+e+N+C;break;case"=":e=p+C+e+N;break;case"^":e=C.slice(0,k=C.length>>1)+p+e+N+C.slice(k);break;default:e=C+p+e+N}return i(e)}return x=void 0===x?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var r=u(((e=Sf(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Df(t)/3))),a=Math.pow(10,-n),s=Lf[8+n/3];return function(e){return r(a*e)+s}}}}function Uf(e,t,r,n){var a,s=dm(e,t,r);switch((n=Sf(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Df(t)/3)))-Df(Math.abs(e)))}(s,o))||(n.precision=a),Rf(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Df(t)-Df(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-Df(Math.abs(e)))}(s))||(n.precision=a-2*("%"===n.type))}return _f(n)}function Wf(e){var t=e.domain;return e.ticks=function(e){var r=t();return lm(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return Uf(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,s=t(),o=0,i=s.length-1,l=s[o],c=s[i],d=10;for(c<l&&(a=l,l=c,c=a,a=o,o=i,i=a);d-- >0;){if((a=cm(l,c,r))===n)return s[o]=l,s[i]=c,t(s);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function Vf(){var e=kf();return e.copy=function(){return Nf(e,Vf())},ch.apply(e,arguments),Wf(e)}function Hf(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,gf),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return Hf(e).unknown(t)},e=arguments.length?Array.from(e,gf):[0,1],Wf(r)}function Kf(e,t){var r,n=0,a=(e=e.slice()).length-1,s=e[n],o=e[a];return o<s&&(r=n,n=a,a=r,r=s,s=o,o=r),e[n]=t.floor(s),e[a]=t.ceil(o),e}function qf(e){return Math.log(e)}function Gf(e){return Math.exp(e)}function Yf(e){return-Math.log(-e)}function $f(e){return-Math.exp(-e)}function Jf(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Xf(e){return(t,r)=>-e(-t,r)}function Qf(e){const t=e(qf,Gf),r=t.domain;let n,a,s=10;function o(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),a=function(e){return 10===e?Jf:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),r()[0]<0?(n=Xf(n),a=Xf(a),e(Yf,$f)):e(qf,Gf),t}return t.base=function(e){return arguments.length?(s=+e,o()):s},t.domain=function(e){return arguments.length?(r(e),o()):r()},t.ticks=e=>{const t=r();let o=t[0],i=t[t.length-1];const l=i<o;l&&([o,i]=[i,o]);let c,d,u=n(o),p=n(i);const h=null==e?10:+e;let m=[];if(!(s%1)&&p-u<h){if(u=Math.floor(u),p=Math.ceil(p),o>0){for(;u<=p;++u)for(c=1;c<s;++c)if(d=u<0?c/a(-u):c*a(u),!(d<o)){if(d>i)break;m.push(d)}}else for(;u<=p;++u)for(c=s-1;c>=1;--c)if(d=u>0?c/a(-u):c*a(u),!(d<o)){if(d>i)break;m.push(d)}2*m.length<h&&(m=lm(o,i,h))}else m=lm(u,p,Math.min(p-u,h)).map(a);return l?m.reverse():m},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===s?"s":","),"function"!==typeof r&&(s%1||null!=(r=Sf(r)).precision||(r.trim=!0),r=_f(r)),e===1/0)return r;const o=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*s<s-.5&&(t*=s),t<=o?r(e):""}},t.nice=()=>r(Kf(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function Zf(){const e=Qf(Af()).domain([1,10]);return e.copy=()=>Nf(e,Zf()).base(e.base()),ch.apply(e,arguments),e}function ex(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tx(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rx(e){var t=1,r=e(ex(t),tx(t));return r.constant=function(r){return arguments.length?e(ex(t=+r),tx(t)):t},Wf(r)}function nx(){var e=rx(Af());return e.copy=function(){return Nf(e,nx()).constant(e.constant())},ch.apply(e,arguments)}function ax(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sx(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ox(e){return e<0?-e*e:e*e}function ix(e){var t=e(yf,yf),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(yf,yf):.5===r?e(sx,ox):e(ax(r),ax(1/r)):r},Wf(t)}function lx(){var e=ix(Af());return e.copy=function(){return Nf(e,lx()).exponent(e.exponent())},ch.apply(e,arguments),e}function cx(){return lx.apply(null,arguments).exponent(.5)}function dx(e){return Math.sign(e)*e*e}function ux(){var e,t=kf(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(dx(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,gf)).map(dx)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return ux(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},ch.apply(a,arguments),Wf(a)}function px(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function hx(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function mx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:um;if(e===um)return fx;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function fx(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function xx(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?fx:mx(a);n>r;){if(n-r>600){const s=n-r+1,o=t-r+1,i=Math.log(s),l=.5*Math.exp(2*i/3),c=.5*Math.sqrt(i*l*(s-l)/s)*(o-s/2<0?-1:1);xx(e,t,Math.max(r,Math.floor(t-o*l/s+c)),Math.min(n,Math.floor(t+(s-o)*l/s+c)),a)}const s=e[t];let o=r,i=n;for(gx(e,r,t),a(e[n],s)>0&&gx(e,r,n);o<i;){for(gx(e,o,i),++o,--i;a(e[o],s)<0;)++o;for(;a(e[i],s)>0;)--i}0===a(e[r],s)?gx(e,r,i):(++i,gx(e,i,n)),i<=t&&(r=i+1),t<=i&&(n=i-1)}return e}function gx(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function bx(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return hx(e);if(t>=1)return px(e);var n,a=(n-1)*t,s=Math.floor(a),o=px(xx(e,s).subarray(0,s+1));return o+(hx(e.subarray(s+1))-o)*(a-s)}}function yx(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fm;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e);return o+(+r(e[s+1],s+1,e)-o)*(a-s)}}function vx(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=yx(t,e/a);return s}function s(t){return null==t||isNaN(t=+t)?e:r[bm(n,t)]}return s.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(um),a()},s.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return n.slice()},s.copy=function(){return vx().domain(t).range(r).unknown(e)},ch.apply(s,arguments)}function jx(){var e,t=0,r=1,n=1,a=[.5],s=[0,1];function o(t){return null!=t&&t<=t?s[bm(a,t,0,n)]:e}function i(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return o}return o.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,i()):[t,r]},o.range=function(e){return arguments.length?(n=(s=Array.from(e)).length-1,i()):s.slice()},o.invertExtent=function(e){var o=s.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=n?[a[n-1],r]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return jx().domain([t,r]).range(s).unknown(e)},ch.apply(Wf(o),arguments)}function wx(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[bm(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return wx().domain(t).range(r).unknown(e)},ch.apply(a,arguments)}Mf=zf({thousands:",",grouping:[3],currency:["$",""]}),_f=Mf.format,Rf=Mf.formatPrefix;const Nx=1e3,Ax=6e4,kx=36e5,Cx=864e5,Fx=6048e5,Sx=2592e6,Ex=31536e6,Px=new Date,Dx=new Date;function Ox(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,s)=>{const o=[];if(r=a.ceil(r),s=null==s?1:Math.floor(s),!(r<n)||!(s>0))return o;let i;do{o.push(i=new Date(+r)),t(r,s),e(r)}while(i<r&&r<n);return o},a.filter=r=>Ox(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(Px.setTime(+t),Dx.setTime(+n),e(Px),e(Dx),Math.floor(r(Px,Dx))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Tx=Ox(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Tx.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Ox(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Tx:null);Tx.range;const Ix=Ox(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Nx)},(e,t)=>(t-e)/Nx,e=>e.getUTCSeconds()),Mx=(Ix.range,Ox(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nx)},(e,t)=>{e.setTime(+e+t*Ax)},(e,t)=>(t-e)/Ax,e=>e.getMinutes())),_x=(Mx.range,Ox(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ax)},(e,t)=>(t-e)/Ax,e=>e.getUTCMinutes())),Rx=(_x.range,Ox(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nx-e.getMinutes()*Ax)},(e,t)=>{e.setTime(+e+t*kx)},(e,t)=>(t-e)/kx,e=>e.getHours())),Bx=(Rx.range,Ox(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kx)},(e,t)=>(t-e)/kx,e=>e.getUTCHours())),Lx=(Bx.range,Ox(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ax)/Cx,e=>e.getDate()-1)),zx=(Lx.range,Ox(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cx,e=>e.getUTCDate()-1)),Ux=(zx.range,Ox(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cx,e=>Math.floor(e/Cx)));Ux.range;function Wx(e){return Ox(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ax)/Fx)}const Vx=Wx(0),Hx=Wx(1),Kx=Wx(2),qx=Wx(3),Gx=Wx(4),Yx=Wx(5),$x=Wx(6);Vx.range,Hx.range,Kx.range,qx.range,Gx.range,Yx.range,$x.range;function Jx(e){return Ox(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Fx)}const Xx=Jx(0),Qx=Jx(1),Zx=Jx(2),eg=Jx(3),tg=Jx(4),rg=Jx(5),ng=Jx(6),ag=(Xx.range,Qx.range,Zx.range,eg.range,tg.range,rg.range,ng.range,Ox(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),sg=(ag.range,Ox(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),og=(sg.range,Ox(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));og.every=e=>isFinite(e=Math.floor(e))&&e>0?Ox(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;og.range;const ig=Ox(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ig.every=e=>isFinite(e=Math.floor(e))&&e>0?Ox(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;ig.range;function lg(e,t,r,n,a,s){const o=[[Ix,1,Nx],[Ix,5,5e3],[Ix,15,15e3],[Ix,30,3e4],[s,1,Ax],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,kx],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,Cx],[n,2,1728e5],[r,1,Fx],[t,1,Sx],[t,3,7776e6],[e,1,Ex]];function i(t,r,n){const a=Math.abs(r-t)/n,s=hm(e=>{let[,,t]=e;return t}).right(o,a);if(s===o.length)return e.every(dm(t/Ex,r/Ex,n));if(0===s)return Tx.every(Math.max(dm(t,r,n),1));const[i,l]=o[a/o[s-1][2]<o[s][2]/a?s-1:s];return i.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"===typeof r.range?r:i(e,t,r),s=a?a.range(e,+t+1):[];return n?s.reverse():s},i]}const[cg,dg]=lg(ig,sg,Xx,Ux,Bx,_x),[ug,pg]=lg(og,ag,Vx,Lx,Rx,Mx);function hg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var xg,gg,bg,yg={"-":"",_:" ",0:"0"},vg=/^\s*\d+/,jg=/^%/,wg=/[\\^$*+?|[\]().{}]/g;function Ng(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Ag(e){return e.replace(wg,"\\$&")}function kg(e){return new RegExp("^(?:"+e.map(Ag).join("|")+")","i")}function Cg(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Fg(e,t,r){var n=vg.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Sg(e,t,r){var n=vg.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Eg(e,t,r){var n=vg.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Pg(e,t,r){var n=vg.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Dg(e,t,r){var n=vg.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Og(e,t,r){var n=vg.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Tg(e,t,r){var n=vg.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Ig(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Mg(e,t,r){var n=vg.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function _g(e,t,r){var n=vg.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Rg(e,t,r){var n=vg.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Bg(e,t,r){var n=vg.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Lg(e,t,r){var n=vg.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zg(e,t,r){var n=vg.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Ug(e,t,r){var n=vg.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Wg(e,t,r){var n=vg.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Vg(e,t,r){var n=vg.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Hg(e,t,r){var n=jg.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Kg(e,t,r){var n=vg.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function qg(e,t,r){var n=vg.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Gg(e,t){return Ng(e.getDate(),t,2)}function Yg(e,t){return Ng(e.getHours(),t,2)}function $g(e,t){return Ng(e.getHours()%12||12,t,2)}function Jg(e,t){return Ng(1+Lx.count(og(e),e),t,3)}function Xg(e,t){return Ng(e.getMilliseconds(),t,3)}function Qg(e,t){return Xg(e,t)+"000"}function Zg(e,t){return Ng(e.getMonth()+1,t,2)}function eb(e,t){return Ng(e.getMinutes(),t,2)}function tb(e,t){return Ng(e.getSeconds(),t,2)}function rb(e){var t=e.getDay();return 0===t?7:t}function nb(e,t){return Ng(Vx.count(og(e)-1,e),t,2)}function ab(e){var t=e.getDay();return t>=4||0===t?Gx(e):Gx.ceil(e)}function sb(e,t){return e=ab(e),Ng(Gx.count(og(e),e)+(4===og(e).getDay()),t,2)}function ob(e){return e.getDay()}function ib(e,t){return Ng(Hx.count(og(e)-1,e),t,2)}function lb(e,t){return Ng(e.getFullYear()%100,t,2)}function cb(e,t){return Ng((e=ab(e)).getFullYear()%100,t,2)}function db(e,t){return Ng(e.getFullYear()%1e4,t,4)}function ub(e,t){var r=e.getDay();return Ng((e=r>=4||0===r?Gx(e):Gx.ceil(e)).getFullYear()%1e4,t,4)}function pb(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ng(t/60|0,"0",2)+Ng(t%60,"0",2)}function hb(e,t){return Ng(e.getUTCDate(),t,2)}function mb(e,t){return Ng(e.getUTCHours(),t,2)}function fb(e,t){return Ng(e.getUTCHours()%12||12,t,2)}function xb(e,t){return Ng(1+zx.count(ig(e),e),t,3)}function gb(e,t){return Ng(e.getUTCMilliseconds(),t,3)}function bb(e,t){return gb(e,t)+"000"}function yb(e,t){return Ng(e.getUTCMonth()+1,t,2)}function vb(e,t){return Ng(e.getUTCMinutes(),t,2)}function jb(e,t){return Ng(e.getUTCSeconds(),t,2)}function wb(e){var t=e.getUTCDay();return 0===t?7:t}function Nb(e,t){return Ng(Xx.count(ig(e)-1,e),t,2)}function Ab(e){var t=e.getUTCDay();return t>=4||0===t?tg(e):tg.ceil(e)}function kb(e,t){return e=Ab(e),Ng(tg.count(ig(e),e)+(4===ig(e).getUTCDay()),t,2)}function Cb(e){return e.getUTCDay()}function Fb(e,t){return Ng(Qx.count(ig(e)-1,e),t,2)}function Sb(e,t){return Ng(e.getUTCFullYear()%100,t,2)}function Eb(e,t){return Ng((e=Ab(e)).getUTCFullYear()%100,t,2)}function Pb(e,t){return Ng(e.getUTCFullYear()%1e4,t,4)}function Db(e,t){var r=e.getUTCDay();return Ng((e=r>=4||0===r?tg(e):tg.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ob(){return"+0000"}function Tb(){return"%"}function Ib(e){return+e}function Mb(e){return Math.floor(+e/1e3)}function _b(e){return new Date(e)}function Rb(e){return e instanceof Date?+e:+new Date(+e)}function Bb(e,t,r,n,a,s,o,i,l,c){var d=kf(),u=d.invert,p=d.domain,h=c(".%L"),m=c(":%S"),f=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),b=c("%b %d"),y=c("%B"),v=c("%Y");function j(e){return(l(e)<e?h:i(e)<e?m:o(e)<e?f:s(e)<e?x:n(e)<e?a(e)<e?g:b:r(e)<e?y:v)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?p(Array.from(e,Rb)):p().map(_b)},d.ticks=function(t){var r=p();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?j:c(t)},d.nice=function(e){var r=p();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?p(Kf(r,e)):d},d.copy=function(){return Nf(d,Bb(e,t,r,n,a,s,o,i,l,c))},d}function Lb(){return ch.apply(Bb(ug,pg,og,ag,Vx,Lx,Rx,Mx,Ix,gg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zb(){return ch.apply(Bb(cg,dg,ig,sg,Xx,zx,Bx,_x,Ix,bg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ub(){var e,t,r,n,a,s=0,o=1,i=yf,l=!1;function c(t){return null==t||isNaN(t=+t)?a:i(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,n;return arguments.length?([r,n]=t,i=e(r,n),c):[i(0),i(1)]}}return c.domain=function(a){return arguments.length?([s,o]=a,e=n(s=+s),t=n(o=+o),r=e===t?0:1/(t-e),c):[s,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(i=e,c):i},c.range=d(ff),c.rangeRound=d(xf),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(s),t=a(o),r=e===t?0:1/(t-e),c}}function Wb(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Vb(){var e=Wf(Ub()(yf));return e.copy=function(){return Wb(e,Vb())},dh.apply(e,arguments)}function Hb(){var e=Qf(Ub()).domain([1,10]);return e.copy=function(){return Wb(e,Hb()).base(e.base())},dh.apply(e,arguments)}function Kb(){var e=rx(Ub());return e.copy=function(){return Wb(e,Kb()).constant(e.constant())},dh.apply(e,arguments)}function qb(){var e=ix(Ub());return e.copy=function(){return Wb(e,qb()).exponent(e.exponent())},dh.apply(e,arguments)}function Gb(){return qb.apply(null,arguments).exponent(.5)}function Yb(){var e=[],t=yf;function r(r){if(null!=r&&!isNaN(r=+r))return t((bm(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(um),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>bx(e,n/t))},r.copy=function(){return Yb(t).domain(e)},dh.apply(r,arguments)}function $b(){var e,t,r,n,a,s,o,i=0,l=.5,c=1,d=1,u=yf,p=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+s(e))-t)*(d*e<d*t?n:a),u(p?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,u=function(e,t){void 0===t&&(t=e,e=ff);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return s[t](e-t)}}(e,[r,n,a]),h):[u(0),u(.5),u(1)]}}return h.domain=function(o){return arguments.length?([i,l,c]=o,e=s(i=+i),t=s(l=+l),r=s(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,h):[i,l,c]},h.clamp=function(e){return arguments.length?(p=!!e,h):p},h.interpolator=function(e){return arguments.length?(u=e,h):u},h.range=m(ff),h.rangeRound=m(xf),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return s=o,e=o(i),t=o(l),r=o(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,h}}function Jb(){var e=Wf($b()(yf));return e.copy=function(){return Wb(e,Jb())},dh.apply(e,arguments)}function Xb(){var e=Qf($b()).domain([.1,1,10]);return e.copy=function(){return Wb(e,Xb()).base(e.base())},dh.apply(e,arguments)}function Qb(){var e=rx($b());return e.copy=function(){return Wb(e,Qb()).constant(e.constant())},dh.apply(e,arguments)}function Zb(){var e=ix($b());return e.copy=function(){return Wb(e,Zb()).exponent(e.exponent())},dh.apply(e,arguments)}function ey(){return Zb.apply(null,arguments).exponent(.5)}function ty(e,t){if((a=e.length)>1)for(var r,n,a,s=1,o=e[t[0]],i=o.length;s<a;++s)for(n=o,o=e[t[s]],r=0;r<i;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}!function(e){xg=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,i=e.months,l=e.shortMonths,c=kg(a),d=Cg(a),u=kg(s),p=Cg(s),h=kg(o),m=Cg(o),f=kg(i),x=Cg(i),g=kg(l),b=Cg(l),y={a:function(e){return o[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return i[e.getMonth()]},c:null,d:Gg,e:Gg,f:Qg,g:cb,G:ub,H:Yg,I:$g,j:Jg,L:Xg,m:Zg,M:eb,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ib,s:Mb,S:tb,u:rb,U:nb,V:sb,w:ob,W:ib,x:null,X:null,y:lb,Y:db,Z:pb,"%":Tb},v={a:function(e){return o[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return i[e.getUTCMonth()]},c:null,d:hb,e:hb,f:bb,g:Eb,G:Db,H:mb,I:fb,j:xb,L:gb,m:yb,M:vb,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ib,s:Mb,S:jb,u:wb,U:Nb,V:kb,w:Cb,W:Fb,x:null,X:null,y:Sb,Y:Pb,Z:Ob,"%":Tb},j={a:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=m.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=b.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.m=x.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return A(e,t,r,n)},d:Rg,e:Rg,f:Vg,g:Tg,G:Og,H:Lg,I:Lg,j:Bg,L:Wg,m:_g,M:zg,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=d.get(n[0].toLowerCase()),r+n[0].length):-1},q:Mg,Q:Kg,s:qg,S:Ug,u:Sg,U:Eg,V:Pg,w:Fg,W:Dg,x:function(e,t,n){return A(e,r,t,n)},X:function(e,t,r){return A(e,n,t,r)},y:Tg,Y:Og,Z:Ig,"%":Hg};function w(e,t){return function(r){var n,a,s,o=[],i=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++i<c;)37===e.charCodeAt(i)&&(o.push(e.slice(l,i)),null!=(a=yg[n=e.charAt(++i)])?n=e.charAt(++i):a="e"===n?" ":"0",(s=t[n])&&(n=s(r,a)),o.push(n),l=i+1);return o.push(e.slice(l,i)),o.join("")}}function N(e,t){return function(r){var n,a,s=fg(1900,void 0,1);if(A(s,e,r+="",0)!=r.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(n=mg(fg(s.y,0,1))).getUTCDay(),n=a>4||0===a?Qx.ceil(n):Qx(n),n=zx.offset(n,7*(s.V-1)),s.y=n.getUTCFullYear(),s.m=n.getUTCMonth(),s.d=n.getUTCDate()+(s.w+6)%7):(a=(n=hg(fg(s.y,0,1))).getDay(),n=a>4||0===a?Hx.ceil(n):Hx(n),n=Lx.offset(n,7*(s.V-1)),s.y=n.getFullYear(),s.m=n.getMonth(),s.d=n.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?mg(fg(s.y,0,1)).getUTCDay():hg(fg(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,mg(s)):hg(s)}}function A(e,t,r,n){for(var a,s,o=0,i=t.length,l=r.length;o<i;){if(n>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(s=j[a in yg?t.charAt(o++):a])||(n=s(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return y.x=w(r,y),y.X=w(n,y),y.c=w(t,y),v.x=w(r,v),v.X=w(n,v),v.c=w(t,v),{format:function(e){var t=w(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),gg=xg.format,xg.parse,bg=xg.utcFormat,xg.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function ry(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function ny(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ay(e,t){return e[t]}function sy(e){const t=[];return t.key=e,t}var oy=r(539),iy=r.n(oy),ly=r(6745),cy=r.n(ly),dy=r(3538),uy=r.n(dy),py=r(9853),hy=r.n(py),my=r(8210),fy=r.n(my);function xy(e){return function(e){if(Array.isArray(e))return gy(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var by=function(e){return e},yy={"@@functional/placeholder":!0},vy=function(e){return e===yy},jy=function(e){return function t(){return 0===arguments.length||1===arguments.length&&vy(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},wy=function e(t,r){return 1===t?r:jy(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(e){return e!==yy}).length;return o>=t?r.apply(void 0,a):e(t-o,jy(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=a.map(function(e){return vy(e)?t.shift():e});return r.apply(void 0,xy(s).concat(t))}))})},Ny=function(e){return wy(e.length,e)},Ay=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},ky=Ny(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),Cy=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return by;var n=t.reverse(),a=n[0],s=n.slice(1);return function(){return s.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}},Fy=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Sy=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t&&a.every(function(e,r){return e===t[r]})?r:(t=a,r=e.apply(void 0,a))}};var Ey=Ny(function(e,t,r){var n=+e;return n+r*(+t-n)}),Py=Ny(function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)}),Dy=Ny(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Oy={rangeStep:function(e,t,r){for(var n=new(fy())(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s},getDigitCount:function(e){return 0===e?1:Math.floor(new(fy())(e).abs().log(10).toNumber())+1},interpolateNumber:Ey,uninterpolateNumber:Py,uninterpolateTruncation:Dy};function Ty(e){return function(e){if(Array.isArray(e))return _y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||My(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,s=l}finally{try{n||null==i.return||i.return()}finally{if(a)throw s}}return r}(e,t)||My(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function My(e,t){if(e){if("string"===typeof e)return _y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_y(e,t):void 0}}function _y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ry(e){var t=Iy(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function By(e,t,r){if(e.lte(0))return new(fy())(0);var n=Oy.getDigitCount(e.toNumber()),a=new(fy())(10).pow(n),s=e.div(a),o=1!==n?.05:.1,i=new(fy())(Math.ceil(s.div(o).toNumber())).add(r).mul(o).mul(a);return t?i:new(fy())(Math.ceil(i))}function Ly(e,t,r){var n=1,a=new(fy())(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new(fy())(10).pow(Oy.getDigitCount(e)-1),a=new(fy())(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new(fy())(Math.floor(e)))}else 0===e?a=new(fy())(Math.floor((t-1)/2)):r||(a=new(fy())(Math.floor(e)));var o=Math.floor((t-1)/2),i=Cy(ky(function(e){return a.add(new(fy())(e-o).mul(n)).toNumber()}),Ay);return i(0,t)}function zy(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(fy())(0),tickMin:new(fy())(0),tickMax:new(fy())(0)};var s,o=By(new(fy())(t).sub(e).div(r-1),n,a);s=e<=0&&t>=0?new(fy())(0):(s=new(fy())(e).add(t).div(2)).sub(new(fy())(s).mod(o));var i=Math.ceil(s.sub(e).div(o).toNumber()),l=Math.ceil(new(fy())(t).sub(s).div(o).toNumber()),c=i+l+1;return c>r?zy(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,i=t>0?i:i+(r-c)),{step:o,tickMin:s.sub(new(fy())(i).mul(o)),tickMax:s.add(new(fy())(l).mul(o))})}var Uy=Sy(function(e){var t=Iy(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),i=Iy(Ry([r,n]),2),l=i[0],c=i[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(Ty(Ay(0,a-1).map(function(){return 1/0}))):[].concat(Ty(Ay(0,a-1).map(function(){return-1/0})),[c]);return r>n?Fy(d):d}if(l===c)return Ly(l,a,s);var u=zy(l,c,o,s),p=u.step,h=u.tickMin,m=u.tickMax,f=Oy.rangeStep(h,m.add(new(fy())(.1).mul(p)),p);return r>n?Fy(f):f}),Wy=(Sy(function(e){var t=Iy(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),i=Iy(Ry([r,n]),2),l=i[0],c=i[1];if(l===-1/0||c===1/0)return[r,n];if(l===c)return Ly(l,a,s);var d=By(new(fy())(c).sub(l).div(o-1),s,0),u=Cy(ky(function(e){return new(fy())(l).add(new(fy())(e).mul(d)).toNumber()}),Ay),p=u(0,o).filter(function(e){return e>=l&&e<=c});return r>n?Fy(p):p}),Sy(function(e,t){var r=Iy(e,2),n=r[0],a=r[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Iy(Ry([n,a]),2),i=o[0],l=o[1];if(i===-1/0||l===1/0)return[n,a];if(i===l)return[i];var c=Math.max(t,2),d=By(new(fy())(l).sub(i).div(c-1),s,0),u=[].concat(Ty(Oy.rangeStep(new(fy())(i),new(fy())(l).sub(new(fy())(.99).mul(d)),d)),[l]);return n>a?Fy(u):u})),Vy=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hy(e){return Hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(e)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(this,arguments)}function qy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yy(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tv(n.key),n)}}function Jy(e,t,r){return t=Qy(t),function(e,t){if(t&&("object"===Hy(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xy()?Reflect.construct(t,r||[],Qy(e).constructor):t.apply(e,r))}function Xy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Xy=function(){return!!e})()}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qy(e)}function Zy(e,t){return Zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zy(e,t)}function ev(e,t,r){return(t=tv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tv(e){var t=function(e,t){if("object"!=Hy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Hy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hy(t)?t:t+""}var rv=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jy(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zy(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,n=e.width,s=e.dataKey,o=e.data,i=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,d=Yy(e,Vy),u=Il(d,!1);"x"===this.props.direction&&"number"!==l.type&&Jl(!1);var p=o.map(function(e){var o=i(e,s),d=o.x,p=o.y,h=o.value,m=o.errorVal;if(!m)return null;var f,x,g=[];if(Array.isArray(m)){var b=qy(m,2);f=b[0],x=b[1]}else f=x=m;if("vertical"===r){var y=l.scale,v=p+t,j=v+n,w=v-n,N=y(h-f),A=y(h+x);g.push({x1:A,y1:j,x2:A,y2:w}),g.push({x1:N,y1:v,x2:A,y2:v}),g.push({x1:N,y1:j,x2:N,y2:w})}else if("horizontal"===r){var k=c.scale,C=d+t,F=C-n,S=C+n,E=k(h-f),P=k(h+x);g.push({x1:F,y1:P,x2:S,y2:P}),g.push({x1:C,y1:E,x2:C,y2:P}),g.push({x1:F,y1:E,x2:S,y2:E})}return a.createElement(ac,Ky({className:"recharts-errorBar",key:"bar-".concat(g.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},u),g.map(function(e){return a.createElement("line",Ky({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return a.createElement(ac,{className:"recharts-errorBars"},p)}}],n&&$y(r.prototype,n),s&&$y(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);function nv(e){return nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nv(e)}function av(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?av(Object(r),!0).forEach(function(t){ov(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):av(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ov(e,t,r){return t=function(e){var t=function(e,t){if("object"!=nv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=nv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ev(rv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),ev(rv,"displayName","ErrorBar");var iv=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,s=El(t,vu);if(!s)return null;var o,i=vu.defaultProps,l=void 0!==i?sv(sv({},i),s.props):{};return o=s.props&&s.props.payload?s.props&&s.props.payload:"children"===a?(r||[]).reduce(function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map(function(e){return{type:s.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(r||[]).map(function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?sv(sv({},r),t.props):{},a=n.dataKey,s=n.name,o=n.legendType;return{inactive:n.hide,dataKey:a,type:l.iconType||o||"square",color:xv(t),value:s||a,payload:n}}),sv(sv(sv({},l),vu.getWithHeight(s,n)),{},{payload:o,item:s})};function lv(e){return lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(e)}function cv(e){return function(e){if(Array.isArray(e))return dv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return dv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uv(Object(r),!0).forEach(function(t){hv(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hv(e,t,r){return t=function(e){var t=function(e,t){if("object"!=lv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mv(e,t,r){return Gi()(e)||Gi()(t)?r:Xi(t)?Vi()(e,t,r):il()(t)?t(e):r}function fv(e,t,r,n){var a=uy()(e,function(e){return mv(e,t)});if("number"===r){var s=a.filter(function(e){return Ji(e)||parseFloat(e)});return s.length?[cy()(s),iy()(s)]:[1/0,-1/0]}return(n?a.filter(function(e){return!Gi()(e)}):a).map(function(e){return Xi(e)||e instanceof Date?e:""})}var xv=function(e){var t,r,n=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?pv(pv({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill;switch(n){case"Line":r=s;break;case"Area":case"Radar":r=s&&"none"!==s?s:o;break;default:r=o}return r},gv=function(e,t,r,n,a){var s=Sl(t.props.children,rv).filter(function(e){return function(e,t,r){return!!Gi()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)});if(s&&s.length){var o=s.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var n=mv(t,r);if(Gi()(n))return e;var a=Array.isArray(n)?[cy()(n),iy()(n)]:[n,n],s=o.reduce(function(e,r){var n=mv(t,r,0),s=a[0]-Math.abs(Array.isArray(n)?n[0]:n),o=a[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(s,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(s[0],e[0]),Math.max(s[1],e[1])]},[1/0,-1/0])}return null},bv=function(e,t,r,n,a){var s=t.map(function(t){var s=t.props.dataKey;return"number"===r&&s&&gv(e,t,s,n)||fv(e,s,r,a)});if("number"===r)return s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return s.reduce(function(e,t){for(var r=0,n=t.length;r<n;r++)o[t[r]]||(o[t[r]]=!0,e.push(t[r]));return e},[])},yv=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},vv=function(e,t,r,n){if(n)return e.map(function(e){return e.coordinate});var a,s,o=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===r&&(s=!0),e.coordinate});return a||o.push(t),s||o.push(r),o},jv=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,i="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===s&&n.bandwidth?n.bandwidth()/i:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*Yi(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}}).filter(function(e){return!Ui()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(e){return{coordinate:n(e)+l,value:e,offset:l}}):n.domain().map(function(e,t){return{coordinate:n(e)+l,value:a?a[e]:e,index:t,offset:l}})},wv=new WeakMap,Nv=function(e,t){if("function"!==typeof t)return e;wv.has(e)||wv.set(e,new WeakMap);var r=wv.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},Av=function(e,r,n){var a=e.scale,s=e.type,o=e.layout,i=e.axisType;if("auto"===a)return"radial"===o&&"radiusAxis"===i?{scale:bh(),realScaleType:"band"}:"radial"===o&&"angleAxis"===i?{scale:Vf(),realScaleType:"linear"}:"category"===s&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:vh(),realScaleType:"point"}:"category"===s?{scale:bh(),realScaleType:"band"}:{scale:Vf(),realScaleType:"linear"};if(Li()(a)){var l="scale".concat(Yc()(a));return{scale:(t[l]||vh)(),realScaleType:t[l]?l:"point"}}return il()(a)?{scale:a}:{scale:vh(),realScaleType:"point"}},kv=1e-4,Cv=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-kv,s=Math.max(n[0],n[1])+kv,o=e(t[0]),i=e(t[r-1]);(o<a||o>s||i<a||i>s)&&e.domain([t[0],t[r-1]])}},Fv={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,o=0;o<t;++o){var i=Ui()(e[o][r][1])?e[o][r][0]:e[o][r][1];i>=0?(e[o][r][0]=a,e[o][r][1]=a+i,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+i,s=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,s=0,o=e[0].length;s<o;++s){for(a=r=0;r<n;++r)a+=e[r][s][1]||0;if(a)for(r=0;r<n;++r)e[r][s][1]/=a}ty(e,t)}},none:ty,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],s=a.length;n<s;++n){for(var o=0,i=0;o<r;++o)i+=e[o][n][1]||0;a[n][1]+=a[n][0]=-i/2}ty(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,s=0,o=1;o<n;++o){for(var i=0,l=0,c=0;i<a;++i){for(var d=e[t[i]],u=d[o][1]||0,p=(u-(d[o-1][1]||0))/2,h=0;h<i;++h){var m=e[t[h]];p+=(m[o][1]||0)-(m[o-1][1]||0)}l+=u,c+=p*u}r[o-1][1]+=r[o-1][0]=s,l&&(s-=c/l)}r[o-1][1]+=r[o-1][0]=s,ty(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var o=Ui()(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}}},Sv=function(e,t,r){var n=t.map(function(e){return e.props.dataKey}),a=Fv[r],s=function(){var e=gd([]),t=ny,r=ty,n=ay;function a(a){var s,o,i=Array.from(e.apply(this,arguments),sy),l=i.length,c=-1;for(const e of a)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(e,i[s].key,c,a)]).data=e;for(s=0,o=ry(t(i));s<l;++s)i[o[s]].index=s;return r(i,o),i}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:gd(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"===typeof e?e:gd(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?ny:"function"===typeof e?e:gd(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?ty:e,a):r},a}().keys(n).value(function(e,t){return+mv(e,t,0)}).order(ny).offset(a);return s(e)},Ev=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,s=t.originalDomain,o=t.allowDecimals,i=r||t.scale;if("auto"!==i&&"linear"!==i)return null;if(a&&"number"===n&&s&&("auto"===s[0]||"auto"===s[1])){var l=e.domain();if(!l.length)return null;var c=Uy(l,a,o);return e.domain([cy()(c),iy()(c)]),{niceTicks:c}}if(a&&"number"===n){var d=e.domain();return{niceTicks:Wy(d,a,o)}}return null};function Pv(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Gi()(a[t.dataKey])){var i=nl(r,"value",a[t.dataKey]);if(i)return i.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=mv(a,Gi()(o)?t.dataKey:o);return Gi()(l)?null:t.scale(l)}var Dv=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,s=e.entry,o=e.index;if("category"===t.type)return r[o]?r[o].coordinate+n:null;var i=mv(s,t.dataKey,t.domain[o]);return Gi()(i)?null:t.scale(i)-a/2+n},Ov=function(e,t,r){return Object.keys(e).reduce(function(n,a){var s=e[a].stackedData.reduce(function(e,n){var a=function(e){return e.reduce(function(e,t){return[cy()(t.concat([e[0]]).filter(Ji)),iy()(t.concat([e[1]]).filter(Ji))]},[1/0,-1/0])}(n.slice(t,r+1));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},Tv=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Iv=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mv=function(e,t,r){if(il()(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(Ji(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(Tv.test(e[0])){var a=+Tv.exec(e[0])[1];n[0]=t[0]-a}else il()(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(Ji(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(Iv.test(e[1])){var s=+Iv.exec(e[1])[1];n[1]=t[1]+s}else il()(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},_v=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Yl()(t,function(e){return e.coordinate}),s=1/0,o=1,i=a.length;o<i;o++){var l=a[o],c=a[o-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},Rv=function(e,t,r){return e&&e.length?hy()(e,Vi()(r,"type.defaultProps.domain"))?t:e:t},Bv=function(e,t){var r=e.type.defaultProps?pv(pv({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,s=r.unit,o=r.formatter,i=r.tooltipType,l=r.chartType,c=r.hide;return pv(pv({},Il(e,!1)),{},{dataKey:n,unit:s,formatter:o,name:a||n,color:xv(e),value:mv(t,n),type:i,payload:t,chartType:l,hide:c})};function Lv(e){return Lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(e)}function zv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Uv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zv(Object(r),!0).forEach(function(t){Wv(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wv(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Lv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Lv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vv=["Webkit","Moz","O","ms"];function Hv(e){return Hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(e)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(this,arguments)}function qv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Gv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qv(Object(r),!0).forEach(function(t){Zv(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Yv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ej(n.key),n)}}function $v(e,t,r){return t=Xv(t),function(e,t){if(t&&("object"===Hv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jv()?Reflect.construct(t,r||[],Xv(e).constructor):t.apply(e,r))}function Jv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Jv=function(){return!!e})()}function Xv(e){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xv(e)}function Qv(e,t){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qv(e,t)}function Zv(e,t,r){return(t=ej(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ej(e){var t=function(e,t){if("object"!=Hv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Hv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hv(t)?t:t+""}var tj=function(e){return e.changedTouches&&!!e.changedTouches.length},rj=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zv(r=$v(this,t,[e]),"handleDrag",function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)}),Zv(r,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])}),Zv(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=r.props,t=e.endIndex,n=e.onDragEnd,a=e.startIndex;null===n||void 0===n||n({endIndex:t,startIndex:a})}),r.detachDragEndListener()}),Zv(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Zv(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Zv(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Zv(r,"handleSlideDragStart",function(e){var t=tj(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qv(e,t)}(t,e),r=t,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var r=e.startX,n=e.endX,a=this.state.scaleValues,s=this.props,o=s.gap,i=s.data.length-1,l=Math.min(r,n),c=Math.max(r,n),d=t.getIndexInRange(a,l),u=t.getIndexInRange(a,c);return{startIndex:d-d%o,endIndex:u===i?i:u-u%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,s=mv(r[e],a,e);return il()(n)?n(s,e):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,s=this.props,o=s.x,i=s.width,l=s.travellerWidth,c=s.startIndex,d=s.endIndex,u=s.onChange,p=e.pageX-r;p>0?p=Math.min(p,o+i-l-a,o+i-l-n):p<0&&(p=Math.max(p,o-n,o-a));var h=this.getIndex({startX:n+p,endX:a+p});h.startIndex===c&&h.endIndex===d||!u||u(h),this.setState({startX:n+p,endX:a+p,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=tj(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,a=t.endX,s=t.startX,o=this.state[n],i=this.props,l=i.x,c=i.width,d=i.travellerWidth,u=i.onChange,p=i.gap,h=i.data,m={startX:this.state.startX,endX:this.state.endX},f=e.pageX-r;f>0?f=Math.min(f,l+c-d-o):f<0&&(f=Math.max(f,l-o)),m[n]=o+f;var x=this.getIndex(m),g=x.startIndex,b=x.endIndex;this.setState(Zv(Zv({},n,o+f),"brushMoveStartX",e.pageX),function(){u&&function(){var e=h.length-1;return"startX"===n&&(a>s?g%p===0:b%p===0)||a<s&&b===e||"endX"===n&&(a>s?b%p===0:g%p===0)||a>s&&b===e}()&&u(x)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,a=n.scaleValues,s=n.startX,o=n.endX,i=this.state[t],l=a.indexOf(i);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var d=a[c];"startX"===t&&d>=o||"endX"===t&&d<=s||this.setState(Zv({},t,d),function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,s=e.height,o=e.fill,i=e.stroke;return a.createElement("rect",{stroke:i,fill:o,x:t,y:r,width:n,height:s})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,s=e.height,o=e.data,i=e.children,l=e.padding,c=a.Children.only(i);return c?a.cloneElement(c,{x:t,y:r,width:n,height:s,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,r){var n,s,o=this,i=this.props,l=i.y,c=i.travellerWidth,d=i.height,u=i.traveller,p=i.ariaLabel,h=i.data,m=i.startIndex,f=i.endIndex,x=Math.max(e,this.props.x),g=Gv(Gv({},Il(this.props,!1)),{},{x:x,y:l,width:c,height:d}),b=p||"Min value: ".concat(null===(n=h[m])||void 0===n?void 0:n.name,", Max value: ").concat(null===(s=h[f])||void 0===s?void 0:s.name);return a.createElement(ac,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(u,g))}},{key:"renderSlide",value:function(e,t){var r=this.props,n=r.y,s=r.height,o=r.stroke,i=r.travellerWidth,l=Math.min(e,t)+i,c=Math.max(Math.abs(t-e)-i,0);return a.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:n,width:c,height:s})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,n=e.y,s=e.height,o=e.travellerWidth,i=e.stroke,l=this.state,c=l.startX,d=l.endX,u={pointerEvents:"none",fill:i};return a.createElement(ac,{className:"recharts-brush-texts"},a.createElement(nm,Kv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,d)-5,y:n+s/2},u),this.getTextOfTick(t)),a.createElement(nm,Kv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,d)+o+5,y:n+s/2},u),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,n=e.children,s=e.x,o=e.y,i=e.width,l=e.height,c=e.alwaysShowText,d=this.state,u=d.startX,p=d.endX,h=d.isTextActive,m=d.isSlideMoving,f=d.isTravellerMoving,x=d.isTravellerFocused;if(!t||!t.length||!Ji(s)||!Ji(o)||!Ji(i)||!Ji(l)||i<=0||l<=0)return null;var g=Mi("recharts-brush",r),b=1===a.Children.count(n),y=function(e,t){if(!e)return null;var r=e.replace(/(\w)/,function(e){return e.toUpperCase()}),n=Vv.reduce(function(e,n){return Uv(Uv({},e),{},Wv({},n+r,t))},{});return n[e]=t,n}("userSelect","none");return a.createElement(ac,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(u,p),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(p,"endX"),(h||m||f||x||c)&&this.renderText())}}],s=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,n=e.width,s=e.height,o=e.stroke,i=Math.floor(r+s/2)-1;return a.createElement(a.Fragment,null,a.createElement("rect",{x:t,y:r,width:n,height:s,fill:o,stroke:"none"}),a.createElement("line",{x1:t+1,y1:i,x2:t+n-1,y2:i,fill:"none",stroke:"#fff"}),a.createElement("line",{x1:t+1,y1:i+2,x2:t+n-1,y2:i+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return a.isValidElement(e)?a.cloneElement(e,r):il()(e)?e(r):t.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,s=e.travellerWidth,o=e.updateId,i=e.startIndex,l=e.endIndex;if(r!==t.prevData||o!==t.prevUpdateId)return Gv({prevData:r,prevTravellerWidth:s,prevUpdateId:o,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var i=t.length,l=vh().domain(ql()(0,i)).range([a,a+s-o]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:a,travellerWidth:s,startIndex:i,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||s!==t.prevTravellerWidth)){t.scale.range([a,a+n-s]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:r,prevTravellerWidth:s,prevUpdateId:o,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],n&&Yv(r.prototype,n),s&&Yv(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);function nj(e){return nj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nj(e)}function aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aj(Object(r),!0).forEach(function(t){oj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oj(e,t,r){return t=function(e){var t=function(e,t){if("object"!=nj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=nj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ij(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return lj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Zv(rj,"displayName","Brush"),Zv(rj,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var cj=Math.PI/180,dj=function(e){return 180*e/Math.PI},uj=function(e,t,r,n){return{x:e+Math.cos(-cj*n)*r,y:t+Math.sin(-cj*n)*r}},pj=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},hj=function(e,t){var r=e.x,n=e.y,a=t.cx,s=t.cy,o=function(e,t){var r=e.x,n=e.y,a=t.x,s=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-s,2))}({x:r,y:n},{x:a,y:s});if(o<=0)return{radius:o};var i=(r-a)/o,l=Math.acos(i);return n>s&&(l=2*Math.PI-l),{radius:o,angle:dj(l),angleInRadian:l}},mj=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360);return e+360*Math.min(a,s)},fj=function(e,t){var r=e.x,n=e.y,a=hj({x:r,y:n},t),s=a.radius,o=a.angle,i=t.innerRadius,l=t.outerRadius;if(s<i||s>l)return!1;if(0===s)return!0;var c,d=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-360*s,endAngle:r-360*s}}(t),u=d.startAngle,p=d.endAngle,h=o;if(u<=p){for(;h>p;)h-=360;for(;h<u;)h+=360;c=h>=u&&h<=p}else{for(;h>u;)h-=360;for(;h<p;)h+=360;c=h>=p&&h<=u}return c?sj(sj({},t),{},{radius:s,angle:mj(h,t)}):null},xj=function(e){return(0,a.isValidElement)(e)||il()(e)||"boolean"===typeof e?"":e.className};function gj(e){return gj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gj(e)}var bj=["offset"];function yj(e){return function(e){if(Array.isArray(e))return vj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Nj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(t){Aj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Aj(e,t,r){return t=function(e){var t=function(e,t){if("object"!=gj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=gj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kj.apply(this,arguments)}var Cj=function(e,t,r){var n,s,o=e.position,i=e.viewBox,l=e.offset,c=e.className,d=i,u=d.cx,p=d.cy,h=d.innerRadius,m=d.outerRadius,f=d.startAngle,x=d.endAngle,g=d.clockWise,b=(h+m)/2,y=function(e,t){return Yi(t-e)*Math.min(Math.abs(t-e),360)}(f,x),v=y>=0?1:-1;"insideStart"===o?(n=f+v*l,s=g):"insideEnd"===o?(n=x-v*l,s=!g):"end"===o&&(n=x+v*l,s=g),s=y<=0?s:!s;var j=uj(u,p,b,n),w=uj(u,p,b,n+359*(s?1:-1)),N="M".concat(j.x,",").concat(j.y,"\n    A").concat(b,",").concat(b,",0,1,").concat(s?0:1,",\n    ").concat(w.x,",").concat(w.y),A=Gi()(e.id)?Zi("recharts-radial-line-"):e.id;return a.createElement("text",kj({},r,{dominantBaseline:"central",className:Mi("recharts-radial-bar-label",c)}),a.createElement("defs",null,a.createElement("path",{id:A,d:N})),a.createElement("textPath",{xlinkHref:"#".concat(A)},t))};function Fj(e){var t,r=e.offset,n=Nj({offset:void 0===r?5:r},jj(e,bj)),s=n.viewBox,o=n.position,i=n.value,l=n.children,c=n.content,d=n.className,u=void 0===d?"":d,p=n.textBreakAll;if(!s||Gi()(i)&&Gi()(l)&&!(0,a.isValidElement)(c)&&!il()(c))return null;if((0,a.isValidElement)(c))return(0,a.cloneElement)(c,n);if(il()(c)){if(t=(0,a.createElement)(c,n),(0,a.isValidElement)(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=Gi()(e.children)?t:e.children;return il()(r)?r(n):n}(n);var h=function(e){return"cx"in e&&Ji(e.cx)}(s),m=Il(n,!0);if(h&&("insideStart"===o||"insideEnd"===o||"end"===o))return Cj(n,t,m);var f=h?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,s=a.cx,o=a.cy,i=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===n){var d=uj(s,o,l+r,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=s?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var p=uj(s,o,(i+l)/2,c);return{x:p.x,y:p.y,textAnchor:"middle",verticalAnchor:"middle"}}(n):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,s=t,o=s.x,i=s.y,l=s.width,c=s.height,d=c>=0?1:-1,u=d*n,p=d>0?"end":"start",h=d>0?"start":"end",m=l>=0?1:-1,f=m*n,x=m>0?"end":"start",g=m>0?"start":"end";if("top"===a)return Nj(Nj({},{x:o+l/2,y:i-d*n,textAnchor:"middle",verticalAnchor:p}),r?{height:Math.max(i-r.y,0),width:l}:{});if("bottom"===a)return Nj(Nj({},{x:o+l/2,y:i+c+u,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(r.y+r.height-(i+c),0),width:l}:{});if("left"===a){var b={x:o-f,y:i+c/2,textAnchor:x,verticalAnchor:"middle"};return Nj(Nj({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if("right"===a){var y={x:o+l+f,y:i+c/2,textAnchor:g,verticalAnchor:"middle"};return Nj(Nj({},y),r?{width:Math.max(r.x+r.width-y.x,0),height:c}:{})}var v=r?{width:l,height:c}:{};return"insideLeft"===a?Nj({x:o+f,y:i+c/2,textAnchor:g,verticalAnchor:"middle"},v):"insideRight"===a?Nj({x:o+l-f,y:i+c/2,textAnchor:x,verticalAnchor:"middle"},v):"insideTop"===a?Nj({x:o+l/2,y:i+u,textAnchor:"middle",verticalAnchor:h},v):"insideBottom"===a?Nj({x:o+l/2,y:i+c-u,textAnchor:"middle",verticalAnchor:p},v):"insideTopLeft"===a?Nj({x:o+f,y:i+u,textAnchor:g,verticalAnchor:h},v):"insideTopRight"===a?Nj({x:o+l-f,y:i+u,textAnchor:x,verticalAnchor:h},v):"insideBottomLeft"===a?Nj({x:o+f,y:i+c-u,textAnchor:g,verticalAnchor:p},v):"insideBottomRight"===a?Nj({x:o+l-f,y:i+c-u,textAnchor:x,verticalAnchor:p},v):cl()(a)&&(Ji(a.x)||$i(a.x))&&(Ji(a.y)||$i(a.y))?Nj({x:o+el(a.x,l),y:i+el(a.y,c),textAnchor:"end",verticalAnchor:"end"},v):Nj({x:o+l/2,y:i+c/2,textAnchor:"middle",verticalAnchor:"middle"},v)}(n);return a.createElement(nm,kj({className:Mi("recharts-label",u)},m,f,{breakAll:p}),t)}Fj.displayName="Label";var Sj=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,i=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,p=e.top,h=e.left,m=e.width,f=e.height,x=e.clockWise,g=e.labelViewBox;if(g)return g;if(Ji(m)&&Ji(f)){if(Ji(d)&&Ji(u))return{x:d,y:u,width:m,height:f};if(Ji(p)&&Ji(h))return{x:p,y:h,width:m,height:f}}return Ji(d)&&Ji(u)?{x:d,y:u,width:0,height:0}:Ji(t)&&Ji(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:s||n||0,innerRadius:l||0,outerRadius:c||i||o||0,clockWise:x}:e.viewBox?e.viewBox:{}};Fj.parseViewBox=Sj,Fj.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Sj(e),o=Sl(n,Fj).map(function(e,r){return(0,a.cloneElement)(e,{viewBox:t||s,key:"label-".concat(r)})});if(!r)return o;var i=function(e,t){return e?!0===e?a.createElement(Fj,{key:"label-implicit",viewBox:t}):Xi(e)?a.createElement(Fj,{key:"label-implicit",viewBox:t,value:e}):(0,a.isValidElement)(e)?e.type===Fj?(0,a.cloneElement)(e,{key:"label-implicit",viewBox:t}):a.createElement(Fj,{key:"label-implicit",content:e,viewBox:t}):il()(e)?a.createElement(Fj,{key:"label-implicit",content:e,viewBox:t}):cl()(e)?a.createElement(Fj,kj({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||s);return[i].concat(yj(o))};var Ej=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},Pj=r(1733),Dj=r.n(Pj),Oj=r(7002),Tj=r.n(Oj),Ij=function(e){return null};Ij.displayName="Cell";var Mj=r(4065),_j=r.n(Mj);function Rj(e){return Rj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rj(e)}var Bj=["valueAccessor"],Lj=["data","dataKey","clockWise","id","textBreakAll"];function zj(e){return function(e){if(Array.isArray(e))return Uj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Uj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wj(){return Wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wj.apply(this,arguments)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Hj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(t){Kj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Kj(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Rj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Rj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Gj=function(e){return Array.isArray(e.value)?_j()(e.value):e.value};function Yj(e){var t=e.valueAccessor,r=void 0===t?Gj:t,n=qj(e,Bj),s=n.data,o=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,d=qj(n,Lj);return s&&s.length?a.createElement(ac,{className:"recharts-label-list"},s.map(function(e,t){var n=Gi()(o)?r(e,t):mv(e&&e.payload,o),s=Gi()(l)?{}:{id:"".concat(l,"-").concat(t)};return a.createElement(Fj,Wj({},Il(e,!0),d,s,{parentViewBox:e.parentViewBox,value:n,textBreakAll:c,viewBox:Fj.parseViewBox(Gi()(i)?e:Hj(Hj({},e),{},{clockWise:i})),key:"label-".concat(t),index:t}))})):null}Yj.displayName="LabelList",Yj.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=Sl(e.children,Yj).map(function(e,r){return(0,a.cloneElement)(e,{data:t,key:"labelList-".concat(r)})});if(!r)return n;var s=function(e,t){return e?!0===e?a.createElement(Yj,{key:"labelList-implicit",data:t}):a.isValidElement(e)||il()(e)?a.createElement(Yj,{key:"labelList-implicit",data:t,content:e}):cl()(e)?a.createElement(Yj,Wj({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[s].concat(zj(n))};var $j=r(2322),Jj=r.n($j),Xj=r(6361),Qj=r.n(Xj);function Zj(e){return Zj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zj(e)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ew.apply(this,arguments)}function tw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function aw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(t){sw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Zj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Zj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ow=function(e,t,r,n,a){var s,o=r-n;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-o/2,",").concat(t+a),s+="L ".concat(e+r-o/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z")},iw={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lw=function(e){var t=aw(aw({},iw),e),r=(0,a.useRef)(),n=tw((0,a.useState)(-1),2),s=n[0],o=n[1];(0,a.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}},[]);var i=t.x,l=t.y,c=t.upperWidth,d=t.lowerWidth,u=t.height,p=t.className,h=t.animationEasing,m=t.animationDuration,f=t.animationBegin,x=t.isUpdateAnimationActive;if(i!==+i||l!==+l||c!==+c||d!==+d||u!==+u||0===c&&0===d||0===u)return null;var g=Mi("recharts-trapezoid",p);return x?a.createElement(Xp,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:u,x:i,y:l},to:{upperWidth:c,lowerWidth:d,height:u,x:i,y:l},duration:m,animationEasing:h,isActive:x},function(e){var n=e.upperWidth,o=e.lowerWidth,i=e.height,l=e.x,c=e.y;return a.createElement(Xp,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:m,easing:h},a.createElement("path",ew({},Il(t,!0),{className:g,d:ow(l,c,n,o,i),ref:r})))}):a.createElement("g",null,a.createElement("path",ew({},Il(t,!0),{className:g,d:ow(i,l,c,d,u)})))};function cw(e){return cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cw(e)}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(t){hw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=cw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mw=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,s=e.sign,o=e.isExternal,i=e.cornerRadius,l=e.cornerIsExternal,c=i*(o?1:-1)+n,d=Math.asin(i/c)/cj,u=l?a:a+s*d,p=l?a-s*d:a;return{center:uj(t,r,c,u),circleTangency:uj(t,r,n,u),lineTangency:uj(t,r,c*Math.cos(d*cj),p),theta:d}},fw=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=function(e,t){return Yi(t-e)*Math.min(Math.abs(t-e),359.999)}(s,e.endAngle),i=s+o,l=uj(t,r,a,s),c=uj(t,r,a,i),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(s>i),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var u=uj(t,r,n,s),p=uj(t,r,n,i);d+="L ".concat(p.x,",").concat(p.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(s<=i),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},xw={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gw=function(e){var t=pw(pw({},xw),e),r=t.cx,n=t.cy,s=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,p=t.className;if(o<s||d===u)return null;var h,m=Mi("recharts-sector",p),f=o-s,x=el(i,f,0,!0);return h=x>0&&Math.abs(d-u)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,i=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=Yi(c-l),u=mw({cx:t,cy:r,radius:a,angle:l,sign:d,cornerRadius:s,cornerIsExternal:i}),p=u.circleTangency,h=u.lineTangency,m=u.theta,f=mw({cx:t,cy:r,radius:a,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:i}),x=f.circleTangency,g=f.lineTangency,b=f.theta,y=i?Math.abs(l-c):Math.abs(l-c)-m-b;if(y<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):fw({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,"\n  ");if(n>0){var j=mw({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:i}),w=j.circleTangency,N=j.lineTangency,A=j.theta,k=mw({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:i}),C=k.circleTangency,F=k.lineTangency,S=k.theta,E=i?Math.abs(l-c):Math.abs(l-c)-A-S;if(E<0&&0===s)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(F.x,",").concat(F.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v}({cx:r,cy:n,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,f/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):fw({cx:r,cy:n,innerRadius:s,outerRadius:o,startAngle:d,endAngle:u}),a.createElement("path",dw({},Il(t,!0),{className:m,d:h,role:"img"}))},bw=["option","shapeType","propTransformer","activeClassName","isActive"];function yw(e){return yw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yw(e)}function vw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(t){Nw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Nw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=yw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=yw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aw(e,t){return ww(ww({},t),e)}function kw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return a.createElement(lh,r);case"trapezoid":return a.createElement(lw,r);case"sector":return a.createElement(gw,r);case"symbols":if(function(e){return"symbols"===e}(t))return a.createElement(Yd,r);break;default:return null}}function Cw(e){var t,r=e.option,n=e.shapeType,s=e.propTransformer,o=void 0===s?Aw:s,i=e.activeClassName,l=void 0===i?"recharts-active-shape":i,c=e.isActive,d=vw(e,bw);if((0,a.isValidElement)(r))t=(0,a.cloneElement)(r,ww(ww({},d),function(e){return(0,a.isValidElement)(e)?e.props:e}(r)));else if(il()(r))t=r(d);else if(Jj()(r)&&!Qj()(r)){var u=o(r,d);t=a.createElement(kw,{shapeType:n,elementProps:u})}else{var p=d;t=a.createElement(kw,{shapeType:n,elementProps:p})}return c?a.createElement(ac,{className:l},t):t}function Fw(e,t){return null!=t&&"trapezoids"in e.props}function Sw(e,t){return null!=t&&"sectors"in e.props}function Ew(e,t){return null!=t&&"points"in e.props}function Pw(e,t){var r,n,a=e.x===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,s=e.y===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return a&&s}function Dw(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Ow(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Tw(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=function(e,t){var r;return Fw(e,t)?r="trapezoids":Sw(e,t)?r="sectors":Ew(e,t)&&(r="points"),r}(r,t),s=function(e,t){var r,n;return Fw(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:Sw(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:Ew(e,t)?t.payload:{}}(r,t),o=n.filter(function(e,n){var o=hy()(s,e),i=r.props[a].filter(function(e){var n=function(e,t){var r;return Fw(e,t)?r=Pw:Sw(e,t)?r=Dw:Ew(e,t)&&(r=Ow),r}(r,t);return n(e,t)}),l=r.props[a].indexOf(i[i.length-1]);return o&&n===l});return n.indexOf(o[o.length-1])}var Iw=["x","y"];function Mw(e){return Mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mw(e)}function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_w.apply(this,arguments)}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Bw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(t){Lw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Lw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Mw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uw(e,t){var r=e.x,n=e.y,a=zw(e,Iw),s="".concat(r),o=parseInt(s,10),i="".concat(n),l=parseInt(i,10),c="".concat(t.height||a.height),d=parseInt(c,10),u="".concat(t.width||a.width),p=parseInt(u,10);return Bw(Bw(Bw(Bw(Bw({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function Ww(e){return a.createElement(Cw,_w({shapeType:"rectangle",propTransformer:Uw,activeClassName:"recharts-active-bar"},e))}var Vw,Hw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"===typeof e)return e;var a=Ji(r)||function(e){return Gi()(e)}(r);return a?e(r,n):(a||Jl(!1),t)}},Kw=["value","background"];function qw(e){return qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qw(e)}function Gw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yw.apply(this,arguments)}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Jw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(t){rN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Xw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nN(n.key),n)}}function Qw(e,t,r){return t=eN(t),function(e,t){if(t&&("object"===qw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Zw()?Reflect.construct(t,r||[],eN(e).constructor):t.apply(e,r))}function Zw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Zw=function(){return!!e})()}function eN(e){return eN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eN(e)}function tN(e,t){return tN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tN(e,t)}function rN(e,t,r){return(t=nN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nN(e){var t=function(e,t){if("object"!=qw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qw(t)?t:t+""}var aN=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return rN(e=Qw(this,t,[].concat(n)),"state",{isAnimationFinished:!1}),rN(e,"id",Zi("recharts-bar-")),rN(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),rN(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tN(e,t)}(t,e),r=t,n=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,n=r.shape,s=r.dataKey,o=r.activeIndex,i=r.activeBar,l=Il(this.props,!1);return e&&e.map(function(e,r){var c=r===o,d=c?i:n,u=Jw(Jw(Jw({},l),e),{},{isActive:c,option:d,index:r,dataKey:s,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return a.createElement(ac,Yw({className:"recharts-bar-rectangle"},bl(t.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),a.createElement(Ww,u))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,s=t.isAnimationActive,o=t.animationBegin,i=t.animationDuration,l=t.animationEasing,c=t.animationId,d=this.state.prevData;return a.createElement(Xp,{begin:o,duration:i,isActive:s,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var s=t.t,o=r.map(function(e,t){var r=d&&d[t];if(r){var a=rl(r.x,e.x),o=rl(r.y,e.y),i=rl(r.width,e.width),l=rl(r.height,e.height);return Jw(Jw({},e),{},{x:a(s),y:o(s),width:i(s),height:l(s)})}if("horizontal"===n){var c=rl(0,e.height)(s);return Jw(Jw({},e),{},{y:e.y+e.height-c,height:c})}var u=rl(0,e.width)(s);return Jw(Jw({},e),{},{width:u})});return a.createElement(ac,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&hy()(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,n=t.dataKey,s=t.activeIndex,o=Il(this.props.background,!1);return r.map(function(t,r){t.value;var i=t.background,l=Gw(t,Kw);if(!i)return null;var c=Jw(Jw(Jw(Jw(Jw({},l),{},{fill:"#eee"},i),o),bl(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return a.createElement(Ww,Yw({key:"background-bar-".concat(r),option:e.props.background,isActive:r===s},c))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.data,s=r.xAxis,o=r.yAxis,i=r.layout,l=Sl(r.children,rv);if(!l)return null;var c="vertical"===i?n[0].height/2:n[0].width/2,d=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:mv(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return a.createElement(ac,u,l.map(function(e){return a.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:n,xAxis:s,yAxis:o,layout:i,offset:c,dataPointFormatter:d})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,s=e.xAxis,o=e.yAxis,i=e.left,l=e.top,c=e.width,d=e.height,u=e.isAnimationActive,p=e.background,h=e.id;if(t||!r||!r.length)return null;var m=this.state.isAnimationFinished,f=Mi("recharts-bar",n),x=s&&s.allowDataOverflow,g=o&&o.allowDataOverflow,b=x||g,y=Gi()(h)?this.id:h;return a.createElement(ac,{className:f},x||g?a.createElement("defs",null,a.createElement("clipPath",{id:"clipPath-".concat(y)},a.createElement("rect",{x:x?i:i-c/2,y:g?l:l-d/2,width:x?c:2*c,height:g?d:2*d}))):null,a.createElement(ac,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(y,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,y),(!u||m)&&Yj.renderCallByParent(this.props,r))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],n&&Xw(r.prototype,n),s&&Xw(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);function sN(e){return sN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sN(e)}function oN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dN(n.key),n)}}function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(t){cN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cN(e,t,r){return(t=dN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dN(e){var t=function(e,t){if("object"!=sN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=sN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sN(t)?t:t+""}Vw=aN,rN(aN,"displayName","Bar"),rN(aN,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Dc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),rN(aN,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,i=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,p=e.offset,h=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!h)return null;var m=t.layout,f=r.type.defaultProps,x=void 0!==f?Jw(Jw({},f),r.props):r.props,g=x.dataKey,b=x.children,y=x.minPointSize,v="horizontal"===m?o:s,j=c?v.scale.domain():null,w=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:v}),N=Sl(b,Ij),A=u.map(function(e,t){var n,u,p,f,x,b;c?n=function(e,t){if(!t||2!==t.length||!Ji(t[0])||!Ji(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ji(e[0])||e[0]<r)&&(a[0]=r),(!Ji(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(c[d+t],j):(n=mv(e,g),Array.isArray(n)||(n=[w,n]));var v=Hw(y,Vw.defaultProps.minPointSize)(n[1],t);if("horizontal"===m){var A,k=[o.scale(n[0]),o.scale(n[1])],C=k[0],F=k[1];u=Dv({axis:s,ticks:i,bandSize:a,offset:h.offset,entry:e,index:t}),p=null!==(A=null!==F&&void 0!==F?F:C)&&void 0!==A?A:void 0,f=h.size;var S=C-F;if(x=Number.isNaN(S)?0:S,b={x:u,y:o.y,width:f,height:o.height},Math.abs(v)>0&&Math.abs(x)<Math.abs(v)){var E=Yi(x||v)*(Math.abs(v)-Math.abs(x));p-=E,x+=E}}else{var P=[s.scale(n[0]),s.scale(n[1])],D=P[0],O=P[1];if(u=D,p=Dv({axis:o,ticks:l,bandSize:a,offset:h.offset,entry:e,index:t}),f=O-D,x=h.size,b={x:s.x,y:p,width:s.width,height:x},Math.abs(v)>0&&Math.abs(f)<Math.abs(v))f+=Yi(f||v)*(Math.abs(v)-Math.abs(f))}return Jw(Jw(Jw({},e),{},{x:u,y:p,width:f,height:x,value:c?n:n[1],payload:e,background:b},N&&N[t]&&N[t].props),{},{tooltipPayload:[Bv(r,e)],tooltipPosition:{x:u+f/2,y:p+x/2}})});return Jw({data:A,layout:m},p)});var uN=function(e,t,r,n,a){var s=e.width,o=e.height,i=e.layout,l=e.children,c=Object.keys(t),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},u=!!El(l,aN);return c.reduce(function(s,o){var l,c,p,h,m,f=t[o],x=f.orientation,g=f.domain,b=f.padding,y=void 0===b?{}:b,v=f.mirror,j=f.reversed,w="".concat(x).concat(v?"Mirror":"");if("number"===f.type&&("gap"===f.padding||"no-gap"===f.padding)){var N=g[1]-g[0],A=1/0,k=f.categoricalDomain.sort(al);if(k.forEach(function(e,t){t>0&&(A=Math.min((e||0)-(k[t-1]||0),A))}),Number.isFinite(A)){var C=A/N,F="vertical"===f.layout?r.height:r.width;if("gap"===f.padding&&(l=C*F/2),"no-gap"===f.padding){var S=el(e.barCategoryGap,C*F),E=C*F/2;l=E-S-(E-S)/F*S}}}c="xAxis"===n?[r.left+(y.left||0)+(l||0),r.left+r.width-(y.right||0)-(l||0)]:"yAxis"===n?"horizontal"===i?[r.top+r.height-(y.bottom||0),r.top+(y.top||0)]:[r.top+(y.top||0)+(l||0),r.top+r.height-(y.bottom||0)-(l||0)]:f.range,j&&(c=[c[1],c[0]]);var P=Av(f,a,u),D=P.scale,O=P.realScaleType;D.domain(g).range(c),Cv(D);var T=Ev(D,lN(lN({},f),{},{realScaleType:O}));"xAxis"===n?(m="top"===x&&!v||"bottom"===x&&v,p=r.left,h=d[w]-m*f.height):"yAxis"===n&&(m="left"===x&&!v||"right"===x&&v,p=d[w]-m*f.width,h=r.top);var I=lN(lN(lN({},f),T),{},{realScaleType:O,x:p,y:h,scale:D,width:"xAxis"===n?r.width:f.width,height:"yAxis"===n?r.height:f.height});return I.bandSize=_v(I,T),f.hide||"xAxis"!==n?f.hide||(d[w]+=(m?-1:1)*I.width):d[w]+=(m?-1:1)*I.height,lN(lN({},s),{},cN({},o,I))},{})},pN=function(e,t){var r=e.x,n=e.y,a=t.x,s=t.y;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},hN=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&oN(t.prototype,r),n&&oN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();cN(hN,"EPS",1e-4);var mN=function(e){var t=Object.keys(e).reduce(function(t,r){return lN(lN({},t),{},cN({},r,hN.create(e[r])))},{});return lN(lN({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return Dj()(e,function(e,r){return t[r].apply(e,{bandAware:n,position:a})})},isInRange:function(e){return Tj()(e,function(e,r){return t[r].isInRange(e)})}})};function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fN.apply(this,arguments)}function xN(e){return xN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xN(e)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(t){AN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kN(n.key),n)}}function vN(e,t,r){return t=wN(t),function(e,t){if(t&&("object"===xN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jN()?Reflect.construct(t,r||[],wN(e).constructor):t.apply(e,r))}function jN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jN=function(){return!!e})()}function wN(e){return wN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wN(e)}function NN(e,t){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NN(e,t)}function AN(e,t,r){return(t=kN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kN(e){var t=function(e,t){if("object"!=xN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xN(t)?t:t+""}var CN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vN(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NN(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this.props,r=e.x,n=e.y,s=e.r,o=e.alwaysShow,i=e.clipPathId,l=Xi(r),c=Xi(n);if(sl(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var d=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,s=mN({x:n.scale,y:a.scale}),o=s.apply({x:t,y:r},{bandAware:!0});return Ej(e,"discard")&&!s.isInRange(o)?null:o}(this.props);if(!d)return null;var u=d.x,p=d.y,h=this.props,m=h.shape,f=h.className,x=bN(bN({clipPath:Ej(this.props,"hidden")?"url(#".concat(i,")"):void 0},Il(this.props,!0)),{},{cx:u,cy:p});return a.createElement(ac,{className:Mi("recharts-reference-dot",f)},t.renderDot(m,x),Fj.renderCallByParent(this.props,{x:u-s,y:p-s,width:2*s,height:2*s}))}}],n&&yN(r.prototype,n),s&&yN(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);AN(CN,"displayName","ReferenceDot"),AN(CN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),AN(CN,"renderDot",function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):il()(e)?e(t):a.createElement(wu,fN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var FN=r(4597),SN=r.n(FN),EN=r(8990),PN=r.n(EN),DN=r(5797),ON=r.n(DN)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var TN=(0,a.createContext)(void 0),IN=(0,a.createContext)(void 0),MN=(0,a.createContext)(void 0),_N=(0,a.createContext)({}),RN=(0,a.createContext)(void 0),BN=(0,a.createContext)(0),LN=(0,a.createContext)(0),zN=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,s=t.offset,o=e.clipPathId,i=e.children,l=e.width,c=e.height,d=ON(s);return a.createElement(TN.Provider,{value:r},a.createElement(IN.Provider,{value:n},a.createElement(_N.Provider,{value:s},a.createElement(MN.Provider,{value:d},a.createElement(RN.Provider,{value:o},a.createElement(BN.Provider,{value:c},a.createElement(LN.Provider,{value:l},i)))))))};var UN=function(e){var t=(0,a.useContext)(TN);null==t&&Jl(!1);var r=t[e];return null==r&&Jl(!1),r},WN=function(e){var t=(0,a.useContext)(IN);null==t&&Jl(!1);var r=t[e];return null==r&&Jl(!1),r},VN=function(){return(0,a.useContext)(LN)},HN=function(){return(0,a.useContext)(BN)};function KN(e){return KN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KN(e)}function qN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eA(n.key),n)}}function GN(e,t,r){return t=$N(t),function(e,t){if(t&&("object"===KN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YN()?Reflect.construct(t,r||[],$N(e).constructor):t.apply(e,r))}function YN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(YN=function(){return!!e})()}function $N(e){return $N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$N(e)}function JN(e,t){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JN(e,t)}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function QN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(t){ZN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ZN(e,t,r){return(t=eA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eA(e){var t=function(e,t){if("object"!=KN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=KN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KN(t)?t:t+""}function tA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nA(){return nA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nA.apply(this,arguments)}function aA(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,o=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,d=(0,a.useContext)(RN),u=UN(s),p=WN(o),h=(0,a.useContext)(MN);if(!d||!h)return null;sl(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=function(e,t,r,n,a,s,o,i,l){var c=a.x,d=a.y,u=a.width,p=a.height;if(r){var h=l.y,m=e.y.apply(h,{position:s});if(Ej(l,"discard")&&!e.y.isInRange(m))return null;var f=[{x:c+u,y:m},{x:c,y:m}];return"left"===i?f.reverse():f}if(t){var x=l.x,g=e.x.apply(x,{position:s});if(Ej(l,"discard")&&!e.x.isInRange(g))return null;var b=[{x:g,y:d+p},{x:g,y:d}];return"top"===o?b.reverse():b}if(n){var y=l.segment.map(function(t){return e.apply(t,{position:s})});return Ej(l,"discard")&&SN()(y,function(t){return!e.isInRange(t)})?null:y}return null}(mN({x:u.scale,y:p.scale}),Xi(t),Xi(r),n&&2===n.length,h,e.position,u.orientation,p.orientation,e);if(!m)return null;var f=tA(m,2),x=f[0],g=x.x,b=x.y,y=f[1],v=y.x,j=y.y,w=QN(QN({clipPath:Ej(e,"hidden")?"url(#".concat(d,")"):void 0},Il(e,!0)),{},{x1:g,y1:b,x2:v,y2:j});return a.createElement(ac,{className:Mi("recharts-reference-line",l)},function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):il()(e)?e(t):a.createElement("line",nA({},t,{className:"recharts-reference-line-line"}))}(i,w),Fj.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return pN({x:t,y:r},{x:n,y:a})}({x1:g,y1:b,x2:v,y2:j})))}var sA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),GN(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JN(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.createElement(aA,this.props)}}])&&qN(r.prototype,n),s&&qN(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);function oA(){return oA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oA.apply(this,arguments)}function iA(e){return iA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iA(e)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(t){fA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xA(n.key),n)}}function uA(e,t,r){return t=hA(t),function(e,t){if(t&&("object"===iA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pA()?Reflect.construct(t,r||[],hA(e).constructor):t.apply(e,r))}function pA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pA=function(){return!!e})()}function hA(e){return hA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hA(e)}function mA(e,t){return mA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mA(e,t)}function fA(e,t,r){return(t=xA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xA(e){var t=function(e,t){if("object"!=iA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=iA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iA(t)?t:t+""}ZN(sA,"displayName","ReferenceLine"),ZN(sA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var gA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uA(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mA(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this.props,r=e.x1,n=e.x2,s=e.y1,o=e.y2,i=e.className,l=e.alwaysShow,c=e.clipPathId;sl(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Xi(r),u=Xi(n),p=Xi(s),h=Xi(o),m=this.props.shape;if(!d&&!u&&!p&&!h&&!m)return null;var f=function(e,t,r,n,a){var s=a.x1,o=a.x2,i=a.y1,l=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var u=mN({x:c.scale,y:d.scale}),p={x:e?u.x.apply(s,{position:"start"}):u.x.rangeMin,y:r?u.y.apply(i,{position:"start"}):u.y.rangeMin},h={x:t?u.x.apply(o,{position:"end"}):u.x.rangeMax,y:n?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!Ej(a,"discard")||u.isInRange(p)&&u.isInRange(h)?pN(p,h):null}(d,u,p,h,this.props);if(!f&&!m)return null;var x=Ej(this.props,"hidden")?"url(#".concat(c,")"):void 0;return a.createElement(ac,{className:Mi("recharts-reference-area",i)},t.renderRect(m,cA(cA({clipPath:x},Il(this.props,!0)),f)),Fj.renderCallByParent(this.props,f))}}],n&&dA(r.prototype,n),s&&dA(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);function bA(e){return function(e){if(Array.isArray(e))return yA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return yA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}fA(gA,"displayName","ReferenceArea"),fA(gA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),fA(gA,"renderRect",function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):il()(e)?e(t):a.createElement(lh,oA({},t,{className:"recharts-reference-area-rect"}))});var vA=function(e,t,r,n,a){var s=Sl(e,sA),o=Sl(e,CN),i=[].concat(bA(s),bA(o)),l=Sl(e,gA),c="".concat(n,"Id"),d=n[0],u=t;if(i.length&&(u=i.reduce(function(e,t){if(t.props[c]===r&&Ej(t.props,"extendDomain")&&Ji(t.props[d])){var n=t.props[d];return[Math.min(e[0],n),Math.max(e[1],n)]}return e},u)),l.length){var p="".concat(d,"1"),h="".concat(d,"2");u=l.reduce(function(e,t){if(t.props[c]===r&&Ej(t.props,"extendDomain")&&Ji(t.props[p])&&Ji(t.props[h])){var n=t.props[p],a=t.props[h];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e},u)}return a&&a.length&&(u=a.reduce(function(e,t){return Ji(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},u)),u},jA=r(7283),wA=new(r.n(jA)()),NA="recharts.syncMouseEvents";function AA(e){return AA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AA(e)}function kA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FA(n.key),n)}}function CA(e,t,r){return(t=FA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FA(e){var t=function(e,t){if("object"!=AA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=AA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AA(t)?t:t+""}var SA=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),CA(this,"activeIndex",0),CA(this,"coordinateList",[]),CA(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,a=e.container,s=void 0===a?null:a,o=e.layout,i=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!==n&&void 0!==n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!==s&&void 0!==s?s:this.container,this.layout=null!==i&&void 0!==i?i:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==u&&void 0!==u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,a=r.y,s=r.height,o=this.coordinateList[this.activeIndex].coordinate,i=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+o+i,d=a+this.offset.top+s/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}],t&&kA(e.prototype,t),r&&kA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function EA(){}function PA(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function DA(e){this._context=e}function OA(e){this._context=e}function TA(e){this._context=e}DA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:PA(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:PA(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},OA.prototype={areaStart:EA,areaEnd:EA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:PA(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},TA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:PA(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class IA{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function MA(e){this._context=e}function _A(e){this._context=e}function RA(e){return new _A(e)}function BA(e){return e<0?-1:1}function LA(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),i=(s*a+o*n)/(n+a);return(BA(s)+BA(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(i))||0}function zA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function UA(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,i=(s-n)/3;e._context.bezierCurveTo(n+i,a+i*t,s-i,o-i*r,s,o)}function WA(e){this._context=e}function VA(e){this._context=new HA(e)}function HA(e){this._context=e}function KA(e){this._context=e}function qA(e){var t,r,n=e.length-1,a=new Array(n),s=new Array(n),o=new Array(n);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function GA(e,t){this._context=e,this._t=t}function YA(e){return e[0]}function $A(e){return e[1]}function JA(e,t){var r=gd(!0),n=null,a=RA,s=null,o=Bd(i);function i(i){var l,c,d,u=(i=ry(i)).length,p=!1;for(null==n&&(s=a(d=o())),l=0;l<=u;++l)!(l<u&&r(c=i[l],l,i))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+e(c,l,i),+t(c,l,i));if(d)return s=null,d+""||null}return e="function"===typeof e?e:void 0===e?YA:gd(e),t="function"===typeof t?t:void 0===t?$A:gd(t),i.x=function(t){return arguments.length?(e="function"===typeof t?t:gd(+t),i):e},i.y=function(e){return arguments.length?(t="function"===typeof e?e:gd(+e),i):t},i.defined=function(e){return arguments.length?(r="function"===typeof e?e:gd(!!e),i):r},i.curve=function(e){return arguments.length?(a=e,null!=n&&(s=a(n)),i):a},i.context=function(e){return arguments.length?(null==e?n=s=null:s=a(n=e),i):n},i}function XA(e,t,r){var n=null,a=gd(!0),s=null,o=RA,i=null,l=Bd(c);function c(c){var d,u,p,h,m,f=(c=ry(c)).length,x=!1,g=new Array(f),b=new Array(f);for(null==s&&(i=o(m=l())),d=0;d<=f;++d){if(!(d<f&&a(h=c[d],d,c))===x)if(x=!x)u=d,i.areaStart(),i.lineStart();else{for(i.lineEnd(),i.lineStart(),p=d-1;p>=u;--p)i.point(g[p],b[p]);i.lineEnd(),i.areaEnd()}x&&(g[d]=+e(h,d,c),b[d]=+t(h,d,c),i.point(n?+n(h,d,c):g[d],r?+r(h,d,c):b[d]))}if(m)return i=null,m+""||null}function d(){return JA().defined(a).curve(o).context(s)}return e="function"===typeof e?e:void 0===e?YA:gd(+e),t="function"===typeof t?t:gd(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?$A:gd(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:gd(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:gd(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:gd(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:gd(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:gd(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:gd(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:gd(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=s&&(i=o(s)),c):o},c.context=function(e){return arguments.length?(null==e?s=i=null:i=o(s=e),c):s},c}function QA(e){return QA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QA(e)}function ZA(){return ZA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZA.apply(this,arguments)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(t){rk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rk(e,t,r){return t=function(e){var t=function(e,t){if("object"!=QA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=QA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==QA(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}MA.prototype={areaStart:EA,areaEnd:EA,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},_A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},WA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:UA(this,this._t0,zA(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,UA(this,zA(this,r=LA(this,e,t)),r);break;default:UA(this,this._t0,r=LA(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(VA.prototype=Object.create(WA.prototype)).point=function(e,t){WA.prototype.point.call(this,t,e)},HA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}},KA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=qA(e),a=qA(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},GA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var nk={curveBasisClosed:function(e){return new OA(e)},curveBasisOpen:function(e){return new TA(e)},curveBasis:function(e){return new DA(e)},curveBumpX:function(e){return new IA(e,!0)},curveBumpY:function(e){return new IA(e,!1)},curveLinearClosed:function(e){return new MA(e)},curveLinear:RA,curveMonotoneX:function(e){return new WA(e)},curveMonotoneY:function(e){return new VA(e)},curveNatural:function(e){return new KA(e)},curveStep:function(e){return new GA(e,.5)},curveStepAfter:function(e){return new GA(e,1)},curveStepBefore:function(e){return new GA(e,0)}},ak=function(e){return e.x===+e.x&&e.y===+e.y},sk=function(e){return e.x},ok=function(e){return e.y},ik=function(e){var t,r=e.type,n=void 0===r?"linear":r,a=e.points,s=void 0===a?[]:a,o=e.baseLine,i=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(il()(e))return e;var r="curve".concat(Yc()(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?nk[r]||RA:nk["".concat(r).concat("vertical"===t?"Y":"X")]}(n,i),u=c?s.filter(function(e){return ak(e)}):s;if(Array.isArray(o)){var p=c?o.filter(function(e){return ak(e)}):o,h=u.map(function(e,t){return tk(tk({},e),{},{base:p[t]})});return t="vertical"===i?XA().y(ok).x1(sk).x0(function(e){return e.base.x}):XA().x(sk).y1(ok).y0(function(e){return e.base.y}),t.defined(ak).curve(d),t(h)}return(t="vertical"===i&&Ji(o)?XA().y(ok).x1(sk).x0(o):Ji(o)?XA().x(sk).y1(ok).y0(o):JA().x(sk).y(ok)).defined(ak).curve(d),t(u)},lk=function(e){var t=e.className,r=e.points,n=e.path,s=e.pathRef;if((!r||!r.length)&&!n)return null;var o=r&&r.length?ik(e):n;return a.createElement("path",ZA({},Il(e,!1),gl(e),{className:Mi("recharts-curve",t),d:o,ref:s}))};function ck(e){return ck="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ck(e)}var dk=["x","y","top","left","width","height","className"];function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uk.apply(this,arguments)}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hk(e,t,r){return t=function(e){var t=function(e,t){if("object"!=ck(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ck(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ck(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mk(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var fk=function(e,t,r,n,a,s){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r)},xk=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,s=void 0===n?0:n,o=e.top,i=void 0===o?0:o,l=e.left,c=void 0===l?0:l,d=e.width,u=void 0===d?0:d,p=e.height,h=void 0===p?0:p,m=e.className,f=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(t){hk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:s,top:i,left:c,width:u,height:h},mk(e,dk));return Ji(r)&&Ji(s)&&Ji(u)&&Ji(h)&&Ji(i)&&Ji(c)?a.createElement("path",uk({},Il(f,!0),{className:Mi("recharts-cross",m),d:fk(r,s,u,h,i,c)})):null};function gk(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle;return{points:[uj(t,r,n,a),uj(t,r,n,s)],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function bk(e,t,r){var n,a,s,o;if("horizontal"===e)s=n=t.x,a=r.top,o=r.top+r.height;else if("vertical"===e)o=a=t.y,n=r.left,s=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return gk(t);var i=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,p=uj(i,l,c,u),h=uj(i,l,d,u);n=p.x,a=p.y,s=h.x,o=h.y}return[{x:n,y:a},{x:s,y:o}]}function yk(e){return yk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yk(e)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(t){wk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wk(e,t,r){return t=function(e){var t=function(e,t){if("object"!=yk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=yk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nk(e){var t,r,n,s=e.element,o=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,c=e.activePayload,d=e.offset,u=e.activeTooltipIndex,p=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,f=null!==(t=s.props.cursor)&&void 0!==t?t:null===(r=s.type.defaultProps)||void 0===r?void 0:r.cursor;if(!s||!f||!i||!l||"ScatterChart"!==m&&"axis"!==o)return null;var x=lk;if("ScatterChart"===m)n=l,x=xk;else if("BarChart"===m)n=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(h,l,d,p),x=lh;else if("radial"===h){var g=gk(l),b=g.cx,y=g.cy,v=g.radius;n={cx:b,cy:y,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:v,outerRadius:v},x=gw}else n={points:bk(h,l,d)},x=lk;var j=jk(jk(jk(jk({stroke:"#ccc",pointerEvents:"none"},d),n),Il(f,!1)),{},{payload:c,payloadIndex:u,className:Mi("recharts-tooltip-cursor",f.className)});return(0,a.isValidElement)(f)?(0,a.cloneElement)(f,j):(0,a.createElement)(x,j)}var Ak=["item"],kk=["children","className","width","height","style","compact","title","desc"];function Ck(e){return Ck="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ck(e)}function Fk(){return Fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fk.apply(this,arguments)}function Sk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||_k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ek(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uk(n.key),n)}}function Dk(e,t,r){return t=Tk(t),function(e,t){if(t&&("object"===Ck(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ok()?Reflect.construct(t,r||[],Tk(e).constructor):t.apply(e,r))}function Ok(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ok=function(){return!!e})()}function Tk(e){return Tk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tk(e)}function Ik(e,t){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ik(e,t)}function Mk(e){return function(e){if(Array.isArray(e))return Rk(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _k(e,t){if(e){if("string"===typeof e)return Rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rk(e,t):void 0}}function Rk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Lk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(t){zk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zk(e,t,r){return(t=Uk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uk(e){var t=function(e,t){if("object"!=Ck(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ck(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ck(t)?t:t+""}var Wk={xAxis:["bottom","top"],yAxis:["left","right"]},Vk={width:"100%",height:"100%"},Hk={x:0,y:0};function Kk(e){return e}var qk=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,s=(null!==r&&void 0!==r?r:[]).reduce(function(e,t){var r=t.props.data;return r&&r.length?[].concat(Mk(e),Mk(r)):e},[]);return s.length>0?s:e&&e.length&&Ji(n)&&Ji(a)?e.slice(n,a+1):[]};function Gk(e){return"number"===e?[0,"auto"]:void 0}var Yk,$k=function(e,t,r,n){var a=e.graphicalItems,s=e.tooltipAxis,o=qk(t,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(a,i){var l,c,d=null!==(l=i.props.data)&&void 0!==l?l:t;(d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),s.dataKey&&!s.allowDuplicatedCategory)?c=nl(void 0===d?o:d,s.dataKey,n):c=d&&d[r]||o[r];return c?[].concat(Mk(a),[Bv(i,c)]):a},[])},Jk=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},s=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),o=e.orderedTooltipTicks,i=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var i=a.range,l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,d=n[l].coordinate,u=l>=o-1?n[0].coordinate:n[l+1].coordinate,p=void 0;if(Yi(d-c)!==Yi(u-d)){var h=[];if(Yi(u-d)===Yi(i[1]-i[0])){p=u;var m=d+i[1]-i[0];h[0]=Math.min(m,(m+c)/2),h[1]=Math.max(m,(m+c)/2)}else{p=c;var f=u+i[1]-i[0];h[0]=Math.min(d,(f+d)/2),h[1]=Math.max(d,(f+d)/2)}var x=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>x[0]&&e<=x[1]||e>=h[0]&&e<=h[1]){s=n[l].index;break}}else{var g=Math.min(c,u),b=Math.max(c,u);if(e>(g+d)/2&&e<=(b+d)/2){s=n[l].index;break}}}else for(var y=0;y<o;y++)if(0===y&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y>0&&y<o-1&&e>(r[y].coordinate+r[y-1].coordinate)/2&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y===o-1&&e>(r[y].coordinate+r[y-1].coordinate)/2){s=r[y].index;break}return s}(s,o,l,i);if(c>=0&&l){var d=l[c]&&l[c].value,u=$k(e,t,c,d),p=function(e,t,r,n){var a=t.find(function(e){return e&&e.index===r});if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var s=a.coordinate,o=n.radius;return Lk(Lk(Lk({},n),uj(n.cx,n.cy,o,s)),{},{angle:s,radius:o})}var i=a.coordinate,l=n.angle;return Lk(Lk(Lk({},n),uj(n.cx,n.cy,i,l)),{},{angle:l,radius:i})}return Hk}(r,o,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:p}}return null},Xk=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,s=t.axisIdKey,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,p=yv(c,a);return r.reduce(function(t,r){var h,m=void 0!==r.type.defaultProps?Lk(Lk({},r.type.defaultProps),r.props):r.props,f=m.type,x=m.dataKey,g=m.allowDataOverflow,b=m.allowDuplicatedCategory,y=m.scale,v=m.ticks,j=m.includeHidden,w=m[s];if(t[w])return t;var N,A,k,C=qk(e.data,{graphicalItems:n.filter(function(e){var t;return(s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s])===w}),dataStartIndex:i,dataEndIndex:l}),F=C.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(n&&a&&Ji(n)&&Ji(a))return!0}return!1})(m.domain,g,f)&&(N=Mv(m.domain,null,g),!p||"number"!==f&&"auto"===y||(k=fv(C,x,"category")));var S=Gk(f);if(!N||0===N.length){var E,P=null!==(E=m.domain)&&void 0!==E?E:S;if(x){if(N=fv(C,x,f),"category"===f&&p){var D=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(N);b&&D?(A=N,N=ql()(0,F)):b||(N=Rv(P,N,r).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(Mk(e),[t])},[]))}else if("category"===f)N=b?N.filter(function(e){return""!==e&&!Gi()(e)}):Rv(P,N,r).reduce(function(e,t){return e.indexOf(t)>=0||""===t||Gi()(t)?e:[].concat(Mk(e),[t])},[]);else if("number"===f){var O=function(e,t,r,n,a){var s=t.map(function(t){return gv(e,t,r,a,n)}).filter(function(e){return!Gi()(e)});return s&&s.length?s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(C,n.filter(function(e){var t,r,n=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===w&&(j||!a)}),x,a,c);O&&(N=O)}!p||"number"!==f&&"auto"===y||(k=fv(C,x,"category"))}else N=p?ql()(0,F):o&&o[w]&&o[w].hasStack&&"number"===f?"expand"===u?[0,1]:Ov(o[w].stackGroups,i,l):bv(C,n.filter(function(e){var t=s in e.props?e.props[s]:e.type.defaultProps[s],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!r)}),f,c,!0);if("number"===f)N=vA(d,N,w,a,v),P&&(N=Mv(P,N,g));else if("category"===f&&P){var T=P;N.every(function(e){return T.indexOf(e)>=0})&&(N=T)}}return Lk(Lk({},t),{},zk({},w,Lk(Lk({},m),{},{axisType:a,domain:N,categoricalDomain:k,duplicateDomain:A,originalDomain:null!==(h=m.domain)&&void 0!==h?h:S,isCategorical:p,layout:c})))},{})},Qk=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,s=t.graphicalItems,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(n,"Id"),u=Sl(c,a),p={};return u&&u.length?p=Xk(e,{axes:u,graphicalItems:s,axisType:n,axisIdKey:d,stackGroups:o,dataStartIndex:i,dataEndIndex:l}):s&&s.length&&(p=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,s=t.axisIdKey,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=qk(e.data,{graphicalItems:r,dataStartIndex:i,dataEndIndex:l}),p=u.length,h=yv(c,a),m=-1;return r.reduce(function(e,t){var f,x=(void 0!==t.type.defaultProps?Lk(Lk({},t.type.defaultProps),t.props):t.props)[s],g=Gk("number");return e[x]?e:(m++,h?f=ql()(0,p):o&&o[x]&&o[x].hasStack?(f=Ov(o[x].stackGroups,i,l),f=vA(d,f,x,a)):(f=Mv(g,bv(u,r.filter(function(e){var t,r,n=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===x&&!a}),"number",c),n.defaultProps.allowDataOverflow),f=vA(d,f,x,a)),Lk(Lk({},e),{},zk({},x,Lk(Lk({axisType:a},n.defaultProps),{},{hide:!0,orientation:Vi()(Wk,"".concat(a,".").concat(m%2),null),domain:f,originalDomain:g,isCategorical:h,layout:c}))))},{})}(e,{Axis:a,graphicalItems:s,axisType:n,axisIdKey:d,stackGroups:o,dataStartIndex:i,dataEndIndex:l})),p},Zk=function(e){var t=e.children,r=e.defaultShowTooltip,n=El(t,rj),a=0,s=0;return e.data&&0!==e.data.length&&(s=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(s=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},eC=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tC=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,s=e.yAxisMap,o=void 0===s?{}:s,i=r.width,l=r.height,c=r.children,d=r.margin||{},u=El(c,rj),p=El(c,vu),h=Object.keys(o).reduce(function(e,t){var r=o[t],n=r.orientation;return r.mirror||r.hide?e:Lk(Lk({},e),{},zk({},n,e[n]+r.width))},{left:d.left||0,right:d.right||0}),m=Object.keys(a).reduce(function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:Lk(Lk({},e),{},zk({},n,Vi()(e,"".concat(n))+r.height))},{top:d.top||0,bottom:d.bottom||0}),f=Lk(Lk({},m),h),x=f.bottom;u&&(f.bottom+=u.props.height||rj.defaultProps.height),p&&t&&(f=function(e,t,r,n){var a=r.children,s=r.width,o=r.margin,i=s-(o.left||0)-(o.right||0),l=iv({children:a,legendWidth:i});if(l){var c=n||{},d=c.width,u=c.height,p=l.align,h=l.verticalAlign,m=l.layout;if(("vertical"===m||"horizontal"===m&&"middle"===h)&&"center"!==p&&Ji(e[p]))return pv(pv({},e),{},hv({},p,e[p]+(d||0)));if(("horizontal"===m||"vertical"===m&&"center"===p)&&"middle"!==h&&Ji(e[h]))return pv(pv({},e),{},hv({},h,e[h]+(u||0)))}return e}(f,0,r,t));var g=i-f.left-f.right,b=l-f.top-f.bottom;return Lk(Lk({brushBottom:x},f),{},{width:Math.max(g,0),height:Math.max(b,0)})},rC=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},nC=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,s=void 0===n?"axis":n,o=e.validateTooltipEventTypes,i=void 0===o?["axis"]:o,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,u=e.defaultProps,p=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,s=t.updateId,o=t.dataStartIndex,i=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,p=e.barCategoryGap,h=e.maxBarSize,m=eC(d),f=m.numericAxisName,x=m.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some(function(e){var t=Al(e&&e.type);return t&&t.indexOf("Bar")>=0})}(r),b=[];return r.forEach(function(r,m){var y=qk(e.data,{graphicalItems:[r],dataStartIndex:o,dataEndIndex:i}),v=void 0!==r.type.defaultProps?Lk(Lk({},r.type.defaultProps),r.props):r.props,j=v.dataKey,w=v.maxBarSize,N=v["".concat(f,"Id")],A=v["".concat(x,"Id")],k=l.reduce(function(e,r){var n=t["".concat(r.axisType,"Map")],a=v["".concat(r.axisType,"Id")];n&&n[a]||"zAxis"===r.axisType||Jl(!1);var s=n[a];return Lk(Lk({},e),{},zk(zk({},r.axisType,s),"".concat(r.axisType,"Ticks"),jv(s)))},{}),C=k[x],F=k["".concat(x,"Ticks")],S=n&&n[N]&&n[N].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?pv(pv({},e.type.defaultProps),e.props):e.props).stackId;if(Xi(n)){var a=t[n];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null}(r,n[N].stackGroups),E=Al(r.type).indexOf("Bar")>=0,P=_v(C,F),D=[],O=g&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=void 0===n?{}:n;if(!a)return{};for(var s={},o=Object.keys(a),i=0,l=o.length;i<l;i++)for(var c=a[o[i]].stackGroups,d=Object.keys(c),u=0,p=d.length;u<p;u++){var h=c[d[u]],m=h.items,f=h.cateAxisId,x=m.filter(function(e){return Al(e.type).indexOf("Bar")>=0});if(x&&x.length){var g=x[0].type.defaultProps,b=void 0!==g?pv(pv({},g),x[0].props):x[0].props,y=b.barSize,v=b[f];s[v]||(s[v]=[]);var j=Gi()(y)?t:y;s[v].push({item:x[0],stackList:x.slice(1),barSize:Gi()(j)?void 0:el(j,r,0)})}}return s}({barSize:c,stackGroups:n,totalSize:rC(k,x)});if(E){var T,I,M=Gi()(w)?h:w,_=null!==(T=null!==(I=_v(C,F,!0))&&void 0!==I?I:M)&&void 0!==T?T:0;D=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,s=void 0===a?[]:a,o=e.maxBarSize,i=s.length;if(i<1)return null;var l,c=el(t,n,0,!0),d=[];if(s[0].barSize===+s[0].barSize){var u=!1,p=n/i,h=s.reduce(function(e,t){return e+t.barSize||0},0);(h+=(i-1)*c)>=n&&(h-=(i-1)*c,c=0),h>=n&&p>0&&(u=!0,h=i*(p*=.9));var m={offset:((n-h)/2|0)-c,size:0};l=s.reduce(function(e,t){var r={item:t.item,position:{offset:m.offset+m.size+c,size:u?p:t.barSize}},n=[].concat(cv(e),[r]);return m=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:m})}),n},d)}else{var f=el(r,n,0,!0);n-2*f-(i-1)*c<=0&&(c=0);var x=(n-2*f-(i-1)*c)/i;x>1&&(x>>=0);var g=o===+o?Math.min(x,o):x;l=s.reduce(function(e,t,r){var n=[].concat(cv(e),[{item:t.item,position:{offset:f+(x+c)*r+(x-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:n[n.length-1].position})}),n},d)}return l}({barGap:u,barCategoryGap:p,bandSize:_!==P?_:P,sizeList:O[A],maxBarSize:M}),_!==P&&(D=D.map(function(e){return Lk(Lk({},e),{},{position:Lk(Lk({},e.position),{},{offset:e.position.offset-_/2})})}))}var R,B,L=r&&r.type&&r.type.getComposedData;L&&b.push({props:Lk(Lk({},L(Lk(Lk({},k),{},{displayedData:y,props:e,dataKey:j,item:r,bandSize:P,barPosition:D,offset:a,stackedData:S,layout:d,dataStartIndex:o,dataEndIndex:i}))),{},zk(zk(zk({key:r.key||"item-".concat(m)},f,k[f]),x,k[x]),"animationId",s)),childIndex:(R=r,B=e.children,Fl(B).indexOf(R)),item:r})}),b},h=function(e,n){var a=e.props,s=e.dataStartIndex,o=e.dataEndIndex,i=e.updateId;if(!Pl({props:a}))return null;var c=a.children,u=a.layout,h=a.stackOffset,m=a.data,f=a.reverseStackOrder,x=eC(u),g=x.numericAxisName,b=x.cateAxisName,y=Sl(c,r),v=function(e,t,r,n,a,s){if(!e)return null;var o=(s?t.reverse():t).reduce(function(e,t){var a,s=null!==(a=t.type)&&void 0!==a&&a.defaultProps?pv(pv({},t.type.defaultProps),t.props):t.props,o=s.stackId;if(s.hide)return e;var i=s[r],l=e[i]||{hasStack:!1,stackGroups:{}};if(Xi(o)){var c=l.stackGroups[o]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[Zi("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return pv(pv({},e),{},hv({},i,l))},{});return Object.keys(o).reduce(function(t,s){var i=o[s];return i.hasStack&&(i.stackGroups=Object.keys(i.stackGroups).reduce(function(t,s){var o=i.stackGroups[s];return pv(pv({},t),{},hv({},s,{numericAxisId:r,cateAxisId:n,items:o.items,stackedData:Sv(e,o.items,a)}))},{})),pv(pv({},t),{},hv({},s,i))},{})}(m,y,"".concat(g,"Id"),"".concat(b,"Id"),h,f),j=l.reduce(function(e,t){var r="".concat(t.axisType,"Map");return Lk(Lk({},e),{},zk({},r,Qk(a,Lk(Lk({},t),{},{graphicalItems:y,stackGroups:t.axisType===g&&v,dataStartIndex:s,dataEndIndex:o}))))},{}),w=tC(Lk(Lk({},j),{},{props:a,graphicalItems:y}),null===n||void 0===n?void 0:n.legendBBox);Object.keys(j).forEach(function(e){j[e]=d(a,j[e],w,e.replace("Map",""),t)});var N=function(e){var t=tl(e),r=jv(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Yl()(r,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:_v(t,r)}}(j["".concat(b,"Map")]),A=p(a,Lk(Lk({},j),{},{dataStartIndex:s,dataEndIndex:o,updateId:i,graphicalItems:y,stackGroups:v,offset:w}));return Lk(Lk({formattedGraphicalItems:A,graphicalItems:y,offset:w,stackGroups:v},N),j)},m=function(e){function r(e){var n,s,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),zk(o=Dk(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),zk(o,"accessibilityManager",new SA),zk(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,r=t.dataStartIndex,n=t.dataEndIndex,a=t.updateId;o.setState(Lk({legendBBox:e},h({props:o.props,dataStartIndex:r,dataEndIndex:n,updateId:a},Lk(Lk({},o.state),{},{legendBBox:e}))))}}),zk(o,"handleReceiveSyncEvent",function(e,t,r){if(o.props.syncId===e){if(r===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),zk(o,"handleBrushChange",function(e){var t=e.startIndex,r=e.endIndex;if(t!==o.state.dataStartIndex||r!==o.state.dataEndIndex){var n=o.state.updateId;o.setState(function(){return Lk({dataStartIndex:t,dataEndIndex:r},h({props:o.props,dataStartIndex:t,dataEndIndex:r,updateId:n},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}}),zk(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var r=Lk(Lk({},t),{},{isTooltipActive:!0});o.setState(r),o.triggerSyncEvent(r);var n=o.props.onMouseEnter;il()(n)&&n(r,e)}}),zk(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),r=t?Lk(Lk({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(r),o.triggerSyncEvent(r);var n=o.props.onMouseMove;il()(n)&&n(r,e)}),zk(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),zk(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),zk(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),zk(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var r=o.props.onMouseLeave;il()(r)&&r(t,e)}),zk(o,"handleOuterEvent",function(e){var t,r=function(e){var t=e&&e.type;return t&&Nl[t]?Nl[t]:null}(e),n=Vi()(o.props,"".concat(r));r&&il()(n)&&n(null!==(t=/.*touch.*/i.test(r)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),zk(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var r=Lk(Lk({},t),{},{isTooltipActive:!0});o.setState(r),o.triggerSyncEvent(r);var n=o.props.onClick;il()(n)&&n(r,e)}}),zk(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;il()(t)&&t(o.getMouseInfo(e),e)}),zk(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;il()(t)&&t(o.getMouseInfo(e),e)}),zk(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),zk(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),zk(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),zk(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;il()(t)&&t(o.getMouseInfo(e),e)}),zk(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;il()(t)&&t(o.getMouseInfo(e),e)}),zk(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&wA.emit(NA,o.props.syncId,e,o.eventEmitterSymbol)}),zk(o,"applySyncEvent",function(e){var t=o.props,r=t.layout,n=t.syncMethod,a=o.state.updateId,s=e.dataStartIndex,i=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(Lk({dataStartIndex:s,dataEndIndex:i},h({props:o.props,dataStartIndex:s,dataEndIndex:i,updateId:a},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,u=o.state,p=u.offset,m=u.tooltipTicks;if(!p)return;if("function"===typeof n)d=n(m,e);else if("value"===n){d=-1;for(var f=0;f<m.length;f++)if(m[f].value===e.activeLabel){d=f;break}}var x=Lk(Lk({},p),{},{x:p.left,y:p.top}),g=Math.min(l,x.x+x.width),b=Math.min(c,x.y+x.height),y=m[d]&&m[d].value,v=$k(o.state,o.props.data,d),j=m[d]?{x:"horizontal"===r?m[d].coordinate:g,y:"horizontal"===r?b:m[d].coordinate}:Hk;o.setState(Lk(Lk({},e),{},{activeLabel:y,activeCoordinate:j,activePayload:v,activeTooltipIndex:d}))}else o.setState(e)}),zk(o,"renderCursor",function(e){var r,n=o.state,s=n.isTooltipActive,i=n.activeCoordinate,l=n.activePayload,c=n.offset,d=n.activeTooltipIndex,u=n.tooltipAxisBandSize,p=o.getTooltipEventType(),h=null!==(r=e.props.active)&&void 0!==r?r:s,m=o.props.layout,f=e.key||"_recharts-cursor";return a.createElement(Nk,{key:f,activeCoordinate:i,activePayload:l,activeTooltipIndex:d,chartName:t,element:e,isActive:h,layout:m,offset:c,tooltipAxisBandSize:u,tooltipEventType:p})}),zk(o,"renderPolarAxis",function(e,t,r){var n=Vi()(e,"type.axisType"),s=Vi()(o.state,"".concat(n,"Map")),i=e.type.defaultProps,l=void 0!==i?Lk(Lk({},i),e.props):e.props,c=s&&s[l["".concat(n,"Id")]];return(0,a.cloneElement)(e,Lk(Lk({},c),{},{className:Mi(n,c.className),key:e.key||"".concat(t,"-").concat(r),ticks:jv(c,!0)}))}),zk(o,"renderPolarGrid",function(e){var t=e.props,r=t.radialLines,n=t.polarAngles,s=t.polarRadius,i=o.state,l=i.radiusAxisMap,c=i.angleAxisMap,d=tl(l),u=tl(c),p=u.cx,h=u.cy,m=u.innerRadius,f=u.outerRadius;return(0,a.cloneElement)(e,{polarAngles:Array.isArray(n)?n:jv(u,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(s)?s:jv(d,!0).map(function(e){return e.coordinate}),cx:p,cy:h,innerRadius:m,outerRadius:f,key:e.key||"polar-grid",radialLines:r})}),zk(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,t=o.props,r=t.children,n=t.width,s=t.height,i=o.props.margin||{},l=n-(i.left||0)-(i.right||0),d=iv({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!d)return null;var u=d.item,p=Ek(d,Ak);return(0,a.cloneElement)(u,Lk(Lk({},p),{},{chartWidth:n,chartHeight:s,margin:i,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),zk(o,"renderTooltip",function(){var e,t=o.props,r=t.children,n=t.accessibilityLayer,s=El(r,qc);if(!s)return null;var i=o.state,l=i.isTooltipActive,c=i.activeCoordinate,d=i.activePayload,u=i.activeLabel,p=i.offset,h=null!==(e=s.props.active)&&void 0!==e?e:l;return(0,a.cloneElement)(s,{viewBox:Lk(Lk({},p),{},{x:p.left,y:p.top}),active:h,label:u,payload:h?d:[],coordinate:c,accessibilityLayer:n})}),zk(o,"renderBrush",function(e){var t=o.props,r=t.margin,n=t.data,s=o.state,i=s.offset,l=s.dataStartIndex,c=s.dataEndIndex,d=s.updateId;return(0,a.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:Nv(o.handleBrushChange,e.props.onChange),data:n,x:Ji(e.props.x)?e.props.x:i.left,y:Ji(e.props.y)?e.props.y:i.top+i.height+i.brushBottom-(r.bottom||0),width:Ji(e.props.width)?e.props.width:i.width,startIndex:l,endIndex:c,updateId:"brush-".concat(d)})}),zk(o,"renderReferenceElement",function(e,t,r){if(!e)return null;var n=o.clipPathId,s=o.state,i=s.xAxisMap,l=s.yAxisMap,c=s.offset,d=e.type.defaultProps||{},u=e.props,p=u.xAxisId,h=void 0===p?d.xAxisId:p,m=u.yAxisId,f=void 0===m?d.yAxisId:m;return(0,a.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:i[h],yAxis:l[f],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:n})}),zk(o,"renderActivePoints",function(e){var t=e.item,n=e.activePoint,a=e.basePoint,s=e.childIndex,o=e.isRange,i=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?Lk(Lk({},t.item.type.defaultProps),t.item.props):t.item.props,d=c.activeDot,u=Lk(Lk({index:s,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:xv(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Il(d,!1)),gl(d));return i.push(r.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(s))),a?i.push(r.renderActiveDot(d,Lk(Lk({},u),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(s))):o&&i.push(null),i}),zk(o,"renderGraphicChild",function(e,t,r){var n=o.filterFormatItem(e,t,r);if(!n)return null;var s=o.getTooltipEventType(),i=o.state,l=i.isTooltipActive,c=i.tooltipAxis,d=i.activeTooltipIndex,u=i.activeLabel,p=El(o.props.children,qc),h=n.props,m=h.points,f=h.isRange,x=h.baseLine,g=void 0!==n.item.type.defaultProps?Lk(Lk({},n.item.type.defaultProps),n.item.props):n.item.props,b=g.activeDot,y=g.hide,v=g.activeBar,j=g.activeShape,w=Boolean(!y&&l&&p&&(b||v||j)),N={};"axis"!==s&&p&&"click"===p.props.trigger?N={onClick:Nv(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==s&&(N={onMouseLeave:Nv(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Nv(o.handleItemMouseEnter,e.props.onMouseEnter)});var A=(0,a.cloneElement)(e,Lk(Lk({},n.props),N));if(w){if(!(d>=0)){var k,C=(null!==(k=o.getItemByXY(o.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:A}).graphicalItem,F=C.item,S=void 0===F?e:F,E=C.childIndex,P=Lk(Lk(Lk({},n.props),N),{},{activeIndex:E});return[(0,a.cloneElement)(S,P),null,null]}var D,O;if(c.dataKey&&!c.allowDuplicatedCategory){var T="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());D=nl(m,T,u),O=f&&x&&nl(x,T,u)}else D=null===m||void 0===m?void 0:m[d],O=f&&x&&x[d];if(j||v){var I=void 0!==e.props.activeIndex?e.props.activeIndex:d;return[(0,a.cloneElement)(e,Lk(Lk(Lk({},n.props),N),{},{activeIndex:I})),null,null]}if(!Gi()(D))return[A].concat(Mk(o.renderActivePoints({item:n,activePoint:D,basePoint:O,childIndex:d,isRange:f})))}return f?[A,null,null]:[A,null]}),zk(o,"renderCustomized",function(e,t,r){return(0,a.cloneElement)(e,Lk(Lk({key:"recharts-customized-".concat(r)},o.props),o.state))}),zk(o,"renderMap",{CartesianGrid:{handler:Kk,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:Kk},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:Kk},YAxis:{handler:Kk},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(n=e.id)&&void 0!==n?n:Zi("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=Ri()(o.triggeredAfterMouseMove,null!==(s=e.throttleDelay)&&void 0!==s?s:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ik(e,t)}(r,e),n=r,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,a=e.layout,s=El(t,qc);if(s){var o=s.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var i=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=$k(this.state,r,o,i),c=this.state.tooltipTicks[o].coordinate,d=(this.state.offset.top+n)/2,u="horizontal"===a?{x:c,y:d}:{y:c,x:d},p=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});p&&(u=Lk(Lk({},u),p.props.points[o].tooltipPosition),l=p.props.points[o].tooltipPayload);var h={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:i,activePayload:l,activeCoordinate:u};this.setState(h),this.renderCursor(s),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}}),null):null;var r,n}},{key:"componentDidUpdate",value:function(e){Ml([El(e.children,qc)],[El(this.props.children,qc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=El(this.props.children,qc);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return i.indexOf(t)>=0?t:s}return s}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),a={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},s={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=n.width/r.offsetWidth||1,i=this.inRange(s.chartX,s.chartY,o);if(!i)return null;var l=this.state,c=l.xAxisMap,d=l.yAxisMap,u=this.getTooltipEventType(),p=Jk(this.state,this.props.data,this.props.layout,i);if("axis"!==u&&c&&d){var h=tl(c).scale,m=tl(d).scale,f=h&&h.invert?h.invert(s.chartX):null,x=m&&m.invert?m.invert(s.chartY):null;return Lk(Lk({},s),{},{xValue:f,yValue:x},p)}return p?Lk(Lk({},s),p):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,a=e/r,s=t/r;if("horizontal"===n||"vertical"===n){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&s>=o.top&&s<=o.top+o.height?{x:a,y:s}:null}var i=this.state,l=i.angleAxisMap,c=i.radiusAxisMap;if(l&&c){var d=tl(l);return fj({x:a,y:s},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=El(e,qc),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),Lk(Lk({},gl(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){wA.on(NA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wA.removeListener(NA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,s=n.length;a<s;a++){var o=n[a];if(o.item===e||o.props.key===e.key||t===Al(o.item.type)&&r===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,n=t.top,s=t.height,o=t.width;return a.createElement("defs",null,a.createElement("clipPath",{id:e},a.createElement("rect",{x:r,y:n,height:s,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=Sk(t,2),n=r[0],a=r[1];return Lk(Lk({},e),{},zk({},n,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=Sk(t,2),n=r[0],a=r[1];return Lk(Lk({},e),{},zk({},n,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var a=0,s=r.length;a<s;a++){var o=r[a],i=o.props,l=o.item,c=void 0!==l.type.defaultProps?Lk(Lk({},l.type.defaultProps),l.props):l.props,d=Al(l.type);if("Bar"===d){var u=(i.data||[]).find(function(t){return oh(e,t)});if(u)return{graphicalItem:o,payload:u}}else if("RadialBar"===d){var p=(i.data||[]).find(function(t){return fj(e,t)});if(p)return{graphicalItem:o,payload:p}}else if(Fw(o,n)||Sw(o,n)||Ew(o,n)){var h=Tw({graphicalItem:o,activeTooltipItem:n,itemData:c.data}),m=void 0===c.activeIndex?h:c.activeIndex;return{graphicalItem:Lk(Lk({},o),{},{childIndex:m}),payload:Ew(o,n)?c.data[h]:o.props.data[h]}}}return null}},{key:"render",value:function(){var e=this;if(!Pl(this))return null;var t,r,n=this.props,s=n.children,o=n.className,i=n.width,l=n.height,c=n.style,d=n.compact,u=n.title,p=n.desc,h=Ek(n,kk),m=Il(h,!1);if(d)return a.createElement(zN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},a.createElement(ec,Fk({},m,{width:i,height:l,title:u,desc:p}),this.renderClipPath(),Rl(s,this.renderMap)));this.props.accessibilityLayer&&(m.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,m.role=null!==(r=this.props.role)&&void 0!==r?r:"application",m.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},m.onFocus=function(){e.accessibilityManager.focus()});var f=this.parseEventsOfWrapper();return a.createElement(zN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},a.createElement("div",Fk({className:Mi("recharts-wrapper",o),style:Lk({position:"relative",cursor:"default",width:i,height:l},c)},f,{ref:function(t){e.container=t}}),a.createElement(ec,Fk({},m,{width:i,height:l,title:u,desc:p,style:Vk}),this.renderClipPath(),Rl(s,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&Pk(n.prototype,o),l&&Pk(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,l}(a.Component);zk(m,"displayName",t),zk(m,"defaultProps",Lk({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),zk(m,"getDerivedStateFromProps",function(e,t){var r=e.dataKey,n=e.data,a=e.children,s=e.width,o=e.height,i=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,u=t.dataEndIndex;if(void 0===t.updateId){var p=Zk(e);return Lk(Lk(Lk({},p),{},{updateId:0},h(Lk(Lk({props:e},p),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:s,prevHeight:o,prevLayout:i,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(r!==t.prevDataKey||n!==t.prevData||s!==t.prevWidth||o!==t.prevHeight||i!==t.prevLayout||l!==t.prevStackOffset||!ul(c,t.prevMargin)){var m=Zk(e),f={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},x=Lk(Lk({},Jk(t,n,i)),{},{updateId:t.updateId+1}),g=Lk(Lk(Lk({},m),f),x);return Lk(Lk(Lk({},g),h(Lk({props:e},g),t)),{},{prevDataKey:r,prevData:n,prevWidth:s,prevHeight:o,prevLayout:i,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Ml(a,t.prevChildren)){var b,y,v,j,w=El(a,rj),N=w&&null!==(b=null===(y=w.props)||void 0===y?void 0:y.startIndex)&&void 0!==b?b:d,A=w&&null!==(v=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==v?v:u,k=N!==d||A!==u,C=!Gi()(n)&&!k?t.updateId:t.updateId+1;return Lk(Lk({updateId:C},h(Lk(Lk({props:e},t),{},{updateId:C,dataStartIndex:N,dataEndIndex:A}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:A})}return null}),zk(m,"renderActiveDot",function(e,t,r){var n;return n=(0,a.isValidElement)(e)?(0,a.cloneElement)(e,t):il()(e)?e(t):a.createElement(wu,t),a.createElement(ac,{className:"recharts-active-dot",key:r},n)});var f=(0,a.forwardRef)(function(e,t){return a.createElement(m,Fk({},e,{ref:t}))});return f.displayName=m.displayName,f},aC=["layout","type","stroke","connectNulls","isRange","ref"],sC=["key"];function oC(e){return oC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oC(e)}function iC(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lC(){return lC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lC.apply(this,arguments)}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(t){xC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gC(n.key),n)}}function pC(e,t,r){return t=mC(t),function(e,t){if(t&&("object"===oC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hC()?Reflect.construct(t,r||[],mC(e).constructor):t.apply(e,r))}function hC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hC=function(){return!!e})()}function mC(e){return mC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mC(e)}function fC(e,t){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fC(e,t)}function xC(e,t,r){return(t=gC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gC(e){var t=function(e,t){if("object"!=oC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=oC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oC(t)?t:t+""}var bC=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return xC(e=pC(this,t,[].concat(n)),"state",{isAnimationFinished:!0}),xC(e,"id",Zi("recharts-area-")),xC(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),il()(t)&&t()}),xC(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),il()(t)&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fC(e,t)}(t,e),r=t,n=[{key:"renderDots",value:function(e,r,n){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var i=this.props,l=i.dot,c=i.points,d=i.dataKey,u=Il(this.props,!1),p=Il(l,!0),h=c.map(function(e,r){var n=dC(dC(dC({key:"dot-".concat(r),r:3},u),p),{},{index:r,cx:e.x,cy:e.y,dataKey:d,value:e.value,payload:e.payload,points:c});return t.renderDotItem(l,n)}),m={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return a.createElement(ac,lC({className:"recharts-area-dots"},m),h)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,s=t.strokeWidth,o=n[0].x,i=n[n.length-1].x,l=e*Math.abs(o-i),c=iy()(n.map(function(e){return e.y||0}));return Ji(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(iy()(r.map(function(e){return e.y||0})),c)),Ji(c)?a.createElement("rect",{x:o<i?o:o-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,s=t.strokeWidth,o=n[0].y,i=n[n.length-1].y,l=e*Math.abs(o-i),c=iy()(n.map(function(e){return e.x||0}));return Ji(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(iy()(r.map(function(e){return e.x||0})),c)),Ji(c)?a.createElement("rect",{x:0,y:o<i?o:o-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,r,n){var s=this.props,o=s.layout,i=s.type,l=s.stroke,c=s.connectNulls,d=s.isRange,u=(s.ref,iC(s,aC));return a.createElement(ac,{clipPath:r?"url(#clipPath-".concat(n,")"):null},a.createElement(lk,lC({},Il(u,!0),{points:e,connectNulls:c,type:i,baseLine:t,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==l&&a.createElement(lk,lC({},Il(this.props,!1),{className:"recharts-area-curve",layout:o,type:i,connectNulls:c,fill:"none",points:e})),"none"!==l&&d&&a.createElement(lk,lC({},Il(this.props,!1),{className:"recharts-area-curve",layout:o,type:i,connectNulls:c,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var r=this,n=this.props,s=n.points,o=n.baseLine,i=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,d=n.animationEasing,u=n.animationId,p=this.state,h=p.prevPoints,m=p.prevBaseLine;return a.createElement(Xp,{begin:l,duration:c,isActive:i,easing:d,from:{t:0},to:{t:1},key:"area-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var i=n.t;if(h){var l,c=h.length/s.length,d=s.map(function(e,t){var r=Math.floor(t*c);if(h[r]){var n=h[r],a=rl(n.x,e.x),s=rl(n.y,e.y);return dC(dC({},e),{},{x:a(i),y:s(i)})}return e});return l=Ji(o)&&"number"===typeof o?rl(m,o)(i):Gi()(o)||Ui()(o)?rl(m,0)(i):o.map(function(e,t){var r=Math.floor(t*c);if(m[r]){var n=m[r],a=rl(n.x,e.x),s=rl(n.y,e.y);return dC(dC({},e),{},{x:a(i),y:s(i)})}return e}),r.renderAreaStatically(d,l,e,t)}return a.createElement(ac,null,a.createElement("defs",null,a.createElement("clipPath",{id:"animationClipPath-".concat(t)},r.renderClipRect(i))),a.createElement(ac,{clipPath:"url(#animationClipPath-".concat(t,")")},r.renderAreaStatically(s,o,e,t)))})}},{key:"renderArea",value:function(e,t){var r=this.props,n=r.points,a=r.baseLine,s=r.isAnimationActive,o=this.state,i=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return s&&n&&n.length&&(!i&&c>0||!hy()(i,n)||!hy()(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(n,a,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,s=t.points,o=t.className,i=t.top,l=t.left,c=t.xAxis,d=t.yAxis,u=t.width,p=t.height,h=t.isAnimationActive,m=t.id;if(r||!s||!s.length)return null;var f=this.state.isAnimationFinished,x=1===s.length,g=Mi("recharts-area",o),b=c&&c.allowDataOverflow,y=d&&d.allowDataOverflow,v=b||y,j=Gi()(m)?this.id:m,w=null!==(e=Il(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,A=void 0===N?3:N,k=w.strokeWidth,C=void 0===k?2:k,F=(Tl(n)?n:{}).clipDot,S=void 0===F||F,E=2*A+C;return a.createElement(ac,{className:g},b||y?a.createElement("defs",null,a.createElement("clipPath",{id:"clipPath-".concat(j)},a.createElement("rect",{x:b?l:l-u/2,y:y?i:i-p/2,width:b?u:2*u,height:y?p:2*p})),!S&&a.createElement("clipPath",{id:"clipPath-dots-".concat(j)},a.createElement("rect",{x:l-E/2,y:i-E/2,width:u+E,height:p+E}))):null,x?null:this.renderArea(v,j),(n||x)&&this.renderDots(v,S,j),(!h||f)&&Yj.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],n&&uC(r.prototype,n),s&&uC(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);function yC(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t){if(void 0!==r&&!0!==r(e[a]))return;n.push(e[a])}return n}function vC(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,s=Math.atan(r/t),o=a>s&&a<Math.PI-s?r/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},r)}function jC(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function wC(e){return wC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wC(e)}function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function AC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(t){kC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kC(e,t,r){return t=function(e){var t=function(e,t){if("object"!=wC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=wC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wC(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CC(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,i=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!a||!a.length||!n)return[];if(Ji(l)||Dc.isSsr)return function(e,t){return yC(e,t+1)}(a,"number"===typeof l&&Ji(l)?l:0);var p=[],h="top"===i||"bottom"===i?"width":"height",m=d&&"width"===h?Sh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},f=function(e,n){var a=il()(c)?c(e.value,n):e.value;return"width"===h?vC(Sh(a,{fontSize:t,letterSpacing:r}),m,u):Sh(a,{fontSize:t,letterSpacing:r})[h]},x=a.length>=2?Yi(a[1].coordinate-a[0].coordinate):1,g=function(e,t,r){var n="width"===r,a=e.x,s=e.y,o=e.width,i=e.height;return 1===t?{start:n?a:s,end:n?a+o:s+i}:{start:n?a+o:s+i,end:n?a:s}}(s,x,h);return"equidistantPreserveStart"===l?function(e,t,r,n,a){for(var s,o=(n||[]).slice(),i=t.start,l=t.end,c=0,d=1,u=i,p=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:yC(n,d)};var s,o=c,p=function(){return void 0===s&&(s=r(t,o)),s},h=t.coordinate,m=0===c||jC(e,h,p,u,l);m||(c=0,u=i,d+=1),m&&(u=h+e*(p()/2+a),c+=d)};d<=o.length;)if(s=p())return s.v;return[]}(x,g,f,a,o):(p="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,a,s){var o=(n||[]).slice(),i=o.length,l=t.start,c=t.end;if(s){var d=n[i-1],u=r(d,i-1),p=e*(d.coordinate+e*u/2-c);o[i-1]=d=AC(AC({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),jC(e,d.tickCoord,function(){return u},l,c)&&(c=d.tickCoord-e*(u/2+a),o[i-1]=AC(AC({},d),{},{isShow:!0}))}for(var h=s?i-1:i,m=function(t){var n,s=o[t],i=function(){return void 0===n&&(n=r(s,t)),n};if(0===t){var d=e*(s.coordinate-e*i()/2-l);o[t]=s=AC(AC({},s),{},{tickCoord:d<0?s.coordinate-d*e:s.coordinate})}else o[t]=s=AC(AC({},s),{},{tickCoord:s.coordinate});jC(e,s.tickCoord,i,l,c)&&(l=s.tickCoord+e*(i()/2+a),o[t]=AC(AC({},s),{},{isShow:!0}))},f=0;f<h;f++)m(f);return o}(x,g,f,a,o,"preserveStartEnd"===l):function(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,i=t.start,l=t.end,c=function(t){var n,c=s[t],d=function(){return void 0===n&&(n=r(c,t)),n};if(t===o-1){var u=e*(c.coordinate+e*d()/2-l);s[t]=c=AC(AC({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else s[t]=c=AC(AC({},c),{},{tickCoord:c.coordinate});jC(e,c.tickCoord,d,i,l)&&(l=c.tickCoord-e*(d()/2+a),s[t]=AC(AC({},c),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return s}(x,g,f,a,o),p.filter(function(e){return e.isShow}))}Yk=bC,xC(bC,"displayName","Area"),xC(bC,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Dc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),xC(bC,"getBaseValue",function(e,t,r,n){var a=e.layout,s=e.baseValue,o=t.props.baseValue,i=null!==o&&void 0!==o?o:s;if(Ji(i)&&"number"===typeof i)return i;var l="horizontal"===a?n:r,c=l.scale.domain();if("number"===l.type){var d=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return"dataMin"===i?u:"dataMax"===i||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===i?c[0]:"dataMax"===i?c[1]:c[0]}),xC(bC,"getComposedData",function(e){var t,r=e.props,n=e.item,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,p=e.displayedData,h=e.offset,m=r.layout,f=d&&d.length,x=Yk.getBaseValue(r,n,a,s),g="horizontal"===m,b=!1,y=p.map(function(e,t){var r;f?r=d[u+t]:(r=mv(e,c),Array.isArray(r)?b=!0:r=[x,r]);var n=null==r[1]||f&&null==mv(e,c);return g?{x:Pv({axis:a,ticks:o,bandSize:l,entry:e,index:t}),y:n?null:s.scale(r[1]),value:r,payload:e}:{x:n?null:a.scale(r[1]),y:Pv({axis:s,ticks:i,bandSize:l,entry:e,index:t}),value:r,payload:e}});return t=f||b?y.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return g?{x:e.x,y:null!=t&&null!=e.y?s.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):g?s.scale(x):a.scale(x),dC({points:y,baseLine:t,layout:m,isRange:b},h)}),xC(bC,"renderDotItem",function(e,t){var r;if(a.isValidElement(e))r=a.cloneElement(e,t);else if(il()(e))r=e(t);else{var n=Mi("recharts-area-dot","boolean"!==typeof e?e.className:""),s=t.key,o=iC(t,sC);r=a.createElement(wu,lC({},o,{key:s,className:n}))}return r});var FC=["viewBox"],SC=["viewBox"],EC=["ticks"];function PC(e){return PC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PC(e)}function DC(){return DC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DC.apply(this,arguments)}function OC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function TC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OC(Object(r),!0).forEach(function(t){zC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function IC(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UC(n.key),n)}}function _C(e,t,r){return t=BC(t),function(e,t){if(t&&("object"===PC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,RC()?Reflect.construct(t,r||[],BC(e).constructor):t.apply(e,r))}function RC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(RC=function(){return!!e})()}function BC(e){return BC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BC(e)}function LC(e,t){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},LC(e,t)}function zC(e,t,r){return(t=UC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UC(e){var t=function(e,t){if("object"!=PC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=PC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PC(t)?t:t+""}var WC=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=_C(this,t,[e])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LC(e,t)}(t,e),r=t,n=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=IC(e,FC),a=this.props,s=a.viewBox,o=IC(a,SC);return!ul(r,s)||!ul(n,o)||!ul(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,s,o,i=this.props,l=i.x,c=i.y,d=i.width,u=i.height,p=i.orientation,h=i.tickSize,m=i.mirror,f=i.tickMargin,x=m?-1:1,g=e.tickSize||h,b=Ji(e.tickCoord)?e.tickCoord:e.coordinate;switch(p){case"top":t=r=e.coordinate,o=(n=(a=c+ +!m*u)-x*g)-x*f,s=b;break;case"left":n=a=e.coordinate,s=(t=(r=l+ +!m*d)-x*g)-x*f,o=b;break;case"right":n=a=e.coordinate,s=(t=(r=l+ +m*d)+x*g)+x*f,o=b;break;default:t=r=e.coordinate,o=(n=(a=c+ +m*u)+x*g)+x*f,s=b}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:s,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,s=e.height,o=e.orientation,i=e.mirror,l=e.axisLine,c=TC(TC(TC({},Il(this.props,!1)),Il(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var d=+("top"===o&&!i||"bottom"===o&&i);c=TC(TC({},c),{},{x1:t,y1:r+d*s,x2:t+n,y2:r+d*s})}else{var u=+("left"===o&&!i||"right"===o&&i);c=TC(TC({},c),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+s})}return a.createElement("line",DC({},c,{className:Mi("recharts-cartesian-axis-line",Vi()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,n){var s=this,o=this.props,i=o.tickLine,l=o.stroke,c=o.tick,d=o.tickFormatter,u=o.unit,p=CC(TC(TC({},this.props),{},{ticks:e}),r,n),h=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),f=Il(this.props,!1),x=Il(c,!1),g=TC(TC({},f),{},{fill:"none"},Il(i,!1)),b=p.map(function(e,r){var n=s.getTickLineCoord(e),o=n.line,b=n.tick,y=TC(TC(TC(TC({textAnchor:h,verticalAnchor:m},f),{},{stroke:"none",fill:l},x),b),{},{index:r,payload:e,visibleTicksCount:p.length,tickFormatter:d});return a.createElement(ac,DC({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},bl(s.props,e,r)),i&&a.createElement("line",DC({},g,o,{className:Mi("recharts-cartesian-axis-tick-line",Vi()(i,"className"))})),c&&t.renderTickItem(c,y,"".concat(il()(d)?d(e.value,r):e.value).concat(u||"")))});return a.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,s=t.height,o=t.ticksGenerator,i=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,d=IC(l,EC),u=c;return il()(o)&&(u=c&&c.length>0?o(this.props):o(d)),n<=0||s<=0||!u||!u.length?null:a.createElement(ac,{className:Mi("recharts-cartesian-axis",i),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),Fj.renderCallByParent(this.props))}}],s=[{key:"renderTickItem",value:function(e,t,r){var n=Mi(t.className,"recharts-cartesian-axis-tick-value");return a.isValidElement(e)?a.cloneElement(e,TC(TC({},t),{},{className:n})):il()(e)?e(TC(TC({},t),{},{className:n})):a.createElement(nm,DC({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],n&&MC(r.prototype,n),s&&MC(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);function VC(e){return VC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VC(e)}function HC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JC(n.key),n)}}function KC(e,t,r){return t=GC(t),function(e,t){if(t&&("object"===VC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qC()?Reflect.construct(t,r||[],GC(e).constructor):t.apply(e,r))}function qC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qC=function(){return!!e})()}function GC(e){return GC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},GC(e)}function YC(e,t){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},YC(e,t)}function $C(e,t,r){return(t=JC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JC(e){var t=function(e,t){if("object"!=VC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=VC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VC(t)?t:t+""}function XC(){return XC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XC.apply(this,arguments)}function QC(e){var t=e.xAxisId,r=VN(),n=HN(),s=UN(t);return null==s?null:a.createElement(WC,XC({},s,{className:Mi("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return jv(e,!0)}}))}zC(WC,"displayName","CartesianAxis"),zC(WC,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ZC=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),KC(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YC(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.createElement(QC,this.props)}}])&&HC(r.prototype,n),s&&HC(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);function eF(e){return eF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eF(e)}function tF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iF(n.key),n)}}function rF(e,t,r){return t=aF(t),function(e,t){if(t&&("object"===eF(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nF()?Reflect.construct(t,r||[],aF(e).constructor):t.apply(e,r))}function nF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nF=function(){return!!e})()}function aF(e){return aF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aF(e)}function sF(e,t){return sF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sF(e,t)}function oF(e,t,r){return(t=iF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=function(e,t){if("object"!=eF(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eF(t)?t:t+""}function lF(){return lF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lF.apply(this,arguments)}$C(ZC,"displayName","XAxis"),$C(ZC,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var cF=function(e){var t=e.yAxisId,r=VN(),n=HN(),s=WN(t);return null==s?null:a.createElement(WC,lF({},s,{className:Mi("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return jv(e,!0)}}))},dF=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rF(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sF(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.createElement(cF,this.props)}}])&&tF(r.prototype,n),s&&tF(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);oF(dF,"displayName","YAxis"),oF(dF,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var uF=nC({chartName:"AreaChart",GraphicalChild:bC,axisComponents:[{axisType:"xAxis",AxisComp:ZC},{axisType:"yAxis",AxisComp:dF}],formatAxisMap:uN}),pF=["x1","y1","x2","y2","key"],hF=["offset"];function mF(e){return mF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mF(e)}function fF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fF(Object(r),!0).forEach(function(t){gF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gF(e,t,r){return t=function(e){var t=function(e,t){if("object"!=mF(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mF(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bF(){return bF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bF.apply(this,arguments)}function yF(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var vF=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,n=e.x,s=e.y,o=e.width,i=e.height,l=e.ry;return a.createElement("rect",{x:n,y:s,ry:l,width:o,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function jF(e,t){var r;if(a.isValidElement(e))r=a.cloneElement(e,t);else if(il()(e))r=e(t);else{var n=t.x1,s=t.y1,o=t.x2,i=t.y2,l=t.key,c=yF(t,pF),d=Il(c,!1),u=(d.offset,yF(d,hF));r=a.createElement("line",bF({},u,{x1:n,y1:s,x2:o,y2:i,fill:"none",key:l}))}return r}function wF(e){var t=e.x,r=e.width,n=e.horizontal,s=void 0===n||n,o=e.horizontalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(n,a){var o=xF(xF({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(a),index:a});return jF(s,o)});return a.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function NF(e){var t=e.y,r=e.height,n=e.vertical,s=void 0===n||n,o=e.verticalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(n,a){var o=xF(xF({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(a),index:a});return jF(s,o)});return a.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function AF(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,o=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var d=l.map(function(e){return Math.round(e+s-s)}).sort(function(e,t){return e-t});s!==d[0]&&d.unshift(0);var u=d.map(function(e,l){var c=!d[l+1]?s+i-e:d[l+1]-e;if(c<=0)return null;var u=l%t.length;return a.createElement("rect",{key:"react-".concat(l),y:e,x:n,height:c,width:o,stroke:"none",fill:t[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return a.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function kF(e){var t=e.vertical,r=void 0===t||t,n=e.verticalFill,s=e.fillOpacity,o=e.x,i=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==u[0]&&u.unshift(0);var p=u.map(function(e,t){var r=!u[t+1]?o+l-e:u[t+1]-e;if(r<=0)return null;var d=t%n.length;return a.createElement("rect",{key:"react-".concat(t),x:e,y:i,width:r,height:c,stroke:"none",fill:n[d],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return a.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var CF=function(e,t){var r=e.xAxis,n=e.width,a=e.height,s=e.offset;return vv(CC(xF(xF(xF({},WC.defaultProps),r),{},{ticks:jv(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},FF=function(e,t){var r=e.yAxis,n=e.width,a=e.height,s=e.offset;return vv(CC(xF(xF(xF({},WC.defaultProps),r),{},{ticks:jv(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},SF={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function EF(e){var t,r,n,s,o,i,l=VN(),c=HN(),d=(0,a.useContext)(_N),u=xF(xF({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:SF.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:SF.fill,horizontal:null!==(n=e.horizontal)&&void 0!==n?n:SF.horizontal,horizontalFill:null!==(s=e.horizontalFill)&&void 0!==s?s:SF.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:SF.vertical,verticalFill:null!==(i=e.verticalFill)&&void 0!==i?i:SF.verticalFill,x:Ji(e.x)?e.x:d.left,y:Ji(e.y)?e.y:d.top,width:Ji(e.width)?e.width:d.width,height:Ji(e.height)?e.height:d.height}),p=u.x,h=u.y,m=u.width,f=u.height,x=u.syncWithTicks,g=u.horizontalValues,b=u.verticalValues,y=function(){var e=(0,a.useContext)(TN);return tl(e)}(),v=function(){var e=(0,a.useContext)(IN);return PN()(e,function(e){return Tj()(e.domain,Number.isFinite)})||tl(e)}();if(!Ji(m)||m<=0||!Ji(f)||f<=0||!Ji(p)||p!==+p||!Ji(h)||h!==+h)return null;var j=u.verticalCoordinatesGenerator||CF,w=u.horizontalCoordinatesGenerator||FF,N=u.horizontalPoints,A=u.verticalPoints;if((!N||!N.length)&&il()(w)){var k=g&&g.length,C=w({yAxis:v?xF(xF({},v),{},{ticks:k?g:v.ticks}):void 0,width:l,height:c,offset:d},!!k||x);sl(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(mF(C),"]")),Array.isArray(C)&&(N=C)}if((!A||!A.length)&&il()(j)){var F=b&&b.length,S=j({xAxis:y?xF(xF({},y),{},{ticks:F?b:y.ticks}):void 0,width:l,height:c,offset:d},!!F||x);sl(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(mF(S),"]")),Array.isArray(S)&&(A=S)}return a.createElement("g",{className:"recharts-cartesian-grid"},a.createElement(vF,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),a.createElement(wF,bF({},u,{offset:d,horizontalPoints:N,xAxis:y,yAxis:v})),a.createElement(NF,bF({},u,{offset:d,verticalPoints:A,xAxis:y,yAxis:v})),a.createElement(AF,bF({},u,{horizontalPoints:N})),a.createElement(kF,bF({},u,{verticalPoints:A})))}EF.displayName="CartesianGrid";var PF=["points","className","baseLinePoints","connectNulls"];function DF(){return DF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DF.apply(this,arguments)}function OF(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TF(e){return function(e){if(Array.isArray(e))return IF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return IF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IF(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var MF=function(e){return e&&e.x===+e.x&&e.y===+e.y},_F=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){MF(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),MF(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce(function(e,t){return[].concat(TF(e),TF(t))},[])]);var n=r.map(function(e){return e.reduce(function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===r.length?"".concat(n,"Z"):n},RF=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,s=e.connectNulls,o=OF(e,PF);if(!t||!t.length)return null;var i=Mi("recharts-polygon",r);if(n&&n.length){var l=o.stroke&&"none"!==o.stroke,c=function(e,t,r){var n=_F(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(_F(t.reverse(),r).slice(1))}(t,n,s);return a.createElement("g",{className:i},a.createElement("path",DF({},Il(o,!0),{fill:"Z"===c.slice(-1)?o.fill:"none",stroke:"none",d:c})),l?a.createElement("path",DF({},Il(o,!0),{fill:"none",d:_F(t,s)})):null,l?a.createElement("path",DF({},Il(o,!0),{fill:"none",d:_F(n,s)})):null)}var d=_F(t,s);return a.createElement("path",DF({},Il(o,!0),{fill:"Z"===d.slice(-1)?o.fill:"none",className:i,d:d}))};function BF(e){return BF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BF(e)}function LF(){return LF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LF.apply(this,arguments)}function zF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function UF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zF(Object(r),!0).forEach(function(t){GF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function WF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YF(n.key),n)}}function VF(e,t,r){return t=KF(t),function(e,t){if(t&&("object"===BF(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,HF()?Reflect.construct(t,r||[],KF(e).constructor):t.apply(e,r))}function HF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(HF=function(){return!!e})()}function KF(e){return KF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},KF(e)}function qF(e,t){return qF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qF(e,t)}function GF(e,t,r){return(t=YF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YF(e){var t=function(e,t){if("object"!=BF(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=BF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BF(t)?t:t+""}var $F=Math.PI/180,JF=1e-5,XF=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),VF(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qF(e,t)}(t,e),r=t,n=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,s=t.orientation,o=t.tickSize||8,i=uj(r,n,a,e.coordinate),l=uj(r,n,a+("inner"===s?-1:1)*o,e.coordinate);return{x1:i.x,y1:i.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*$F);return r>JF?"outer"===t?"start":"end":r<-JF?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.radius,s=e.axisLine,o=e.axisLineType,i=UF(UF({},Il(this.props,!1)),{},{fill:"none"},Il(s,!1));if("circle"===o)return a.createElement(wu,LF({className:"recharts-polar-angle-axis-line"},i,{cx:t,cy:r,r:n}));var l=this.props.ticks.map(function(e){return uj(t,r,n,e.coordinate)});return a.createElement(RF,LF({className:"recharts-polar-angle-axis-line"},i,{points:l}))}},{key:"renderTicks",value:function(){var e=this,r=this.props,n=r.ticks,s=r.tick,o=r.tickLine,i=r.tickFormatter,l=r.stroke,c=Il(this.props,!1),d=Il(s,!1),u=UF(UF({},c),{},{fill:"none"},Il(o,!1)),p=n.map(function(r,n){var p=e.getTickLineCoord(r),h=UF(UF(UF({textAnchor:e.getTickTextAnchor(r)},c),{},{stroke:"none",fill:l},d),{},{index:n,payload:r,x:p.x2,y:p.y2});return a.createElement(ac,LF({className:Mi("recharts-polar-angle-axis-tick",xj(s)),key:"tick-".concat(r.coordinate)},bl(e.props,r,n)),o&&a.createElement("line",LF({className:"recharts-polar-angle-axis-tick-line"},u,p)),s&&t.renderTickItem(s,h,i?i(r.value,n):r.value))});return a.createElement(ac,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,n=e.axisLine;return r<=0||!t||!t.length?null:a.createElement(ac,{className:Mi("recharts-polar-angle-axis",this.props.className)},n&&this.renderAxisLine(),this.renderTicks())}}],s=[{key:"renderTickItem",value:function(e,t,r){return a.isValidElement(e)?a.cloneElement(e,t):il()(e)?e(t):a.createElement(nm,LF({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],n&&WF(r.prototype,n),s&&WF(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);GF(XF,"displayName","PolarAngleAxis"),GF(XF,"axisType","angleAxis"),GF(XF,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var QF=r(2794),ZF=r.n(QF),eS=r(9364),tS=r.n(eS),rS=["cx","cy","angle","ticks","axisLine"],nS=["ticks","tick","angle","tickFormatter","stroke"];function aS(e){return aS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aS(e)}function sS(){return sS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sS.apply(this,arguments)}function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(t){mS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lS(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fS(n.key),n)}}function dS(e,t,r){return t=pS(t),function(e,t){if(t&&("object"===aS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uS()?Reflect.construct(t,r||[],pS(e).constructor):t.apply(e,r))}function uS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(uS=function(){return!!e})()}function pS(e){return pS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pS(e)}function hS(e,t){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hS(e,t)}function mS(e,t,r){return(t=fS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fS(e){var t=function(e,t){if("object"!=aS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=aS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aS(t)?t:t+""}var xS,gS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dS(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hS(e,t)}(t,e),r=t,n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,s=r.cy;return uj(a,s,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,s=ZF()(a,function(e){return e.coordinate||0});return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:tS()(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:s.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,s=e.ticks,o=e.axisLine,i=lS(e,rS),l=s.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),c=uj(t,r,l[0],n),d=uj(t,r,l[1],n),u=iS(iS(iS({},Il(i,!1)),{},{fill:"none"},Il(o,!1)),{},{x1:c.x,y1:c.y,x2:d.x,y2:d.y});return a.createElement("line",sS({className:"recharts-polar-radius-axis-line"},u))}},{key:"renderTicks",value:function(){var e=this,r=this.props,n=r.ticks,s=r.tick,o=r.angle,i=r.tickFormatter,l=r.stroke,c=lS(r,nS),d=this.getTickTextAnchor(),u=Il(c,!1),p=Il(s,!1),h=n.map(function(r,n){var c=e.getTickValueCoord(r),h=iS(iS(iS(iS({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(c.x,", ").concat(c.y,")")},u),{},{stroke:"none",fill:l},p),{},{index:n},c),{},{payload:r});return a.createElement(ac,sS({className:Mi("recharts-polar-radius-axis-tick",xj(s)),key:"tick-".concat(r.coordinate)},bl(e.props,r,n)),t.renderTickItem(s,h,i?i(r.value,n):r.value))});return a.createElement(ac,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,n=e.tick;return t&&t.length?a.createElement(ac,{className:Mi("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),n&&this.renderTicks(),Fj.renderCallByParent(this.props,this.getViewBox())):null}}],s=[{key:"renderTickItem",value:function(e,t,r){return a.isValidElement(e)?a.cloneElement(e,t):il()(e)?e(t):a.createElement(nm,sS({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],n&&cS(r.prototype,n),s&&cS(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);function bS(e){return bS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bS(e)}function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yS.apply(this,arguments)}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(t){FS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SS(n.key),n)}}function NS(e,t,r){return t=kS(t),function(e,t){if(t&&("object"===bS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,AS()?Reflect.construct(t,r||[],kS(e).constructor):t.apply(e,r))}function AS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(AS=function(){return!!e})()}function kS(e){return kS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kS(e)}function CS(e,t){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CS(e,t)}function FS(e,t,r){return(t=SS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SS(e){var t=function(e,t){if("object"!=bS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=bS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bS(t)?t:t+""}mS(gS,"displayName","PolarRadiusAxis"),mS(gS,"axisType","radiusAxis"),mS(gS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var ES=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),FS(r=NS(this,t,[e]),"pieRef",null),FS(r,"sectorRefs",[]),FS(r,"id",Zi("recharts-pie-")),FS(r,"handleAnimationEnd",function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),il()(e)&&e()}),FS(r,"handleAnimationStart",function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),il()(e)&&e()}),r.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CS(e,t)}(t,e),r=t,n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.label,s=r.labelLine,o=r.dataKey,i=r.valueKey,l=Il(this.props,!1),c=Il(n,!1),d=Il(s,!1),u=n&&n.offsetRadius||20,p=e.map(function(e,r){var p=(e.startAngle+e.endAngle)/2,h=uj(e.cx,e.cy,e.outerRadius+u,p),m=jS(jS(jS(jS({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:t.getTextAnchor(h.x,e.cx)},h),f=jS(jS(jS(jS({},l),e),{},{fill:"none",stroke:e.fill},d),{},{index:r,points:[uj(e.cx,e.cy,e.outerRadius,p),h]}),x=o;return Gi()(o)&&Gi()(i)?x="value":Gi()(o)&&(x=i),a.createElement(ac,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},s&&t.renderLabelLineItem(s,f,"line"),t.renderLabelItem(n,m,mv(e,x)))});return a.createElement(ac,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,n=r.activeShape,s=r.blendStroke,o=r.inactiveShape;return e.map(function(r,i){if(0===(null===r||void 0===r?void 0:r.startAngle)&&0===(null===r||void 0===r?void 0:r.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(i),c=o&&t.hasActiveIndex()?o:null,d=l?n:c,u=jS(jS({},r),{},{stroke:s?r.fill:r.stroke,tabIndex:-1});return a.createElement(ac,yS({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},bl(t.props,r,i),{key:"sector-".concat(null===r||void 0===r?void 0:r.startAngle,"-").concat(null===r||void 0===r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(i)}),a.createElement(Cw,yS({option:d,isActive:l,shapeType:"sector"},u)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,n=t.isAnimationActive,s=t.animationBegin,o=t.animationDuration,i=t.animationEasing,l=t.animationId,c=this.state,d=c.prevSectors,u=c.prevIsAnimationActive;return a.createElement(Xp,{begin:s,duration:o,isActive:n,easing:i,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var n=t.t,s=[],o=(r&&r[0]).startAngle;return r.forEach(function(e,t){var r=d&&d[t],a=t>0?Vi()(e,"paddingAngle",0):0;if(r){var i=rl(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=jS(jS({},e),{},{startAngle:o+a,endAngle:o+i(n)+a});s.push(l),o=l.endAngle}else{var c=e.endAngle,u=e.startAngle,p=rl(0,c-u)(n),h=jS(jS({},e),{},{startAngle:o+a,endAngle:o+p+a});s.push(h),o=h.endAngle}}),a.createElement(ac,null,e.renderSectorsStatically(s))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&hy()(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,n=t.sectors,s=t.className,o=t.label,i=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.isAnimationActive,p=this.state.isAnimationFinished;if(r||!n||!n.length||!Ji(i)||!Ji(l)||!Ji(c)||!Ji(d))return null;var h=Mi("recharts-pie",s);return a.createElement(ac,{tabIndex:this.props.rootTabIndex,className:h,ref:function(t){e.pieRef=t}},this.renderSectors(),o&&this.renderLabels(n),Fj.renderCallByParent(this.props,null,!1),(!u||p)&&Yj.renderCallByParent(this.props,n,!1))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(a.isValidElement(e))return a.cloneElement(e,t);if(il()(e))return e(t);var n=Mi("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return a.createElement(lk,yS({},t,{key:r,type:"linear",className:n}))}},{key:"renderLabelItem",value:function(e,t,r){if(a.isValidElement(e))return a.cloneElement(e,t);var n=r;if(il()(e)&&(n=e(t),a.isValidElement(n)))return n;var s=Mi("recharts-pie-label-text","boolean"===typeof e||il()(e)?"":e.className);return a.createElement(nm,yS({},t,{alignmentBaseline:"middle",className:s}),n)}}],n&&wS(r.prototype,n),s&&wS(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);xS=ES,FS(ES,"displayName","Pie"),FS(ES,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Dc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),FS(ES,"parseDeltaAngle",function(e,t){return Yi(t-e)*Math.min(Math.abs(t-e),360)}),FS(ES,"getRealPieData",function(e){var t=e.data,r=e.children,n=Il(e,!1),a=Sl(r,Ij);return t&&t.length?t.map(function(e,t){return jS(jS(jS({payload:e},n),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return jS(jS({},n),e.props)}):[]}),FS(ES,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=pj(a,s);return{cx:n+el(e.cx,a,a/2),cy:r+el(e.cy,s,s/2),innerRadius:el(e.innerRadius,o,0),outerRadius:el(e.outerRadius,o,.8*o),maxRadius:e.maxRadius||Math.sqrt(a*a+s*s)/2}}),FS(ES,"getComposedData",function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?jS(jS({},t.type.defaultProps),t.props):t.props,a=xS.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,i=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,u=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),m=xS.parseCoordinateOfPie(n,r),f=xS.parseDeltaAngle(o,i),x=Math.abs(f),g=c;Gi()(c)&&Gi()(u)?(sl(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g="value"):Gi()(c)&&(sl(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g=u);var b,y,v=a.filter(function(e){return 0!==mv(e,g,0)}).length,j=x-v*h-(x>=360?v:v-1)*l,w=a.reduce(function(e,t){var r=mv(t,g,0);return e+(Ji(r)?r:0)},0);w>0&&(b=a.map(function(e,t){var r,n=mv(e,g,0),a=mv(e,d,t),i=(Ji(n)?n:0)/w,c=(r=t?y.endAngle+Yi(f)*l*(0!==n?1:0):o)+Yi(f)*((0!==n?h:0)+i*j),u=(r+c)/2,x=(m.innerRadius+m.outerRadius)/2,b=[{name:a,value:n,payload:e,dataKey:g,type:p}],v=uj(m.cx,m.cy,x,u);return y=jS(jS(jS({percent:i,cornerRadius:s,name:a,tooltipPayload:b,midAngle:u,middleRadius:x,tooltipPosition:v},e),m),{},{value:mv(e,g),startAngle:r,endAngle:c,payload:e,paddingAngle:Yi(f)*l})}));return jS(jS({},m),{},{sectors:b,data:a})});var PS=nC({chartName:"PieChart",GraphicalChild:ES,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:XF},{axisType:"radiusAxis",AxisComp:gS}],formatAxisMap:function(e,t,r,n,a){var s=e.width,o=e.height,i=e.startAngle,l=e.endAngle,c=el(e.cx,s,s/2),d=el(e.cy,o,o/2),u=pj(s,o,r),p=el(e.innerRadius,u,0),h=el(e.outerRadius,u,.8*u);return Object.keys(t).reduce(function(e,r){var s,o=t[r],u=o.domain,m=o.reversed;if(Gi()(o.range))"angleAxis"===n?s=[i,l]:"radiusAxis"===n&&(s=[p,h]),m&&(s=[s[1],s[0]]);else{var f=ij(s=o.range,2);i=f[0],l=f[1]}var x=Av(o,a),g=x.realScaleType,b=x.scale;b.domain(u).range(s),Cv(b);var y=Ev(b,sj(sj({},o),{},{realScaleType:g})),v=sj(sj(sj({},o),y),{},{range:s,radius:h,realScaleType:g,scale:b,cx:c,cy:d,innerRadius:p,outerRadius:h,startAngle:i,endAngle:l});return sj(sj({},e),{},oj({},r,v))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});new class{constructor(){this.baseURL="/api",this.axios=Sr.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.axios.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),this.axios.interceptors.response.use(e=>e,e=>(console.error("API Error:",e),Promise.reject(e)))}async getFinancialDashboardData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{startDate:t=this.getDefaultStartDate(),endDate:r=this.getDefaultEndDate(),subsidiaryId:n=null,projectId:a=null}=e;try{console.log("\ud83d\udd04 [FINANCIAL API] Fetching dashboard data...",e);const[s,o,i,l,c,d,u]=await Promise.allSettled([this.getIncomeStatement({startDate:t,endDate:r,subsidiaryId:n,projectId:a}),this.getBalanceSheet({asOfDate:r,subsidiaryId:n}),this.getCashFlowStatement({startDate:t,endDate:r,subsidiaryId:n,projectId:a}),this.getDashboardStatistics(),this.getPSAKComplianceReport({startDate:t,endDate:r,subsidiaryId:n}),this.getMonthlyTrends({startDate:t,endDate:r,subsidiaryId:n}),this.getExpenseBreakdown({startDate:t,endDate:r,subsidiaryId:n,projectId:a})]),p={incomeStatement:this.extractResult(s),balanceSheet:this.extractResult(o),cashFlow:this.extractResult(i),dashboard:this.extractResult(l),compliance:this.extractResult(c),monthlyTrends:this.extractResult(d),expenseBreakdown:this.extractResult(u),lastUpdated:new Date,success:!0};return console.log("\u2705 [FINANCIAL API] Dashboard data loaded successfully"),p}catch(s){throw console.error("\u274c [FINANCIAL API] Error fetching dashboard data:",s),s}}async getIncomeStatement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{startDate:t,endDate:r,subsidiaryId:n,projectId:a,format:s="SINGLE_STEP"}=e;try{return(await this.axios.get("/reports/income-statement",{params:{start_date:t,end_date:r,subsidiary_id:n,project_id:a,format:s}})).data}catch(o){return console.error("Error fetching income statement:",o),this.getFallbackIncomeStatement()}}async getBalanceSheet(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{asOfDate:t,subsidiaryId:r}=e;try{return(await this.axios.get("/reports/balance-sheet",{params:{as_of_date:t,subsidiary_id:r}})).data}catch(n){return console.error("Error fetching balance sheet:",n),this.getFallbackBalanceSheet()}}async getCashFlowStatement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{startDate:t,endDate:r,subsidiaryId:n,projectId:a,method:s="INDIRECT"}=e;try{return(await this.axios.get("/reports/cash-flow",{params:{start_date:t,end_date:r,subsidiary_id:n,project_id:a,method:s}})).data}catch(o){return console.error("Error fetching cash flow:",o),this.getFallbackCashFlow()}}async getDashboardStatistics(){try{return(await this.axios.get("/dashboard/statistics")).data}catch(e){return console.error("Error fetching dashboard statistics:",e),this.getFallbackDashboardStats()}}async getPSAKComplianceReport(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{startDate:t,endDate:r,subsidiaryId:n}=e;try{return(await this.axios.get("/reports/compliance/psak",{params:{start_date:t,end_date:r,subsidiary_id:n}})).data}catch(a){return console.error("Error fetching PSAK compliance report:",a),this.getFallbackComplianceReport()}}async getMonthlyTrends(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{startDate:t,endDate:r,subsidiaryId:n}=e;try{return(await this.axios.get("/reports/trends/monthly",{params:{start_date:t,end_date:r,subsidiary_id:n}})).data}catch(a){return console.error("Error fetching monthly trends:",a),this.getFallbackMonthlyTrends()}}async getExpenseBreakdown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{startDate:t,endDate:r,subsidiaryId:n,projectId:a}=e;try{return(await this.axios.get("/reports/expense-breakdown",{params:{start_date:t,end_date:r,subsidiary_id:n,project_id:a}})).data}catch(s){return console.error("Error fetching expense breakdown:",s),this.getFallbackExpenseBreakdown()}}getDefaultStartDate(){const e=new Date;return e.setMonth(e.getMonth()-12),e.toISOString().split("T")[0]}getDefaultEndDate(){return(new Date).toISOString().split("T")[0]}extractResult(e){return"fulfilled"===e.status?e.value:(console.warn("Promise rejected:",e.reason),null)}getFallbackIncomeStatement(){return{success:!0,data:{period:{startDate:this.getDefaultStartDate(),endDate:this.getDefaultEndDate()},statement:{revenues:{total:1575e7,accounts:[{accountName:"Construction Revenue",balance:125e8},{accountName:"Equipment Rental Revenue",balance:225e7},{accountName:"Consulting Services",balance:1e9}]},directCosts:{total:9825e6,accounts:[{accountName:"Material Costs",balance:55e8},{accountName:"Labor Costs",balance:32e8},{accountName:"Subcontractor Costs",balance:1125e6}]},grossProfit:5925e6,indirectCosts:{total:2575e6,accounts:[{accountName:"Administrative Expenses",balance:12e8},{accountName:"Marketing Expenses",balance:675e6},{accountName:"Depreciation",balance:7e8}]},netIncome:335e7,grossProfitMargin:37.6,netProfitMargin:21.3}}}}getFallbackBalanceSheet(){return{success:!0,data:{asOfDate:this.getDefaultEndDate(),assets:{current:{cash:285e7,accountsReceivable:412e7,total:697e7},fixed:{equipment:152e8,buildings:89e8,land:124e8,total:365e8},total:4347e7},liabilities:{current:{accountsPayable:234e7,shortTermDebt:185e7,total:419e7},longTerm:{longTermDebt:85e8,total:85e8},total:1269e7},equity:{total:3243e7}}}}getFallbackCashFlow(){return{success:!0,data:{period:{startDate:this.getDefaultStartDate(),endDate:this.getDefaultEndDate()},operating:{netIncome:335e7,adjustments:95e7,workingCapital:-42e7,total:388e7},investing:{equipmentPurchases:-21e8,total:-21e8},financing:{debtProceeds:15e8,dividends:-8e8,total:7e8},netChange:248e7}}}getFallbackDashboardStats(){return{success:!0,data:{finance:{totalIncome:1575e7,totalExpense:124e8,netIncome:335e7,transactions:1247,profitMargin:21.3,cashPosition:285e7},projects:{active:23,completed:8,efficiency:87.5}}}}getFallbackComplianceReport(){return{success:!0,data:{overallScore:92.5,totalChecks:15,passedChecks:14,complianceLevel:"EXCELLENT",detailedChecks:{doubleEntryCompliance:{passed:!0,score:100},accountClassification:{passed:!0,score:95},transactionDocumentation:{passed:!0,score:90},chronologicalOrder:{passed:!0,score:100},constructionAccounting:{passed:!1,score:85}}}}}getFallbackMonthlyTrends(){return{success:!0,data:[{month:"Jan",revenue:12e8,expense:95e7,profit:25e7},{month:"Feb",revenue:135e7,expense:105e7,profit:3e8},{month:"Mar",revenue:145e7,expense:11e8,profit:35e7},{month:"Apr",revenue:138e7,expense:108e7,profit:3e8},{month:"May",revenue:152e7,expense:115e7,profit:37e7},{month:"Jun",revenue:168e7,expense:125e7,profit:43e7},{month:"Jul",revenue:175e7,expense:13e8,profit:45e7},{month:"Aug",revenue:162e7,expense:12e8,profit:42e7},{month:"Sep",revenue:158e7,expense:118e7,profit:4e8}]}}getFallbackExpenseBreakdown(){return{success:!0,data:[{name:"Material Costs",value:55e8,color:"#8B5CF6"},{name:"Labor Costs",value:32e8,color:"#06B6D4"},{name:"Equipment Costs",value:1125e6,color:"#10B981"},{name:"Administrative",value:12e8,color:"#F59E0B"},{name:"Marketing",value:675e6,color:"#EF4444"}]}}};const DS=class{static async getIntegratedFinancialData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{console.log("\ud83d\udd04 [PROJECT-FINANCE] Fetching integrated financial data with filters:",e);const t=new URLSearchParams;e.subsidiaryId&&"all"!==e.subsidiaryId&&t.append("subsidiaryId",e.subsidiaryId),e.projectId&&"all"!==e.projectId&&t.append("projectId",e.projectId);const r=await fetch("/api/finance/project-integration?".concat(t.toString()),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!r.ok)throw new Error("HTTP ".concat(r.status,": ").concat(r.statusText));const n=await r.json();if(n.success)return console.log("\u2705 [PROJECT-FINANCE] Integrated data received:",{projects:n.data.projects.length,transactions:n.data.transactions.length,poTransactions:n.data.metrics.overview.poTransactions}),n;throw new Error(n.error||"Failed to fetch integrated data")}catch(t){return console.error("\u274c [PROJECT-FINANCE] Error fetching integrated data:",t),{success:!1,error:t.message,data:null}}}static async getProjectFinancialSummaries(e){const t={};for(const a of e)try{const e=await Ts(1,1e3,{projectId:a.id});if(e.success){var r;const n=e.data||[];t[a.id]={projectName:a.name,projectCode:a.id,subsidiaryId:a.subsidiaryId,totalIncome:n.filter(e=>"income"===e.type).reduce((e,t)=>e+parseFloat(t.amount),0),totalExpense:n.filter(e=>"expense"===e.type).reduce((e,t)=>e+parseFloat(t.amount),0),poTransactions:n.filter(e=>e.purchaseOrderId),transactionCount:n.length,lastTransaction:(null===(r=n[0])||void 0===r?void 0:r.date)||null}}}catch(n){console.warn("\u26a0\ufe0f [PROJECT-FINANCE] Error fetching summary for project ".concat(a.id,":"),n.message)}return t}static calculateIntegratedMetrics(e,t,r){const n=e.length,a=e.filter(e=>"active"===e.status).length,s=t.filter(e=>"income"===e.type).reduce((e,t)=>e+parseFloat(t.amount),0),o=t.filter(e=>"expense"===e.type).reduce((e,t)=>e+parseFloat(t.amount),0),i=s-o,l=t.filter(e=>e.purchaseOrderId),c=l.reduce((e,t)=>e+parseFloat(t.amount),0),d=Object.values(r).map(e=>({projectId:e.projectCode,projectName:e.projectName,income:e.totalIncome,expense:e.totalExpense,netIncome:e.totalIncome-e.totalExpense,poCount:e.poTransactions.length,transactionCount:e.transactionCount})),u={};return e.forEach(e=>{const t=e.subsidiaryId||"general";u[t]||(u[t]={projects:0,income:0,expense:0,transactions:0});const n=r[e.id];n&&(u[t].projects+=1,u[t].income+=n.totalIncome,u[t].expense+=n.totalExpense,u[t].transactions+=n.transactionCount)}),{overview:{totalProjects:n,activeProjects:a,totalIncome:s,totalExpense:o,netIncome:i,totalTransactions:t.length,poTransactions:l.length,totalPOAmount:c},projectBreakdown:d,subsidiaryBreakdown:u,recentActivity:t.slice(0,10)}}static startRealTimeUpdates(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("\ud83d\udd04 [PROJECT-FINANCE] Starting real-time updates...");let r=!0;const n=async()=>{if(r){try{const r=await this.getIntegratedFinancialData(t);e(r)}catch(a){console.error("\u274c [PROJECT-FINANCE] Error in real-time update:",a)}r&&setTimeout(n,3e4)}};return n(),()=>{console.log("\ud83d\uded1 [PROJECT-FINANCE] Stopping real-time updates..."),r=!1}}static async syncProjectToFinance(e){try{var t;console.log("\ud83d\udd04 [PROJECT-FINANCE] Syncing project ".concat(e," to finance..."));const r=await Ts(1,1e3,{projectId:e});return{success:!0,message:"Project ".concat(e," synced successfully"),transactionCount:(null===(t=r.data)||void 0===t?void 0:t.length)||0}}catch(r){return console.error("\u274c [PROJECT-FINANCE] Error syncing project ".concat(e,":"),r),{success:!1,error:r.message}}}static formatCurrency(e){return null===e||void 0===e||isNaN(e)?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(parseFloat(e))}static getProjectStatusColor(e){return{active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800"}[e]||"bg-gray-100 text-gray-800"}},OS=e=>{var t,r,n,s,o,i,l,c,d,u,p,h,m,f,x,g,b,y,v,j,w,N,A,k,C,F,S,E,P,D;let{userDetails:O}=e;const[T,I]=(0,a.useState)(null),[M,_]=(0,a.useState)(!0),[R,B]=(0,a.useState)("overview"),[L,z]=(0,a.useState)("monthly"),[U,W]=(0,a.useState)("all"),[V,H]=(0,a.useState)(!1),K=(0,a.useCallback)(async()=>{try{_(!0),console.log("\ud83d\udcca [FINANCIAL WORKSPACE] Starting data fetch...");const n=await Hs.get("/financial/dashboard/overview",{params:{startDate:null,endDate:null,subsidiaryId:"all"===U?null:U}});let a;console.log("\ud83d\udcca [FINANCIAL WORKSPACE] Overview API response:",n);try{a=await Hs.get("/financial/dashboard/trends",{params:{startDate:null,endDate:null,periodType:L}}),console.log("\ud83d\udcca [FINANCIAL WORKSPACE] Trends API response:",a)}catch(s){console.warn("\u26a0\ufe0f [FINANCIAL WORKSPACE] Trends API failed:",s),a={success:!1,data:{trends:[]}}}if(n&&n.success){var e,t,r;const s=n.data,o=null!==(e=a)&&void 0!==e&&e.success?a.data:null;console.log("\ud83d\udcca [FINANCIAL WORKSPACE] Real data extracted:",{totalRevenue:s.totalRevenue,totalExpenses:s.totalExpenses,netProfit:s.netProfit,totalCash:s.totalCash});const i={dashboard:{totalRevenue:s.totalRevenue||0,totalExpenses:s.totalExpenses||0,netProfit:s.netProfit||0,profitMargin:parseFloat(s.profitMargin)||0,totalCash:s.totalCash||0,activeProjects:s.activeProjects||0,cashAccounts:s.cashAccounts||[]},incomeStatement:{statement:{revenues:{total:s.totalRevenue,accounts:s.revenueByBank||[]},directCosts:{total:s.totalExpenses,accounts:s.expenseByCategory||[]},grossProfit:s.netProfit,netIncome:s.netProfit,netProfitMargin:parseFloat(s.profitMargin)}},balanceSheet:{assets:{current:{cash:s.totalCash,accountsReceivable:0,total:s.totalCash},fixed:{equipment:0,buildings:0,land:0,total:0},total:s.totalCash},liabilities:{current:{accountsPayable:0,shortTermDebt:0,total:0},longTerm:{longTermDebt:0,total:0},total:0},equity:{total:s.totalCash}},cashFlow:{operating:{netIncome:s.netProfit,adjustments:0,workingCapital:0,total:s.netProfit},investing:{equipmentPurchases:0,total:0},financing:{debtProceeds:0,dividends:0,total:0},netChange:s.netProfit},monthlyTrends:(null===o||void 0===o||null===(t=o.trends)||void 0===t?void 0:t.map(e=>({month:e.displayLabel||e.monthName,revenue:e.revenue,expense:e.expense,profit:e.profit})))||[],categoryBreakdown:(null===(r=s.expenseByCategory)||void 0===r?void 0:r.map((e,t)=>({name:e.cost_category||e.account_name||"Unknown",value:parseFloat(e.amount),color:["#8B5CF6","#06B6D4","#10B981","#F59E0B","#EF4444"][t%5]})))||[],compliance:{overallScore:0,totalChecks:0,passedChecks:0,complianceLevel:"N/A"},lastUpdated:new Date};I(i),console.log("\u2705 [FINANCIAL WORKSPACE] Dashboard data successfully set!"),console.log("\u2705 [FINANCIAL WORKSPACE] Dashboard object:",i.dashboard),console.log("\u2705 [FINANCIAL WORKSPACE] Data verification:",{hasRevenue:!!i.dashboard.totalRevenue,hasExpenses:!!i.dashboard.totalExpenses,hasCash:!!i.dashboard.totalCash,hasTrends:!!i.monthlyTrends.length,hasCategoryBreakdown:!!i.categoryBreakdown.length})}else console.warn("\u26a0\ufe0f [FINANCIAL WORKSPACE] API returned success:false or no data"),console.warn("\u26a0\ufe0f [FINANCIAL WORKSPACE] Response:",n),I(q())}catch(o){var n,a;console.error("\u274c [FINANCIAL WORKSPACE] Error fetching data:",o),console.error("\u274c [FINANCIAL WORKSPACE] Error details:",{message:o.message,response:null===(n=o.response)||void 0===n?void 0:n.data,status:null===(a=o.response)||void 0===a?void 0:a.status}),I(q())}finally{_(!1),console.log("\ud83d\udcca [FINANCIAL WORKSPACE] Loading complete, financialData state updated")}},[U,L]),q=()=>({dashboard:{totalRevenue:0,totalExpenses:0,netProfit:0,profitMargin:0,totalCash:0,activeProjects:0,cashAccounts:[]},incomeStatement:{statement:{revenues:{total:0,accounts:[]},directCosts:{total:0,accounts:[]},grossProfit:0,netIncome:0,netProfitMargin:0}},balanceSheet:{assets:{current:{cash:0,accountsReceivable:0,total:0},fixed:{equipment:0,buildings:0,land:0,total:0},total:0},liabilities:{current:{accountsPayable:0,shortTermDebt:0,total:0},longTerm:{longTermDebt:0,total:0},total:0},equity:{total:0}},cashFlow:{operating:{netIncome:0,adjustments:0,workingCapital:0,total:0},investing:{equipmentPurchases:0,total:0},financing:{debtProceeds:0,dividends:0,total:0},netChange:0},monthlyTrends:[],categoryBreakdown:[],compliance:{overallScore:0,totalChecks:0,passedChecks:0,complianceLevel:"N/A"},lastUpdated:new Date}),G=async()=>{H(!0),await K(),H(!1)};(0,a.useEffect)(()=>{K()},[K]);const Y=e=>e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"Rp 0";if(M)return(0,Vn.jsx)("div",{className:"rounded-xl p-8 shadow-lg",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:"#0A84FF"}}),(0,Vn.jsx)("span",{className:"ml-3",style:{color:"#98989D"},children:"Loading Financial Data..."})]})});if(!T)return console.warn("\u26a0\ufe0f [FINANCIAL WORKSPACE RENDER] financialData is null/undefined"),(0,Vn.jsx)("div",{className:"rounded-xl p-8 shadow-lg",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex flex-col justify-center items-center h-64",children:[(0,Vn.jsx)(ti,{className:"w-12 h-12 mb-4",style:{color:"#FF9F0A"}}),(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("p",{className:"text-lg mb-2",style:{color:"#FFFFFF"},children:"No financial data available"}),(0,Vn.jsx)("p",{className:"text-sm mb-4",style:{color:"#98989D"},children:"Unable to load financial data. Please try refreshing."}),(0,Vn.jsxs)("button",{onClick:G,className:"mt-4 px-4 py-2 rounded-lg",style:{backgroundColor:"#0A84FF",color:"#FFFFFF"},children:[(0,Vn.jsx)(Ho,{className:"w-4 h-4 inline mr-2"}),"Refresh Data"]})]})]})});const{incomeStatement:$,balanceSheet:J,cashFlow:X,dashboard:Q,compliance:Z,monthlyTrends:ee,categoryBreakdown:te}=T;return console.log("\ud83d\udcca [FINANCIAL WORKSPACE RENDER] Rendering with data:",{hasDashboard:!!Q,hasIncomeStatement:!!$,revenue:null===Q||void 0===Q?void 0:Q.totalRevenue,expenses:null===Q||void 0===Q?void 0:Q.totalExpenses,cash:null===Q||void 0===Q?void 0:Q.totalCash}),(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)("div",{className:"rounded-xl p-6 shadow-lg",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("h2",{className:"text-2xl font-bold flex items-center",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(oi,{className:"w-8 h-8 mr-3",style:{color:"#0A84FF"}}),"Financial Workspace Dashboard"]}),(0,Vn.jsx)("p",{className:"mt-1",style:{color:"#98989D"},children:"Real-time financial analysis & reporting"})]}),(0,Vn.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,Vn.jsxs)("select",{value:L,onChange:e=>z(e.target.value),className:"px-3 py-2 rounded-lg text-sm focus:outline-none focus:ring-2",style:{backgroundColor:"#1C1C1E",color:"#FFFFFF",border:"1px solid #38383A"},children:[(0,Vn.jsx)("option",{value:"monthly",children:"Monthly"}),(0,Vn.jsx)("option",{value:"quarterly",children:"Quarterly"}),(0,Vn.jsx)("option",{value:"yearly",children:"Yearly"})]}),(0,Vn.jsxs)("button",{onClick:G,disabled:V,className:"flex items-center px-3 py-2 text-sm rounded-lg transition-all duration-200 disabled:opacity-50",style:{backgroundColor:"rgba(10, 132, 255, 0.15)",color:"#0A84FF",border:"1px solid rgba(10, 132, 255, 0.3)"},children:[(0,Vn.jsx)(Ho,{className:"w-4 h-4 mr-2 ".concat(V?"animate-spin":"")}),"Refresh"]}),(0,Vn.jsxs)("button",{className:"flex items-center px-4 py-2 rounded-lg text-sm transition-all duration-200",style:{backgroundColor:"rgba(10, 132, 255, 0.15)",color:"#0A84FF",border:"1px solid rgba(10, 132, 255, 0.3)"},children:[(0,Vn.jsx)(Ai,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]})}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Vn.jsx)("div",{className:"rounded-xl p-6 shadow-lg transition-transform hover:scale-105",style:{background:"linear-gradient(135deg, rgba(48, 209, 88, 0.15), rgba(48, 209, 88, 0.05))",border:"1px solid rgba(48, 209, 88, 0.3)"},children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium",style:{color:"#98989D"},children:"Total Revenue"}),(0,Vn.jsx)("p",{className:"text-lg font-bold mt-1 truncate",style:{color:"#30D158"},children:Y((null===Q||void 0===Q?void 0:Q.totalRevenue)||(null===$||void 0===$||null===(t=$.statement)||void 0===t||null===(r=t.revenues)||void 0===r?void 0:r.total))}),(0,Vn.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Vn.jsx)(ui,{className:"w-4 h-4 mr-1 flex-shrink-0",style:{color:"#30D158"}}),(0,Vn.jsxs)("span",{className:"text-xs truncate",style:{color:"#30D158"},children:[(null===Q||void 0===Q?void 0:Q.profitMargin)||(null===$||void 0===$||null===(n=$.statement)||void 0===n||null===(s=n.netProfitMargin)||void 0===s?void 0:s.toFixed(1)),"% margin"]})]})]}),(0,Vn.jsx)("div",{className:"p-3 rounded-lg flex-shrink-0 ml-2",style:{backgroundColor:"rgba(48, 209, 88, 0.2)"},children:(0,Vn.jsx)(xa,{className:"w-6 h-6",style:{color:"#30D158"}})})]})}),(0,Vn.jsx)("div",{className:"rounded-xl p-6 shadow-lg transition-transform hover:scale-105",style:{background:"linear-gradient(135deg, rgba(255, 159, 10, 0.15), rgba(255, 159, 10, 0.05))",border:"1px solid rgba(255, 159, 10, 0.3)"},children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium",style:{color:"#98989D"},children:"Total Expenses"}),(0,Vn.jsx)("p",{className:"text-lg font-bold mt-1 truncate",style:{color:"#FF9F0A"},children:Y((null===Q||void 0===Q?void 0:Q.totalExpenses)||(null===$||void 0===$||null===(o=$.statement)||void 0===o||null===(i=o.directCosts)||void 0===i?void 0:i.total))}),(0,Vn.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Vn.jsx)(ri,{className:"w-4 h-4 mr-1 flex-shrink-0",style:{color:"#FF9F0A"}}),(0,Vn.jsx)("span",{className:"text-xs truncate",style:{color:"#FF9F0A"},children:"Operating costs"})]})]}),(0,Vn.jsx)("div",{className:"p-3 rounded-lg flex-shrink-0 ml-2",style:{backgroundColor:"rgba(255, 159, 10, 0.2)"},children:(0,Vn.jsx)(Oi,{className:"w-6 h-6",style:{color:"#FF9F0A"}})})]})}),(0,Vn.jsx)("div",{className:"rounded-xl p-6 shadow-lg transition-transform hover:scale-105",style:{background:"linear-gradient(135deg, rgba(10, 132, 255, 0.15), rgba(10, 132, 255, 0.05))",border:"1px solid rgba(10, 132, 255, 0.3)"},children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium",style:{color:"#98989D"},children:"Net Profit"}),(0,Vn.jsx)("p",{className:"text-lg font-bold mt-1 truncate",style:{color:"#0A84FF"},children:Y((null===Q||void 0===Q?void 0:Q.netProfit)||(null===$||void 0===$||null===(l=$.statement)||void 0===l?void 0:l.netIncome))}),(0,Vn.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Vn.jsx)(Ua,{className:"w-4 h-4 mr-1 flex-shrink-0",style:{color:"#0A84FF"}}),(0,Vn.jsxs)("span",{className:"text-xs truncate",style:{color:"#0A84FF"},children:[null===(c=(null===Q||void 0===Q?void 0:Q.profitMargin)||(null===$||void 0===$||null===(d=$.statement)||void 0===d?void 0:d.netProfitMargin))||void 0===c?void 0:c.toFixed(1),"% margin"]})]})]}),(0,Vn.jsx)("div",{className:"p-3 rounded-lg flex-shrink-0 ml-2",style:{backgroundColor:"rgba(10, 132, 255, 0.2)"},children:(0,Vn.jsx)(ui,{className:"w-6 h-6",style:{color:"#0A84FF"}})})]})}),(0,Vn.jsx)("div",{className:"rounded-xl p-6 shadow-lg transition-transform hover:scale-105",style:{background:"linear-gradient(135deg, rgba(175, 82, 222, 0.15), rgba(175, 82, 222, 0.05))",border:"1px solid rgba(175, 82, 222, 0.3)"},children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium",style:{color:"#98989D"},children:"Cash & Bank"}),(0,Vn.jsx)("p",{className:"text-lg font-bold mt-1 truncate",style:{color:"#AF52DE"},children:Y((null===Q||void 0===Q?void 0:Q.totalCash)||(null===J||void 0===J||null===(u=J.assets)||void 0===u||null===(p=u.current)||void 0===p?void 0:p.cash))}),(0,Vn.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Vn.jsx)(Ti,{className:"w-4 h-4 mr-1 flex-shrink-0",style:{color:"#AF52DE"}}),(0,Vn.jsxs)("span",{className:"text-xs truncate",style:{color:"#AF52DE"},children:[(null===Q||void 0===Q||null===(h=Q.cashAccounts)||void 0===h?void 0:h.length)||0," accounts"]})]})]}),(0,Vn.jsx)("div",{className:"p-3 rounded-lg flex-shrink-0 ml-2",style:{backgroundColor:"rgba(175, 82, 222, 0.2)"},children:(0,Vn.jsx)(oi,{className:"w-6 h-6",style:{color:"#AF52DE"}})})]})})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Vn.jsxs)("div",{className:"lg:col-span-2 rounded-xl p-6 shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold",style:{color:"#FFFFFF"},children:"Revenue & Profit Trends"}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs",style:{backgroundColor:"rgba(10, 132, 255, 0.15)",color:"#0A84FF"},children:[(0,Vn.jsx)("div",{className:"w-2 h-2 rounded-full mr-1",style:{backgroundColor:"#0A84FF"}}),"Revenue"]}),(0,Vn.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs",style:{backgroundColor:"rgba(48, 209, 88, 0.15)",color:"#30D158"},children:[(0,Vn.jsx)("div",{className:"w-2 h-2 rounded-full mr-1",style:{backgroundColor:"#30D158"}}),"Profit"]})]})]}),(0,Vn.jsx)("div",{className:"h-80",children:(0,Vn.jsx)(Hl,{width:"100%",height:"100%",children:(0,Vn.jsxs)(uF,{data:ee,children:[(0,Vn.jsxs)("defs",{children:[(0,Vn.jsxs)("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Vn.jsx)("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),(0,Vn.jsx)("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),(0,Vn.jsxs)("linearGradient",{id:"colorProfit",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Vn.jsx)("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.3}),(0,Vn.jsx)("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),(0,Vn.jsx)(EF,{strokeDasharray:"3 3",className:"opacity-30"}),(0,Vn.jsx)(ZC,{dataKey:"month",className:"text-xs"}),(0,Vn.jsx)(dF,{className:"text-xs",tickFormatter:e=>"".concat((e/1e6).toFixed(0),"M")}),(0,Vn.jsx)(qc,{formatter:(e,t)=>[Y(e),"revenue"===t?"Revenue":"Profit"],labelStyle:{color:"#374151"}}),(0,Vn.jsx)(bC,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fillOpacity:1,fill:"url(#colorRevenue)",strokeWidth:2}),(0,Vn.jsx)(bC,{type:"monotone",dataKey:"profit",stroke:"#10B981",fillOpacity:1,fill:"url(#colorProfit)",strokeWidth:2})]})})})]}),(0,Vn.jsxs)("div",{className:"rounded-xl p-6 shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold",style:{color:"#FFFFFF"},children:"Cost Breakdown"}),(0,Vn.jsx)(la,{className:"w-5 h-5 cursor-pointer",style:{color:"#98989D"}})]}),(0,Vn.jsx)("div",{className:"h-64",children:(0,Vn.jsx)(Hl,{width:"100%",height:"100%",children:(0,Vn.jsxs)(PS,{children:[(0,Vn.jsx)(ES,{dataKey:"value",data:te,cx:"50%",cy:"50%",outerRadius:80,label:e=>{let{name:t,percent:r}=e;return"".concat((100*r).toFixed(0),"%")},children:null===te||void 0===te?void 0:te.map((e,t)=>(0,Vn.jsx)(Ij,{fill:e.color},"cell-".concat(t)))}),(0,Vn.jsx)(qc,{formatter:e=>Y(e)})]})})}),(0,Vn.jsx)("div",{className:"mt-4 space-y-2",children:null===te||void 0===te?void 0:te.slice(0,3).map((e,t)=>(0,Vn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color}}),(0,Vn.jsx)("span",{style:{color:"#98989D"},children:e.name})]}),(0,Vn.jsx)("span",{className:"font-medium",style:{color:"#FFFFFF"},children:Y(e.value)})]},t))})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Vn.jsxs)("div",{className:"rounded-xl p-6 shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold",style:{color:"#FFFFFF"},children:"Income Statement"}),(0,Vn.jsx)(ii,{className:"w-5 h-5",style:{color:"#98989D"}})]}),(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Revenue"}),(0,Vn.jsx)("span",{className:"font-semibold",style:{color:"#30D158"},children:Y(null===$||void 0===$||null===(m=$.statement)||void 0===m||null===(f=m.revenues)||void 0===f?void 0:f.total)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Direct Costs"}),(0,Vn.jsxs)("span",{className:"font-semibold",style:{color:"#FF453A"},children:["(",Y(null===$||void 0===$||null===(x=$.statement)||void 0===x||null===(g=x.directCosts)||void 0===g?void 0:g.total),")"]})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center pt-3",style:{borderTop:"1px solid #38383A"},children:[(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Gross Profit"}),(0,Vn.jsx)("span",{className:"font-semibold",style:{color:"#0A84FF"},children:Y(null===$||void 0===$||null===(b=$.statement)||void 0===b?void 0:b.grossProfit)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Indirect Costs"}),(0,Vn.jsxs)("span",{className:"font-semibold",style:{color:"#FF453A"},children:["(",Y(null===$||void 0===$||null===(y=$.statement)||void 0===y||null===(v=y.indirectCosts)||void 0===v?void 0:v.total),")"]})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center pt-3 font-bold",style:{borderTop:"1px solid #38383A"},children:[(0,Vn.jsx)("span",{style:{color:"#FFFFFF"},children:"Net Income"}),(0,Vn.jsx)("span",{style:{color:"#30D158"},children:Y(null===$||void 0===$||null===(j=$.statement)||void 0===j?void 0:j.netIncome)})]})]})]}),(0,Vn.jsxs)("div",{className:"rounded-xl p-6 shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold",style:{color:"#FFFFFF"},children:"Balance Sheet"}),(0,Vn.jsx)(ka,{className:"w-5 h-5",style:{color:"#98989D"}})]}),(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Vn.jsx)("span",{className:"text-sm font-medium",style:{color:"#FFFFFF"},children:"Assets"}),(0,Vn.jsx)("span",{className:"font-semibold",style:{color:"#0A84FF"},children:Y(null===J||void 0===J||null===(w=J.assets)||void 0===w?void 0:w.total)})]}),(0,Vn.jsxs)("div",{className:"ml-2 space-y-1",children:[(0,Vn.jsxs)("div",{className:"flex justify-between text-xs",style:{color:"#98989D"},children:[(0,Vn.jsx)("span",{children:"\u2022 Current Assets"}),(0,Vn.jsx)("span",{children:Y(null===J||void 0===J||null===(N=J.assets)||void 0===N||null===(A=N.current)||void 0===A?void 0:A.total)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between text-xs",style:{color:"#98989D"},children:[(0,Vn.jsx)("span",{children:"\u2022 Fixed Assets"}),(0,Vn.jsx)("span",{children:Y(null===J||void 0===J||null===(k=J.assets)||void 0===k||null===(C=k.fixed)||void 0===C?void 0:C.total)})]})]})]}),(0,Vn.jsx)("div",{children:(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Vn.jsx)("span",{className:"text-sm font-medium",style:{color:"#FFFFFF"},children:"Liabilities"}),(0,Vn.jsx)("span",{className:"font-semibold",style:{color:"#FF453A"},children:Y(null===J||void 0===J||null===(F=J.liabilities)||void 0===F?void 0:F.total)})]})}),(0,Vn.jsx)("div",{className:"pt-3",style:{borderTop:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex justify-between items-center font-bold",children:[(0,Vn.jsx)("span",{style:{color:"#FFFFFF"},children:"Equity"}),(0,Vn.jsx)("span",{style:{color:"#30D158"},children:Y(null===J||void 0===J||null===(S=J.equity)||void 0===S?void 0:S.total)})]})})]})]}),(0,Vn.jsxs)("div",{className:"rounded-xl p-6 shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold",style:{color:"#FFFFFF"},children:"Cash Flow"}),(0,Vn.jsx)(ri,{className:"w-5 h-5",style:{color:"#98989D"}})]}),(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Operating"}),(0,Vn.jsx)("span",{className:"font-semibold",style:{color:"#30D158"},children:Y(null===X||void 0===X||null===(E=X.operating)||void 0===E?void 0:E.total)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Investing"}),(0,Vn.jsx)("span",{className:"font-semibold",style:{color:"#FF453A"},children:Y(null===X||void 0===X||null===(P=X.investing)||void 0===P?void 0:P.total)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Financing"}),(0,Vn.jsx)("span",{className:"font-semibold",style:{color:"#0A84FF"},children:Y(null===X||void 0===X||null===(D=X.financing)||void 0===D?void 0:D.total)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center pt-3 font-bold",style:{borderTop:"1px solid #38383A"},children:[(0,Vn.jsx)("span",{style:{color:"#FFFFFF"},children:"Net Change"}),(0,Vn.jsx)("span",{style:{color:(null===X||void 0===X?void 0:X.netChange)>=0?"#30D158":"#FF453A"},children:Y(null===X||void 0===X?void 0:X.netChange)})]})]})]})]})]})},TS=e=>{let{selectedSubsidiary:t,selectedProject:r}=e;return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)("div",{className:"flex justify-between items-center",children:(0,Vn.jsx)("h2",{className:"text-2xl font-semibold",style:{color:"#FFFFFF"},children:"Financial Workspace Dashboard"})}),(0,Vn.jsx)(OS,{selectedSubsidiary:t,selectedProject:r})]})},IS=e=>{let{selectedSubsidiary:t,selectedProject:r,compact:n=!1}=e;const[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(!0),f=async()=>{l(!0),d(null);try{const e={};t&&"all"!==t&&(e.subsidiaryId=t),r&&"all"!==r&&(e.projectId=r);const n=await DS.getIntegratedFinancialData(e);n.success?(o(n.data),p((new Date).toLocaleTimeString("id-ID"))):d(n.error)}catch(e){d(e.message),console.error("Error fetching integrated data:",e)}finally{l(!1)}};(0,a.useEffect)(()=>{f()},[t,r]),(0,a.useEffect)(()=>{if(!h)return;const e=setInterval(()=>{f()},3e4);return()=>clearInterval(e)},[h,t,r]);const x=()=>{f()},g=DS.formatCurrency;if(i&&!s)return(0,Vn.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)(Ho,{className:"w-5 h-5 animate-spin",style:{color:"#0A84FF"}}),(0,Vn.jsx)("span",{style:{color:"#98989D"},children:"Loading integrated financial data..."})]})});if(c)return(0,Vn.jsxs)("div",{className:"rounded-lg p-6",style:{backgroundColor:"rgba(255, 69, 58, 0.1)",border:"1px solid #FF453A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)(Vo.A,{className:"w-5 h-5",style:{color:"#FF453A"}}),(0,Vn.jsx)("span",{className:"font-medium",style:{color:"#FF453A"},children:"Error loading data"})]}),(0,Vn.jsx)("p",{className:"text-sm mt-2",style:{color:"#FF453A"},children:c}),(0,Vn.jsx)("button",{onClick:x,className:"mt-3 px-4 py-2 rounded-md text-sm transition-colors duration-150",style:{backgroundColor:"rgba(255, 69, 58, 0.15)",border:"1px solid #FF453A",color:"#FF453A"},children:"Try Again"})]});if(!s)return(0,Vn.jsxs)("div",{className:"text-center p-8",children:[(0,Vn.jsx)(di,{className:"w-12 h-12 mx-auto mb-4",style:{color:"#636366"}}),(0,Vn.jsx)("p",{style:{color:"#98989D"},children:"No integrated financial data available"})]});const{metrics:b,projects:y,transactions:v,poTransactions:j}=s;return(0,Vn.jsxs)("div",{className:"space-y-6",children:[!n&&(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold",style:{color:"#FFFFFF"},children:"Project Finance Integration"}),(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Real-time synchronization between project transactions and finance data"}),u&&(0,Vn.jsxs)("p",{className:"text-xs mt-1",style:{color:"#636366"},children:["Last updated: ",u]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)("input",{type:"checkbox",checked:h,onChange:e=>m(e.target.checked),className:"rounded",style:{accentColor:"#0A84FF"}}),(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#98989D"},children:"Auto-refresh"})]}),(0,Vn.jsxs)("button",{onClick:x,disabled:i,className:"px-3 py-1.5 rounded-lg text-sm flex items-center space-x-1 transition-colors duration-150 disabled:opacity-50",style:{background:"linear-gradient(135deg, #0A84FF 0%, #0066CC 100%)",color:"#FFFFFF"},children:[(0,Vn.jsx)(Ho,{className:"w-4 h-4 ".concat(i?"animate-spin":"")}),(0,Vn.jsx)("span",{children:"Refresh"})]})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 ".concat(n?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-4"," gap-6"),children:[(0,Vn.jsx)("div",{className:"p-6 rounded-lg shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm font-medium",style:{color:"#98989D"},children:"Active Projects"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#FFFFFF"},children:b.overview.activeProjects}),(0,Vn.jsxs)("p",{className:"text-xs",style:{color:"#636366"},children:["of ",b.overview.totalProjects," total"]})]}),(0,Vn.jsx)(ka,{className:"w-8 h-8",style:{color:"#0A84FF"}})]})}),(0,Vn.jsx)("div",{className:"p-6 rounded-lg shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm font-medium",style:{color:"#98989D"},children:"Total Income"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#32D74B"},children:g(b.overview.totalIncome)}),(0,Vn.jsxs)("p",{className:"text-xs",style:{color:"#636366"},children:[b.overview.totalTransactions," transactions"]})]}),(0,Vn.jsx)(ui,{className:"w-8 h-8",style:{color:"#32D74B"}})]})}),(0,Vn.jsx)("div",{className:"p-6 rounded-lg shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm font-medium",style:{color:"#98989D"},children:"Total Expenses"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#FF453A"},children:g(b.overview.totalExpense)}),(0,Vn.jsx)("p",{className:"text-xs",style:{color:"#636366"},children:"including PO commitments"})]}),(0,Vn.jsx)(Oi,{className:"w-8 h-8",style:{color:"#FF453A"}})]})}),(0,Vn.jsx)("div",{className:"p-6 rounded-lg shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm font-medium",style:{color:"#98989D"},children:"PO Transactions"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#0A84FF"},children:b.overview.poTransactions}),(0,Vn.jsx)("p",{className:"text-xs",style:{color:"#636366"},children:g(b.overview.totalPOAmount)})]}),(0,Vn.jsx)(Jo,{className:"w-8 h-8",style:{color:"#0A84FF"}})]})})]}),(0,Vn.jsxs)("div",{className:"p-6 rounded-lg shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsx)("h4",{className:"text-lg font-semibold",style:{color:"#FFFFFF"},children:"Financial Summary"}),(0,Vn.jsxs)("div",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:b.overview.netIncome>=0?"rgba(50, 215, 75, 0.15)":"rgba(255, 69, 58, 0.15)",color:b.overview.netIncome>=0?"#32D74B":"#FF453A"},children:["Net Income: ",g(b.overview.netIncome)]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,Vn.jsxs)("div",{className:"p-4 rounded-lg",style:{backgroundColor:"rgba(50, 215, 75, 0.1)",border:"1px solid rgba(50, 215, 75, 0.3)"},children:[(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Income"}),(0,Vn.jsx)("p",{className:"text-xl font-bold",style:{color:"#32D74B"},children:g(b.overview.totalIncome)})]}),(0,Vn.jsxs)("div",{className:"p-4 rounded-lg",style:{backgroundColor:"rgba(255, 69, 58, 0.1)",border:"1px solid rgba(255, 69, 58, 0.3)"},children:[(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Expenses"}),(0,Vn.jsx)("p",{className:"text-xl font-bold",style:{color:"#FF453A"},children:g(b.overview.totalExpense)})]}),(0,Vn.jsxs)("div",{className:"p-4 rounded-lg",style:{backgroundColor:b.overview.netIncome>=0?"rgba(10, 132, 255, 0.1)":"rgba(255, 159, 10, 0.1)",border:b.overview.netIncome>=0?"1px solid rgba(10, 132, 255, 0.3)":"1px solid rgba(255, 159, 10, 0.3)"},children:[(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Net Result"}),(0,Vn.jsx)("p",{className:"text-xl font-bold",style:{color:b.overview.netIncome>=0?"#0A84FF":"#FF9F0A"},children:g(b.overview.netIncome)})]})]})]}),!n&&b.projectBreakdown.length>0&&(0,Vn.jsxs)("div",{className:"rounded-lg shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"p-6",style:{borderBottom:"1px solid #38383A"},children:[(0,Vn.jsx)("h4",{className:"text-lg font-semibold",style:{color:"#FFFFFF"},children:"Project Breakdown"}),(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Financial performance by project"})]}),(0,Vn.jsx)("div",{className:"p-6",children:(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"min-w-full",style:{borderCollapse:"collapse"},children:[(0,Vn.jsx)("thead",{style:{backgroundColor:"#1C1C1E"},children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D",borderBottom:"1px solid #38383A"},children:"Project"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D",borderBottom:"1px solid #38383A"},children:"Income"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D",borderBottom:"1px solid #38383A"},children:"Expenses"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D",borderBottom:"1px solid #38383A"},children:"Net Income"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D",borderBottom:"1px solid #38383A"},children:"PO Count"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#98989D",borderBottom:"1px solid #38383A"},children:"Transactions"})]})}),(0,Vn.jsx)("tbody",{style:{backgroundColor:"#2C2C2E"},children:b.projectBreakdown.map((e,t)=>(0,Vn.jsxs)("tr",{className:"transition-colors duration-150",style:{borderBottom:"1px solid #38383A"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)(ka,{className:"w-4 h-4",style:{color:"#636366"}}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-sm font-medium",style:{color:"#FFFFFF"},children:e.projectName}),(0,Vn.jsx)("div",{className:"text-xs",style:{color:"#636366"},children:e.projectId})]})]})}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",style:{color:"#32D74B"},children:g(e.income)}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",style:{color:"#FF453A"},children:g(e.expense)}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vn.jsx)("span",{className:"text-sm font-medium",style:{color:e.netIncome>=0?"#32D74B":"#FF453A"},children:g(e.netIncome)})}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full",style:{backgroundColor:"rgba(10, 132, 255, 0.15)",color:"#0A84FF"},children:e.poCount})}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"#98989D"},children:e.transactionCount})]},e.projectId))})]})})})]}),!n&&b.recentActivity.length>0&&(0,Vn.jsxs)("div",{className:"rounded-lg shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"p-6",style:{borderBottom:"1px solid #38383A"},children:[(0,Vn.jsx)("h4",{className:"text-lg font-semibold",style:{color:"#FFFFFF"},children:"Recent Financial Activity"}),(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Latest transactions across all projects"})]}),(0,Vn.jsx)("div",{className:"p-6",children:(0,Vn.jsx)("div",{className:"space-y-3",children:b.recentActivity.slice(0,5).map((e,t)=>(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg transition-colors duration-150",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"p-2 rounded-full",style:{backgroundColor:"income"===e.type?"rgba(50, 215, 75, 0.15)":"rgba(255, 69, 58, 0.15)"},children:(0,Vn.jsx)(ri,{className:"w-4 h-4",style:{color:"income"===e.type?"#32D74B":"#FF453A"}})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm font-medium",style:{color:"#FFFFFF"},children:e.description||e.desc||"No description"}),(0,Vn.jsxs)("p",{className:"text-xs",style:{color:"#98989D"},children:[e.date?new Date(e.date).toLocaleDateString("id-ID"):"No date",e.category&&" \u2022 ".concat(e.category)]})]})]}),(0,Vn.jsxs)("div",{className:"text-right",children:[(0,Vn.jsxs)("p",{className:"text-sm font-medium",style:{color:"income"===e.type?"#32D74B":"#FF453A"},children:["income"===e.type?"+":"-",g(e.amount)]}),e.purchaseOrderId&&(0,Vn.jsx)("p",{className:"text-xs",style:{color:"#0A84FF"},children:"PO Linked"})]})]},e.id||t))})})]})]})},MS=e=>{let{selectedSubsidiary:t,selectedProject:r}=e;return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)("div",{className:"flex justify-between items-center",children:(0,Vn.jsxs)("h2",{className:"text-2xl font-semibold flex items-center",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(ka,{className:"w-7 h-7 mr-3",style:{color:"#0A84FF"}}),"Project Finance Integration"]})}),(0,Vn.jsx)("div",{className:"rounded-lg shadow-lg p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsx)(IS,{selectedSubsidiary:t,selectedProject:r,compact:!1})}),(0,Vn.jsxs)("div",{className:"rounded-lg p-4",style:{background:"linear-gradient(135deg, rgba(10, 132, 255, 0.2) 0%, rgba(10, 132, 255, 0.1) 100%)",border:"1px solid rgba(10, 132, 255, 0.3)"},children:[(0,Vn.jsx)("h3",{className:"text-sm font-medium mb-2",style:{color:"#0A84FF"},children:"About Project Finance Integration"}),(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"This dashboard integrates financial data with project management, providing real-time insights into project costs, budget utilization, and financial performance across all construction projects."})]})]})},_S={title:"Chart of Accounts",subtitle:"Bagan akun standar industri konstruksi sesuai PSAK - Real-time data",endpoints:{accounts:"/api/coa",hierarchy:"/api/coa/hierarchy",subsidiaries:"/api/subsidiaries"},ui:{refreshInterval:3e4,maxAccountLevel:4,treeViewPadding:24,animationDuration:150},export:{csvHeaders:["Account Code","Account Name","Account Type","Sub Type","Level","Normal Balance","Construction Specific","Project Cost Center","VAT Applicable","Tax Deductible","Description","Status"],filenameTemplate:"chart-of-accounts-{date}.csv"},balance:{currency:"IDR",locale:"id-ID",minimumFractionDigits:0,showDebitCreditDetails:!0},search:{placeholder:"Cari nama akun atau kode...",minCharacters:1,debounceMs:300},modal:{maxWidth:"28rem",maxWidthLarge:"4xl",maxHeight:"80vh",zIndex:9999},colors:{primary:"#0A84FF",success:"#32D74B",warning:"#FF9F0A",error:"#FF453A",purple:"#BF5AF2",background:"#2C2C2E",backgroundSecondary:"#1C1C1E",border:"#38383A",text:"#FFFFFF",textSecondary:"#98989D",textTertiary:"#636366"}},{endpoints:RS}=_S,BS=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const r={};e&&(r.refresh="true"),t&&(r.subsidiaryId=t);const n=await Sr.get(RS.hierarchy,{params:r});return{success:!0,data:n.data.data||n.data.accounts||[],message:n.data.message}}catch(a){var r,n;return console.error("Error fetching accounts:",a),{success:!1,data:[],error:(null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||a.message||"Failed to fetch accounts"}}},LS=async e=>{try{const r=await Sr.get("".concat(RS.accounts,"/").concat(e));return r.data&&r.data.success?{success:!0,data:r.data.data,message:"Account retrieved successfully"}:{success:!1,error:(null===(t=r.data)||void 0===t?void 0:t.error)||"Failed to fetch account"};var t}catch(a){var r,n;return console.error("Error fetching account:",a),{success:!1,error:(null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||a.message||"Failed to fetch account"}}},zS=e=>{const t={totalDebit:0,totalCredit:0,netBalance:0},r=e=>{e.forEach(e=>{t.totalDebit+=e.debit||0,t.totalCredit+=e.credit||0,e.SubAccounts&&e.SubAccounts.length>0&&r(e.SubAccounts)})};return r(e),t.netBalance=t.totalDebit-t.totalCredit,t},US=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{locale:r="id-ID",currency:n="IDR",minimumFractionDigits:a=0,showSign:s=!1}=t,o=new Intl.NumberFormat(r,{style:"currency",currency:n,minimumFractionDigits:a}).format(Math.abs(e));return s&&0!==e?e>0?"+".concat(o):"-".concat(o):o},WS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;return Math.abs(e.totalDebit-e.totalCredit)<t},VS=e=>{let t=0;return e.forEach(e=>{t+=1,e.SubAccounts&&e.SubAccounts.length>0&&(t+=VS(e.SubAccounts))}),t},HS=e=>e.SubAccounts&&e.SubAccounts.length>0,KS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const r=[],n=e=>{e.forEach(e=>{e.level<t&&r.push(e),e.SubAccounts&&e.SubAccounts.length>0&&n(e.SubAccounts)})};return n(e),r},qS=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(null),[f,x]=(0,a.useState)({totalDebit:0,totalCredit:0,netBalance:0}),g=(()=>{const[e,t]=(0,a.useState)(new Set),[r,n]=(0,a.useState)(new Set),s=(0,a.useCallback)(e=>{t(t=>{const r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},[]),o=(0,a.useCallback)(e=>{t(t=>new Set([...t,e]))},[]),i=(0,a.useCallback)(e=>{t(t=>{const r=new Set(t);return r.delete(e),r})},[]),l=(0,a.useCallback)(e=>{const r=new Set,n=e=>{e.forEach(e=>{r.add(e.id),e.SubAccounts&&e.SubAccounts.length>0&&n(e.SubAccounts)})};n(e),t(r)},[]),c=(0,a.useCallback)(()=>{t(new Set)},[]),d=(0,a.useCallback)(e=>{n(t=>{const r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},[]),u=(0,a.useCallback)(e=>{n(t=>new Set([...t,e]))},[]),p=(0,a.useCallback)(e=>{n(t=>{const r=new Set(t);return r.delete(e),r})},[]),h=(0,a.useCallback)(e=>{const t=new Set,r=e=>{e.forEach(e=>{t.add(e.id),e.SubAccounts&&e.SubAccounts.length>0&&r(e.SubAccounts)})};r(e),n(t)},[]),m=(0,a.useCallback)(()=>{n(new Set)},[]),f=(0,a.useCallback)(t=>e.has(t),[e]),x=(0,a.useCallback)(e=>r.has(e),[r]),g=(0,a.useCallback)(()=>({expandedCount:e.size,expandedNodes:Array.from(e)}),[e]),b=(0,a.useCallback)(()=>({selectedCount:r.size,selectedNodes:Array.from(r)}),[r]);return{expandedNodes:e,selectedNodes:r,toggleNode:s,expandNode:o,collapseNode:i,expandAll:l,collapseAll:c,toggleNodeSelection:d,selectNode:u,deselectNode:p,selectAll:h,deselectAll:m,isNodeExpanded:f,isNodeSelected:x,getExpansionState:g,getSelectionState:b}})(),b=(e=>{const[t,r]=(0,a.useState)(""),[n,s]=(0,a.useState)(""),[o,i]=(0,a.useState)("");(0,a.useEffect)(()=>{const e=setTimeout(()=>{i(t)},_S.search.debounceMs);return()=>clearTimeout(e)},[t]);const l=(0,a.useMemo)(()=>((e,t,r)=>{const n=t.toLowerCase();return e.filter(e=>{const a=""===t||e.accountName.toLowerCase().includes(n)||e.accountCode.toLowerCase().includes(n),s=""===r||e.accountType===r;return a&&s})})(e,o,n),[e,o,n]),c=(0,a.useCallback)(e=>{r(e.target.value)},[]),d=(0,a.useCallback)(e=>{s(e.target.value)},[]),u=(0,a.useCallback)(()=>{r(""),i("")},[]),p=(0,a.useCallback)(()=>{s("")},[]),h=(0,a.useCallback)(()=>{r(""),i(""),s("")},[]),m=(0,a.useCallback)(e=>{s(e)},[]),f=(0,a.useCallback)(()=>{const t=e.length,r=l.length;return{totalAccounts:t,filteredCount:r,hasActiveFilters:o||n,filteredPercentage:t>0?r/t*100:0}},[e.length,l.length,o,n]),x=(0,a.useCallback)(()=>o.length>0,[o]),g=(0,a.useCallback)(()=>""!==n,[n]),b=(0,a.useCallback)(()=>x()||g(),[x,g]);return{searchTerm:t,filterType:n,debouncedSearchTerm:o,filteredAccounts:l,handleSearchChange:c,handleFilterTypeChange:d,clearSearch:u,clearFilterType:p,clearAllFilters:h,setAccountTypeFilter:m,getFilterStats:f,isSearchActive:x,isTypeFilterActive:g,hasActiveFilters:b}})(e),y=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{e?d(!0):o(!0),l(null);const a=await BS(e,r);if(a.success){t(a.data),p(new Date);const e=zS(a.data);if(x(e),r){const e=await BS(!1,null);e.success&&n(e.data)}else n(a.data)}else l(a.error)}catch(a){console.error("Error loading accounts:",a),l("Failed to load accounts. Please try again.")}finally{o(!1),d(!1)}},[]),v=(0,a.useCallback)(async()=>{await y(!0,h)},[y,h]),j=(0,a.useCallback)(()=>{y(!0,h)},[y,h]),w=(0,a.useCallback)(e=>{m(e),y(!1,e)},[y]);return(0,a.useEffect)(()=>{if(e.length>0){const t=zS(e);x(t)}},[e]),(0,a.useEffect)(()=>{y()},[y]),(0,a.useEffect)(()=>{const e=setInterval(()=>{s||c||v()},3e4);return()=>clearInterval(e)},[s,c,v]),(0,Mt.A)((0,Mt.A)({accounts:e,allAccounts:r,totalBalances:f,lastUpdate:u,loading:s,error:i,refreshing:c,selectedSubsidiary:h,loadAccounts:y,handleRefresh:v,handleAccountCreated:j,handleSubsidiaryChange:w},g),b)},GS={ASSET:"ASSET",LIABILITY:"LIABILITY",EQUITY:"EQUITY",REVENUE:"REVENUE",EXPENSE:"EXPENSE"},YS={[GS.ASSET]:"Asset",[GS.LIABILITY]:"Kewajiban",[GS.EQUITY]:"Ekuitas",[GS.REVENUE]:"Pendapatan",[GS.EXPENSE]:"Beban"},$S=e=>({[GS.ASSET]:(0,Vn.jsx)(Xo,{style:{color:"#32D74B"},size:16}),[GS.LIABILITY]:(0,Vn.jsx)(xa,{style:{color:"#FF453A"},size:16}),[GS.EQUITY]:(0,Vn.jsx)(ka,{style:{color:"#0A84FF"},size:16}),[GS.REVENUE]:(0,Vn.jsx)(ui,{style:{color:"#BF5AF2"},size:16}),[GS.EXPENSE]:(0,Vn.jsx)(ma,{style:{color:"#FF9F0A"},size:16})}[e]||(0,Vn.jsx)(di,{size:16})),JS=e=>({[GS.ASSET]:{bg:"rgba(50, 215, 75, 0.15)",color:"#32D74B"},[GS.LIABILITY]:{bg:"rgba(255, 69, 58, 0.15)",color:"#FF453A"},[GS.EQUITY]:{bg:"rgba(10, 132, 255, 0.15)",color:"#0A84FF"},[GS.REVENUE]:{bg:"rgba(191, 90, 242, 0.15)",color:"#BF5AF2"},[GS.EXPENSE]:{bg:"rgba(255, 159, 10, 0.15)",color:"#FF9F0A"}}[e]||{bg:"rgba(152, 152, 157, 0.15)",color:"#98989D"}),XS=[{value:"",label:"Semua Tipe"},{value:GS.ASSET,label:YS.ASSET},{value:GS.LIABILITY,label:YS.LIABILITY},{value:GS.EQUITY,label:YS.EQUITY},{value:GS.REVENUE,label:YS.REVENUE},{value:GS.EXPENSE,label:YS.EXPENSE}],QS={accountCode:"",accountName:"",accountType:GS.ASSET,accountSubType:"",parentAccountId:"",subsidiaryId:"",level:1,normalBalance:"DEBIT",description:"",notes:"",constructionSpecific:!1,projectCostCenter:!1,vatApplicable:!1,taxDeductible:!1},ZS=[{name:"accountCode",label:"Kode Akun",type:"text",required:!0,placeholder:"e.g., 1103"},{name:"accountName",label:"Nama Akun",type:"text",required:!0,placeholder:"e.g., Piutang Lain-lain"},{name:"accountType",label:"Tipe Akun",type:"select",required:!0,options:[{value:GS.ASSET,label:"Asset"},{value:GS.LIABILITY,label:"Kewajiban"},{value:GS.EQUITY,label:"Ekuitas"},{value:GS.REVENUE,label:"Pendapatan"},{value:GS.EXPENSE,label:"Beban"}]},{name:"accountSubType",label:"Sub Tipe",type:"text",required:!1,placeholder:"e.g., CURRENT_ASSET"},{name:"parentAccountId",label:"Parent Account ID",type:"select",required:!1,placeholder:"-- Pilih Parent Account --"},{name:"subsidiaryId",label:"Subsidiary / Entitas",type:"select",required:!1,placeholder:"-- Pilih Subsidiary (Optional) --",description:"Assign account to specific entity for multi-entity accounting"},{name:"level",label:"Level",type:"select",required:!0,options:[{value:1,label:"1 - Main Group"},{value:2,label:"2 - Sub Group"},{value:3,label:"3 - Detail Account"},{value:4,label:"4 - Sub Detail"}]},{name:"normalBalance",label:"Normal Balance",type:"select",required:!0,options:[{value:"DEBIT",label:"Debit"},{value:"CREDIT",label:"Credit"}]},{name:"description",label:"Deskripsi",type:"textarea",required:!1,placeholder:"Jelaskan fungsi akun ini...",rows:3},{name:"notes",label:"Catatan",type:"textarea",required:!1,placeholder:"Catatan tambahan (opsional)...",rows:2}],eE=[{name:"constructionSpecific",label:"Spesifik Konstruksi"},{name:"projectCostCenter",label:"Project Cost Center"},{name:"vatApplicable",label:"VAT Applicable"},{name:"taxDeductible",label:"Tax Deductible"}],tE=(e,t)=>{const[r,n]=(0,a.useState)(QS),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)({}),c=(0,a.useCallback)(e=>{const{name:t,value:r,type:a,checked:s}=e.target,o="checkbox"===a?s:r;n(e=>(0,Mt.A)((0,Mt.A)({},e),{},{[t]:o})),i[t]&&l(e=>(0,Mt.A)((0,Mt.A)({},e),{},{[t]:null}))},[i]),d=(0,a.useCallback)(()=>{const t={};return r.accountCode.trim()?function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=e=>{for(const a of e){if(a.id!==r&&a.accountCode===t)return!1;if(a.SubAccounts&&a.SubAccounts.length>0&&!n(a.SubAccounts))return!1}return!0};return n(e)}(e,r.accountCode)||(t.accountCode="Account code already exists"):t.accountCode="Account code is required",r.accountName.trim()||(t.accountName="Account name is required"),r.accountType||(t.accountType="Account type is required"),r.normalBalance||(t.normalBalance="Normal balance is required"),(!r.level||r.level<1||r.level>4)&&(t.level="Level must be between 1 and 4"),r.parentAccountId&&r.level<=1&&(t.parentAccountId="Parent account not allowed for level 1 accounts"),l(t),0===Object.keys(t).length},[e,r]),u=(0,a.useCallback)(async e=>{if(e.preventDefault(),d()){o(!0);try{const e=await(async e=>{try{const t=(0,Mt.A)((0,Mt.A)({},e),{},{id:"COA-".concat(Date.now())});return{success:!0,data:(await Sr.post(RS.accounts,t)).data,message:"Account created successfully"}}catch(n){var t,r;return console.error("Error creating account:",n),{success:!1,error:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||n.message||"Failed to create account"}}})(r);e.success?(n(QS),l({}),t&&t(e)):l({submit:e.error})}catch(a){console.error("Error submitting form:",a),l({submit:"Failed to create account. Please try again."})}finally{o(!1)}}},[r,d,t]),p=(0,a.useCallback)(()=>{n(QS),l({})},[]),h=(0,a.useCallback)(e=>{n(t=>(0,Mt.A)((0,Mt.A)({},t),e))},[]);return{formData:r,errors:i,isSubmitting:s,handleFormChange:c,handleSubmit:u,resetForm:p,updateFormData:h,validateForm:d,setFormData:n}},{endpoints:rE}=_S,nE=e=>{if("string"===typeof e)return e;if(!e)return"";const t=[];return e.street&&t.push(e.street),e.city&&t.push(e.city),e.province&&t.push(e.province),e.postalCode&&t.push(e.postalCode),t.join(", ")},aE=e=>{var t,r,n,a,s,o,i,l,c;return e?{id:e.id,name:e.name,code:e.code,description:e.description,specialization:e.specialization,phone:(null===(t=e.contactInfo)||void 0===t?void 0:t.phone)||null,email:(null===(r=e.contactInfo)||void 0===r?void 0:r.email)||null,fax:(null===(n=e.contactInfo)||void 0===n?void 0:n.fax)||null,website:(null===(a=e.contactInfo)||void 0===a?void 0:a.website)||null,address:nE(e.address),addressObj:e.address,city:(null===(s=e.address)||void 0===s?void 0:s.city)||null,province:(null===(o=e.address)||void 0===o?void 0:o.province)||null,postalCode:(null===(i=e.address)||void 0===i?void 0:i.postalCode)||null,taxId:(null===(l=e.legalInfo)||void 0===l?void 0:l.taxIdentificationNumber)||null,legalName:(null===(c=e.legalInfo)||void 0===c?void 0:c.companyRegistrationNumber)||null,isActive:"active"===e.status,status:e.status,accountCount:e.accountCount||0,logo:e.logo,establishedYear:e.establishedYear,employeeCount:e.employeeCount,boardOfDirectors:e.boardOfDirectors,parentCompany:e.parentCompany||"Nusantara Group",createdAt:e.created_at||e.createdAt,updatedAt:e.updated_at||e.updatedAt,_original:e}:null},sE=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{const t=await Sr.get(rE.subsidiaries,{params:{active_only:e?"true":"false"}}),r=t.data.data||t.data.subsidiaries||[];return{success:!0,data:r.map(aE),message:t.data.message}}catch(s){var t,r,n,a;return console.error("Error fetching subsidiaries:",s),{success:!1,data:[],error:(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||(null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||s.message}}},oE=e=>{let{selectedSubsidiary:t,onSubsidiaryChange:r,className:n=""}=e;const[s,o]=(0,a.useState)([]),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!0);(0,a.useEffect)(()=>{u()},[]);const u=async()=>{d(!0);const e=await sE(!0);e.success&&o(e.data),d(!1)},p=e=>{console.log("\ud83d\udd0d [SubsidiarySelector] Selected:",e),console.log("\ud83d\udd0d [SubsidiarySelector] onSubsidiaryChange exists?",!!r),r?r(e):console.error("\u274c [SubsidiarySelector] onSubsidiaryChange is undefined!"),l(!1)},h=s.find(e=>e.id===t);return(0,Vn.jsxs)("div",{className:"relative ".concat(n),children:[(0,Vn.jsxs)("button",{onClick:()=>l(!i),className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700  text-gray-100 rounded-lg transition-colors border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Vn.jsx)(ka,{size:18,className:"text-gray-400"}),(0,Vn.jsx)("span",{className:"text-sm font-medium",children:h?h.name:"All Entities"}),t&&(0,Vn.jsx)("span",{onClick:e=>{e.stopPropagation(),(e=>{e.stopPropagation(),r(null),l(!1)})()},className:"ml-2 p-0.5 hover:bg-gray-600 rounded cursor-pointer inline-flex",children:(0,Vn.jsx)(ja.A,{size:14})}),(0,Vn.jsx)(na.A,{size:16,className:"text-gray-400 transition-transform ".concat(i?"rotate-180":"")})]}),i&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),(0,Vn.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 border border-gray-700  rounded-lg shadow-xl z-50 max-h-96 overflow-y-auto",children:[(0,Vn.jsxs)("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 px-4 py-3",children:[(0,Vn.jsx)("h3",{className:"text-sm font-semibold text-gray-100",children:"Select Entity"}),(0,Vn.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Filter accounts by subsidiary"})]}),(0,Vn.jsxs)("button",{onClick:()=>p(null),className:"w-full px-4 py-3 text-left hover:bg-gray-700 transition-colors\n                         flex items-center justify-between border-b border-gray-700\n                         ".concat(t?"":"bg-gray-700/50"),children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)(ka,{size:18,className:"text-gray-400"}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-sm font-medium text-gray-100",children:"All Entities"}),(0,Vn.jsx)("div",{className:"text-xs text-gray-400",children:"Show all accounts"})]})]}),!t&&(0,Vn.jsx)(ia.A,{size:16,className:"text-green-400"})]}),c&&(0,Vn.jsxs)("div",{className:"px-4 py-8 text-center text-gray-400",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto"}),(0,Vn.jsx)("p",{className:"text-xs mt-2",children:"Loading subsidiaries..."})]}),!c&&s.map(e=>(0,Vn.jsxs)("button",{onClick:()=>p(e.id),className:"w-full px-4 py-3 text-left hover:bg-gray-700 transition-colors\n                           flex items-center justify-between\n                           ".concat(t===e.id?"bg-gray-700/50":""),children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-700 flex items-center  justify-center text-xs font-bold text-gray-300",children:e.code}),(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("div",{className:"text-sm font-medium text-gray-100 truncate",children:e.name}),(0,Vn.jsxs)("div",{className:"text-xs text-gray-400 flex items-center gap-2 mt-0.5",children:[(0,Vn.jsx)("span",{className:"capitalize",children:e.specialization}),e.accountCount>0&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("span",{children:"\u2022"}),(0,Vn.jsxs)("span",{children:[e.accountCount," accounts"]})]})]})]})]}),t===e.id&&(0,Vn.jsx)(ia.A,{size:16,className:"text-green-400 flex-shrink-0"})]},e.id)),!c&&0===s.length&&(0,Vn.jsxs)("div",{className:"px-4 py-8 text-center text-gray-400",children:[(0,Vn.jsx)(ka,{size:24,className:"mx-auto mb-2 opacity-50"}),(0,Vn.jsx)("p",{className:"text-sm",children:"No subsidiaries found"})]})]})]})]})},{colors:iE}=_S,lE=e=>{let{accounts:t,totalBalances:r,lastUpdate:n,error:a,refreshing:s,onRefresh:o,onAddAccount:i,selectedSubsidiary:l,onSubsidiaryChange:c}=e;const d=VS(t),u=WS(r);return(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("h1",{className:"text-2xl font-bold",style:{color:iE.text},children:"Chart of Accounts"}),!a&&t.length>0&&(0,Vn.jsxs)("span",{className:"flex items-center text-sm px-2 py-1 rounded",style:{backgroundColor:"rgba(50, 215, 75, 0.15)",color:iE.success},children:[(0,Vn.jsx)(Ea.A,{size:14,className:"mr-1"}),d," accounts loaded"]}),u&&(0,Vn.jsx)("span",{className:"flex items-center text-sm px-2 py-1 rounded",style:{backgroundColor:"rgba(50, 215, 75, 0.15)",color:iE.success},children:"\u2713 Balanced"})]}),(0,Vn.jsx)("p",{className:"mt-1",style:{color:iE.textSecondary},children:"Bagan akun standar industri konstruksi sesuai PSAK - Real-time data"}),n&&(0,Vn.jsxs)("p",{className:"text-xs mt-1",style:{color:iE.textTertiary},children:["Last updated: ",n.toLocaleTimeString("id-ID")]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)(oE,{selectedSubsidiary:l,onSubsidiaryChange:c}),(0,Vn.jsxs)("button",{onClick:o,disabled:s,className:"px-4 py-2 rounded-lg flex items-center transition-colors duration-150 disabled:opacity-50",style:{backgroundColor:"rgba(152, 152, 157, 0.15)",border:"1px solid ".concat(iE.border),color:iE.textSecondary},children:[(0,Vn.jsx)("svg",{className:"w-4 h-4 mr-2 ".concat(s?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Vn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s?"Refreshing...":"Refresh"]}),(0,Vn.jsxs)("button",{onClick:i,className:"px-4 py-2 rounded-lg flex items-center transition-colors duration-150",style:{background:"linear-gradient(135deg, ".concat(iE.primary," 0%, #0066CC 100%)"),color:iE.text},children:[(0,Vn.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Vn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Tambah Akun"]})]})]})},{colors:cE}=_S,dE=e=>{let{totalBalances:t,lastUpdate:r}=e;const n=WS(t);return!t||0===t.totalDebit&&0===t.totalCredit?null:(0,Vn.jsx)("div",{className:"rounded-lg p-4 mb-6",style:{backgroundColor:cE.background,border:"1px solid ".concat(cE.border)},children:(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"text-2xl font-bold",style:{color:cE.primary},children:US(t.totalDebit,{locale:"id-ID",currency:"IDR",minimumFractionDigits:0})}),(0,Vn.jsx)("div",{className:"text-sm",style:{color:cE.textSecondary},children:"Total Debit"})]}),(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"text-2xl font-bold",style:{color:cE.success},children:US(t.totalCredit,{locale:"id-ID",currency:"IDR",minimumFractionDigits:0})}),(0,Vn.jsx)("div",{className:"text-sm",style:{color:cE.textSecondary},children:"Total Credit"})]}),(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"text-2xl font-bold",children:n?(0,Vn.jsx)("span",{style:{color:cE.success},children:"\u2713 Balanced"}):(0,Vn.jsx)("span",{style:{color:cE.error},children:"\u26a0 Unbalanced"})}),(0,Vn.jsx)("div",{className:"text-sm",style:{color:cE.textSecondary},children:r&&"Last Update: ".concat(r.toLocaleTimeString("id-ID"))}),!n&&(0,Vn.jsxs)("div",{className:"text-xs mt-1",style:{color:cE.error},children:["Difference: ",US(Math.abs(t.totalDebit-t.totalCredit),{locale:"id-ID",currency:"IDR",minimumFractionDigits:0})]})]})]})})};var uE=r(6875);const{colors:pE,search:hE}=_S,mE=e=>{let{searchTerm:t,filterType:r,onSearchChange:n,onFilterTypeChange:a,onClearFilters:s,filterStats:o}=e;const i=t||r;return(0,Vn.jsxs)("div",{className:"rounded-lg p-4",style:{backgroundColor:pE.background,border:"1px solid ".concat(pE.border)},children:[(0,Vn.jsxs)("div",{className:"flex space-x-4",children:[(0,Vn.jsx)("div",{className:"flex-1",children:(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)(uE.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:pE.textTertiary},size:20}),(0,Vn.jsx)("input",{type:"text",placeholder:hE.placeholder,value:t,onChange:n,className:"w-full pl-10 pr-4 py-2 rounded-lg focus:ring-2 focus:outline-none transition-all duration-200",style:{backgroundColor:pE.backgroundSecondary,color:pE.text,border:"1px solid ".concat(pE.border),focusRingColor:pE.primary}})]})}),(0,Vn.jsx)("div",{className:"w-48",children:(0,Vn.jsx)("select",{value:r,onChange:a,className:"w-full px-3 py-2 rounded-lg focus:ring-2 focus:outline-none transition-all duration-200",style:{backgroundColor:pE.backgroundSecondary,color:pE.text,border:"1px solid ".concat(pE.border)},children:XS.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))})}),i&&(0,Vn.jsx)("button",{onClick:s,className:"px-3 py-2 rounded-lg transition-colors duration-150 text-sm",style:{backgroundColor:"rgba(152, 152, 157, 0.15)",border:"1px solid ".concat(pE.border),color:pE.textSecondary},children:"Clear Filters"})]}),o&&i&&(0,Vn.jsxs)("div",{className:"mt-2 text-sm",style:{color:pE.textSecondary},children:["Showing ",o.filteredCount," of ",o.totalAccounts," accounts",o.filteredPercentage<100&&(0,Vn.jsxs)("span",{children:[" (",Math.round(o.filteredPercentage),"%)"]})]})]})},{colors:fE}=_S,xE=e=>{let{account:t,onClose:r,subsidiaryData:n}=e;if(!t)return null;const a=t.subsidiaryId&&(null===n||void 0===n?void 0:n[t.subsidiaryId]);return(0,Vn.jsxs)("div",{className:"border-l-4 ml-12 my-2 p-4 rounded-r-lg animate-slideDown shadow-lg",style:{backgroundColor:"rgba(10, 132, 255, 0.08)",borderLeftColor:fE.primary,border:"1px solid rgba(10, 132, 255, 0.3)",borderLeft:"4px solid ".concat(fE.primary)},children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[$S(t.accountType),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h4",{className:"text-xl font-bold",style:{color:"#FFFFFF"},children:t.accountName}),(0,Vn.jsx)("p",{className:"text-sm font-mono mt-1",style:{color:"rgba(255, 255, 255, 0.7)"},children:t.accountCode})]})]}),(0,Vn.jsx)("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-all duration-200",title:"Close Detail View",style:{color:"rgba(255, 255, 255, 0.7)"},children:(0,Vn.jsx)(ja.A,{size:20})})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-xs font-semibold block mb-2 uppercase tracking-wide",style:{color:"rgba(255, 255, 255, 0.5)"},children:"Account Type"}),(0,Vn.jsx)("div",{className:"px-3 py-2 rounded-lg text-sm font-medium",style:{backgroundColor:"".concat(JS(t.accountType),"30"),color:JS(t.accountType),border:"1px solid ".concat(JS(t.accountType),"50")},children:t.accountType})]}),t.accountSubType&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-xs font-semibold block mb-2 uppercase tracking-wide",style:{color:"rgba(255, 255, 255, 0.5)"},children:"Sub Type"}),(0,Vn.jsx)("p",{className:"text-sm font-medium",style:{color:"rgba(255, 255, 255, 0.9)"},children:t.accountSubType})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-xs font-semibold block mb-2 uppercase tracking-wide",style:{color:"rgba(255, 255, 255, 0.5)"},children:"Normal Balance"}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:["DEBIT"===t.normalBalance?(0,Vn.jsx)(Oi,{size:18,style:{color:"#10B981"}}):(0,Vn.jsx)(ui,{size:18,style:{color:"#EF4444"}}),(0,Vn.jsx)("span",{className:"text-sm font-medium",style:{color:"rgba(255, 255, 255, 0.9)"},children:t.normalBalance})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-xs font-semibold block mb-2 uppercase tracking-wide",style:{color:"rgba(255, 255, 255, 0.5)"},children:"Current Balance"}),(0,Vn.jsx)("p",{className:"text-base font-bold",style:{color:"#FFFFFF"},children:US(t.currentBalance||0)})]})]}),a&&(0,Vn.jsxs)("div",{className:"mb-4 p-3 rounded-lg",style:{backgroundColor:"rgba(10, 132, 255, 0.1)"},children:[(0,Vn.jsx)("label",{className:"text-xs font-semibold block mb-2 uppercase tracking-wide",style:{color:"rgba(255, 255, 255, 0.5)"},children:"Subsidiary"}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)(ka,{size:18,style:{color:fE.primary}}),(0,Vn.jsxs)("span",{className:"text-sm font-medium",style:{color:"rgba(255, 255, 255, 0.9)"},children:[a.code," - ",a.name]})]})]}),t.description&&(0,Vn.jsxs)("div",{className:"mb-4",children:[(0,Vn.jsx)("label",{className:"text-xs font-semibold block mb-2 uppercase tracking-wide",style:{color:"rgba(255, 255, 255, 0.5)"},children:"Description"}),(0,Vn.jsx)("p",{className:"text-sm leading-relaxed",style:{color:"rgba(255, 255, 255, 0.8)"},children:t.description})]}),t.notes&&(0,Vn.jsxs)("div",{className:"mb-4",children:[(0,Vn.jsx)("label",{className:"text-xs font-semibold block mb-2 uppercase tracking-wide",style:{color:"rgba(255, 255, 255, 0.5)"},children:"Notes"}),(0,Vn.jsx)("p",{className:"text-sm leading-relaxed",style:{color:"rgba(255, 255, 255, 0.8)"},children:t.notes})]}),(0,Vn.jsxs)("div",{className:"flex flex-wrap gap-2",children:[t.constructionSpecific&&(0,Vn.jsx)("span",{className:"text-xs px-3 py-1.5 rounded-full font-medium",style:{backgroundColor:"rgba(10, 132, 255, 0.2)",color:"#3B82F6",border:"1px solid rgba(10, 132, 255, 0.4)"},children:"\ud83c\udfd7\ufe0f Construction Specific"}),t.taxDeductible&&(0,Vn.jsx)("span",{className:"text-xs px-3 py-1.5 rounded-full font-medium",style:{backgroundColor:"rgba(16, 185, 129, 0.2)",color:"#10B981",border:"1px solid rgba(16, 185, 129, 0.4)"},children:"\ud83d\udcb0 Tax Deductible"}),t.vatApplicable&&(0,Vn.jsx)("span",{className:"text-xs px-3 py-1.5 rounded-full font-medium",style:{backgroundColor:"rgba(245, 158, 11, 0.2)",color:"#F59E0B",border:"1px solid rgba(245, 158, 11, 0.4)"},children:"\ud83d\udcca VAT Applicable"}),t.projectCostCenter&&(0,Vn.jsx)("span",{className:"text-xs px-3 py-1.5 rounded-full font-medium",style:{backgroundColor:"rgba(139, 92, 246, 0.2)",color:"#8B5CF6",border:"1px solid rgba(139, 92, 246, 0.4)"},children:"\ud83d\udcc8 Project Cost Center"})]})]})},gE=(0,Qn.A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),{colors:bE}=_S,yE=e=>{let{account:t,formData:r,errors:n,isSubmitting:a,allAccounts:s,subsidiaries:o,onFormChange:i,onSubmit:l,onCancel:c}=e;if(!t)return null;const d=KS(s||[]),u=e=>{const t={backgroundColor:"rgba(30, 30, 30, 0.6)",color:"rgba(255, 255, 255, 0.95)",border:"1px solid rgba(245, 158, 11, 0.3)",fontSize:"0.875rem",padding:"0.625rem",borderRadius:"0.5rem"},a=n[e.name]?{borderColor:"#EF4444",backgroundColor:"rgba(239, 68, 68, 0.1)"}:{};var s;return"select"===e.type?(0,Vn.jsxs)("select",{name:e.name,value:r[e.name],onChange:i,className:"w-full rounded-md focus:outline-none focus:ring-2",style:(0,Mt.A)((0,Mt.A)({},t),a),required:e.required,children:[("parentAccountId"===e.name||"subsidiaryId"===e.name)&&(0,Vn.jsx)("option",{value:"",children:e.placeholder}),"parentAccountId"===e.name?d.map(e=>(0,Vn.jsxs)("option",{value:e.id,children:[e.accountCode," - ",e.accountName]},e.id)):"subsidiaryId"===e.name?null===o||void 0===o?void 0:o.map(e=>(0,Vn.jsxs)("option",{value:e.id,children:[e.code," - ",e.name]},e.id)):null===(s=e.options)||void 0===s?void 0:s.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))]}):"textarea"===e.type?(0,Vn.jsx)("textarea",{name:e.name,value:r[e.name],onChange:i,className:"w-full rounded-md focus:outline-none focus:ring-2",style:(0,Mt.A)((0,Mt.A)({},t),a),rows:2,placeholder:e.placeholder,required:e.required}):(0,Vn.jsx)("input",{type:e.type,name:e.name,value:r[e.name],onChange:i,className:"w-full rounded-md focus:outline-none focus:ring-2",style:(0,Mt.A)((0,Mt.A)({},t),a),placeholder:e.placeholder,required:e.required})};return(0,Vn.jsx)("div",{className:"border-l-4 ml-12 my-2 p-4 rounded-r-lg animate-slideDown shadow-lg",style:{backgroundColor:"rgba(245, 158, 11, 0.08)",borderLeftColor:"#F59E0B",border:"1px solid rgba(245, 158, 11, 0.3)",borderLeft:"4px solid #F59E0B"},children:(0,Vn.jsxs)("form",{onSubmit:l,children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h4",{className:"text-xl font-bold",style:{color:"#FFFFFF"},children:"Edit Account"}),(0,Vn.jsxs)("p",{className:"text-sm mt-1 font-mono",style:{color:"rgba(255, 255, 255, 0.6)"},children:[t.accountCode," - ",t.accountName]})]}),(0,Vn.jsx)("button",{type:"button",onClick:c,className:"p-2 hover:bg-white/10 rounded-full transition-all duration-200",disabled:a,style:{color:"rgba(255, 255, 255, 0.7)"},children:(0,Vn.jsx)(ja.A,{size:20})})]}),(0,Vn.jsx)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:ZS.map(e=>(0,Vn.jsxs)("div",{className:"textarea"===e.type?"col-span-2":"",children:[(0,Vn.jsxs)("label",{className:"block text-xs font-semibold mb-1.5 uppercase tracking-wide",style:{color:"rgba(255, 255, 255, 0.6)"},children:[e.label," ",e.required&&(0,Vn.jsx)("span",{style:{color:"#EF4444"},children:"*"})]}),u(e),n[e.name]&&(0,Vn.jsxs)("p",{className:"text-xs mt-1 font-medium",style:{color:"#EF4444"},children:["\u26a0\ufe0f ",n[e.name]]})]},e.name))}),(0,Vn.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4 p-3 rounded-lg",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:eE.map(e=>(0,Vn.jsxs)("label",{className:"flex items-center text-sm cursor-pointer hover:bg-white/5 p-2 rounded transition-colors",children:[(0,Vn.jsx)("input",{type:"checkbox",name:e.name,checked:r[e.name],onChange:i,className:"mr-2 w-4 h-4 cursor-pointer",style:{accentColor:"#F59E0B"}}),(0,Vn.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:e.label})]},e.name))}),(0,Vn.jsxs)("div",{className:"flex gap-2",children:[(0,Vn.jsxs)("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-5 py-2.5 rounded-lg transition-all disabled:opacity-50 hover:shadow-lg font-medium",style:{background:a?"rgba(16, 185, 129, 0.5)":"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"white",fontSize:"0.875rem",boxShadow:"0 4px 6px rgba(16, 185, 129, 0.2)"},children:[(0,Vn.jsx)(gE,{size:18}),a?"Saving Changes...":"Save Changes"]}),(0,Vn.jsx)("button",{type:"button",onClick:c,disabled:a,className:"px-5 py-2.5 rounded-lg transition-all disabled:opacity-50 hover:bg-white/10 font-medium",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 0.8)",fontSize:"0.875rem"},children:"Cancel"})]})]})})},{colors:vE}=_S,jE=e=>{let{account:t,onConfirm:r,onCancel:n,isDeleting:a}=e;return t?(0,Vn.jsx)("div",{className:"border-l-4 ml-12 my-2 p-4 rounded-r-lg animate-slideDown shadow-lg",style:{backgroundColor:"rgba(239, 68, 68, 0.08)",borderLeftColor:"#EF4444",border:"1px solid rgba(239, 68, 68, 0.3)",borderLeft:"4px solid #EF4444"},children:(0,Vn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Vn.jsx)("div",{className:"p-3 rounded-full flex-shrink-0 animate-pulse",style:{backgroundColor:"rgba(239, 68, 68, 0.2)"},children:(0,Vn.jsx)(ti,{size:24,style:{color:"#EF4444"}})}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h4",{className:"text-lg font-bold mb-2",style:{color:"#FFFFFF"},children:"\u26a0\ufe0f Delete Account?"}),(0,Vn.jsx)("p",{className:"text-sm mb-2",style:{color:"rgba(255, 255, 255, 0.7)"},children:"Are you sure you want to permanently delete this account?"}),(0,Vn.jsxs)("div",{className:"p-3 rounded-lg mb-3",style:{backgroundColor:"rgba(239, 68, 68, 0.15)"},children:[(0,Vn.jsx)("p",{className:"text-sm font-mono mb-1",style:{color:"rgba(255, 255, 255, 0.6)"},children:t.accountCode}),(0,Vn.jsx)("p",{className:"text-base font-bold",style:{color:"#FFFFFF"},children:t.accountName})]}),t.SubAccounts&&t.SubAccounts.length>0&&(0,Vn.jsx)("div",{className:"p-3 rounded-lg mb-4 border-l-4",style:{backgroundColor:"rgba(245, 158, 11, 0.15)",color:"#F59E0B",borderLeftColor:"#F59E0B",border:"1px solid rgba(245, 158, 11, 0.3)",borderLeft:"4px solid #F59E0B"},children:(0,Vn.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Vn.jsx)(ti,{size:16,className:"mt-0.5"}),(0,Vn.jsxs)("div",{className:"text-sm",children:[(0,Vn.jsx)("strong",{children:"Warning:"})," This account has ",(0,Vn.jsx)("strong",{children:t.SubAccounts.length})," sub-account(s). Deleting this will affect all child accounts."]})]})}),(0,Vn.jsxs)("div",{className:"flex gap-2",children:[(0,Vn.jsxs)("button",{onClick:r,disabled:a,className:"flex items-center gap-2 px-5 py-2.5 rounded-lg transition-all disabled:opacity-50 hover:shadow-lg font-medium",style:{backgroundColor:a?"rgba(239, 68, 68, 0.5)":"#EF4444",color:"white",fontSize:"0.875rem",boxShadow:"0 4px 6px rgba(239, 68, 68, 0.3)"},children:[(0,Vn.jsx)(ca,{size:18}),a?"Deleting...":"Yes, Delete Permanently"]}),(0,Vn.jsx)("button",{onClick:n,disabled:a,className:"px-5 py-2.5 rounded-lg transition-all disabled:opacity-50 hover:bg-white/10 font-medium",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 0.8)",fontSize:"0.875rem"},children:"Cancel"})]})]})]})}):null},{colors:wE,ui:NE}=_S,AE=e=>{let{account:t,level:r=0,isExpanded:n,onToggleExpansion:a,children:s,subsidiaryData:o,onViewDetail:i,onEdit:l,onDelete:c,isDetailExpanded:d,isEditing:u,showDeleteConfirm:p,selectedAccount:h,onDeleteConfirm:m,onDeleteCancel:f,isDeleting:x,editForm:g,onEditSubmit:b,onEditCancel:y,allAccounts:v,subsidiaries:j}=e;const w=HS(t),N=r*NE.treeViewPadding;return(0,Vn.jsxs)("div",{style:{borderBottom:"1px solid ".concat(wE.border)},children:[(0,Vn.jsx)("div",{className:"flex items-center py-3 hover:bg-white/5 transition-colors duration-150 group",style:{paddingLeft:"".concat(N+12,"px")},children:(0,Vn.jsxs)("div",{className:"flex items-center flex-1",children:[w&&(0,Vn.jsx)("button",{className:"mr-2 p-1 hover:bg-white/10 rounded transition-colors",onClick:()=>{w&&a&&a(t.id)},children:n?(0,Vn.jsx)(na.A,{size:16,style:{color:wE.textSecondary}}):(0,Vn.jsx)(va,{size:16,style:{color:wE.textSecondary}})}),!w&&(0,Vn.jsx)("div",{className:"w-6"}),(0,Vn.jsx)("div",{className:"mr-3",children:$S(t.accountType)}),(0,Vn.jsx)("div",{className:"flex-1",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,Vn.jsx)("span",{className:"font-mono text-sm mr-3 flex-shrink-0",style:{color:wE.textSecondary},children:t.accountCode}),(0,Vn.jsx)("span",{className:"font-medium truncate",style:{color:wE.text},children:t.accountName}),t.constructionSpecific&&(0,Vn.jsx)("span",{className:"ml-2 text-xs px-2 py-1 rounded flex-shrink-0",style:{backgroundColor:"rgba(10, 132, 255, 0.15)",color:wE.primary},children:"Konstruksi"}),t.projectCostCenter&&(0,Vn.jsx)("span",{className:"ml-2 text-xs px-2 py-1 rounded flex-shrink-0",style:{backgroundColor:"rgba(50, 215, 75, 0.15)",color:wE.success},children:"Cost Center"}),t.subsidiaryId&&(null===o||void 0===o?void 0:o[t.subsidiaryId])&&(0,Vn.jsxs)("span",{className:"ml-2 text-xs px-2 py-1 rounded flex items-center gap-1 flex-shrink-0",style:{backgroundColor:"rgba(255, 159, 10, 0.15)",color:"#FF9F0A"},title:o[t.subsidiaryId].name,children:[(0,Vn.jsx)(ka,{size:12}),o[t.subsidiaryId].code]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-4 ml-4 flex-shrink-0",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i&&(0,Vn.jsx)("button",{onClick:e=>{console.log("\ud83d\udc41\ufe0f View button clicked in AccountTreeItem"),e.stopPropagation(),i(t)},className:"p-1.5 rounded hover:bg-blue-500/20 transition-colors",title:"View Details",children:(0,Vn.jsx)(la,{size:16,style:{color:"#3B82F6"}})}),l&&(0,Vn.jsx)("button",{onClick:e=>{console.log("\u270f\ufe0f Edit button clicked in AccountTreeItem"),e.stopPropagation(),l(t)},className:"p-1.5 rounded hover:bg-yellow-500/20 transition-colors",title:"Edit Account",children:(0,Vn.jsx)(fi,{size:16,style:{color:"#F59E0B"}})}),c&&(0,Vn.jsx)("button",{onClick:e=>{console.log("\ud83d\uddd1\ufe0f Delete button clicked in AccountTreeItem"),e.stopPropagation(),c(t)},className:"p-1.5 rounded hover:bg-red-500/20 transition-colors",title:"Delete Account",children:(0,Vn.jsx)(ca,{size:16,style:{color:"#EF4444"}})})]}),(t.debit>0||t.credit>0)&&(0,Vn.jsxs)("div",{className:"text-right",children:[(0,Vn.jsxs)("div",{className:"text-sm font-medium",style:{color:t.balance>0?wE.success:t.balance<0?wE.error:wE.text},children:[t.balance>0?"+":t.balance<0?"-":"",US(Math.abs(t.balance||0),{locale:"id-ID",currency:"IDR",minimumFractionDigits:0})]}),(0,Vn.jsxs)("div",{className:"text-xs",style:{color:wE.textTertiary},children:["D: ",US(t.debit||0,{locale:"id-ID",currency:"IDR",minimumFractionDigits:0})," | C: ",US(t.credit||0,{locale:"id-ID",currency:"IDR",minimumFractionDigits:0})]})]}),(0,Vn.jsx)("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:JS(t.accountType).bg,color:JS(t.accountType).color},children:t.accountType})]})]})})]})}),d&&h&&h.id===t.id&&(0,Vn.jsx)(xE,{account:h,onClose:()=>i(t),subsidiaryData:o}),u&&h&&h.id===t.id&&g&&(0,Vn.jsx)(yE,{account:h,formData:g.formData,errors:g.errors,isSubmitting:g.isSubmitting,allAccounts:v,subsidiaries:j,onFormChange:g.handleFormChange,onSubmit:b,onCancel:y}),p&&h&&h.id===t.id&&(0,Vn.jsx)(jE,{account:h,onConfirm:m,onCancel:f,isDeleting:x}),w&&n&&s]},t.id)},{colors:kE}=_S,CE=e=>{let{accounts:t,expandedNodes:r,onToggleNode:n,loading:s,onAddAccount:o,onViewDetail:i,onEdit:l,onDelete:c,expandedAccountId:d,editingAccountId:u,selectedAccount:p,deleteConfirmId:h,onDeleteConfirm:m,onDeleteCancel:f,isDeleting:x,editForm:g,onEditSubmit:b,onEditCancel:y,allAccounts:v}=e;const[j,w]=(0,a.useState)({}),[N,A]=(0,a.useState)([]);(0,a.useEffect)(()=>{k()},[]);const k=async()=>{const e=await sE(!0);if(e.success){const t={};e.data.forEach(e=>{t[e.id]=e}),w(t),A(e.data)}},C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=r.has(e.id),s=d===e.id,o=u===e.id,w=h===e.id;return(0,Vn.jsx)(AE,{account:e,level:t,isExpanded:a,onToggleExpansion:n,subsidiaryData:j,onViewDetail:i,onEdit:l,onDelete:c,isDetailExpanded:s,isEditing:o,showDeleteConfirm:w,selectedAccount:p,onDeleteConfirm:m,onDeleteCancel:f,isDeleting:x,editForm:g,onEditSubmit:b,onEditCancel:y,allAccounts:v,subsidiaries:N,children:HS(e)&&a&&(0,Vn.jsx)("div",{children:e.SubAccounts.map(e=>C(e,t+1))})},e.id)};return s?(0,Vn.jsxs)("div",{className:"rounded-lg",style:{backgroundColor:kE.background,border:"1px solid ".concat(kE.border)},children:[(0,Vn.jsx)("div",{className:"px-6 py-4",style:{borderBottom:"1px solid ".concat(kE.border)},children:(0,Vn.jsx)("h2",{className:"text-lg font-semibold",style:{color:kE.text},children:"Struktur Akun"})}),(0,Vn.jsxs)("div",{className:"px-6 py-12 text-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderBottomColor:kE.primary}}),(0,Vn.jsx)("p",{style:{color:kE.textSecondary},children:"Loading accounts..."})]})]}):t&&0!==t.length?(0,Vn.jsxs)("div",{className:"rounded-lg",style:{backgroundColor:kE.background,border:"1px solid ".concat(kE.border)},children:[(0,Vn.jsx)("div",{className:"px-6 py-4",style:{borderBottom:"1px solid ".concat(kE.border)},children:(0,Vn.jsx)("h2",{className:"text-lg font-semibold",style:{color:kE.text},children:"Struktur Akun"})}),(0,Vn.jsx)("div",{style:{borderTop:"1px solid ".concat(kE.border)},children:t.map(e=>C(e))})]}):(0,Vn.jsxs)("div",{className:"rounded-lg",style:{backgroundColor:kE.background,border:"1px solid ".concat(kE.border)},children:[(0,Vn.jsx)("div",{className:"px-6 py-4",style:{borderBottom:"1px solid ".concat(kE.border)},children:(0,Vn.jsx)("h2",{className:"text-lg font-semibold",style:{color:kE.text},children:"Struktur Akun"})}),(0,Vn.jsxs)("div",{className:"px-6 py-12 text-center",children:[(0,Vn.jsx)(ci,{size:48,style:{color:kE.textSecondary,opacity:.3},className:"mx-auto mb-4"}),(0,Vn.jsx)("p",{className:"text-lg font-medium mb-2",style:{color:kE.text},children:"No Accounts Found"}),(0,Vn.jsx)("p",{className:"mb-4 text-sm",style:{color:kE.textSecondary},children:"Start by creating your first account to build your chart of accounts"}),o&&(0,Vn.jsxs)("button",{onClick:o,className:"px-4 py-2 rounded-lg transition-colors inline-flex items-center",style:{backgroundColor:kE.primary,color:"#FFFFFF"},children:[(0,Vn.jsx)(Pi,{size:16,className:"mr-2"}),"Add First Account"]})]})]})},{colors:FE}=_S,SE=e=>{let{accounts:t}=e;const r=Object.values(GS);return t&&0!==t.length?(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:r.map(e=>{const r=((e,t)=>{const r=e=>e.reduce((e,n)=>(n.accountType===t&&e++,n.SubAccounts&&(e+=r(n.SubAccounts)),e),0);return r(e)})(t,e);return(0,Vn.jsx)("div",{className:"rounded-lg p-4",style:{backgroundColor:FE.background,border:"1px solid ".concat(FE.border)},children:(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)("div",{className:"mr-3",children:$S(e)}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm font-medium",style:{color:FE.textSecondary},children:e}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:FE.text},children:r})]})]})},e)})}):null},{colors:EE,modal:PE}=_S,DE=e=>{let{isOpen:t,onClose:r,formData:n,errors:s,isSubmitting:o,accounts:l,onFormChange:c,onSubmit:d}=e;const[u,p]=(0,a.useState)([]),[h,m]=(0,a.useState)(!1),[f,x]=(0,a.useState)(null);(0,a.useEffect)(()=>{t&&g()},[t]);const g=async()=>{m(!0);const e=await sE(!0);e.success&&p(e.data),m(!1)};if((0,a.useEffect)(()=>{if(n.parentAccountId&&l.length>0){const e=l.find(e=>e.id===n.parentAccountId);if(null!==e&&void 0!==e&&e.subsidiaryId){if(!n.subsidiaryId||""===n.subsidiaryId){const t=u.find(t=>t.id===e.subsidiaryId);c({target:{name:"subsidiaryId",value:e.subsidiaryId}}),x(t)}}else x(null)}else x(null)},[n.parentAccountId,l,u]),!t)return null;const b=KS(l),y=e=>{x(null),c(e)},v=e=>{var t;const r={backgroundColor:EE.backgroundSecondary,color:EE.text,border:"1px solid ".concat(EE.border)},a=s[e.name]?{borderColor:EE.error}:{};switch(e.type){case"select":return(0,Vn.jsxs)("select",{name:e.name,value:n[e.name],onChange:"subsidiaryId"===e.name?y:c,className:"w-full px-3 py-2 rounded-md focus:outline-none focus:ring-2 transition-all duration-200",style:(0,Mt.A)((0,Mt.A)({},r),a),required:e.required,disabled:"subsidiaryId"===e.name&&h,children:[("parentAccountId"===e.name||"subsidiaryId"===e.name)&&(0,Vn.jsx)("option",{value:"",children:e.placeholder}),"parentAccountId"===e.name?b.map(e=>(0,Vn.jsxs)("option",{value:e.id,children:[e.accountCode," - ",e.accountName]},e.id)):"subsidiaryId"===e.name?u.map(e=>(0,Vn.jsxs)("option",{value:e.id,children:[e.code," - ",e.name]},e.id)):null===(t=e.options)||void 0===t?void 0:t.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))]},e.name);case"textarea":return(0,Vn.jsx)("textarea",{name:e.name,value:n[e.name],onChange:c,className:"w-full px-3 py-2 rounded-md focus:outline-none focus:ring-2 transition-all duration-200",style:(0,Mt.A)((0,Mt.A)({},r),a),rows:e.rows||3,placeholder:e.placeholder,required:e.required},e.name);default:return(0,Vn.jsx)("input",{type:e.type,name:e.name,value:n[e.name],onChange:c,className:"w-full px-3 py-2 rounded-md focus:outline-none focus:ring-2 transition-all duration-200",style:(0,Mt.A)((0,Mt.A)({},r),a),placeholder:e.placeholder,required:e.required},e.name)}};return(0,i.createPortal)((0,Vn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:PE.zIndex,position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center"},onClick:e=>e.target===e.currentTarget&&r(),children:(0,Vn.jsxs)("div",{className:"rounded-lg p-6 w-full shadow-2xl",style:{backgroundColor:EE.background,borderRadius:"8px",padding:"24px",width:"100%",maxWidth:PE.maxWidth,maxHeight:PE.maxHeight,overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid ".concat(EE.border)},children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold",style:{color:EE.text},children:"Tambah Akun Baru"}),(0,Vn.jsx)("button",{onClick:r,className:"text-2xl leading-none hover:opacity-70 transition-opacity",style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:EE.textSecondary},children:"\xd7"})]}),(0,Vn.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[ZS.map(e=>(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium mb-1",style:{color:EE.textSecondary},children:[e.label," ",e.required&&"*"]}),v(e),"subsidiaryId"===e.name&&f&&(0,Vn.jsxs)("div",{className:"text-xs mt-2 px-2 py-1.5 rounded flex items-center gap-1.5",style:{backgroundColor:"rgba(48, 209, 88, 0.1)",color:"#30D158",border:"1px solid rgba(48, 209, 88, 0.2)"},children:[(0,Vn.jsx)("span",{style:{fontSize:"14px"},children:"\u2139\ufe0f"}),(0,Vn.jsxs)("span",{children:["Inherited from parent: ",(0,Vn.jsx)("strong",{children:f.code})," (can be changed)"]})]}),e.description&&(0,Vn.jsx)("p",{className:"text-xs mt-1",style:{color:EE.textTertiary},children:e.description}),s[e.name]&&(0,Vn.jsx)("p",{className:"text-sm mt-1",style:{color:EE.error},children:s[e.name]})]},e.name)),(0,Vn.jsx)("div",{className:"space-y-2",children:eE.map(e=>(0,Vn.jsxs)("label",{className:"flex items-center",children:[(0,Vn.jsx)("input",{type:"checkbox",name:e.name,checked:n[e.name],onChange:c,className:"mr-2"}),(0,Vn.jsx)("span",{className:"text-sm",style:{color:EE.textSecondary},children:e.label})]},e.name))}),s.submit&&(0,Vn.jsx)("div",{className:"rounded-lg p-3",style:{backgroundColor:"rgba(255, 69, 58, 0.1)",border:"1px solid ".concat(EE.error)},children:(0,Vn.jsx)("p",{className:"text-sm",style:{color:EE.error},children:s.submit})}),(0,Vn.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Vn.jsx)("button",{type:"button",onClick:r,disabled:o,className:"flex-1 px-4 py-2 rounded-md transition-all duration-200 disabled:opacity-50",style:{backgroundColor:"rgba(152, 152, 157, 0.15)",border:"1px solid ".concat(EE.border),color:EE.textSecondary},children:"Batal"}),(0,Vn.jsx)("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 rounded-md transition-all duration-200 disabled:opacity-50",style:{background:"linear-gradient(135deg, ".concat(EE.primary," 0%, #0066CC 100%)"),color:EE.text},children:o?"Menyimpan...":"Tambah Akun"})]})]})]})}),document.body)},{colors:OE}=_S,TE=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(null),[f,x]=(0,a.useState)(!1),{accounts:g,allAccounts:b,totalBalances:y,lastUpdate:v,loading:j,error:w,refreshing:N,handleRefresh:A,handleAccountCreated:k,expandedNodes:C,toggleNode:F,filteredAccounts:S,searchTerm:E,filterType:P,handleSearchChange:D,handleFilterTypeChange:O,clearAllFilters:T,getFilterStats:I}=qS(),M=tE(b||g,e=>{t(!1),k()}),_=tE(b||g,e=>{n(!1),k()}),R=()=>{M.resetForm(),t(!0)};return j?(0,Vn.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderBottomColor:OE.primary}})}):(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)(lE,{accounts:g,totalBalances:y,lastUpdate:v,error:w,refreshing:N,onRefresh:A,onAddAccount:R}),(0,Vn.jsx)(dE,{totalBalances:y,lastUpdate:v}),w&&(0,Vn.jsx)("div",{className:"rounded-lg p-4",style:{backgroundColor:"rgba(255, 69, 58, 0.1)",border:"1px solid ".concat(OE.error)},children:(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)(Vo.A,{style:{color:OE.error},className:"mr-3",size:20}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"font-medium",style:{color:OE.error},children:"Error loading accounts"}),(0,Vn.jsx)("p",{className:"text-sm mt-1",style:{color:OE.error},children:w}),(0,Vn.jsx)("button",{onClick:A,className:"text-sm font-medium mt-2 underline",style:{color:OE.error},children:"Try again"})]})]})}),(0,Vn.jsx)(mE,{searchTerm:E,filterType:P,onSearchChange:D,onFilterTypeChange:O,onClearFilters:T,filterStats:I()}),(0,Vn.jsx)(CE,{accounts:S,expandedNodes:C,onToggleNode:F,loading:j,onAddAccount:R,onViewDetail:async e=>{console.log("\ud83d\udd0d VIEW DETAIL clicked for account:",e.id,e.accountName);try{if(i===e.id)return l(null),void p(null);const t=await LS(e.id);t.success?(console.log("\u2705 Loaded account data:",t.data),p(t.data),l(e.id),d(null)):alert("Failed to load account details: "+t.error)}catch(w){console.error("\u274c Error loading account:",w),alert("Failed to load account details")}},onEdit:async e=>{console.log("\u270f\ufe0f EDIT clicked for account:",e.id,e.accountName);try{if(c===e.id)return d(null),p(null),void _.resetForm();const t=await LS(e.id);t.success?(console.log("\u2705 Loading account data for edit"),p(t.data),_.setFormData({accountCode:t.data.accountCode||"",accountName:t.data.accountName||"",accountType:t.data.accountType||"",accountSubType:t.data.accountSubType||"",parentAccountId:t.data.parentAccountId||"",subsidiaryId:t.data.subsidiaryId||"",normalBalance:t.data.normalBalance||"",description:t.data.description||"",notes:t.data.notes||"",constructionSpecific:t.data.constructionSpecific||!1,taxDeductible:t.data.taxDeductible||!1,vatApplicable:t.data.vatApplicable||!1,projectCostCenter:t.data.projectCostCenter||!1}),d(e.id),l(null)):alert("Failed to load account details: "+t.error)}catch(w){console.error("\u274c Error loading account:",w),alert("Failed to load account details")}},onDelete:e=>{console.log("\ud83d\uddd1\ufe0f DELETE clicked for account:",e.id,e.accountName),m(e.id),p(e)},expandedAccountId:i,editingAccountId:c,selectedAccount:u,deleteConfirmId:h,onDeleteConfirm:async()=>{x(!0);try{const e=await(async e=>{try{const r=await Sr.delete("".concat(RS.accounts,"/").concat(e));return r.data&&r.data.success?{success:!0,data:r.data.data||r.data,message:"Account deleted successfully"}:{success:!1,error:(null===(t=r.data)||void 0===t?void 0:t.error)||"Failed to delete account"};var t}catch(w){var r,n;return console.error("Error deleting account:",w),{success:!1,error:(null===(r=w.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||w.message||"Failed to delete account"}}})(u.id);e.success?(console.log("\u2705 Account deleted successfully"),m(null),p(null),k()):alert(e.error||"Failed to delete account")}catch(w){console.error("\u274c Error deleting account:",w),alert("Failed to delete account")}finally{x(!1)}},onDeleteCancel:()=>{m(null),p(null)},isDeleting:f,editForm:_,onEditSubmit:async e=>{e.preventDefault();try{const e=await(async(e,t)=>{try{const n={accountName:t.accountName,accountType:t.accountType,accountSubType:t.accountSubType,parentAccountId:t.parentAccountId||null,subsidiaryId:t.subsidiaryId||null,level:t.level,normalBalance:t.normalBalance,description:t.description||null,notes:t.notes||null,constructionSpecific:t.constructionSpecific||!1,taxDeductible:t.taxDeductible||null,vatApplicable:t.vatApplicable||!1,projectCostCenter:t.projectCostCenter||!1},a=await Sr.put("".concat(RS.accounts,"/").concat(e),n);return a.data&&a.data.success?{success:!0,data:a.data.data||a.data,message:"Account updated successfully"}:{success:!1,error:(null===(r=a.data)||void 0===r?void 0:r.error)||"Failed to update account"};var r}catch(w){var n,a,s,o;return console.error("Error updating account:",w),{success:!1,error:(null===(n=w.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||(null===(s=w.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||w.message||"Failed to update account"}}})(u.id,_.formData);e.success?(console.log("\u2705 Account updated successfully"),d(null),p(null),_.resetForm(),k()):alert(e.error||"Failed to update account")}catch(w){console.error("\u274c Error updating account:",w),alert("Failed to update account")}},onEditCancel:()=>{d(null),_.resetForm()},allAccounts:b||g}),(0,Vn.jsx)(SE,{accounts:g}),(0,Vn.jsx)(DE,{isOpen:e,onClose:()=>{t(!1),M.resetForm()},formData:M.formData,errors:M.errors,isSubmitting:M.isSubmitting,accounts:b||g,onFormChange:M.handleFormChange,onSubmit:M.handleSubmit})]})},IE=TE,ME=e=>{let{selectedSubsidiary:t}=e;return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsxs)("h2",{className:"text-2xl font-semibold flex items-center",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(ci,{className:"w-7 h-7 mr-3",style:{color:"#0A84FF"}}),"Chart of Accounts (PSAK Compliant)"]}),(0,Vn.jsxs)("button",{onClick:async()=>{try{const e=(e=>{const t=[["Account Code","Account Name","Account Type","Account Sub Type","Level","Normal Balance","Description","Construction Specific","VAT Applicable","Status"].join(",")],r=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.forEach(e=>{const a=['"'.concat(e.accountCode,'"'),'"'.concat(e.accountName,'"'),'"'.concat(e.accountType,'"'),'"'.concat(e.accountSubType||"",'"'),e.level,'"'.concat(e.normalBalance,'"'),'"'.concat(e.description||"",'"'),e.constructionSpecific?"Yes":"No",e.vatApplicable?"Yes":"No",e.isActive?"Active":"Inactive"];t.push(a.join(",")),e.SubAccounts&&e.SubAccounts.length>0&&r(e.SubAccounts,n+1)})};return r(e),t.join("\n")})([]),t=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="chart-of-accounts-".concat((new Date).toISOString().split("T")[0],".csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r)}catch(e){console.error("Error exporting COA:",e),alert("Failed to export Chart of Accounts")}},className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors",style:{background:"linear-gradient(135deg, #0A84FF 0%, #0066CC 100%)",color:"#FFFFFF"},children:[(0,Vn.jsx)(Ai,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:"Export to CSV"})]})]}),(0,Vn.jsx)("div",{className:"rounded-lg shadow-lg",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsx)(IE,{subsidiaryId:"all"!==t?t:null})}),(0,Vn.jsxs)("div",{className:"rounded-lg p-4",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsx)("h3",{className:"text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"About Chart of Accounts"}),(0,Vn.jsx)("p",{className:"text-sm mb-2",style:{color:"#98989D"},children:"The Chart of Accounts (COA) is structured according to PSAK (Indonesian Financial Accounting Standards) requirements, ensuring compliance with local regulations."}),(0,Vn.jsxs)("ul",{className:"text-sm list-disc list-inside space-y-1",style:{color:"#98989D"},children:[(0,Vn.jsx)("li",{children:"Asset accounts (1000-1999)"}),(0,Vn.jsx)("li",{children:"Liability accounts (2000-2999)"}),(0,Vn.jsx)("li",{children:"Equity accounts (3000-3999)"}),(0,Vn.jsx)("li",{children:"Revenue accounts (4000-4999)"}),(0,Vn.jsx)("li",{children:"Expense accounts (5000-9999)"})]})]})]})},_E=()=>{const e=ee(),[t,r]=(0,a.useState)("workspace"),n=(()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)([]),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)("all"),[h,m]=(0,a.useState)("all"),f=async()=>{try{n(!0);const e=await Ws();e.success&&e.data?t(e.data):console.error("Failed to fetch subsidiaries:",e.message)}catch(e){console.error("Error fetching subsidiaries:",e)}finally{n(!1)}},x=async()=>{try{l(!0);const e=await Vs({limit:100});if(e.success&&e.data){const t=e.data.filter(e=>"completed"!==e.status&&"cancelled"!==e.status);o(t),d(t)}else console.error("Failed to fetch projects:",e.error)}catch(e){console.error("Error fetching projects:",e)}finally{l(!1)}},g=e=>{if("all"===e)d(s);else{const t=s.filter(t=>t.subsidiaryId===e);d(t)}m("all")};return(0,a.useEffect)(()=>{f(),x()},[]),(0,a.useEffect)(()=>{g(u)},[u]),{subsidiaries:e,projects:s,filteredProjects:c,loadingSubsidiaries:r,loadingProjects:i,selectedSubsidiary:u,selectedProject:h,fetchSubsidiaries:f,fetchProjects:x,handleSubsidiaryChange:e=>{p(e),g(e)},handleProjectChange:e=>{m(e)},filterProjectsBySubsidiary:g,getSubsidiaryInfo:t=>t?e.find(e=>e.id===t):null,getProjectInfo:e=>e?s.find(t=>t.id===e):null,getSubsidiaryFromTransaction:t=>{if(null===t||void 0===t||!t.project)return null;const r=t.project.subsidiaryId,n=e.find(e=>e.id===r);return n?{id:n.id,name:n.name,type:n.type}:null}}})(),s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";const[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)({income:0,expense:0,balance:0}),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)(!1),[h,m]=(0,a.useState)(1),[f,x]=(0,a.useState)(1),[g,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)({type:"expense",category:"",amount:"",description:"",date:(new Date).toISOString().split("T")[0],projectId:"",accountFrom:"",accountTo:"",referenceNumber:"",notes:""}),[j,w]=(0,a.useState)(!1),[N,A]=(0,a.useState)({}),[k,C]=(0,a.useState)(!1),[F,S]=(0,a.useState)(!1),[E,P]=(0,a.useState)(!1),[D,O]=(0,a.useState)(null),T=(0,a.useCallback)(async()=>{try{p(!0);const e=await Hs.get("/coa/cash/accounts");e.success&&d(e.data)}catch(e){console.error("Error fetching cash accounts:",e)}finally{p(!1)}},[]);(0,a.useEffect)(()=>{T()},[T]);const I=(0,a.useCallback)(async function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;o(!0);try{const o={page:r,limit:10,sort:"date",order:"desc"};"all"!==e&&(o.subsidiaryId=e),"all"!==t&&(o.projectId=t);const i=await Ts(r,10,o);var a,s;i.success&&(n(i.data||[]),l(i.summary||{income:0,expense:0,balance:0}),m((null===(a=i.pagination)||void 0===a?void 0:a.current)||1),x((null===(s=i.pagination)||void 0===s?void 0:s.total)||1))}catch(i){console.error("Error fetching transactions:",i),n([])}finally{o(!1)}},[e,t]),M=()=>{v({type:"expense",category:"",amount:"",description:"",date:(new Date).toISOString().split("T")[0],projectId:"",accountFrom:"",accountTo:"",referenceNumber:"",notes:""}),A({})};return{transactions:r,transactionLoading:s,transactionSummary:i,cashAccounts:c,loadingCashAccounts:u,currentPage:h,totalPages:f,setCurrentPage:m,showTransactionForm:g,setShowTransactionForm:b,transactionForm:y,isSubmittingTransaction:j,formErrors:N,showViewModal:k,showEditModal:F,showDeleteModal:E,selectedTransaction:D,setShowViewModal:C,setShowEditModal:S,setShowDeleteModal:P,setSelectedTransaction:O,fetchTransactions:I,handleTransactionFormChange:(e,t)=>{v(r=>(0,Mt.A)((0,Mt.A)({},r),{},{[e]:t})),N[e]&&A(t=>(0,Mt.A)((0,Mt.A)({},t),{},{[e]:void 0}))},resetTransactionForm:M,handleSubmitTransaction:async e=>{e.preventDefault();const t=pi(y);if(t.isValid)if("transfer"!==y.type||y.accountFrom!==y.accountTo)try{w(!0);const e={type:y.type,category:y.category,amount:parseFloat(y.amount),description:y.description,date:y.date,accountFrom:y.accountFrom,accountTo:y.accountTo,referenceNumber:y.referenceNumber,notes:y.notes};y.projectId&&(e.projectId=y.projectId),Object.keys(e).forEach(t=>{""!==e[t]&&null!==e[t]&&void 0!==e[t]||delete e[t]}),console.log("\ud83d\ude80 Submitting transaction data:",e);const t=await Is(e);if(console.log("\ud83d\udce5 Response from API:",t),t.success)return console.log("\u2705 Transaction created successfully!"),M(),b(!1),I(h),alert("Transaction created successfully!"),{success:!0,message:"Transaction created successfully!"};throw console.error("\u274c API returned success=false:",t),new Error(t.error||"Failed to create transaction")}catch(r){return console.error("\u274c Error creating transaction:",r),console.error("Error details:",{message:r.message,stack:r.stack,response:r.response}),alert("Error creating transaction: "+r.message),{success:!1,message:"Error creating transaction: "+r.message}}finally{w(!1)}else A({accountTo:"Source and destination accounts must be different"});else A(t.errors)},handleViewTransaction:e=>{O(e),C(!0)},handleEditTransaction:e=>{console.log("\u270f\ufe0f Editing transaction:",e),O(e),v({type:e.type,category:e.category,amount:e.amount.toString(),description:e.description,date:e.date?e.date.split("T")[0]:"",projectId:e.projectId||"",accountFrom:e.accountFrom||"",accountTo:e.accountTo||"",referenceNumber:e.referenceNumber||"",notes:e.notes||""}),S(!0)},handleUpdateTransaction:async e=>{if(e.preventDefault(),!D)return;console.log("\ud83d\udd04 Updating transaction:",D.id),console.log("\ud83d\udcdd Update data:",y);const t=pi(y);if(!t.isValid)return console.error("\u274c Validation failed:",t.errors),A(t.errors),void alert("Validation Error: "+JSON.stringify(t.errors,null,2));try{w(!0);const e={type:y.type,category:y.category,amount:parseFloat(y.amount),description:y.description,date:y.date,accountFrom:y.accountFrom,accountTo:y.accountTo,referenceNumber:y.referenceNumber,notes:y.notes};y.projectId&&(e.projectId=y.projectId),Object.keys(e).forEach(t=>{""!==e[t]&&null!==e[t]&&void 0!==e[t]||delete e[t]}),console.log("\ud83d\udce4 Sending update:",e);const t=await Ms(D.id,e);if(console.log("\ud83d\udce5 Update response:",t),t.success)return console.log("\u2705 Transaction updated successfully"),M(),S(!1),O(null),I(h),alert("Transaction updated successfully!"),{success:!0,message:"Transaction updated successfully!"};throw new Error(t.error||"Failed to update transaction")}catch(r){return console.error("\u274c Error updating transaction:",r),alert("Error updating transaction: "+r.message),{success:!1,message:"Error updating transaction: "+r.message}}finally{w(!1)}},handleDeleteTransaction:e=>{O(e),P(!0)},confirmDeleteTransaction:async()=>{if(D){console.log("\ud83d\uddd1\ufe0f Deleting transaction:",D.id);try{const e=await _s(D.id);if(console.log("\ud83d\udce5 Delete response:",e),e.success)return console.log("\u2705 Transaction deleted successfully"),P(!1),O(null),I(h),alert("Transaction deleted successfully!"),{success:!0,message:"Transaction deleted successfully!"};throw new Error(e.error||"Failed to delete transaction")}catch(e){return console.error("\u274c Error deleting transaction:",e),alert("Error deleting transaction: "+e.message),{success:!1,message:"Error deleting transaction: "+e.message}}}},cancelDeleteTransaction:()=>{P(!1),O(null)},closeViewModal:()=>{C(!1),O(null)},closeEditModal:()=>{S(!1),O(null),M()},handlePageChange:e=>{m(e),I(e)}}}(n.selectedSubsidiary,n.selectedProject),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";const[r,n]=(0,a.useState)({incomeStatement:{},balanceSheet:{},cashFlow:{},summary:{}}),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null);return{financialReports:r,reportsLoading:s,activeDetailedReport:i,fetchFinancialReports:(0,a.useCallback)(async()=>{o(!0);try{const r={};"all"!==e&&(r.subsidiary_id=e),"all"!==t&&(r.project_id=t);const a=await Bs(r);a.success&&n(a.data)}catch(r){console.error("Error fetching financial reports:",r),n({incomeStatement:{},balanceSheet:{},cashFlow:{},summary:{}})}finally{o(!1)}},[e,t]),toggleDetailedReport:e=>{l(t=>t===e?null:e)},closeDetailedReport:()=>{l(null)}}}(n.selectedSubsidiary,n.selectedProject),i=(()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)({type:"pajak_penghasilan",amount:"",period:(new Date).toISOString().slice(0,7),description:"",dueDate:"",paymentDate:"",status:"unpaid"}),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)({}),[h,m]=(0,a.useState)(null),[f,x]=(0,a.useState)(!1),g=async()=>{try{n(!0);const e=await Ls();e.success?t(e.data):console.error("Failed to fetch tax records:",e.error)}catch(e){console.error("Error fetching tax records:",e)}finally{n(!1)}},b=()=>{l({type:"pajak_penghasilan",amount:"",period:(new Date).toISOString().slice(0,7),description:"",dueDate:"",paymentDate:"",status:"unpaid"}),p({})};return{taxRecords:e,loadingTaxRecords:r,showTaxForm:s,setShowTaxForm:o,taxForm:i,isSubmittingTax:c,taxFormErrors:u,fetchTaxRecords:g,handleTaxFormChange:(e,t)=>{l(r=>(0,Mt.A)((0,Mt.A)({},r),{},{[e]:t})),u[e]&&p(t=>(0,Mt.A)((0,Mt.A)({},t),{},{[e]:void 0}))},resetTaxForm:b,handleSubmitTax:async e=>{e.preventDefault();const t=hi(i);if(t.isValid)try{d(!0);const e=(0,Mt.A)((0,Mt.A)({},i),{},{amount:parseFloat(i.amount)}),t=await zs(e);if(t.success)return b(),o(!1),g(),{success:!0,message:"Tax record created successfully!"};throw new Error(t.error||"Failed to create tax record")}catch(r){return console.error("Error creating tax record:",r),{success:!1,message:"Error creating tax record: "+r.message}}finally{d(!1)}else p(t.errors)},selectedTax:h,setSelectedTax:m,showDeleteModal:f,setShowDeleteModal:x,handleDeleteTax:e=>{m(e),x(!0)},confirmDeleteTax:async()=>{if(h)try{console.log("Deleting tax record:",h.id);const e=await Us(h.id);e.success?(alert("Tax record deleted successfully!"),x(!1),m(null),g()):alert("Failed to delete tax record: "+e.error)}catch(e){console.error("Error deleting tax record:",e),alert("Error deleting tax record: "+e.message)}},cancelDeleteTax:()=>{x(!1),m(null)}}})();(0,a.useEffect)(()=>{const t=new URLSearchParams(e.search).get("tab");t&&["workspace","transactions","reports","tax-management","chart-of-accounts","projects"].includes(t)&&r(t)},[e.search]),(0,a.useEffect)(()=>{"transactions"===t?s.fetchTransactions():"reports"===t?o.fetchFinancialReports():"tax-management"===t&&i.fetchTaxRecords()},[t]);const l=[{id:"workspace",label:"Financial Workspace",icon:oi,description:"Dashboard keuangan terintegrasi dengan analisis PSAK"},{id:"transactions",label:"Transactions",icon:ii,description:"Manajemen transaksi keuangan harian"},{id:"reports",label:"Financial Reports",icon:ba,description:"Laporan keuangan lengkap (Neraca, L/R, Arus Kas)"},{id:"tax-management",label:"Tax Management",icon:li,description:"Manajemen pajak dan kepatuhan fiskal"},{id:"projects",label:"Project Finance",icon:ka,description:"Integrasi keuangan proyek konstruksi"},{id:"chart-of-accounts",label:"Chart of Accounts",icon:ci,description:"Bagan akun standar PSAK dengan struktur hierarkis"}];return(0,Vn.jsx)("div",{className:"min-h-screen",style:{backgroundColor:"#1C1C1E"},children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto p-4 lg:p-8 space-y-6",children:[(0,Vn.jsx)("div",{className:"rounded-xl p-6 lg:p-8 shadow-lg",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[(0,Vn.jsx)("div",{children:(0,Vn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Vn.jsx)(oi,{className:"w-10 h-10 mr-4",style:{color:"#0A84FF"}}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h1",{className:"text-3xl font-bold",style:{color:"#FFFFFF"},children:"Financial Management System"}),(0,Vn.jsx)("p",{className:"mt-1",style:{color:"#98989D",fontSize:"0.95rem"},children:"PSAK-compliant financial management for Nusantara Construction Group"})]})]})}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Vn.jsx)("div",{className:"rounded-xl p-4 transition-transform hover:scale-105",style:{background:"linear-gradient(135deg, rgba(10, 132, 255, 0.15), rgba(10, 132, 255, 0.05))",border:"1px solid rgba(10, 132, 255, 0.3)"},children:(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)(xa,{className:"w-8 h-8",style:{color:"#0A84FF"}}),(0,Vn.jsxs)("div",{className:"ml-3",children:[(0,Vn.jsx)("p",{className:"text-xs font-medium",style:{color:"#98989D"},children:"Total Income"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#0A84FF"},children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(s.transactionSummary.income)})]})]})}),(0,Vn.jsx)("div",{className:"rounded-xl p-4 transition-transform hover:scale-105",style:{background:"linear-gradient(135deg, rgba(48, 209, 88, 0.15), rgba(48, 209, 88, 0.05))",border:"1px solid rgba(48, 209, 88, 0.3)"},children:(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)(ui,{className:"w-8 h-8",style:{color:"#30D158"}}),(0,Vn.jsxs)("div",{className:"ml-3",children:[(0,Vn.jsx)("p",{className:"text-xs font-medium",style:{color:"#98989D"},children:"Net Balance"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#30D158"},children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(s.transactionSummary.balance)})]})]})})]})]})}),(0,Vn.jsx)("div",{className:"rounded-xl p-2",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsx)("div",{className:"flex space-x-2 overflow-x-auto scrollbar-hide pb-2",children:l.map(e=>{const n=e.icon,a=t===e.id;return(0,Vn.jsxs)("button",{onClick:()=>r(e.id),className:"flex items-center space-x-2 px-4 py-3 rounded-lg font-medium text-sm transition-all duration-200 whitespace-nowrap",style:{backgroundColor:a?"rgba(10, 132, 255, 0.15)":"transparent",color:a?"#0A84FF":"#98989D",border:a?"1px solid rgba(10, 132, 255, 0.3)":"1px solid transparent"},title:e.description,children:[(0,Vn.jsx)(n,{className:"w-5 h-5"}),(0,Vn.jsx)("span",{children:e.label})]},e.id)})})}),(0,Vn.jsx)("div",{className:"animate-fadeIn",children:(()=>{switch(t){case"workspace":return(0,Vn.jsx)(TS,{selectedSubsidiary:n.selectedSubsidiary,selectedProject:n.selectedProject});case"transactions":return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)("div",{className:"rounded-xl p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,Vn.jsx)("h2",{className:"text-2xl font-semibold",style:{color:"#FFFFFF"},children:"Transaction Management"}),(0,Vn.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Vn.jsx)(mi,{selectedSubsidiary:n.selectedSubsidiary,onSubsidiaryChange:e=>{n.handleSubsidiaryChange(e),s.setCurrentPage(1)},subsidiaries:n.subsidiaries,loadingSubsidiaries:n.loadingSubsidiaries,selectedProject:n.selectedProject,onProjectChange:e=>{n.handleProjectChange(e),s.setCurrentPage(1)},projects:n.filteredProjects,loadingProjects:n.loadingProjects}),(0,Vn.jsx)("button",{onClick:()=>s.setShowTransactionForm(!s.showTransactionForm),className:"px-4 py-2.5 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2",style:{backgroundColor:s.showTransactionForm?"rgba(255, 69, 58, 0.15)":"rgba(10, 132, 255, 0.15)",color:s.showTransactionForm?"#FF453A":"#0A84FF",border:s.showTransactionForm?"1px solid rgba(255, 69, 58, 0.3)":"1px solid rgba(10, 132, 255, 0.3)"},children:(0,Vn.jsx)("span",{children:s.showTransactionForm?"Cancel":"New Transaction"})})]})]})}),!s.showTransactionForm&&0===s.transactions.length&&(0,Vn.jsx)("div",{className:"rounded-xl p-4",style:{background:"linear-gradient(135deg, rgba(10, 132, 255, 0.15), rgba(10, 132, 255, 0.05))",border:"1px solid rgba(10, 132, 255, 0.3)"},children:(0,Vn.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vn.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,Vn.jsx)("svg",{className:"w-5 h-5",style:{color:"#0A84FF"},fill:"currentColor",viewBox:"0 0 20 20",children:(0,Vn.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h4",{className:"text-sm font-semibold mb-1",style:{color:"#0A84FF"},children:"Manual Finance Transactions"}),(0,Vn.jsxs)("p",{className:"text-xs leading-relaxed",style:{color:"#98989D"},children:["Tab ini untuk transaksi keuangan manual (biaya operasional, pendapatan lain-lain, dll). Untuk data konstruksi (pembayaran progress, biaya milestone), lihat tab ",(0,Vn.jsx)("strong",{children:"Financial Workspace"})," atau ",(0,Vn.jsx)("strong",{children:"Project Finance"}),"."]}),(0,Vn.jsxs)("div",{className:"mt-2 text-xs",style:{color:"#98989D"},children:["\ud83d\udca1 ",(0,Vn.jsx)("strong",{children:"Tip:"}),' Klik tombol "',(0,Vn.jsx)("span",{style:{color:"#0A84FF"},children:"Add Transaction"}),'" untuk menambah transaksi keuangan baru.']})]})]})}),!s.showTransactionForm&&(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vn.jsxs)("div",{className:"rounded-xl p-5 transition-transform hover:scale-105",style:{background:"linear-gradient(135deg, rgba(48, 209, 88, 0.15), rgba(48, 209, 88, 0.05))",border:"1px solid rgba(48, 209, 88, 0.3)"},children:[(0,Vn.jsx)("p",{className:"text-sm font-medium mb-2",style:{color:"#98989D"},children:"Total Income"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#30D158"},children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s.transactionSummary.income)}),(0,Vn.jsx)("p",{className:"text-xs mt-1",style:{color:"#98989D"},children:"Manual transactions only"})]}),(0,Vn.jsxs)("div",{className:"rounded-xl p-5 transition-transform hover:scale-105",style:{background:"linear-gradient(135deg, rgba(255, 69, 58, 0.15), rgba(255, 69, 58, 0.05))",border:"1px solid rgba(255, 69, 58, 0.3)"},children:[(0,Vn.jsx)("p",{className:"text-sm font-medium mb-2",style:{color:"#98989D"},children:"Total Expenses"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#FF453A"},children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s.transactionSummary.expense)}),(0,Vn.jsx)("p",{className:"text-xs mt-1",style:{color:"#98989D"},children:"Manual transactions only"})]}),(0,Vn.jsxs)("div",{className:"rounded-xl p-5 transition-transform hover:scale-105",style:{background:"linear-gradient(135deg, rgba(10, 132, 255, 0.15), rgba(10, 132, 255, 0.05))",border:"1px solid rgba(10, 132, 255, 0.3)"},children:[(0,Vn.jsx)("p",{className:"text-sm font-medium mb-2",style:{color:"#98989D"},children:"Net Balance"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#0A84FF"},children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s.transactionSummary.balance)}),(0,Vn.jsx)("p",{className:"text-xs mt-1",style:{color:"#98989D"},children:"Manual transactions only"})]})]}),s.showTransactionForm&&!s.showEditModal&&(0,Vn.jsx)(vi,{formData:s.transactionForm,onChange:s.handleTransactionFormChange,onSubmit:s.handleSubmitTransaction,onCancel:()=>{s.setShowTransactionForm(!1),s.resetTransactionForm()},projects:n.filteredProjects,loadingProjects:n.loadingProjects,cashAccounts:s.cashAccounts,loadingCashAccounts:s.loadingCashAccounts,isSubmitting:s.isSubmittingTransaction}),s.showEditModal&&(0,Vn.jsx)(vi,{formData:s.transactionForm,onChange:s.handleTransactionFormChange,onSubmit:s.handleUpdateTransaction,onCancel:()=>{s.setShowEditModal(!1),s.setSelectedTransaction(null),s.resetTransactionForm()},projects:n.filteredProjects,loadingProjects:n.loadingProjects,cashAccounts:s.cashAccounts,loadingCashAccounts:s.loadingCashAccounts,isSubmitting:s.isSubmittingTransaction,isEdit:!0}),!s.showTransactionForm&&!s.showEditModal&&(0,Vn.jsx)(yi,{transactions:s.transactions,loading:s.transactionLoading,onView:s.handleViewTransaction,onEdit:s.handleEditTransaction,onDelete:s.handleDeleteTransaction,currentPage:s.currentPage,totalPages:s.totalPages,onPageChange:s.handlePageChange,onAddNew:()=>s.setShowTransactionForm(!0)}),(0,Vn.jsx)(Ni,{showView:s.showViewModal,showDelete:s.showDeleteModal,transaction:s.selectedTransaction,subsidiaryInfo:s.selectedTransaction?n.getSubsidiaryInfo(s.selectedTransaction.subsidiaryId):null,onCloseView:s.closeViewModal,onCloseDelete:()=>s.setShowDeleteModal(!1),onConfirmDelete:s.confirmDeleteTransaction,isDeleting:!1})]});case"reports":return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)("div",{className:"rounded-xl p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,Vn.jsx)("h2",{className:"text-2xl font-semibold",style:{color:"#FFFFFF"},children:"Financial Reports (PSAK Compliant)"}),(0,Vn.jsx)(mi,{selectedSubsidiary:n.selectedSubsidiary,onSubsidiaryChange:n.handleSubsidiaryChange,subsidiaries:n.subsidiaries,loadingSubsidiaries:n.loadingSubsidiaries,selectedProject:n.selectedProject,onProjectChange:n.handleProjectChange,projects:n.filteredProjects,loadingProjects:n.loadingProjects})]})}),(0,Vn.jsx)(Ei,{reports:o.financialReports,loading:o.reportsLoading,activeDetailedReport:o.activeDetailedReport,onToggleDetailedReport:o.toggleDetailedReport})]});case"tax-management":return(0,Vn.jsx)(Di,{taxRecords:i.taxRecords,loading:i.loadingTaxRecords,showForm:i.showTaxForm,onToggleForm:()=>i.setShowTaxForm(!i.showTaxForm),formData:i.taxForm,onChange:i.handleTaxFormChange,onSubmit:i.handleSubmitTax,onCancel:()=>{i.setShowTaxForm(!1),i.resetTaxForm()},isSubmitting:i.isSubmittingTax,onDelete:i.handleDeleteTax,selectedTax:i.selectedTax,showDeleteModal:i.showDeleteModal,onConfirmDelete:i.confirmDeleteTax,onCancelDelete:i.cancelDeleteTax});case"projects":return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)("div",{className:"rounded-xl p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,Vn.jsx)("h2",{className:"text-2xl font-semibold",style:{color:"#FFFFFF"},children:"Project Finance"}),(0,Vn.jsx)(mi,{selectedSubsidiary:n.selectedSubsidiary,onSubsidiaryChange:n.handleSubsidiaryChange,subsidiaries:n.subsidiaries,loadingSubsidiaries:n.loadingSubsidiaries,selectedProject:n.selectedProject,onProjectChange:n.handleProjectChange,projects:n.filteredProjects,loadingProjects:n.loadingProjects})]})}),(0,Vn.jsx)(MS,{selectedSubsidiary:n.selectedSubsidiary,selectedProject:n.selectedProject})]});case"chart-of-accounts":return(0,Vn.jsx)(ME,{selectedSubsidiary:n.selectedSubsidiary});default:return(0,Vn.jsxs)("div",{className:"rounded-xl p-12 text-center",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsx)(di,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#636366"}}),(0,Vn.jsx)("p",{style:{color:"#98989D"},children:"Select a tab to view content"})]})}})()})]})})};var RE=r(4450);const BE=(0,Qn.A)("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),LE=(0,Qn.A)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),zE=(0,Qn.A)("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);var UE=r(1364);const WE=["currentPage","totalPages","totalItems","itemsPerPage","onPageChange","onPageSizeChange","showPageSizeSelector","showInfo","showFirstLast","maxVisiblePages","size","className","disabled"],VE=e=>{let{currentPage:t=1,totalPages:r=1,totalItems:n=0,itemsPerPage:a=10,onPageChange:s,onPageSizeChange:o,showPageSizeSelector:i=!0,showInfo:l=!0,showFirstLast:c=!0,maxVisiblePages:d=5,size:u="md",className:p="",disabled:h=!1}=e,m=(0,go.A)(e,WE);const{ui:f,common:x}=(0,UE.B)(),g=(t-1)*a+1,b=Math.min(t*a,n),y={sm:{button:"px-2 py-1 text-xs",spacing:"space-x-1"},md:{button:"px-3 py-2 text-sm",spacing:"space-x-1"},lg:{button:"px-4 py-2 text-base",spacing:"space-x-2"}}[u],v=(()=>{const e=[],n=Math.floor(d/2);let a=Math.max(1,t-n),s=Math.min(r,a+d-1);s-a+1<d&&(a=Math.max(1,s-d+1));for(let t=a;t<=s;t++)e.push(t);return e})(),j=v[0]>2,w=v[v.length-1]<r-1,N=e=>{e>=1&&e<=r&&e!==t&&!h&&(null===s||void 0===s||s(e))};return r<=1&&!l?null:(0,Vn.jsxs)("div",(0,Mt.A)((0,Mt.A)({className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 ".concat(p)},m),{},{children:[l&&(0,Vn.jsx)("div",{className:"flex-1",children:(0,Vn.jsxs)("p",{className:"text-sm text-gray-700",children:[f.pagination.showing," ",(0,Vn.jsx)("span",{className:"font-medium",children:g})," ","-"," ",(0,Vn.jsx)("span",{className:"font-medium",children:b})," ",f.pagination.of," ",(0,Vn.jsx)("span",{className:"font-medium",children:n.toLocaleString("id-ID")})," ",f.pagination.items]})}),(0,Vn.jsxs)("div",{className:"flex items-center justify-between sm:justify-end space-x-4",children:[i&&o&&(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsxs)("label",{className:"text-sm text-gray-700",children:[f.pagination.showing,":"]}),(0,Vn.jsxs)("select",{value:a,onChange:e=>{return t=Number(e.target.value),void(o&&!h&&o(t));var t},disabled:h,className:"border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Vn.jsxs)("option",{value:10,children:["10 ",f.pagination.perPage]}),(0,Vn.jsxs)("option",{value:25,children:["25 ",f.pagination.perPage]}),(0,Vn.jsxs)("option",{value:50,children:["50 ",f.pagination.perPage]}),(0,Vn.jsxs)("option",{value:100,children:["100 ",f.pagination.perPage]})]})]}),r>1&&(0,Vn.jsxs)("nav",{className:"flex items-center ".concat(y.spacing),children:[c&&(0,Vn.jsx)(RE.Ay,{variant:"ghost",size:u,onClick:()=>N(1),disabled:1===t||h,icon:(0,Vn.jsx)(BE,{size:16}),className:"hidden sm:inline-flex",children:x.first}),(0,Vn.jsx)(RE.Ay,{variant:"ghost",size:u,onClick:()=>N(t-1),disabled:1===t||h,icon:(0,Vn.jsx)(po,{size:16}),children:(0,Vn.jsx)("span",{className:"hidden sm:inline",children:x.previous})}),v[0]>1&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(RE.Ay,{variant:1===t?"primary":"ghost",size:u,onClick:()=>N(1),disabled:h,children:"1"}),j&&(0,Vn.jsx)("span",{className:"px-2 py-1 text-gray-500",children:(0,Vn.jsx)(LE,{size:16})})]}),v.map(e=>(0,Vn.jsx)(RE.Ay,{variant:e===t?"primary":"ghost",size:u,onClick:()=>N(e),disabled:h,className:"min-w-[40px]",children:e},e)),v[v.length-1]<r&&(0,Vn.jsxs)(Vn.Fragment,{children:[w&&(0,Vn.jsx)("span",{className:"px-2 py-1 text-gray-500",children:(0,Vn.jsx)(LE,{size:16})}),(0,Vn.jsx)(RE.Ay,{variant:r===t?"primary":"ghost",size:u,onClick:()=>N(r),disabled:h,children:r})]}),(0,Vn.jsx)(RE.Ay,{variant:"ghost",size:u,onClick:()=>N(t+1),disabled:t===r||h,iconPosition:"right",icon:(0,Vn.jsx)(va,{size:16}),children:(0,Vn.jsx)("span",{className:"hidden sm:inline",children:x.next})}),c&&(0,Vn.jsx)(RE.Ay,{variant:"ghost",size:u,onClick:()=>N(r),disabled:t===r||h,iconPosition:"right",icon:(0,Vn.jsx)(zE,{size:16}),className:"hidden sm:inline-flex",children:x.last})]})]})]}))},HE=(0,Qn.A)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),KE=e=>{let{isOpen:t,onClose:r,onConfirm:n,title:a,message:s,confirmText:o="Konfirmasi",cancelText:l="Batal",type:c="default",projectName:d}=e;if(!t)return null;const u=(0,Vn.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999999,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",boxSizing:"border-box"},onClick:r,children:(0,Vn.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",position:"relative",zIndex:1e6},onClick:e=>e.stopPropagation(),children:[(0,Vn.jsx)("div",{style:{padding:"24px 24px 0 24px"},children:(0,Vn.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px"},children:[(0,Vn.jsx)("div",{style:{flexShrink:0},children:(()=>{switch(c){case"delete":return(0,Vn.jsx)(ca,{className:"w-8 h-8 text-red-500"});case"archive":return(0,Vn.jsx)(HE,{className:"w-8 h-8 text-amber-500"});default:return(0,Vn.jsx)(ti,{className:"w-8 h-8 text-blue-500"})}})()}),(0,Vn.jsxs)("div",{style:{flex:1},children:[(0,Vn.jsx)("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 8px 0",color:"#111827"},children:a}),(0,Vn.jsx)("p",{style:{fontSize:"14px",color:"#6B7280",margin:0},children:"Konfirmasi tindakan ini"})]}),(0,Vn.jsx)("button",{onClick:r,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",color:"#9CA3AF"},children:(0,Vn.jsx)(ja.A,{className:"w-5 h-5"})})]})}),(0,Vn.jsxs)("div",{style:{padding:"24px"},children:[(0,Vn.jsx)("p",{style:{fontSize:"14px",color:"#374151",lineHeight:"1.6",margin:"0 0 16px 0"},children:s}),d&&(0,Vn.jsxs)("div",{style:{backgroundColor:"#F3F4F6",border:"1px solid #E5E7EB",borderRadius:"8px",padding:"12px",marginBottom:"16px"},children:[(0,Vn.jsx)("p",{style:{fontSize:"12px",color:"#6B7280",margin:"0 0 4px 0"},children:"Proyek:"}),(0,Vn.jsx)("p",{style:{fontSize:"14px",fontWeight:"bold",color:"#111827",margin:0},children:d})]}),"delete"===c&&(0,Vn.jsxs)("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",padding:"12px",marginBottom:"16px"},children:[(0,Vn.jsx)("p",{style:{fontSize:"12px",color:"#B91C1C",fontWeight:"bold",margin:"0 0 4px 0"},children:"\u26a0\ufe0f Peringatan"}),(0,Vn.jsx)("p",{style:{fontSize:"12px",color:"#DC2626",margin:0},children:"Data yang dihapus tidak dapat dikembalikan!"})]})]}),(0,Vn.jsxs)("div",{style:{padding:"0 24px 24px 24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Vn.jsx)("button",{onClick:r,style:{padding:"10px 20px",fontSize:"14px",fontWeight:"500",backgroundColor:"white",border:"1px solid #D1D5DB",borderRadius:"8px",cursor:"pointer",color:"#374151"},children:l}),(0,Vn.jsx)("button",{onClick:n,style:{padding:"10px 20px",fontSize:"14px",fontWeight:"500",border:"none",borderRadius:"8px",cursor:"pointer"},className:(()=>{switch(c){case"delete":return"bg-red-600 hover:bg-red-700 text-white";case"archive":return"bg-amber-600 hover:bg-amber-700 text-white";default:return"bg-blue-600 hover:bg-blue-700 text-white"}})(),children:o})]})]})});return i.createPortal(u,document.body)},qE=(0,Qn.A)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),GE=(0,Qn.A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),YE=["children","className","hover","padding","elevation","as"],$E=["title","value","change","trend","icon","loading"],JE=["title","subtitle","status","actions","children","onClick","isEmpty","description"],XE=["action","actionText"],QE=e=>{let{children:t,className:r="",hover:n=!1,padding:a="md",elevation:s="sm",as:o="div"}=e,i=(0,go.A)(e,YE);const l=["border","transition-all","duration-200","ease-out"].join(" "),c=n?["hover:shadow-md","hover:-translate-y-0.5","cursor-pointer"].join(" "):"",d=[l,{none:"",sm:"p-4",md:"p-6",lg:"p-8",xl:"p-10"}[a],{none:"shadow-none",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"}[s],"rounded-2xl",c,r].join(" ");return(0,Vn.jsx)(o,(0,Mt.A)((0,Mt.A)({className:d,style:(0,Mt.A)({backgroundColor:"#2C2C2E",borderColor:"#38383A"},i.style)},i),{},{children:t}))},ZE=e=>{let{title:t,value:r,change:n,trend:a,icon:s,loading:o=!1}=e,i=(0,go.A)(e,$E);return o?(0,Vn.jsx)(QE,(0,Mt.A)((0,Mt.A)({},i),{},{children:(0,Vn.jsx)("div",{className:"animate-pulse",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("div",{className:"h-4 rounded mb-2 w-3/4",style:{backgroundColor:"#38383A"}}),(0,Vn.jsx)("div",{className:"h-8 rounded mb-2",style:{backgroundColor:"#38383A"}}),(0,Vn.jsx)("div",{className:"h-3 rounded w-1/2",style:{backgroundColor:"#38383A"}})]}),(0,Vn.jsx)("div",{className:"w-12 h-12 rounded-lg",style:{backgroundColor:"#38383A"}})]})})})):(0,Vn.jsx)(QE,(0,Mt.A)((0,Mt.A)({hover:!0},i),{},{children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium truncate",style:{color:"#98989D"},children:t}),(0,Vn.jsx)("p",{className:"text-2xl font-bold mt-1",style:{color:"#FFFFFF"},children:r}),n&&(0,Vn.jsx)("p",{className:"text-sm mt-1",style:{color:"up"===a?"#10B981":"down"===a?"#EF4444":"#98989D"},children:n})]}),s&&(0,Vn.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,Vn.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(10, 132, 255, 0.1)"},children:(0,Vn.jsx)(s,{className:"w-6 h-6",style:{color:"#0A84FF"}})})})]})}))},eP=e=>{let{title:t,subtitle:r,status:n,actions:a,children:s,onClick:o,isEmpty:i=!1,description:l}=e,c=(0,go.A)(e,JE);const{action:d,actionText:u}=c,p=(0,go.A)(c,XE),h={active:"text-success bg-green-50 border-green-200",inactive:"text-error bg-red-50 border-red-200",pending:"text-warning bg-yellow-50 border-yellow-200",completed:"text-info bg-blue-50 border-blue-200",default:"text-gray-600 bg-gray-50 border-gray-200"};return i?(0,Vn.jsx)(QE,(0,Mt.A)((0,Mt.A)({padding:"lg"},p),{},{children:(0,Vn.jsxs)("div",{className:"text-center py-8",children:[(0,Vn.jsx)("div",{className:"mx-auto w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,Vn.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded"})}),(0,Vn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t}),(0,Vn.jsx)("p",{className:"text-gray-500",children:l||r})]})})):(0,Vn.jsxs)(QE,(0,Mt.A)((0,Mt.A)({hover:!!o,onClick:o},p),{},{children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:t}),r&&(0,Vn.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:r})]}),n&&(0,Vn.jsx)("span",{className:"\n            inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border\n            ".concat(h[n]||h.default,"\n          "),children:n.charAt(0).toUpperCase()+n.slice(1)})]}),s&&(0,Vn.jsx)("div",{className:"mb-4",children:s}),a&&(0,Vn.jsx)("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t border-gray-100",children:a})]}))},tP=QE,rP=function(e){var t,r,n,a;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Lokasi belum ditentukan";if(!e||"object"!==typeof e)return s;const o=null===(t=e.city)||void 0===t?void 0:t.trim(),i=null===(r=e.address)||void 0===r?void 0:r.trim(),l=null===(n=e.province)||void 0===n?void 0:n.trim(),c=null===(a=e.state)||void 0===a?void 0:a.trim();if(o||i||l||c){const e=[];return o&&e.push(o),(c||l)&&e.push(c||l),e.join(", ")||i||s}return s},nP=function(e){var t,r,n,a,s;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Alamat belum ditentukan";if(!e||"object"!==typeof e)return o;const i=null===(t=e.address)||void 0===t?void 0:t.trim(),l=null===(r=e.city)||void 0===r?void 0:r.trim(),c=null===(n=e.province)||void 0===n?void 0:n.trim(),d=null===(a=e.state)||void 0===a?void 0:a.trim(),u=null===(s=e.postalCode)||void 0===s?void 0:s.trim(),p=[];return i&&p.push(i),l&&p.push(l),(d||c)&&p.push(d||c),u&&p.push(u),p.length>0?p.join(", "):o},aP=e=>{var t,r,n,s,o,l,c,d,u,p,h,m;let{isOpen:f,onClose:x,project:g,onEdit:b,onArchive:y,onDelete:v,onViewFull:j}=e;const[w,N]=(0,a.useState)("overview");if(!f||!g)return null;const A=e=>e?new Date(e).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",k=(e=>{const t={planning:{color:"bg-slate-100 text-slate-800 border-slate-300",icon:Sa,text:"Perencanaan"},active:{color:"bg-blue-100 text-blue-800 border-blue-300",icon:ri,text:"Berlangsung"},in_progress:{color:"bg-blue-100 text-blue-800 border-blue-300",icon:ri,text:"Berlangsung"},completed:{color:"bg-emerald-100 text-emerald-800 border-emerald-300",icon:Ea.A,text:"Selesai"},on_hold:{color:"bg-amber-100 text-amber-800 border-amber-300",icon:Vo.A,text:"Ditunda"},cancelled:{color:"bg-red-100 text-red-800 border-red-300",icon:ja.A,text:"Dibatalkan"},archived:{color:"bg-gray-100 text-gray-800 border-gray-300",icon:HE,text:"Diarsipkan"}};return t[e]||t.planning})(g.status),C=(e=>{const t={urgent:{color:"bg-red-100 text-red-800 border-red-300",text:"Mendesak"},high:{color:"bg-orange-100 text-orange-800 border-orange-300",text:"Tinggi"},medium:{color:"bg-blue-100 text-blue-800 border-blue-300",text:"Sedang"},low:{color:"bg-green-100 text-green-800 border-green-300",text:"Rendah"}};return t[e]||t.medium})(g.priority),F=k.icon,S=[{id:"overview",label:"Ringkasan",icon:di},{id:"timeline",label:"Timeline",icon:io},{id:"team",label:"Tim",icon:ma},{id:"documents",label:"Dokumen",icon:di}],E=(0,Vn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 flex items-center justify-center p-4",onClick:e=>e.target===e.currentTarget&&(null===x||void 0===x?void 0:x()),children:(0,Vn.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Vn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:(0,Vn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Vn.jsx)(F,{className:"w-6 h-6"}),(0,Vn.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat(k.color),children:k.text}),(0,Vn.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat(C.color),children:C.text})]}),(0,Vn.jsx)("h2",{className:"text-2xl font-bold mb-2 leading-tight",children:g.name}),(0,Vn.jsxs)("p",{className:"text-blue-100 text-sm",children:[g.clientName," \u2022 ",rP(g.location,"Lokasi belum ditentukan")]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,Vn.jsx)(RE.Ay,{onClick:()=>null===j||void 0===j?void 0:j(g),variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",title:"Lihat Detail Lengkap",children:(0,Vn.jsx)(qE,{className:"w-4 h-4"})}),(0,Vn.jsx)(RE.Ay,{onClick:x,variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:(0,Vn.jsx)(ja.A,{className:"w-5 h-5"})})]})]})}),(0,Vn.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,Vn.jsx)("div",{className:"flex overflow-x-auto",children:S.map(e=>{const t=e.icon;return(0,Vn.jsxs)("button",{onClick:()=>N(e.id),className:"flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap\n                    ".concat(w===e.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:[(0,Vn.jsx)(t,{className:"w-4 h-4"}),e.label]},e.id)})})}),(0,Vn.jsxs)("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:["overview"===w&&(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)(tP,{className:"p-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:"Deskripsi Proyek"}),(0,Vn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:g.description||"Tidak ada deskripsi tersedia."})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vn.jsx)(tP,{className:"p-4",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,Vn.jsx)(xa,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Budget"}),(0,Vn.jsx)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(e=>{if(!e||0===e)return"Rp 0";const t=parseFloat(e);return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)})(g.budget)})]})]})}),(0,Vn.jsx)(tP,{className:"p-4",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,Vn.jsx)(io,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Deadline"}),(0,Vn.jsx)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:A(g.endDate)})]})]})}),(0,Vn.jsx)(tP,{className:"p-4",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,Vn.jsx)(Ua,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Progress"}),(0,Vn.jsxs)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[g.progress||0,"%"]})]})]})})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)(tP,{className:"p-4",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white flex items-center gap-2",children:[(0,Vn.jsx)(bo,{className:"w-5 h-5"}),"Lokasi"]}),(0,Vn.jsxs)("div",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[(0,Vn.jsx)("p",{children:nP(g.location,"Alamat belum ditentukan")}),(null===(t=g.location)||void 0===t||null===(r=t.postalCode)||void 0===r?void 0:r.trim())&&(0,Vn.jsx)("p",{children:g.location.postalCode})]})]}),(0,Vn.jsxs)(tP,{className:"p-4",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white flex items-center gap-2",children:[(0,Vn.jsx)(ma,{className:"w-5 h-5"}),"Kontak Klien"]}),(0,Vn.jsxs)("div",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[(0,Vn.jsx)("p",{className:"font-medium",children:null===(n=g.clientContact)||void 0===n?void 0:n.name}),(0,Vn.jsx)("p",{children:null===(s=g.clientContact)||void 0===s?void 0:s.position}),(0,Vn.jsx)("p",{children:null===(o=g.clientContact)||void 0===o?void 0:o.email}),(0,Vn.jsx)("p",{children:null===(l=g.clientContact)||void 0===l?void 0:l.phone})]})]})]}),(g.subsidiary||g.subsidiaryInfo)&&(0,Vn.jsxs)(tP,{className:"p-4",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white flex items-center gap-2",children:[(0,Vn.jsx)(ka,{className:"w-5 h-5"}),"Anak Perusahaan"]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:(null===(c=g.subsidiary)||void 0===c?void 0:c.name)||(null===(d=g.subsidiaryInfo)||void 0===d?void 0:d.name)}),(0,Vn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:["Spesialisasi: ",(null===(u=g.subsidiary)||void 0===u?void 0:u.specialization)||(null===(p=g.subsidiaryInfo)||void 0===p?void 0:p.specialization)]})]}),(0,Vn.jsx)("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full text-sm font-medium",children:(null===(h=g.subsidiary)||void 0===h?void 0:h.code)||(null===(m=g.subsidiaryInfo)||void 0===m?void 0:m.code)})]})]})]}),"timeline"===w&&(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)(tP,{className:"p-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Jadwal Proyek"}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Tanggal Mulai"}),(0,Vn.jsx)("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:A(g.startDate)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Tanggal Selesai"}),(0,Vn.jsx)("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:A(g.endDate)})]})]})]}),g.milestones&&g.milestones.length>0&&(0,Vn.jsxs)(tP,{className:"p-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Milestone"}),(0,Vn.jsx)("div",{className:"space-y-3",children:g.milestones.map((e,t)=>(0,Vn.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full flex items-center justify-center text-sm font-medium",children:t+1}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Vn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Target: ",A(e.targetDate)]})]}),(0,Vn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium\n                          ".concat("completed"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"),children:"completed"===e.status?"Selesai":"Pending"})]},e.id||t))})]})]}),"team"===w&&(0,Vn.jsx)("div",{className:"space-y-6",children:g.team&&g.team.length>0?(0,Vn.jsxs)(tP,{className:"p-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Tim Proyek"}),(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.team.map((e,t)=>{var r;return(0,Vn.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full flex items-center justify-center font-medium",children:(null===(r=e.name)||void 0===r?void 0:r.charAt(0))||"U"}),(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:e.name}),(0,Vn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:e.role||e.position}),e.isProjectManager&&(0,Vn.jsx)("span",{className:"inline-block mt-1 px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 text-xs rounded-full",children:"Project Manager"})]})]},e.id||t)})})]}):(0,Vn.jsxs)(tP,{className:"p-8 text-center",children:[(0,Vn.jsx)(ma,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Vn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Belum Ada Tim"}),(0,Vn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Tim proyek belum ditentukan"})]})}),"documents"===w&&(0,Vn.jsx)("div",{className:"space-y-6",children:g.documents&&g.documents.length>0?(0,Vn.jsxs)(tP,{className:"p-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Dokumen Proyek"}),(0,Vn.jsx)("div",{className:"space-y-3",children:g.documents.map((e,t)=>(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)(di,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Vn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.type})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium\n                            ".concat("approved"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"in_progress"===e.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"),children:e.status}),(0,Vn.jsx)(RE.Ay,{size:"sm",variant:"ghost",className:"text-blue-600 dark:text-blue-400",children:(0,Vn.jsx)(Ai,{className:"w-4 h-4"})})]})]},e.id||t))})]}):(0,Vn.jsxs)(tP,{className:"p-8 text-center",children:[(0,Vn.jsx)(di,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Vn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Belum Ada Dokumen"}),(0,Vn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Dokumen proyek belum diunggah"})]})})]}),(0,Vn.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 bg-gray-50 dark:bg-gray-800",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Dibuat: ",A(g.createdAt)]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsxs)(RE.Ay,{onClick:()=>null===b||void 0===b?void 0:b(g),variant:"outline",className:"flex items-center gap-2",children:[(0,Vn.jsx)(GE,{className:"w-4 h-4"}),"Edit"]}),"archived"!==g.status&&(0,Vn.jsxs)(RE.Ay,{onClick:()=>null===y||void 0===y?void 0:y(g),variant:"outline",className:"flex items-center gap-2 text-amber-600 border-amber-300 hover:bg-amber-50",children:[(0,Vn.jsx)(HE,{className:"w-4 h-4"}),"Archive"]}),(0,Vn.jsxs)(RE.Ay,{onClick:()=>null===v||void 0===v?void 0:v(g),variant:"outline",className:"flex items-center gap-2 text-red-600 border-red-300 hover:bg-red-50",children:[(0,Vn.jsx)(ca,{className:"w-4 h-4"}),"Delete"]})]})]})})]})});return i.createPortal(E,document.body)},sP=(0,Qn.A)("FileX",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"9.5",x2:"14.5",y1:"12.5",y2:"17.5",key:"izs6du"}],["line",{x1:"14.5",x2:"9.5",y1:"12.5",y2:"17.5",key:"1lehlj"}]]),oP=e=>{let{message:t="Memuat data..."}=e;return(0,Vn.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 space-y-4",children:[(0,Vn.jsxs)("div",{className:"relative w-16 h-16",children:[(0,Vn.jsx)("div",{className:"absolute inset-0 border-4 border-[#2C2C2E] rounded-full"}),(0,Vn.jsx)("div",{className:"absolute inset-0 border-4 border-transparent border-t-[#0A84FF] rounded-full animate-spin"})]}),(0,Vn.jsxs)("div",{className:"text-center space-y-1",children:[(0,Vn.jsx)("p",{className:"text-white font-medium",children:t}),(0,Vn.jsx)("p",{className:"text-[#98989D] text-sm",children:"Mohon tunggu sebentar"})]})]})},iP=e=>{let{type:t="no-data",title:r,description:n,action:a,onAction:s,hasFilters:o=!1,onResetFilters:i}=e;const l={"no-data":{icon:sP,defaultTitle:"Belum ada proyek",defaultDescription:"Mulai dengan membuat proyek konstruksi pertama Anda",iconColor:"text-[#8E8E93]",bgColor:"bg-[#2C2C2E]"},"no-results":{icon:sP,defaultTitle:"Tidak ada hasil ditemukan",defaultDescription:"Coba ubah filter pencarian atau buat proyek baru",iconColor:"text-[#0A84FF]",bgColor:"bg-[#0A84FF]/10"},error:{icon:ti,defaultTitle:"Terjadi kesalahan",defaultDescription:"Gagal memuat data. Silakan coba lagi",iconColor:"text-[#FF453A]",bgColor:"bg-[#FF453A]/10"}},c=l[t]||l["no-data"],d=c.icon;return(0,Vn.jsxs)("div",{className:"text-center py-12",children:[(0,Vn.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 ".concat(c.bgColor," rounded-full mb-4"),children:(0,Vn.jsx)(d,{className:"h-8 w-8 ".concat(c.iconColor)})}),(0,Vn.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:r||c.defaultTitle}),(0,Vn.jsx)("p",{className:"text-[#98989D] mb-6 max-w-md mx-auto",children:n||c.defaultDescription}),(0,Vn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o&&i&&(0,Vn.jsxs)(RE.Ay,{onClick:i,variant:"outline",className:"inline-flex items-center gap-2",children:[(0,Vn.jsx)(Ho,{className:"h-4 w-4"}),"Reset Filter"]}),a&&s&&(0,Vn.jsxs)(RE.Ay,{onClick:s,className:"inline-flex items-center gap-2",children:[(0,Vn.jsx)(Pi,{className:"h-4 w-4"}),a]})]})]})},lP=e=>{let{error:t,onRetry:r,onReportIssue:n,title:a="Terjadi kesalahan",showDetails:s=!1}=e;return(0,Vn.jsxs)("div",{className:"text-center py-12",children:[(0,Vn.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-[#FF453A]/10 rounded-full mb-4",children:(0,Vn.jsx)(ti,{className:"h-8 w-8 text-[#FF453A]"})}),(0,Vn.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:a}),(0,Vn.jsx)("p",{className:"text-[#98989D] mb-6 max-w-md mx-auto",children:(null===t||void 0===t?void 0:t.message)||"Terjadi kesalahan saat memuat data. Silakan coba lagi."}),s&&(null===t||void 0===t?void 0:t.stack)&&(0,Vn.jsxs)("details",{className:"mb-6 text-left max-w-2xl mx-auto",children:[(0,Vn.jsx)("summary",{className:"cursor-pointer text-sm text-[#8E8E93] hover:text-[#98989D]",children:"Detail teknis"}),(0,Vn.jsx)("pre",{className:"mt-2 p-4 bg-[#2C2C2E] rounded-lg text-xs overflow-auto text-[#98989D]",children:t.stack})]}),(0,Vn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r&&(0,Vn.jsxs)(RE.Ay,{onClick:r,variant:"outline",className:"inline-flex items-center gap-2",children:[(0,Vn.jsx)(Ho,{className:"h-4 w-4"}),"Coba Lagi"]}),n&&(0,Vn.jsx)(RE.Ay,{onClick:n,variant:"ghost",className:"inline-flex items-center gap-2",children:"Laporkan Masalah"})]})]})},cP=e=>{let{items:t=[]}=e;return(0,Vn.jsx)("nav",{"aria-label":"Breadcrumb",className:"mb-4",children:(0,Vn.jsxs)("ol",{className:"flex items-center gap-2 text-sm",children:[(0,Vn.jsx)("li",{children:(0,Vn.jsxs)(De,{to:"/admin/dashboard",className:"flex items-center gap-1 text-[#8E8E93] hover:text-white transition-colors duration-150",children:[(0,Vn.jsx)(pa,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:"Beranda"})]})}),t.map((e,t)=>(0,Vn.jsxs)(a.Fragment,{children:[(0,Vn.jsx)(va,{className:"w-4 h-4 text-[#636366]"}),(0,Vn.jsx)("li",{children:e.href?(0,Vn.jsx)(De,{to:e.href,className:"text-[#8E8E93] hover:text-white transition-colors duration-150",children:e.label}):(0,Vn.jsx)("span",{className:"text-white font-medium",children:e.label})})]},t))]})})},dP=e=>{let{icon:t,label:r,value:n,color:a="blue"}=e;return(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-[#2C2C2E] rounded-lg border border-[#38383A] hover:border-[#48484A] transition-colors duration-150",children:[(0,Vn.jsx)(t,{className:"h-3.5 w-3.5 shrink-0 ".concat({blue:"text-[#0A84FF]",green:"text-[#30D158]",orange:"text-[#FF9F0A]",red:"text-[#FF3B30]",purple:"text-[#BF5AF2]",teal:"text-[#5AC8FA]"}[a])}),(0,Vn.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,Vn.jsx)("span",{className:"text-sm font-semibold text-white",children:n}),(0,Vn.jsx)("span",{className:"text-xs text-[#636366]",children:r})]})]})},uP=e=>{let{stats:t,onCreateProject:r,loading:n,error:a}=e;const{projects:s,common:o,status:i}=(0,UE.B)();if(n)return(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"animate-pulse space-y-3",children:[(0,Vn.jsx)("div",{className:"h-5 bg-[#3A3A3C] rounded w-48"}),(0,Vn.jsx)("div",{className:"h-4 bg-[#3A3A3C] rounded w-32"})]})});if(a)return(0,Vn.jsx)("div",{className:"bg-[#FF3B30]/10 border border-[#FF3B30]/30 rounded-lg p-4",children:(0,Vn.jsx)("p",{className:"text-[#FF3B30] text-sm",children:o.error})});const{total:l=0,active:c=0,completed:d=0,overdue:u=0}=t||{};return(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)(ka,{className:"h-5 w-5 text-[#0A84FF]"}),(0,Vn.jsx)("h1",{className:"text-xl font-bold text-white",children:s.title}),(0,Vn.jsx)("span",{className:"text-[#636366]",children:"\xb7"}),(0,Vn.jsxs)("span",{className:"text-[#8E8E93] text-sm",children:[l," total"]})]}),(0,Vn.jsx)(RE.Ay,{onClick:r,size:"sm",className:"h-9 px-4 bg-[#0A84FF] text-white hover:bg-[#0A84FF]/90 border border-[#0A84FF]/20",children:s.newProject})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,Vn.jsx)(dP,{icon:ui,label:i.active,value:c,color:"blue"}),(0,Vn.jsx)(dP,{icon:Sa,label:i.completed,value:d,color:"green"}),u>0&&(0,Vn.jsx)(dP,{icon:ti,label:i.overdue,value:u,color:"red"})]})]})},pP=e=>{let{status:t,size:r="sm"}=e;const n={active:{label:"Aktif",bg:"bg-[#0A84FF]/10",color:"text-[#0A84FF]",dot:"bg-[#0A84FF]"},pending:{label:"Pending",bg:"bg-[#FF9F0A]/10",color:"text-[#FF9F0A]",dot:"bg-[#FF9F0A]"},"in-progress":{label:"Dalam Proses",bg:"bg-[#0A84FF]/10",color:"text-[#0A84FF]",dot:"bg-[#0A84FF]"},completed:{label:"Selesai",bg:"bg-[#30D158]/10",color:"text-[#30D158]",dot:"bg-[#30D158]"},"on-hold":{label:"Ditunda",bg:"bg-[#8E8E93]/10",color:"text-[#8E8E93]",dot:"bg-[#8E8E93]"},cancelled:{label:"Dibatalkan",bg:"bg-[#FF3B30]/10",color:"text-[#FF3B30]",dot:"bg-[#FF3B30]"}},a=n[null===t||void 0===t?void 0:t.toLowerCase().trim()]||n.pending;return(0,Vn.jsxs)("div",{className:"inline-flex items-center rounded-full font-medium ".concat({xs:"text-[10px] px-1.5 py-0.5 gap-1",sm:"text-xs px-2 py-0.5 gap-1.5",md:"text-sm px-2.5 py-1 gap-2"}[r]," ").concat(a.bg," ").concat(a.color," border border-current border-opacity-20"),children:[(0,Vn.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat(a.dot," animate-pulse")}),a.label]})},hP=["icon","onClick","color","size","className"],mP=e=>{let{icon:t,onClick:r,color:n="blue",size:a="sm",className:s=""}=e,o=(0,go.A)(e,hP);const i={teal:{text:"text-[#5AC8FA]",bg:"bg-[#5AC8FA]/15",hover:"hover:bg-[#5AC8FA]/25",border:"border-[#5AC8FA]/30",ring:"focus:ring-[#5AC8FA]/50"},blue:{text:"text-[#0A84FF]",bg:"bg-[#0A84FF]/15",hover:"hover:bg-[#0A84FF]/25",border:"border-[#0A84FF]/30",ring:"focus:ring-[#0A84FF]/50"},orange:{text:"text-[#FF9500]",bg:"bg-[#FF9500]/15",hover:"hover:bg-[#FF9500]/25",border:"border-[#FF9500]/30",ring:"focus:ring-[#FF9500]/50"},amber:{text:"text-[#FF9F0A]",bg:"bg-[#FF9F0A]/15",hover:"hover:bg-[#FF9F0A]/25",border:"border-[#FF9F0A]/30",ring:"focus:ring-[#FF9F0A]/50"},red:{text:"text-[#FF3B30]",bg:"bg-[#FF3B30]/15",hover:"hover:bg-[#FF3B30]/25",border:"border-[#FF3B30]/30",ring:"focus:ring-[#FF3B30]/50"},green:{text:"text-[#30D158]",bg:"bg-[#30D158]/15",hover:"hover:bg-[#30D158]/25",border:"border-[#30D158]/30",ring:"focus:ring-[#30D158]/50"}}[n],l={xs:{button:"h-6 w-6 p-0",icon:"h-3 w-3"},sm:{button:"h-7 w-7 p-0",icon:"h-3.5 w-3.5"},md:{button:"h-8 w-8 p-0",icon:"h-4 w-4"}}[a];return(0,Vn.jsx)("button",(0,Mt.A)((0,Mt.A)({onClick:r,className:"\n        ".concat(l.button," \n        ").concat(i.text," \n        ").concat(i.bg," \n        ").concat(i.hover," \n        border \n        ").concat(i.border," \n        rounded-md \n        transition-all \n        duration-150 \n        focus:outline-none \n        focus:ring-2 \n        ").concat(i.ring,"\n        flex \n        items-center \n        justify-center\n        ").concat(s,"\n      ")},o),{},{children:(0,Vn.jsx)(t,{className:l.icon})}))},fP=(0,a.memo)(e=>{let{projects:t=[],selectedProjects:r=[],onSelectProject:n,onSelectAll:s,onView:o,onEdit:i,onArchive:l,onDelete:c}=e;const d=t.length>0&&r.length===t.length,u=r.length>0&&r.length<t.length,p=(0,a.useCallback)(e=>e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",notation:"compact",compactDisplay:"short",maximumFractionDigits:1}).format(e):"N/A",[]),h=(0,a.useCallback)(e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}catch(t){return"Invalid date"}},[]),m=(0,a.useCallback)(e=>{if(!e)return"Lokasi tidak tersedia";if("string"===typeof e)return e;if("object"===typeof e){const t=[];return e.city&&t.push(e.city),e.province&&t.push(e.province),t.length>0?t.join(", "):"Lokasi tidak tersedia"}return"Lokasi tidak tersedia"},[]),f=(0,a.useCallback)(e=>e>=80?"bg-[#30D158]":e>=50?"bg-[#0A84FF]":e>=25?"bg-[#FF9F0A]":"bg-[#FF3B30]",[]);return null!==t&&void 0!==t&&t.length?(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg overflow-hidden",children:(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"w-full text-sm",children:[(0,Vn.jsx)("thead",{className:"bg-[#1C1C1E]",children:(0,Vn.jsxs)("tr",{className:"border-b border-[#38383A]",children:[s&&(0,Vn.jsx)("th",{className:"px-4 py-2.5 text-center w-[50px]",children:(0,Vn.jsx)("input",{type:"checkbox",checked:d,ref:e=>{e&&(e.indeterminate=u)},onChange:e=>s(e.target.checked),className:"w-4 h-4 rounded border-[#636366] bg-[#2C2C2E] text-[#0A84FF]  focus:ring-2 focus:ring-[#0A84FF] focus:ring-offset-0 cursor-pointer","aria-label":"Pilih semua proyek"})}),(0,Vn.jsx)("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-[#636366] w-[30%]",children:"Proyek"}),(0,Vn.jsx)("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-[#636366] w-[15%]",children:"Subsidiary"}),(0,Vn.jsx)("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-[#636366] w-[15%]",children:"Klien / Lokasi"}),(0,Vn.jsx)("th",{className:"px-4 py-2.5 text-right text-xs font-medium text-[#636366] w-[18%]",children:"Budget / Jadwal"}),(0,Vn.jsx)("th",{className:"px-4 py-2.5 text-center text-xs font-medium text-[#636366] w-[20%]",children:"Progress"}),(0,Vn.jsx)("th",{className:"px-4 py-2.5 text-center text-xs font-medium text-[#636366] w-[12%]",children:"Aksi"})]})}),(0,Vn.jsx)("tbody",{children:t.map(e=>{var t,a,s,d,u,x;const g=r.includes(e.id);return(0,Vn.jsxs)("tr",{className:"border-b border-[#38383A] hover:bg-[#3A3A3C] transition-colors duration-150\n                           ".concat(g?"bg-[#0A84FF]/10":""),children:[n&&(0,Vn.jsx)("td",{className:"px-4 py-3 text-center",children:(0,Vn.jsx)("input",{type:"checkbox",checked:g,onChange:()=>n(e.id),className:"w-4 h-4 rounded border-[#636366] bg-[#2C2C2E] text-[#0A84FF]  focus:ring-2 focus:ring-[#0A84FF] focus:ring-offset-0 cursor-pointer","aria-label":"Pilih proyek ".concat(e.name)})}),(0,Vn.jsx)("td",{className:"px-4 py-3",children:(0,Vn.jsx)("div",{className:"flex items-start gap-2",children:(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("div",{className:"font-medium text-white truncate cursor-pointer hover:text-[#0A84FF] transition-colors duration-150",onClick:()=>null===o||void 0===o?void 0:o(e),children:e.name}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,Vn.jsx)(pP,{status:e.status,size:"xs"}),(0,Vn.jsxs)("span",{className:"text-xs font-mono text-[#636366]",children:["#",e.projectCode]})]})]})})}),(0,Vn.jsxs)("td",{className:"px-4 py-3",children:[(0,Vn.jsx)("div",{className:"text-sm text-white truncate",children:(null===(t=e.subsidiaryInfo)||void 0===t?void 0:t.name)||(null===(a=e.subsidiary)||void 0===a?void 0:a.name)||"-"}),(0,Vn.jsx)("div",{className:"text-xs text-[#636366] truncate",children:(null===(s=e.subsidiaryInfo)||void 0===s?void 0:s.code)||(null===(d=e.subsidiary)||void 0===d?void 0:d.code)||"Tidak ada"})]}),(0,Vn.jsxs)("td",{className:"px-4 py-3",children:[(0,Vn.jsx)("div",{className:"text-sm text-[#98989D] truncate",children:(null===(u=e.client)||void 0===u?void 0:u.company)||(null===(x=e.client)||void 0===x?void 0:x.name)||e.client||e.clientName||"Tidak ada klien"}),(0,Vn.jsx)("div",{className:"text-xs text-[#636366] truncate",children:m(e.location)})]}),(0,Vn.jsxs)("td",{className:"px-4 py-3 text-right",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-end gap-1 font-medium text-white text-sm",children:[(0,Vn.jsx)(xa,{className:"h-3 w-3 text-[#30D158]"}),p(e.budget)]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-end gap-1 text-xs text-[#636366] mt-0.5",children:[(0,Vn.jsx)(io,{className:"h-3 w-3"}),h(e.startDate)," - ",h(e.endDate)]})]}),(0,Vn.jsx)("td",{className:"px-4 py-3",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)("div",{className:"flex-1 h-1.5 bg-[#3A3A3C] rounded-full overflow-hidden",children:(0,Vn.jsx)("div",{className:"h-full ".concat(f(e.progress||0)," rounded-full transition-all duration-300"),style:{width:"".concat(e.progress||0,"%")}})}),(0,Vn.jsxs)("span",{className:"text-xs font-medium text-white w-10 text-right",children:[e.progress||0,"%"]})]})}),(0,Vn.jsx)("td",{className:"px-4 py-3",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-center gap-0.5",children:[(0,Vn.jsx)(mP,{icon:la,size:"xs",color:"teal",onClick:()=>null===o||void 0===o?void 0:o(e)}),(0,Vn.jsx)(mP,{icon:fi,size:"xs",color:"orange",onClick:()=>null===i||void 0===i?void 0:i(e)}),(0,Vn.jsx)(mP,{icon:HE,size:"xs",color:"amber",onClick:()=>null===l||void 0===l?void 0:l(e)}),(0,Vn.jsx)(mP,{icon:ca,size:"xs",color:"red",onClick:()=>null===c||void 0===c?void 0:c(e)})]})})]},e.id)})})]})})}):(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-8 text-center",children:(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Tidak ada proyek ditemukan"})})});fP.displayName="CompactProjectTable";const xP=fP,gP=(0,a.memo)(e=>{let{project:t,onView:r,onEdit:n,onArchive:a,onDelete:s}=e;const{name:o,projectCode:i,client:l,location:c,budget:d,startDate:u,status:p,progress:h=0,daysRemaining:m}=t;return(0,Vn.jsxs)(tP,{className:"group hover:border-[#0A84FF]/50 transition-all duration-150 overflow-hidden",children:[(0,Vn.jsx)("div",{className:"h-1 bg-gradient-to-r from-[#0A84FF] via-[#5AC8FA] to-[#0A84FF]"}),(0,Vn.jsxs)("div",{className:"p-3",children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("h3",{className:"text-sm font-semibold text-white truncate group-hover:text-[#0A84FF] cursor-pointer transition-colors duration-150",onClick:()=>null===r||void 0===r?void 0:r(t),children:o}),(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5 mt-0.5",children:[(0,Vn.jsxs)("span",{className:"text-xs font-mono text-[#636366]",children:["#",i]}),(0,Vn.jsx)("span",{className:"text-[#636366]",children:"\xb7"}),(0,Vn.jsx)("span",{className:"text-xs text-[#636366] truncate",children:(e=>e?"string"===typeof e?e:"object"===typeof e&&(e.company||e.name)||"No client":"No client")(l)})]})]}),(0,Vn.jsx)(pP,{status:p,size:"xs"})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1.5 text-xs mb-3",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5 text-[#98989D]",children:[(0,Vn.jsx)(bo,{className:"h-3 w-3 shrink-0"}),(0,Vn.jsx)("span",{className:"truncate",children:(e=>{if(!e)return"No location";if("string"===typeof e)return e;if("object"===typeof e){const t=[];return e.city&&t.push(e.city),e.province&&t.push(e.province),t.length>0?t.join(", "):"No location"}return"No location"})(c)})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5 text-[#98989D]",children:[(0,Vn.jsx)(xa,{className:"h-3 w-3 shrink-0"}),(0,Vn.jsx)("span",{className:"truncate",children:(x=d,x?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(x):"N/A")})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5 text-[#98989D]",children:[(0,Vn.jsx)(io,{className:"h-3 w-3 shrink-0"}),(0,Vn.jsx)("span",{className:"truncate",children:(f=u,f?new Date(f).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"N/A")})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5 ".concat(m?m<0?"text-[#FF3B30]":m<7?"text-[#FF9F0A]":m<30?"text-[#0A84FF]":"text-[#30D158]":"text-[#8E8E93]"),children:[(0,Vn.jsx)(Sa,{className:"h-3 w-3 shrink-0"}),(0,Vn.jsx)("span",{className:"truncate",children:void 0!==m?m<0?"".concat(Math.abs(m),"d overdue"):"".concat(m,"d left"):"No deadline"})]})]}),(0,Vn.jsxs)("div",{className:"mb-3",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,Vn.jsx)("span",{className:"text-[#636366]",children:"Progress"}),(0,Vn.jsxs)("span",{className:"font-medium text-white",children:[h,"%"]})]}),(0,Vn.jsx)("div",{className:"h-1.5 bg-[#3A3A3C] rounded-full overflow-hidden",children:(0,Vn.jsx)("div",{className:"h-full ".concat(h>=80?"bg-[#30D158]":h>=50?"bg-[#0A84FF]":h>=25?"bg-[#FF9F0A]":"bg-[#FF3B30]"," rounded-full transition-all duration-300"),style:{width:"".concat(h,"%")}})})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-1 pt-2 border-t border-[#38383A]",children:[(0,Vn.jsxs)(RE.Ay,{size:"xs",variant:"ghost",className:"flex-1 h-7 text-xs text-[#0A84FF] hover:bg-[#0A84FF]/10",onClick:()=>null===r||void 0===r?void 0:r(t),children:[(0,Vn.jsx)(la,{className:"h-3 w-3 mr-1"}),"View"]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,Vn.jsx)(mP,{icon:fi,size:"xs",color:"orange",onClick:()=>null===n||void 0===n?void 0:n(t)}),(0,Vn.jsx)(mP,{icon:HE,size:"xs",color:"amber",onClick:()=>null===a||void 0===a?void 0:a(t)}),(0,Vn.jsx)(mP,{icon:ca,size:"xs",color:"red",onClick:()=>null===s||void 0===s?void 0:s(t)})]})]})]})]});var f,x});gP.displayName="CompactProjectCard";const bP=(0,Qn.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),yP=(0,Qn.A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var vP=r(7772);const jP=e=>{let{value:t,onChange:r,onClear:n,placeholder:a="Cari proyek...",disabled:s=!1,isLoading:o=!1}=e;return(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)(uE.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#636366] w-4 h-4 pointer-events-none"}),(0,Vn.jsx)("input",{type:"text",placeholder:a,value:t,onChange:e=>r(e.target.value),disabled:s,className:"w-full pl-10 pr-10 py-2 border border-[#38383A] rounded-lg  focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent  bg-[#1C1C1E] text-white placeholder-[#636366] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-150"}),(0,Vn.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:o?(0,Vn.jsx)(vP.A,{className:"w-4 h-4 text-[#0A84FF] animate-spin","aria-label":"Mencari..."}):t?(0,Vn.jsx)("button",{onClick:n,className:"text-[#636366] hover:text-white transition-colors duration-150","aria-label":"Hapus pencarian",children:(0,Vn.jsx)(ja.A,{className:"w-4 h-4"})}):null})]})},wP=e=>{var t,r;let{searchTerm:n,onSearchChange:a,onSearchClear:s,filters:o,onFilterChange:i,sortBy:l,sortOrder:c,onSortChange:d,hasActiveFilters:u,onClearFilters:p,disabled:h=!1,isSearching:m=!1}=e;const{status:f,common:x}=(0,UE.B)(),g=[{value:"",label:"Semua Status"},{value:"active",label:f.active},{value:"completed",label:f.completed},{value:"on-hold",label:f.onHold},{value:"cancelled",label:f.canceled}],b=[{value:"",label:"Semua Prioritas"},{value:"high",label:"Tinggi"},{value:"medium",label:"Sedang"},{value:"low",label:"Rendah"}],y="".concat(l,"-").concat(c);return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-4",children:[(0,Vn.jsxs)("div",{className:"flex flex-col lg:flex-row gap-3",children:[(0,Vn.jsx)("div",{className:"flex-1",children:(0,Vn.jsx)(jP,{value:n,onChange:a,onClear:s,placeholder:"Cari proyek berdasarkan nama, kode, atau klien...",disabled:h,isLoading:m})}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,Vn.jsxs)("div",{className:"relative min-w-[150px]",children:[(0,Vn.jsx)("select",{value:o.status||"",onChange:e=>i("status",e.target.value),disabled:h,className:"appearance-none w-full pl-3 pr-10 py-2 border border-[#38383A] rounded-lg  focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent  bg-[#1C1C1E] text-white text-sm cursor-pointer transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed",children:g.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,Vn.jsx)(bP,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#636366] w-4 h-4 pointer-events-none"})]}),(0,Vn.jsxs)("div",{className:"relative min-w-[150px]",children:[(0,Vn.jsx)("select",{value:o.priority||"",onChange:e=>i("priority",e.target.value),disabled:h,className:"appearance-none w-full pl-3 pr-10 py-2 border border-[#38383A] rounded-lg  focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent  bg-[#1C1C1E] text-white text-sm cursor-pointer transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed",children:b.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,Vn.jsx)(bP,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#636366] w-4 h-4 pointer-events-none"})]}),(0,Vn.jsxs)("div",{className:"relative min-w-[180px]",children:[(0,Vn.jsx)("select",{value:y,onChange:e=>(e=>{const[t,r]=e.split("-");d(t,r)})(e.target.value),disabled:h,className:"appearance-none w-full pl-3 pr-10 py-2 border border-[#38383A] rounded-lg  focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent  bg-[#1C1C1E] text-white text-sm cursor-pointer transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed",children:[{value:"name-asc",label:"Nama (A-Z)"},{value:"name-desc",label:"Nama (Z-A)"},{value:"budget-desc",label:"Budget (Tertinggi)"},{value:"budget-asc",label:"Budget (Terendah)"},{value:"progress-desc",label:"Progress (Tertinggi)"},{value:"progress-asc",label:"Progress (Terendah)"},{value:"createdAt-desc",label:"Terbaru"},{value:"createdAt-asc",label:"Terlama"}].map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,Vn.jsx)(yP,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#636366] w-4 h-4 pointer-events-none"})]}),(u||n)&&(0,Vn.jsxs)("button",{onClick:p,disabled:h,className:"flex items-center gap-2 px-3 py-2 text-sm text-[#FF9F0A]  hover:text-[#FF9F0A]/80 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Hapus semua filter dan pencarian",children:[(0,Vn.jsx)(ja.A,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:x.reset})]})]})]}),(u||n)&&(0,Vn.jsx)("div",{className:"mt-3 pt-3 border-t border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-xs text-[#8E8E93]",children:[(0,Vn.jsx)("span",{children:"Filter aktif:"}),n&&(0,Vn.jsxs)("span",{className:"px-2 py-1 bg-[#0A84FF]/20 text-[#0A84FF] rounded",children:['Pencarian: "',n,'"']}),o.status&&(0,Vn.jsxs)("span",{className:"px-2 py-1 bg-[#30D158]/20 text-[#30D158] rounded",children:["Status: ",null===(t=g.find(e=>e.value===o.status))||void 0===t?void 0:t.label]}),o.priority&&(0,Vn.jsxs)("span",{className:"px-2 py-1 bg-[#FF9F0A]/20 text-[#FF9F0A] rounded",children:["Prioritas: ",null===(r=b.find(e=>e.value===o.priority))||void 0===r?void 0:r.label]})]})})]})},NP=(0,Qn.A)("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),AP=e=>{let{selectedCount:t,onBulkArchive:r,onBulkExportExcel:n,onBulkExportPDF:a,onBulkDelete:s,onClearSelection:o,disabled:i=!1,isLoading:l=!1}=e;const{common:c}=(0,UE.B)();return 0===t?null:(0,Vn.jsx)("div",{className:"bg-[#0A84FF]/10 border border-[#0A84FF]/30 rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("span",{className:"text-white font-medium",children:l?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(vP.A,{className:"inline w-4 h-4 mr-2 animate-spin"}),"Memproses ",t," proyek..."]}):"".concat(t," proyek dipilih")}),!l&&(0,Vn.jsx)("button",{onClick:o,disabled:i,className:"text-[#8E8E93] hover:text-white transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Batalkan pilihan",children:(0,Vn.jsx)(ja.A,{className:"w-4 h-4"})})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,Vn.jsxs)(RE.Ay,{onClick:r,disabled:i,size:"sm",variant:"secondary",className:"!bg-[#8E8E93]/20 !text-[#8E8E93]  hover:!bg-[#8E8E93]/30 hover:!text-white !border !border-[#8E8E93]/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-150",children:[(0,Vn.jsx)(HE,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:c.archive})]}),(0,Vn.jsxs)(RE.Ay,{onClick:n,disabled:i,size:"sm",variant:"secondary",className:"!bg-[#30D158]/20 !text-[#30D158]  hover:!bg-[#30D158]/30 hover:!text-white !border !border-[#30D158]/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-150",children:[(0,Vn.jsx)(NP,{className:"w-4 h-4"}),(0,Vn.jsxs)("span",{children:[c.download," Excel"]})]}),(0,Vn.jsxs)(RE.Ay,{onClick:a,disabled:i,size:"sm",variant:"secondary",className:"!bg-[#BF5AF2]/20 !text-[#BF5AF2]  hover:!bg-[#BF5AF2]/30 hover:!text-white !border !border-[#BF5AF2]/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-150",children:[(0,Vn.jsx)(di,{className:"w-4 h-4"}),(0,Vn.jsxs)("span",{children:[c.download," PDF"]})]}),(0,Vn.jsxs)(RE.Ay,{onClick:s,disabled:i,size:"sm",variant:"destructive",className:"!bg-[#FF3B30]/20 !text-[#FF3B30]  hover:!bg-[#FF3B30]/30 hover:!text-white !border !border-[#FF3B30]/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-150",children:[(0,Vn.jsx)(ca,{className:"w-4 h-4"}),(0,Vn.jsx)("span",{children:c.delete})]})]})]})})},kP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialPageSize:t=12,enableAutoRefresh:r=!1,refreshInterval:n=3e4}=e,[s,o]=(0,a.useState)({projects:[],allProjects:[],loading:!0,error:null,page:1,pageSize:t,serverPagination:{current:1,total:1,count:0},category:"all",filters:{status:"",priority:"",sortBy:"created_at",sortOrder:"desc"}}),i=(0,a.useCallback)(e=>{o(t=>(0,Mt.A)((0,Mt.A)({},t),e))},[]),l=(0,a.useCallback)(e=>{i({filters:(0,Mt.A)((0,Mt.A)({},s.filters),e),page:1})},[s.filters,i]),c=(0,a.useCallback)(async()=>{try{i({loading:!0,error:null});const e={status:s.filters.status||void 0,priority:s.filters.priority||void 0,sort:s.filters.sortBy,order:s.filters.sortOrder,limit:s.pageSize,page:s.page};console.log("\ud83d\ude80 FETCHING PROJECTS WITH PARAMS:",e);const[t,r]=await Promise.all([ts(e),ts({limit:1e3})]);console.log("\ud83c\udfaf REAL API RESPONSE:",t),console.log("\ud83d\udcca ALL PROJECTS RESPONSE:",r);const n=t.data||t||[],a=r.data||r||[],o=t.pagination||{current:s.page,total:Math.ceil((n.length||0)/s.pageSize),count:n.length||0};i({projects:n,allProjects:a,serverPagination:{current:parseInt(o.current||1,10),total:parseInt(o.total||1,10),count:parseInt(o.count||n.length||0,10)},loading:!1})}catch(e){console.error("\u274c API ERROR:",e),i({loading:!1,error:"Failed to load projects: ".concat(e.message,". Please check your connection and try again.")})}},[s.filters,s.category,s.page,s.pageSize,i]),d=(0,a.useCallback)(async e=>{const t=s.projects;try{return i({projects:s.projects.filter(t=>t.id!==e)}),await os(e),await c(),{success:!0}}catch(r){throw i({projects:t}),r}},[s.projects,i,c]),u=(0,a.useCallback)(async e=>{const t=s.projects;try{return i({projects:s.projects.map(t=>t.id===e?(0,Mt.A)((0,Mt.A)({},t),{},{status:"archived"}):t)}),await as(e,{status:"archived"}),await c(),{success:!0}}catch(r){throw i({projects:t}),r}},[s.projects,i,c]);(0,a.useEffect)(()=>{c()},[c]);const p=(0,a.useMemo)(()=>{const e=new Date,t=s.allProjects.length>0?s.allProjects:s.projects,r={total:t.length,active:t.filter(e=>"active"===e.status).length,completed:t.filter(e=>"completed"===e.status).length,planning:t.filter(e=>"planning"===e.status).length,onHold:t.filter(e=>"on_hold"===e.status).length,cancelled:t.filter(e=>"cancelled"===e.status).length,archived:t.filter(e=>"archived"===e.status).length,overdue:t.filter(t=>{var r;if("completed"===t.status)return!1;return new Date((null===(r=t.timeline)||void 0===r?void 0:r.endDate)||t.endDate)<e}).length};return{hasProjects:s.projects.length>0,totalPages:Math.ceil(s.serverPagination.count/s.pageSize),isFirstPage:1===s.page,isLastPage:s.page>=Math.ceil(s.serverPagination.count/s.pageSize),hasFilters:s.filters.status||s.filters.priority,isEmpty:!s.loading&&0===s.projects.length,stats:r}},[s.projects,s.allProjects,s.loading,s.page,s.pageSize,s.serverPagination,s.filters]);return(0,Mt.A)((0,Mt.A)((0,Mt.A)({},s),p),{},{updateFilters:l,setPage:e=>i({page:e}),setPageSize:e=>i({pageSize:e,page:1}),setCategory:e=>i({category:e,page:1}),setSorting:(e,t)=>i({filters:(0,Mt.A)((0,Mt.A)({},s.filters),{},{sortBy:e,sortOrder:t}),page:1}),refreshProjects:c,refetch:c,deleteProject:d,archiveProject:u,resetFilters:()=>l({status:"",priority:"",sortBy:"created_at",sortOrder:"desc"})})},CP=e=>{if(!e)return"-";if("string"===typeof e)return e;if("object"===typeof e){const t=[];return e.city&&t.push(e.city),e.province&&t.push(e.province),t.length>0?t.join(", "):"-"}return"-"},FP=e=>({active:"Aktif",completed:"Selesai","on-hold":"Ditunda",cancelled:"Dibatalkan",planning:"Perencanaan",archived:"Diarsipkan"}[e]||e||"Aktif"),SP=e=>({high:"Tinggi",medium:"Sedang",low:"Rendah"}[e]||e||"Sedang"),EP=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}catch(t){return"-"}},PP=e=>e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"Rp 0",DP=()=>{const e=new Date;return"".concat(e.getFullYear()).concat(String(e.getMonth()+1).padStart(2,"0")).concat(String(e.getDate()).padStart(2,"0"),"_").concat(String(e.getHours()).padStart(2,"0")).concat(String(e.getMinutes()).padStart(2,"0"))},OP=(e,t,r,n)=>{const[s,o]=(0,a.useState)([]),[i,l]=(0,a.useState)(!1),c=(0,a.useCallback)(e=>{o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),d=(0,a.useCallback)((e,t)=>{if(e){const e=t.map(e=>e.id);o(e)}else o([])},[]),u=(0,a.useCallback)(()=>{o([])},[]),p=(0,a.useCallback)(async e=>{if(0!==s.length){l(!0);try{const t=await Promise.allSettled(s.map(e=>r(e))),a=t.filter(e=>"fulfilled"===e.status).length,i=t.filter(e=>"rejected"===e.status).length;if(i>0)throw new Error("".concat(a," berhasil, ").concat(i," gagal"));vn.success("".concat(s.length," proyek berhasil diarsipkan")),o([]),n(),e&&e()}catch(t){vn.error("Gagal mengarsipkan beberapa proyek: "+t.message)}finally{l(!1)}}},[s,r,n]),h=(0,a.useCallback)(async e=>{if(0!==s.length){l(!0);try{const r=await Promise.allSettled(s.map(e=>t(e))),a=r.filter(e=>"fulfilled"===e.status).length,i=r.filter(e=>"rejected"===e.status).length;if(i>0)throw new Error("".concat(a," berhasil, ").concat(i," gagal"));vn.success("".concat(s.length," proyek berhasil dihapus")),o([]),n(),e&&e()}catch(r){vn.error("Gagal menghapus beberapa proyek: "+r.message)}finally{l(!1)}}},[s,t,n]),m=(0,a.useCallback)(()=>{if(0===s.length)return void vn.error("Tidak ada proyek yang dipilih");const t=e.filter(e=>s.includes(e.id));try{(e=>{if(!e||0===e.length)throw new Error("Tidak ada proyek untuk di-export");const t=e.map(e=>{var t;return[e.projectCode||e.id,e.name||"",e.clientName||(null===(t=e.client)||void 0===t?void 0:t.name)||e.client||"",CP(e.location),e.budget||0,e.progress||0,FP(e.status),SP(e.priority),EP(e.startDate),EP(e.endDate),EP(e.createdAt)]}),r=[["Kode Proyek","Nama Proyek","Klien","Lokasi","Budget (IDR)","Progress (%)","Status","Prioritas","Tanggal Mulai","Tanggal Selesai","Dibuat Tanggal"].join(","),...t.map(e=>e.map(e=>'"'.concat(e,'"')).join(","))].join("\n"),n=new Blob(["\ufeff"+r],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(n);a.setAttribute("href",s),a.setAttribute("download","proyek-".concat(DP(),".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)})(t),vn.success("".concat(t.length," proyek berhasil di-export ke Excel"))}catch(r){vn.error("Gagal export proyek: "+r.message)}},[e,s]),f=(0,a.useCallback)(()=>{if(0===s.length)return void vn.error("Tidak ada proyek yang dipilih");const t=e.filter(e=>s.includes(e.id));try{(e=>{if(!e||0===e.length)throw new Error("Tidak ada proyek untuk di-export");const t='\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <meta charset="UTF-8">\n      <title>Daftar Proyek - '.concat(DP(),'</title>\n      <style>\n        body {\n          font-family: Arial, sans-serif;\n          margin: 20px;\n          color: #333;\n        }\n        h1 {\n          color: #0A84FF;\n          border-bottom: 2px solid #0A84FF;\n          padding-bottom: 10px;\n        }\n        .meta {\n          color: #666;\n          margin-bottom: 20px;\n          font-size: 14px;\n        }\n        table {\n          width: 100%;\n          border-collapse: collapse;\n          margin-top: 20px;\n        }\n        th {\n          background-color: #0A84FF;\n          color: white;\n          padding: 12px;\n          text-align: left;\n          font-weight: bold;\n        }\n        td {\n          padding: 10px 12px;\n          border-bottom: 1px solid #ddd;\n        }\n        tr:nth-child(even) {\n          background-color: #f9f9f9;\n        }\n        tr:hover {\n          background-color: #f0f0f0;\n        }\n        .status {\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-size: 12px;\n          font-weight: bold;\n        }\n        .status-active { background-color: #d4edff; color: #0A84FF; }\n        .status-completed { background-color: #d4f4dd; color: #30D158; }\n        .status-on-hold { background-color: #fff4d4; color: #FF9F0A; }\n        .status-cancelled { background-color: #ffd4d4; color: #FF3B30; }\n        .footer {\n          margin-top: 30px;\n          padding-top: 20px;\n          border-top: 1px solid #ddd;\n          color: #666;\n          font-size: 12px;\n        }\n      </style>\n    </head>\n    <body>\n      <h1>\ud83d\udcca Daftar Proyek Konstruksi</h1>\n      <div class="meta">\n        <strong>Tanggal Export:</strong> ').concat((new Date).toLocaleString("id-ID"),"<br>\n        <strong>Total Proyek:</strong> ").concat(e.length,"<br>\n        <strong>Total Budget:</strong> ").concat(PP(e.reduce((e,t)=>e+(parseFloat(t.budget)||0),0)),"\n      </div>\n      \n      <table>\n        <thead>\n          <tr>\n            <th>No</th>\n            <th>Kode</th>\n            <th>Nama Proyek</th>\n            <th>Klien</th>\n            <th>Budget</th>\n            <th>Progress</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        <tbody>\n          ").concat(e.map((e,t)=>{var r;return"\n            <tr>\n              <td>".concat(t+1,"</td>\n              <td><strong>").concat(e.projectCode||e.id,"</strong></td>\n              <td>").concat(e.name||"","</td>\n              <td>").concat(e.clientName||(null===(r=e.client)||void 0===r?void 0:r.name)||e.client||"-","</td>\n              <td>").concat(PP(e.budget||0),"</td>\n              <td>").concat(e.progress||0,'%</td>\n              <td>\n                <span class="status status-').concat(e.status||"active",'">\n                  ').concat(FP(e.status),"\n                </span>\n              </td>\n            </tr>\n          ")}).join(""),'\n        </tbody>\n      </table>\n      \n      <div class="footer">\n        <strong>Nusantara Construction Management System</strong><br>\n        Generated by: ').concat(localStorage.getItem("userName")||"System","<br>\n        Document ID: EXP-").concat(Date.now(),"\n      </div>\n    </body>\n    </html>\n  "),r=window.open("","_blank");r.document.write(t),r.document.close(),r.focus(),r.onload=()=>{setTimeout(()=>{r.print()},250)}})(t),vn.success("".concat(t.length," proyek berhasil di-export ke PDF"))}catch(r){vn.error("Gagal export proyek: "+r.message)}},[e,s]);return{selectedProjects:s,bulkActionLoading:i,handleSelectProject:c,handleSelectAll:d,handleClearSelection:u,handleBulkArchive:p,handleBulkDelete:h,handleBulkExportExcel:m,handleBulkExportPDF:f}},TP=()=>{const{projects:e,common:t,ui:r}=(0,UE.B)(),{projects:n,loading:s,error:o,stats:i,page:l,pageSize:c,totalPages:d,deleteProject:u,archiveProject:p,refreshProjects:h,setPage:m,setPageSize:f}=kP(),{searchTerm:x,filters:g,sortBy:b,sortOrder:y,hasActiveFilters:v,filteredAndSortedProjects:j,handleSearchChange:w,handleSearchClear:N,handleFilterChange:A,handleSortChange:k,handleClearFilters:C}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const[t,r]=(0,a.useState)(""),[n,s]=(0,a.useState)({status:"",priority:""}),[o,i]=(0,a.useState)("createdAt"),[l,c]=(0,a.useState)("desc"),d=(0,a.useMemo)(()=>{let r=[...e];if(t){const e=t.toLowerCase();r=r.filter(t=>{var r,n,a,s;return(null===(r=t.name)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(n=t.projectCode)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(a=t.client)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(s=t.clientName)||void 0===s?void 0:s.toLowerCase().includes(e))})}return n.status&&(r=r.filter(e=>e.status===n.status)),n.priority&&(r=r.filter(e=>e.priority===n.priority)),r.sort((e,t)=>{let r=e[o],n=t[o];return"budget"===o||"progress"===o?(r=parseFloat(r)||0,n=parseFloat(n)||0):"startDate"===o||"endDate"===o||"createdAt"===o?(r=new Date(r).getTime(),n=new Date(n).getTime()):(r=String(r||"").toLowerCase(),n=String(n||"").toLowerCase()),"asc"===l?r>n?1:-1:r<n?1:-1}),r},[e,t,n,o,l]),u=n.status||n.priority,p=(0,a.useCallback)(e=>{r(e)},[]),h=(0,a.useCallback)(()=>{r("")},[]),m=(0,a.useCallback)((e,t)=>{s(r=>(0,Mt.A)((0,Mt.A)({},r),{},{[e]:t}))},[]),f=(0,a.useCallback)((e,t)=>{i(e),c(t)},[]),x=(0,a.useCallback)(()=>{r(""),s({status:"",priority:""}),i("createdAt"),c("desc")},[]);return{searchTerm:t,filters:n,sortBy:o,sortOrder:l,hasActiveFilters:u,filteredAndSortedProjects:d,handleSearchChange:p,handleSearchClear:h,handleFilterChange:m,handleSortChange:f,handleClearFilters:x}}(n),{debouncedValue:F,isDebouncing:S}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[r,n]=(0,a.useState)(e),[s,o]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{o(!0);const r=setTimeout(()=>{n(e),o(!1)},t);return()=>{clearTimeout(r)}},[e,t]),{debouncedValue:r,isDebouncing:s}}(x,300),{dialog:E,handleCreateProject:P,handleEditProject:D,handleViewProject:O,handleDeleteProject:T,handleArchiveProject:I,handleBulkArchiveDialog:M,handleBulkDeleteDialog:_,confirmAction:R,closeDialog:B,handleDetailModalEdit:L,handleDetailModalArchive:z,handleDetailModalDelete:U,handleDetailModalViewFull:W}=((e,t,r)=>{const n=re(),[s,i]=(0,a.useState)({type:null,show:!1,project:null}),l=(0,a.useCallback)(()=>{n("/admin/projects/create")},[n]),c=(0,a.useCallback)(e=>{n("/admin/projects/".concat(e.id,"/edit"))},[n]),d=(0,a.useCallback)(e=>{n("/admin/projects/".concat(e.id))},[n]),u=(0,a.useCallback)((e,t)=>{i({type:e,show:!0,project:t})},[]),p=(0,a.useCallback)(e=>{u("delete",e)},[u]),h=(0,a.useCallback)(e=>{u("archive",e)},[u]),m=(0,a.useCallback)(e=>{i({type:"bulkArchive",show:!0,project:{count:e}})},[]),f=(0,a.useCallback)(e=>{i({type:"bulkDelete",show:!0,project:{count:e}})},[]),x=(0,a.useCallback)(async n=>{if(!s.project)return;const a={delete:{fn:()=>e(s.project.id),successMsg:"Proyek berhasil dihapus",errorMsg:"Gagal menghapus proyek"},archive:{fn:()=>t(s.project.id),successMsg:"Proyek berhasil diarsipkan",errorMsg:"Gagal mengarsipkan proyek"}}[s.type];if(a)try{await a.fn(),vn.success(a.successMsg),i({type:null,show:!1,project:null}),r(),n&&n()}catch(o){console.error("".concat(s.type," failed:"),o),vn.error(a.errorMsg+": "+o.message)}},[s,e,t,r]),g=(0,a.useCallback)(()=>{i({type:null,show:!1,project:null})},[]),b=(0,a.useCallback)(e=>{i({type:null,show:!1,project:null}),n("/admin/projects/".concat(e.id,"/edit"))},[n]),y=(0,a.useCallback)(e=>{i({type:null,show:!1,project:null}),u("archive",e)},[u]),v=(0,a.useCallback)(e=>{i({type:null,show:!1,project:null}),u("delete",e)},[u]),j=(0,a.useCallback)(e=>{i({type:null,show:!1,project:null}),n("/admin/projects/".concat(e.id))},[n]);return{dialog:s,handleCreateProject:l,handleEditProject:c,handleViewProject:d,handleDeleteProject:p,handleArchiveProject:h,handleBulkArchiveDialog:m,handleBulkDeleteDialog:f,confirmAction:x,closeDialog:g,handleDetailModalEdit:b,handleDetailModalArchive:y,handleDetailModalDelete:v,handleDetailModalViewFull:j}})(u,p,h),{selectedProjects:V,bulkActionLoading:H,handleSelectProject:K,handleSelectAll:q,handleClearSelection:G,handleBulkArchive:Y,handleBulkDelete:$,handleBulkExportExcel:J,handleBulkExportPDF:X}=OP(n,u,p,h),Q=()=>{C(),m(1)},Z=()=>{h()},ee=(e,t)=>(0,Vn.jsx)("div",{className:"min-h-screen bg-[#1C1C1E]",children:(0,Vn.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,Vn.jsx)(cP,{items:[{label:"Proyek"}]}),(0,Vn.jsx)(e,(0,Mt.A)({},t))]})});return s?ee(oP,{message:t.loading}):o?ee(lP,{error:o,onRetry:Z}):(0,Vn.jsx)("div",{className:"min-h-screen bg-[#1C1C1E]",children:(0,Vn.jsxs)("div",{className:"container mx-auto px-4 py-6 space-y-5",children:[(0,Vn.jsx)(cP,{items:[{label:e.title}]}),(0,Vn.jsx)(uP,{stats:i,onCreateProject:P}),(0,Vn.jsx)(wP,{searchTerm:x,onSearchChange:e=>{w(e),m(1)},onSearchClear:()=>{N(),m(1)},filters:g,onFilterChange:(e,t)=>{A(e,t),m(1)},sortBy:b,sortOrder:y,onSortChange:k,hasActiveFilters:v,onClearFilters:Q,disabled:s,isSearching:S}),V.length>0&&(0,Vn.jsx)(AP,{selectedCount:V.length,onBulkArchive:()=>{0!==V.length&&M(V.length)},onBulkExportExcel:J,onBulkExportPDF:X,onBulkDelete:()=>{0!==V.length&&_(V.length)},onClearSelection:G,disabled:s||H,isLoading:H}),(0,Vn.jsxs)("div",{className:"space-y-5",children:[0===j.length?(0,Vn.jsx)(iP,{title:x||v?r.emptyState.noResults:r.emptyState.noData,description:x||v?r.emptyState.noResultsDesc:r.emptyState.noDataDesc,action:x||v?(0,Vn.jsx)(RE.Ay,{onClick:Q,variant:"secondary",children:r.emptyState.resetFilter}):(0,Vn.jsxs)(RE.Ay,{onClick:P,children:[(0,Vn.jsx)(Pi,{className:"h-4 w-4 mr-2"}),e.newProject]})}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(xP,{projects:j,selectedProjects:V,onSelectProject:K,onSelectAll:e=>{const t=j.slice((l-1)*c,l*c);q(e,t)},onView:O,onEdit:D,onArchive:I,onDelete:T}),(0,Vn.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,Vn.jsxs)("div",{className:"text-[#8E8E93]",children:[r.pagination.showing," ",(0,Vn.jsx)("span",{className:"text-white font-medium",children:j.length})," ",r.pagination.of," ",(0,Vn.jsx)("span",{className:"text-white font-medium",children:i.total||n.length})," ",e.title.toLowerCase(),(x||v)&&(0,Vn.jsx)("span",{className:"text-[#0A84FF]",children:" (difilter)"})]})})]}),d>1&&(0,Vn.jsx)(VE,{currentPage:l,totalPages:d,totalItems:i.total||n.length,itemsPerPage:c,onPageChange:m,onPageSizeChange:f,showInfo:!0,size:"md"})]}),(0,Vn.jsx)(KE,{isOpen:E.show&&("delete"===E.type||"archive"===E.type||"bulkDelete"===E.type||"bulkArchive"===E.type),title:"bulkDelete"===E.type?"".concat(t.delete," ").concat(e.title):"bulkArchive"===E.type?"".concat(t.archive," ").concat(e.title):"delete"===E.type?"".concat(t.delete," ").concat(e.title):"".concat(t.archive," ").concat(e.title),message:E.project?"bulkDelete"===E.type?"Apakah Anda yakin ingin menghapus ".concat(E.project.count," proyek? Tindakan ini tidak dapat dibatalkan."):"bulkArchive"===E.type?"Apakah Anda yakin ingin mengarsipkan ".concat(E.project.count," proyek? Proyek yang diarsipkan masih dapat dikembalikan."):"delete"===E.type?'Apakah Anda yakin ingin menghapus proyek "'.concat(E.project.name,'"? Tindakan ini tidak dapat dibatalkan.'):'Apakah Anda yakin ingin mengarsipkan proyek "'.concat(E.project.name,'"? Proyek yang diarsipkan masih dapat dikembalikan.'):"",confirmText:"bulkDelete"===E.type||"delete"===E.type?t.delete:t.archive,confirmVariant:"bulkDelete"===E.type||"delete"===E.type?"destructive":"secondary",onConfirm:async()=>{"bulkArchive"===E.type?await Y(()=>B()):"bulkDelete"===E.type?await $(()=>B()):await R(()=>B())},onCancel:B}),(0,Vn.jsx)(aP,{isOpen:E.show&&"detail"===E.type,project:E.project,onClose:B,onEdit:L,onArchive:z,onDelete:U,onViewFull:W})]})})},IP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoRefresh:t=!1,refreshInterval:r=3e5,includeStats:n=!1,filterBy:s=null}=e,[o,i]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[p,h]=(0,a.useState)(null),[m,f]=(0,a.useState)(null),x=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{c(!0),u(null);const e=await Cs();if(!e.success)throw new Error(e.message||"Failed to fetch subsidiaries");if(i(e.data||[]),h(new Date),n)try{const e=await Ds();e.success&&f(e.data)}catch(t){console.warn("Failed to fetch subsidiary stats:",t)}}catch(r){console.error("Error fetching subsidiaries:",r),e<3?setTimeout(()=>{x(e+1)},1e3*Math.pow(2,e)):(u(r.message||"Failed to load subsidiary data"),i([]))}finally{c(!1)}},[n]);(0,a.useEffect)(()=>{x()},[x]);const g=(0,a.useMemo)(()=>s&&0!==o.length?o.filter(e=>Object.entries(s).every(t=>{var r,n;let[a,s]=t;if(!s)return!0;switch(a){case"specialization":return e.specialization===s;case"status":return e.status===s;case"city":return null===(r=e.address)||void 0===r||null===(n=r.city)||void 0===n?void 0:n.toLowerCase().includes(s.toLowerCase());case"hasProjects":return s?e.projectCount>0:0===e.projectCount;default:return e[a]===s}})):o,[o,s]),b=(0,a.useCallback)(e=>o.find(t=>t.id===e),[o]),y=(0,a.useCallback)(e=>o.find(t=>t.code===e),[o]),v=(0,a.useCallback)(e=>o.filter(t=>t.specialization===e),[o]),j=(0,a.useCallback)(()=>o.filter(e=>"active"===e.status),[o]),w=(0,a.useMemo)(()=>[{value:"",label:"Semua Anak Perusahaan"},...g.map(e=>{var t;return{value:e.id,code:e.code,label:"".concat(e.code," - ").concat(e.name),specialization:e.specialization,city:null===(t=e.address)||void 0===t?void 0:t.city,employeeCount:e.employeeCount}})],[g]),N=(0,a.useMemo)(()=>{if(0===o.length)return null;const e=o.reduce((e,t)=>(e[t.specialization]=(e[t.specialization]||0)+1,e),{}),t=o.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{}),r=o.reduce((e,t)=>e+(t.employeeCount||0),0);return(0,Mt.A)({total:o.length,active:t.active||0,inactive:t.inactive||0,bySpecialization:e,byStatus:t,totalEmployees:r,averageEmployees:o.length>0?Math.round(r/o.length):0},m)},[o,m]),A=(0,a.useCallback)(()=>x(),[x]),k=(0,a.useCallback)(()=>{i([]),u(null),f(null),h(null)},[]);return{subsidiaries:g,allSubsidiaries:o,subsidiaryOptions:w,stats:N,loading:l,error:d,lastRefresh:p,refresh:A,reset:k,fetchSubsidiaries:x,getSubsidiaryById:b,getSubsidiaryByCode:y,getSubsidiariesBySpecialization:v,getActiveSubsidiaries:j,isEmpty:0===o.length,hasError:!!d,isStale:p&&Date.now()-p.getTime()>r}},MP=()=>{const[e,t]=(0,a.useState)({name:"",description:"",client:{company:"",contact:"",email:"",phone:""},location:{city:"",province:"",address:""},timeline:{startDate:"",endDate:""},budget:{contractValue:0},status:"planning",priority:"medium",subsidiary:{id:"",name:"",code:""},team:{projectManager:""}}),[r,n]=(0,a.useState)({}),s=(0,a.useCallback)((e,a)=>{((e,t,r,n,a)=>{if(e.includes(".")){const[n,a]=e.split(".");r(e=>(0,Mt.A)((0,Mt.A)({},e),{},{[n]:(0,Mt.A)((0,Mt.A)({},e[n]),{},{[a]:t})}))}else r(r=>(0,Mt.A)((0,Mt.A)({},r),{},{[e]:t}));n[e]&&a(t=>(0,Mt.A)((0,Mt.A)({},t),{},{[e]:null}))})(e,a,t,r,n)},[r]),o=(0,a.useCallback)(e=>{t(t=>(0,Mt.A)((0,Mt.A)({},t),{},{subsidiary:{id:e.id,code:e.code,name:e.name}})),n(e=>(0,Mt.A)((0,Mt.A)({},e),{},{subsidiary:""}))},[]),i=(0,a.useCallback)(()=>{t(e=>(0,Mt.A)((0,Mt.A)({},e),{},{subsidiary:{id:"",name:"",code:""}}))},[]),l=(0,a.useCallback)(()=>{t({name:"",description:"",client:{company:"",contact:"",email:"",phone:""},location:{city:"",province:"",address:""},timeline:{startDate:"",endDate:""},budget:{contractValue:0},status:"planning",priority:"medium",subsidiary:{id:"",name:"",code:""},team:{projectManager:""}}),n({})},[]);return{formData:e,errors:r,setErrors:n,handleInputChange:s,updateSubsidiary:o,clearSubsidiary:i,resetForm:l}},_P=e=>{const[t,r]=(0,a.useState)(""),[n,s]=(0,a.useState)(!1),o=(0,a.useCallback)(async e=>{if(e&&3===e.length)try{s(!0);const t=(await Ja.get("/projects/preview-code/".concat(e))).data;t.success?r(t.data.nextProjectCode):(console.error("Failed to fetch code preview:",t.error),r(""))}catch(t){console.error("Error fetching code preview:",t),r("")}finally{s(!1)}else r("")},[]),i=(0,a.useCallback)(()=>{r("")},[]);return(0,a.useEffect)(()=>{e?o(e):i()},[e,o,i]),{projectCodePreview:t,loadingPreview:n,fetchProjectCodePreview:o,clearCodePreview:i}},RP=(e,t)=>{const r=re(),[n,s]=(0,a.useState)(!1),o=(0,a.useCallback)(()=>{const r=(e=>{const t={};console.log("Validating form data:",{name:e.name,company:e.client.company,startDate:e.timeline.startDate,endDate:e.timeline.endDate,budget:e.budget.contractValue,subsidiary:e.subsidiary.id}),e.name.trim()||(t.name="Nama proyek harus diisi",console.log("\u274c Name validation failed")),e.client.company.trim()||(t["client.company"]="Nama perusahaan klien harus diisi",console.log("\u274c Client company validation failed")),e.timeline.startDate||(t["timeline.startDate"]="Tanggal mulai harus diisi",console.log("\u274c Start date validation failed")),e.timeline.endDate||(t["timeline.endDate"]="Tanggal selesai harus diisi",console.log("\u274c End date validation failed")),e.timeline.startDate&&e.timeline.endDate&&new Date(e.timeline.startDate)>=new Date(e.timeline.endDate)&&(t["timeline.endDate"]="Tanggal selesai harus setelah tanggal mulai",console.log("\u274c Date range validation failed")),(!e.budget.contractValue||e.budget.contractValue<=0)&&(t["budget.contractValue"]="Nilai kontrak harus lebih dari 0",console.log("\u274c Budget validation failed:",e.budget.contractValue)),e.subsidiary.id||(t.subsidiary="Anak perusahaan yang menjalankan proyek harus dipilih",console.log("\u274c Subsidiary validation failed")),console.log("Validation errors found:",t);const r=0===Object.keys(t).length;return console.log("Form validation result:",r?"\u2705 VALID":"\u274c INVALID"),t})(e);return t(r),n=r,0===Object.keys(n).length;var n},[e,t]),i=(0,a.useCallback)(async t=>{if(t.preventDefault(),console.log("\ud83d\ude80 Form submit triggered"),o()){console.log("\u2705 Validation passed, proceeding with API call"),s(!0);try{const t=(e=>{var t,r,n;return{name:e.name,description:e.description,clientName:e.client.company,clientContact:{contact:e.client.contact||"",phone:e.client.phone||"",email:e.client.email||""},location:{address:(null===(t=e.location)||void 0===t?void 0:t.address)||"",city:(null===(r=e.location)||void 0===r?void 0:r.city)||"",province:(null===(n=e.location)||void 0===n?void 0:n.province)||""},budget:e.budget.contractValue,status:"planning",priority:e.priority||"medium",progress:0,startDate:e.timeline.startDate,endDate:e.timeline.endDate,subsidiary:{id:e.subsidiary.id,code:e.subsidiary.code||"",name:e.subsidiary.name||""}}})(e);console.log("Creating project with data:",t);const n=await ns(t);console.log("API Response data:",n),n.success?(console.log("Project created successfully:",n.data),r("/admin/projects")):(console.error("Failed to create project:",n.message),alert("Gagal membuat proyek: "+n.message))}catch(n){console.error("Error creating project:",n),alert("Terjadi kesalahan saat membuat proyek. Silakan coba lagi.")}finally{s(!1)}}else console.log("\u274c Form validation failed, stopping submission")},[e,o,r]);return{loading:n,handleSubmit:i,handleBack:(0,a.useCallback)(()=>{r("/admin/projects")},[r])}},BP=e=>{let{formData:t,errors:r,handleInputChange:n,handleSubsidiaryChange:a,subsidiaries:s,loadingSubsidiaries:o,subsidiaryError:i,noSubsidiaries:l,getSubsidiaryById:c,projectCodePreview:d,loadingPreview:u}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,Vn.jsx)("span",{className:"w-1 h-5 bg-[#0A84FF] rounded-full"}),"Informasi Dasar"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Nama Proyek *"}),(0,Vn.jsx)("input",{type:"text",value:t.name,onChange:e=>n("name",e.target.value),className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] transition-colors\n                      ".concat(r.name?"border-[#FF3B30]":"border-[#38383A]","\n                      bg-[#1C1C1E] text-white placeholder-[#636366]"),placeholder:"Masukkan nama proyek"}),r.name&&(0,Vn.jsx)("p",{className:"mt-1.5 text-xs text-[#FF3B30]",children:r.name})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Kode Proyek (Auto Generated)"}),(0,Vn.jsx)("div",{className:"relative",children:(0,Vn.jsxs)("div",{className:"w-full px-4 py-2.5 border border-[#38383A] rounded-lg  bg-[#2C2C2E] text-[#98989D] flex items-center justify-between",children:[(0,Vn.jsx)("span",{className:"font-mono text-lg",children:u?(0,Vn.jsxs)("span",{className:"flex items-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Generating..."]}):d||(t.subsidiary.code?(0,Vn.jsx)("span",{className:"text-[#636366]",children:"Kode akan dibuat setelah memilih subsidiary"}):(0,Vn.jsx)("span",{className:"text-[#636366]",children:"Pilih subsidiary untuk generate kode"}))}),d&&(0,Vn.jsx)("span",{className:"text-xs bg-[#30D158]/20 text-[#30D158] px-2 py-1 rounded",children:"Auto Generated"})]})}),d&&(0,Vn.jsxs)("p",{className:"mt-1 text-xs text-[#8E8E93]",children:["Format: Tahun + Kode Subsidiary + Urutan (contoh: ",(new Date).getFullYear(),t.subsidiary.code,"001)"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Anak Perusahaan Pelaksana *"}),o?(0,Vn.jsxs)("div",{className:"w-full px-4 py-2.5 border border-[#38383A] rounded-lg  bg-[#2C2C2E] text-[#8E8E93] flex items-center justify-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Memuat data anak perusahaan..."]}):i?(0,Vn.jsxs)("div",{className:"w-full px-4 py-2.5 border border-[#FF3B30]/50 rounded-lg bg-[#FF3B30]/10 text-[#FF3B30]",children:["Gagal memuat data anak perusahaan: ",i]}):l?(0,Vn.jsx)("div",{className:"w-full px-4 py-2.5 border border-[#FF9F0A]/50 rounded-lg bg-[#FF9F0A]/10 text-[#FF9F0A]",children:"Tidak ada anak perusahaan yang tersedia"}):(0,Vn.jsxs)("select",{value:t.subsidiary.id,onChange:e=>a(e.target.value),className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent\n                        ".concat(r.subsidiary?"border-[#FF3B30]":"border-[#38383A]","\n                        bg-[#1C1C1E] text-white"),children:[(0,Vn.jsx)("option",{value:"",children:"Pilih anak perusahaan yang akan menjalankan proyek"}),s.map(e=>(0,Vn.jsxs)("option",{value:e.id,title:"Spesialisasi: ".concat(e.specialization," | Karyawan: ").concat(e.total_employees," | Lokasi: ").concat(e.location),children:[e.code," - ",e.name," (",e.specialization,")"]},e.id))]}),t.subsidiary.id&&!o&&c&&(0,Vn.jsx)("div",{className:"mt-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:(0,Vn.jsxs)("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,Vn.jsx)("div",{className:"font-medium mb-2",children:"Informasi Anak Perusahaan:"}),(()=>{const e=c(t.subsidiary.id);return e?(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"font-medium",children:"Spesialisasi:"}),(0,Vn.jsx)("span",{className:"ml-2 capitalize",children:e.specialization})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"font-medium",children:"Jumlah Karyawan:"}),(0,Vn.jsxs)("span",{className:"ml-2",children:[e.total_employees||"N/A"," orang"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"font-medium",children:"Lokasi:"}),(0,Vn.jsx)("span",{className:"ml-2",children:e.location||"N/A"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"font-medium",children:"Email:"}),(0,Vn.jsx)("span",{className:"ml-2",children:e.email||"N/A"})]}),e.phone&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"font-medium",children:"Telepon:"}),(0,Vn.jsx)("span",{className:"ml-2",children:e.phone})]}),e.description&&(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("span",{className:"font-medium",children:"Deskripsi:"}),(0,Vn.jsx)("span",{className:"ml-2",children:e.description})]})]}):null})()]})}),!o&&l&&(0,Vn.jsx)("div",{className:"mt-3 p-4 bg-[#FF9F0A]/10 rounded-lg border border-[#FF9F0A]/30",children:(0,Vn.jsxs)("div",{className:"text-sm text-[#FF9F0A]",children:[(0,Vn.jsx)("div",{className:"font-medium mb-1",children:"\u26a0\ufe0f Belum Ada Data Anak Perusahaan"}),(0,Vn.jsx)("div",{children:"Silakan tambahkan data anak perusahaan terlebih dahulu di menu Subsidiaries."})]})}),r.subsidiary&&(0,Vn.jsx)("p",{className:"mt-1 text-sm text-[#FF3B30]",children:r.subsidiary}),t.subsidiary.id&&(0,Vn.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Proyek akan dilaksanakan oleh: ",(0,Vn.jsx)("span",{className:"font-medium",children:t.subsidiary.name})]})]}),(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Deskripsi Proyek"}),(0,Vn.jsx)("textarea",{value:t.description,onChange:e=>n("description",e.target.value),rows:4,className:"w-full px-4 py-2.5 border border-[#38383A] rounded-lg  focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent bg-[#1C1C1E] text-white",placeholder:"Deskripsikan detail proyek..."})]})]})]})},LP=e=>{let{formData:t,errors:r,handleInputChange:n}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,Vn.jsx)("span",{className:"w-1 h-5 bg-[#0A84FF] rounded-full"}),"Informasi Klien"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Nama Perusahaan *"}),(0,Vn.jsx)("input",{type:"text",value:t.client.company,onChange:e=>n("client.company",e.target.value),className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent\n                      ".concat(r["client.company"]?"border-[#FF3B30]":"border-[#38383A]","\n                      bg-[#1C1C1E] text-white"),placeholder:"Nama perusahaan klien"}),r["client.company"]&&(0,Vn.jsx)("p",{className:"mt-1 text-sm text-[#FF3B30]",children:r["client.company"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Kontak Person"}),(0,Vn.jsx)("input",{type:"text",value:t.client.contact,onChange:e=>n("client.contact",e.target.value),className:"w-full px-4 py-2.5 border border-[#38383A] rounded-lg  focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent bg-[#1C1C1E] text-white",placeholder:"Nama kontak person"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Telepon Klien"}),(0,Vn.jsx)("input",{type:"tel",value:t.client.phone,onChange:e=>n("client.phone",e.target.value),className:"w-full px-4 py-2.5 border border-[#38383A] rounded-lg  focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent bg-[#1C1C1E] text-white",placeholder:"081234567890"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Email Klien"}),(0,Vn.jsx)("input",{type:"email",value:t.client.email,onChange:e=>n("client.email",e.target.value),className:"w-full px-4 py-2.5 border border-[#38383A] rounded-lg  focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent bg-[#1C1C1E] text-white",placeholder:"email@client.com"})]})]})]})},zP=e=>{var t,r,n;let{formData:a,handleInputChange:s}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,Vn.jsx)("span",{className:"w-1 h-5 bg-[#0A84FF] rounded-full"}),"Lokasi Proyek"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vn.jsxs)("div",{className:"md:col-span-3",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Alamat Proyek"}),(0,Vn.jsx)("input",{type:"text",value:(null===(t=a.location)||void 0===t?void 0:t.address)||"",onChange:e=>s("location.address",e.target.value),className:"w-full px-4 py-2.5 border border-[#38383A] rounded-lg  focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent bg-[#1C1C1E] text-white",placeholder:"Alamat lengkap lokasi proyek"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Kota"}),(0,Vn.jsx)("input",{type:"text",value:(null===(r=a.location)||void 0===r?void 0:r.city)||"",onChange:e=>s("location.city",e.target.value),className:"w-full px-4 py-2.5 border border-[#38383A] rounded-lg  focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent bg-[#1C1C1E] text-white",placeholder:"Nama kota"})]}),(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Provinsi"}),(0,Vn.jsx)("input",{type:"text",value:(null===(n=a.location)||void 0===n?void 0:n.province)||"",onChange:e=>s("location.province",e.target.value),className:"w-full px-4 py-2.5 border border-[#38383A] rounded-lg  focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent bg-[#1C1C1E] text-white",placeholder:"Nama provinsi"})]})]})]})},UP=["size","className"],WP=["value","onChange","className","style","disabled"],VP=e=>{let{size:t=16,className:r=""}=e,n=(0,go.A)(e,UP);return(0,Vn.jsx)(io,(0,Mt.A)({size:t,className:"text-gray-700 dark:text-white ".concat(r)},n))},HP=e=>{let{value:t,onChange:r,className:n="",style:a={},disabled:s=!1}=e,o=(0,go.A)(e,WP);return(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none z-10",children:(0,Vn.jsx)(VP,{size:18,className:"opacity-70"})}),(0,Vn.jsx)("input",(0,Mt.A)({type:"date",value:t,onChange:r,disabled:s,className:"pl-11 ".concat(n),style:(0,Mt.A)({colorScheme:"dark"},a)},o))]})},KP=["value","onChange","placeholder","allowDecimal","maxDecimal","className","disabled","min","max"],qP=["value","onChange","placeholder","className"],GP=["value","onChange","placeholder","className"],YP=["value","onChange","placeholder","className"],$P=e=>{let{value:t="",onChange:r,placeholder:n="0",allowDecimal:s=!1,maxDecimal:o=2,className:i="",disabled:l=!1,min:c,max:d}=e,u=(0,go.A)(e,KP);const[p,h]=(0,a.useState)(""),m=e=>{if(!e&&0!==e)return"";const t=e.toString().replace(/\./g,"").replace(/,/g,".").split("."),r=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,".");if(s&&t.length>1){const e=t[1].slice(0,o);return"".concat(r,",").concat(e)}return r},f=e=>{if(!e)return"";const t=e.replace(/\./g,"").replace(/,/g,"."),r=parseFloat(t);return isNaN(r)?"":r};(0,a.useEffect)(()=>{h(m(t))},[t]);return(0,Vn.jsx)("input",(0,Mt.A)({type:"text",inputMode:"numeric",value:p,onChange:e=>{let t=e.target.value;if(""===t)return h(""),void(r&&r(""));t=t.replace(/[^\d.,]/g,""),s||(t=t.replace(/,/g,""));const n=f(t);if(void 0!==c&&n<c)return;if(void 0!==d&&n>d)return;const a=m(n);h(a),r&&r(n)},onBlur:()=>{if(p){const e=f(p);h(m(e))}},placeholder:n,disabled:l,className:i},u))},JP=e=>{let{value:t,onChange:r,placeholder:n="Rp 0",className:a=""}=e,s=(0,go.A)(e,qP);return(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 pointer-events-none",children:"Rp"}),(0,Vn.jsx)($P,(0,Mt.A)({value:t,onChange:r,placeholder:n.replace("Rp ",""),className:"pl-12 ".concat(a)},s))]})},XP=e=>{let{value:t,onChange:r,placeholder:n="0",className:a=""}=e,s=(0,go.A)(e,GP);return(0,Vn.jsx)($P,(0,Mt.A)({value:t,onChange:r,placeholder:n,allowDecimal:!0,maxDecimal:2,className:a},s))},QP=e=>{let{value:t,onChange:r,placeholder:n="0",className:a=""}=e,s=(0,go.A)(e,YP);return(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)($P,(0,Mt.A)({value:t,onChange:r,placeholder:n,allowDecimal:!0,maxDecimal:2,min:0,max:100,className:"pr-10 ".concat(a)},s)),(0,Vn.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 pointer-events-none",children:"%"})]})},ZP=e=>{let{formData:t,errors:r,handleInputChange:n}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,Vn.jsx)("span",{className:"w-1 h-5 bg-[#0A84FF] rounded-full"}),"Timeline & Budget"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Tanggal Mulai *"}),(0,Vn.jsx)(HP,{value:t.timeline.startDate,onChange:e=>n("timeline.startDate",e.target.value),className:"w-full pr-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent\n                      ".concat(r["timeline.startDate"]?"border-[#FF3B30]":"border-[#38383A]","\n                      bg-[#1C1C1E] text-white"),placeholder:"Pilih Tanggal Mulai"}),r["timeline.startDate"]&&(0,Vn.jsx)("p",{className:"mt-1 text-sm text-[#FF3B30]",children:r["timeline.startDate"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Tanggal Selesai *"}),(0,Vn.jsx)(HP,{value:t.timeline.endDate,onChange:e=>n("timeline.endDate",e.target.value),className:"w-full pr-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent\n                      ".concat(r["timeline.endDate"]?"border-[#FF3B30]":"border-[#38383A]","\n                      bg-[#1C1C1E] text-white"),placeholder:"Pilih Tanggal Selesai"}),r["timeline.endDate"]&&(0,Vn.jsx)("p",{className:"mt-1 text-sm text-[#FF3B30]",children:r["timeline.endDate"]})]}),(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Nilai Kontrak *"}),(0,Vn.jsx)(JP,{value:t.budget.contractValue,onChange:e=>n("budget.contractValue",e),className:"w-full pr-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent\n                      ".concat(r["budget.contractValue"]?"border-[#FF3B30]":"border-[#38383A]","\n                      bg-[#1C1C1E] text-white"),placeholder:"0",min:1}),r["budget.contractValue"]&&(0,Vn.jsx)("p",{className:"mt-1 text-sm text-[#FF3B30]",children:r["budget.contractValue"]}),(0,Vn.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Masukkan nilai dalam Rupiah (contoh: 500.000.000 untuk 500 juta)"})]})]})]})},eD=()=>{const{formData:e,errors:t,setErrors:r,handleInputChange:n,updateSubsidiary:a,clearSubsidiary:s}=MP(),{projectCodePreview:o,loadingPreview:i,clearCodePreview:l}=_P(e.subsidiary.code),{subsidiaries:c,loading:d,error:u,getSubsidiaryById:p,isEmpty:h}=IP({filterBy:{status:"active"},includeStats:!1}),{loading:m,handleSubmit:f,handleBack:x}=RP(e,r);return(0,Vn.jsx)("div",{className:"min-h-screen bg-[#1C1C1E]",children:(0,Vn.jsxs)("div",{className:"container mx-auto px-4 py-6 max-w-5xl",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,Vn.jsxs)(RE.Ay,{onClick:x,variant:"ghost",size:"sm",className:"text-[#0A84FF] hover:text-[#0A84FF]/80 hover:bg-[#0A84FF]/10",children:[(0,Vn.jsx)(Aa,{className:"w-4 h-4 mr-1.5"}),"Kembali"]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-[#0A84FF]/10 rounded-lg",children:(0,Vn.jsx)(ka,{className:"h-5 w-5 text-[#0A84FF]"})}),(0,Vn.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Buat Proyek Baru"})]})]}),(0,Vn.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,Vn.jsx)(BP,{formData:e,errors:t,handleInputChange:n,handleSubsidiaryChange:async e=>{const t=c.find(t=>t.id===e);t?a(t):(s(),l())},subsidiaries:c,loadingSubsidiaries:d,subsidiaryError:u,noSubsidiaries:h,getSubsidiaryById:p,projectCodePreview:o,loadingPreview:i}),(0,Vn.jsx)(LP,{formData:e,errors:t,handleInputChange:n}),(0,Vn.jsx)(zP,{formData:e,handleInputChange:n}),(0,Vn.jsx)(ZP,{formData:e,errors:t,handleInputChange:n}),(0,Vn.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-2",children:[(0,Vn.jsx)(RE.Ay,{type:"button",onClick:x,variant:"outline",disabled:m,className:"px-6 py-2.5 border-[#38383A] text-[#98989D] hover:text-white hover:border-[#48484A]",children:"Batal"}),(0,Vn.jsx)(RE.Ay,{type:"submit",disabled:m,className:"px-6 py-2.5 bg-[#0A84FF] hover:bg-[#0A84FF]/90 text-white border border-[#0A84FF]/20",children:m?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Menyimpan..."]}):"Simpan Proyek"})]})]})]})})},tD=e=>{var t;if(!e||"draft"===e.status||"pending"===e.status)return"planning";const r=e.rabItems&&e.rabItems.length>0,n=null===(t=e.rabItems)||void 0===t?void 0:t.some(e=>"approved"===e.status);if(r&&!n)return"rab-approval";if(n){var a;const t=e.purchaseOrders&&e.purchaseOrders.length>0,r=null===(a=e.purchaseOrders)||void 0===a?void 0:a.some(e=>"approved"===e.status);if(!t||!r)return"procurement";if(r&&"active"===e.status)return"execution"}return"completed"===e.status?"completion":"planning"},rD=(0,Qn.A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),nD=e=>{if(null===e||void 0===e||isNaN(e))return"Rp 0";const t=parseFloat(e);return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)},aD=e=>e?new Date(e).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",sD=e=>{var t,r,n;let{project:a,workflowData:s}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] overflow-hidden",children:[(0,Vn.jsx)("div",{className:"px-4 py-3 bg-[#1C1C1E] border-b border-[#38383A]",children:(0,Vn.jsxs)("h3",{className:"text-base font-semibold text-white flex items-center",children:[(0,Vn.jsx)(xa,{className:"h-4 w-4 mr-2 text-[#30D158]"}),"Ringkasan Keuangan"]})}),(0,Vn.jsx)("div",{className:"p-4",children:(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center p-3 bg-[#1C1C1E] border border-[#38383A] rounded-lg hover:bg-[#38383A]/30 transition-colors cursor-default",title:"Total budget yang dialokasikan untuk proyek ini",children:[(0,Vn.jsx)("span",{className:"text-sm font-medium text-[#8E8E93]",children:"Total Budget"}),(0,Vn.jsx)("span",{className:"text-base font-bold text-white",children:nD(a.totalBudget)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center p-3 bg-[#0A84FF]/10 border border-[#0A84FF]/30 rounded-lg hover:bg-[#0A84FF]/20 transition-colors cursor-default",title:"Total RAB yang telah disetujui",children:[(0,Vn.jsx)("span",{className:"text-sm font-medium text-[#8E8E93]",children:"RAB Approved"}),(0,Vn.jsx)("span",{className:"text-base font-semibold text-[#0A84FF]",children:nD((null===(t=s.budgetSummary)||void 0===t?void 0:t.approvedAmount)||0)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center p-3 bg-[#FF9F0A]/10 border border-[#FF9F0A]/30 rounded-lg hover:bg-[#FF9F0A]/20 transition-colors cursor-default",title:"Total nilai Purchase Order yang telah dibuat",children:[(0,Vn.jsx)("span",{className:"text-sm font-medium text-[#8E8E93]",children:"PO Committed"}),(0,Vn.jsx)("span",{className:"text-base font-semibold text-[#FF9F0A]",children:nD((null===(r=s.budgetSummary)||void 0===r?void 0:r.committedAmount)||0)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center p-3 bg-[#30D158]/10 border border-[#30D158]/30 rounded-lg hover:bg-[#30D158]/20 transition-colors cursor-default",title:"Total pengeluaran aktual yang telah dicatat",children:[(0,Vn.jsx)("span",{className:"text-sm font-medium text-[#8E8E93]",children:"Actual Spent"}),(0,Vn.jsx)("span",{className:"text-base font-semibold text-[#30D158]",children:nD((null===(n=s.budgetSummary)||void 0===n?void 0:n.actualSpent)||0)})]})]})})]})},oD=e=>{var t,r,n;let{project:a,workflowData:s}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg  border border-[#38383A] overflow-hidden",children:[(0,Vn.jsx)("div",{className:"px-4 py-3 bg-[#1C1C1E] border-b border-[#38383A]",children:(0,Vn.jsxs)("h3",{className:"text-base font-semibold text-white flex items-center",children:[(0,Vn.jsx)(ba,{className:"h-5 w-5 mr-2 text-[#BF5AF2]"}),"Statistik Cepat"]})}),(0,Vn.jsx)("div",{className:"p-4",children:(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-[#1C1C1E] rounded-lg transition-colors",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-[#0A84FF]/20 rounded-lg",children:(0,Vn.jsx)(li,{className:"h-4 w-4 text-[#0A84FF]"})}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-[#98989D]",children:"RAB Items"})]}),(0,Vn.jsx)("span",{className:"text-base font-bold text-white",children:(null===(t=a.rabItems)||void 0===t?void 0:t.length)||0})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-[#1C1C1E] rounded-lg transition-colors",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-[#FF9F0A]/20 rounded-lg",children:(0,Vn.jsx)(Sa,{className:"h-4 w-4 text-[#FF9F0A]"})}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-[#98989D]",children:"Pending Approvals"})]}),(0,Vn.jsx)("span",{className:"text-base font-bold text-[#FF9F0A]",children:(null===(r=s.approvalStatus)||void 0===r?void 0:r.pending)||0})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-[#1C1C1E] rounded-lg transition-colors",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-[#30D158]/20 rounded-lg",children:(0,Vn.jsx)(Jo,{className:"h-4 w-4 text-[#30D158]"})}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-[#98989D]",children:"Active POs"})]}),(0,Vn.jsx)("span",{className:"text-base font-bold text-[#30D158]",children:(null===(n=s.purchaseOrders)||void 0===n?void 0:n.filter(e=>"active"===e.status).length)||0})]})]})})]})},iD=(0,Qn.A)("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),lD=e=>{let{project:t,workflowData:r}=e;const n=(0,a.useMemo)(()=>{var e;const n=[],a=e=>{if(!e.timestamp)return;const t=new Date(e.timestamp).getTime();let r=n.findIndex(e=>new Date(e.timestamp).getTime()<t);-1===r?n.length<5&&n.push(e):(n.splice(r,0,e),n.length>5&&n.pop())};return Array.isArray(null===r||void 0===r||null===(e=r.rabStatus)||void 0===e?void 0:e.data)&&r.rabStatus.data.forEach(e=>{null!==e&&void 0!==e&&e.approvedAt&&a({type:"approval",title:"RAB Item disetujui",description:e.description||"Item budget",timestamp:e.approvedAt,icon:Ea.A,color:"#30D158"})}),Array.isArray(null===r||void 0===r?void 0:r.purchaseOrders)&&r.purchaseOrders.forEach(e=>{null!==e&&void 0!==e&&e.createdAt&&a({type:"purchase",title:"Purchase Order dibuat",description:"PO: ".concat(e.poNumber||"N/A"),timestamp:e.createdAt,icon:Jo,color:"#0A84FF"})}),Array.isArray(null===r||void 0===r?void 0:r.deliveryReceipts)&&r.deliveryReceipts.forEach(e=>{var t;null!==e&&void 0!==e&&e.createdAt&&a({type:"delivery",title:"Material diterima",description:"".concat((null===(t=e.items)||void 0===t?void 0:t.length)||0," items dari ").concat(e.supplier||"supplier"),timestamp:e.createdAt,icon:Xo,color:"#BF5AF2"})}),Array.isArray(null===r||void 0===r?void 0:r.beritaAcara)&&r.beritaAcara.forEach(e=>{null!==e&&void 0!==e&&e.createdAt&&a({type:"document",title:"Berita Acara dibuat",description:e.title||e.description||"Dokumen resmi",timestamp:e.createdAt,icon:iD,color:"#FF9F0A"})}),null!==t&&void 0!==t&&t.createdAt&&a({type:"creation",title:"Proyek dibuat",description:t.projectName||t.name,timestamp:t.createdAt,icon:di,color:"#8E8E93"}),n},[t,r]);return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] overflow-hidden",children:[(0,Vn.jsx)("div",{className:"px-4 py-3 bg-[#1C1C1E] border-b border-[#38383A]",children:(0,Vn.jsxs)("h3",{className:"text-base font-semibold text-white flex items-center",children:[(0,Vn.jsx)(ri,{className:"h-5 w-5 mr-2 text-[#0A84FF]"}),"Aktivitas Terbaru"]})}),(0,Vn.jsx)("div",{className:"p-4",children:n.length>0?(0,Vn.jsx)("div",{className:"space-y-3",children:n.map((e,t)=>{const r=e.icon;return(0,Vn.jsxs)("div",{className:"flex items-start space-x-3 p-3 hover:bg-[#1C1C1E] rounded-lg transition-colors",children:[(0,Vn.jsx)("div",{className:"p-1.5 rounded-lg flex-shrink-0",style:{backgroundColor:"".concat(e.color,"20")},children:(0,Vn.jsx)(r,{className:"h-4 w-4",style:{color:e.color}})}),(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium text-white truncate",children:e.title}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] truncate",children:e.description}),(0,Vn.jsx)("p",{className:"text-xs text-[#98989D] mt-1",children:aD(e.timestamp)})]})]},t)})}):(0,Vn.jsxs)("div",{className:"text-center py-8 px-4",children:[(0,Vn.jsx)(ri,{className:"h-12 w-12 mx-auto text-[#636366] mb-3"}),(0,Vn.jsx)("p",{className:"text-white font-medium mb-1",children:"Belum Ada Aktivitas"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] leading-relaxed",children:"Aktivitas proyek akan muncul di sini"})]})})]})},cD=(0,Qn.A)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),dD=[{id:"planning",label:"Perencanaan",icon:cD,description:"Setup awal proyek dan persiapan dokumen"},{id:"rab-approval",label:"Approval RAB",icon:li,description:"Persetujuan Rencana Anggaran Biaya"},{id:"procurement",label:"Pengadaan",icon:Jo,description:"Proses pembelian dan pengadaan material"},{id:"execution",label:"Eksekusi",icon:ri,description:"Pelaksanaan pekerjaan konstruksi"},{id:"completion",label:"Selesai",icon:Ea.A,description:"Penyelesaian dan serah terima proyek"}],uD=(e,t,r)=>{var n,a,s,o,i,l,c,d,u,p,h;switch(e){case"planning":return(0,Vn.jsx)("p",{children:"draft"===t.status||"pending"===t.status?"Belum dimulai - perlu setup awal":"Tahap perencanaan selesai"});case"rab-approval":return(0,Vn.jsx)("p",{children:(null===(n=t.rabItems)||void 0===n?void 0:n.length)>0?"".concat(t.rabItems.length," item RAB - ").concat(null!==(a=r.rabStatus)&&void 0!==a&&a.approved?"Sudah disetujui":"Menunggu persetujuan"):"Belum ada item RAB"});case"procurement":const e=(null===(s=r.purchaseOrders)||void 0===s?void 0:s.length)||0,m=(null===(o=r.purchaseOrders)||void 0===o||null===(i=o.filter(e=>"approved"===e.status||"received"===e.status))||void 0===i?void 0:i.length)||0,f=(null===(l=r.purchaseOrders)||void 0===l||null===(c=l.filter(e=>{var t;return null===(t=r.deliveryReceipts)||void 0===t?void 0:t.some(t=>t.poNumber===e.id&&("received"===t.status||"completed"===t.status))}))||void 0===c?void 0:c.length)||0,x=(null===(d=r.deliveryReceipts)||void 0===d?void 0:d.length)>0;return(0,Vn.jsxs)("div",{className:"space-y-1",children:[(0,Vn.jsx)("p",{children:e>0?"".concat(e," Purchase Order"):"Belum ada Purchase Order"}),e>0&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsxs)("p",{children:["\u2022 Disetujui: ",m," dari ",e," PO"]}),(0,Vn.jsxs)("p",{children:["\u2022 Diterima: ",f," dari ",e," PO"]}),x&&f<e&&(0,Vn.jsx)("p",{className:"text-[#0A84FF] font-medium mt-2",children:"\u2139\ufe0f Material sedang diterima bertahap, eksekusi sudah dimulai"}),f===e&&(0,Vn.jsx)("p",{className:"text-[#30D158] font-medium mt-2",children:"\u2713 Semua material sudah diterima lengkap"})]})]});case"execution":const g=(null===(u=r.deliveryReceipts)||void 0===u?void 0:u.length)>0,b=(null===(p=r.deliveryReceipts)||void 0===p?void 0:p.length)||0,y=(null===(h=r.milestones)||void 0===h?void 0:h.data)||[],v=y.length,j=y.filter(e=>"completed"===e.status||100===e.progress),w=y.filter(e=>"in_progress"===e.status||"in-progress"===e.status),N=y.filter(e=>"pending"===e.status&&e.progress<100),A=j.length,k=w.length,C=v>0?Math.round(y.reduce((e,t)=>e+(t.progress||0),0)/v):0,F=(w.length>0&&Math.round(w.reduce((e,t)=>e+(t.progress||0),0)/w.length),v>0&&A===v);return(0,Vn.jsx)("div",{className:"space-y-1",children:F?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("p",{className:"text-[#30D158] font-medium",children:"\u2713 Eksekusi selesai - Semua milestone 100%"}),(0,Vn.jsxs)("p",{children:["\u2022 ",A," dari ",v," milestone selesai"]})]}):v>0?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsxs)("p",{className:"font-medium",children:["Dalam tahap pelaksanaan (",C,"% keseluruhan)"]}),(0,Vn.jsxs)("p",{children:["\u2022 Progress: ",A," selesai, ",k," berjalan, ",N.length," menunggu"]}),k>0&&(0,Vn.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,Vn.jsx)("p",{className:"text-[#0A84FF] font-medium",children:"Milestone sedang berjalan:"}),w.slice(0,3).map((e,t)=>(0,Vn.jsxs)("p",{className:"text-xs ml-4",children:["\u2023 ",e.title,": ",e.progress||0,"%"]},t)),w.length>3&&(0,Vn.jsxs)("p",{className:"text-xs ml-4",children:["\u2023 +",w.length-3," milestone lainnya"]})]}),A>0&&(0,Vn.jsx)("div",{className:"mt-2",children:(0,Vn.jsxs)("p",{className:"text-[#30D158] text-xs",children:["\u2713 ",A," milestone sudah selesai"]})}),g&&(0,Vn.jsxs)("p",{className:"text-xs mt-2",children:["\u2022 ",b," tanda terima material"]})]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("p",{className:"text-[#FF9500] font-medium",children:"\u26a0\ufe0f Siap untuk eksekusi"}),(0,Vn.jsx)("p",{className:"text-xs",children:"Belum ada milestone dibuat"}),g&&(0,Vn.jsxs)("p",{className:"text-xs",children:["\u2022 ",b," tanda terima material sudah diterima"]}),(0,Vn.jsx)("p",{className:"text-xs text-[#0A84FF] mt-2",children:"\ud83d\udca1 Buat milestone untuk mulai tracking progress eksekusi"})]})});case"completion":return(0,Vn.jsx)("p",{children:"completed"===t.status?"Proyek telah selesai":"Menunggu eksekusi selesai"});default:return null}},pD=e=>{let{workflowData:t,project:r}=e;const n=(()=>{var e,n,a,s,o,i,l,c,d;const u="draft"!==r.status&&"pending"!==r.status,p=r.rabItems&&r.rabItems.length>0&&(null===(e=t.rabStatus)||void 0===e?void 0:e.approved),h=u&&p,m=(null===(n=t.purchaseOrders)||void 0===n?void 0:n.length)>0,f=null===(a=t.purchaseOrders)||void 0===a?void 0:a.some(e=>"approved"===e.status||"received"===e.status),x=null===(s=t.purchaseOrders)||void 0===s?void 0:s.every(e=>"received"===e.status),g=h&&m&&x,b=(null===(o=t.deliveryReceipts)||void 0===o?void 0:o.length)>0;console.log("\ud83d\udd0d Execution Stage Debug:",{milestones:t.milestones,milestonesData:null===(i=t.milestones)||void 0===i?void 0:i.data,projectStatus:r.status});const y=(null===(l=t.milestones)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.some(e=>(console.log("Checking milestone:",e.title,"status:",e.status),"in_progress"===e.status||"in-progress"===e.status)))||!1,v=(null===(d=t.milestones)||void 0===d?void 0:d.data)||[],j=v.length>0,w=j&&v.every(e=>"completed"===e.status||100===e.progress),N=h&&(g||f||b||y||j);console.log("\u2705 Execution Calculation:",{has_delivery_receipts:b,has_active_milestones:y,rab_completed:h,po_approved:f,procurement_completed:g,execution_started:N,has_milestones:j,all_milestones_completed:w,milestones:v.map(e=>({title:e.title,status:e.status,progress:e.progress}))});const A=N&&(w||"completed"===r.status),k=A&&"completed"===r.status;return dD.map(e=>(0,Mt.A)((0,Mt.A)({},e),{},{completed:"planning"===e.id?u:"rab-approval"===e.id?h:"procurement"===e.id?g:"execution"===e.id?A:"completion"===e.id&&k,active:"planning"===e.id?!u:"rab-approval"===e.id?u&&!h:"procurement"===e.id?h&&!g:"execution"===e.id?N&&!A:"completion"===e.id&&(A&&!k)}))})();n.findIndex(e=>e.active);return(0,Vn.jsx)("div",{className:"space-y-4",children:(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-[#38383A]"}),(0,Vn.jsx)("div",{className:"space-y-4",children:n.map((e,n)=>{const a=e.icon,s=e.active,o=e.completed;return(0,Vn.jsxs)("div",{className:"relative flex items-start",children:[(0,Vn.jsx)("div",{className:"\n                  relative z-10 flex items-center justify-center w-12 h-12 rounded-full border-4 transition-all duration-300 ".concat(o?"bg-[#30D158] border-[#30D158]/30 text-white":s?"bg-[#0A84FF] border-[#0A84FF]/30 text-white":"bg-[#2C2C2E] border-[#38383A] text-[#636366]","\n                "),children:o?(0,Vn.jsx)(Ea.A,{className:"h-6 w-6"}):(0,Vn.jsx)(a,{className:"h-6 w-6"})}),(0,Vn.jsx)("div",{className:"ml-4 flex-1 min-w-0",children:(0,Vn.jsxs)("div",{className:"\n                    p-4 rounded-lg border transition-all duration-300 ".concat(o?"bg-[#30D158]/10 border-[#30D158]/30":s?"bg-[#0A84FF]/10 border-[#0A84FF]/30":"bg-[#1C1C1E] border-[#38383A]","\n                  "),children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vn.jsx)("h5",{className:"font-semibold ".concat(o?"text-[#30D158]":s?"text-[#0A84FF]":"text-[#8E8E93]"),children:e.label}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[o&&(0,Vn.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-[#30D158]/20 text-[#30D158]",children:"Selesai"}),s&&!o&&(0,Vn.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-[#0A84FF]/20 text-[#0A84FF]",children:"Sedang Berjalan"}),!o&&!s&&(0,Vn.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-[#3A3A3C] text-[#8E8E93]",children:"Menunggu"})]})]}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mb-2",children:e.description}),(0,Vn.jsx)("div",{className:"text-xs text-[#98989D]",children:uD(e.id,r,t)})]})})]},e.id)})})]})})},hD=e=>{var t,r,n,a,s,o,i,l,c,d;let{project:u}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] overflow-hidden",children:[(0,Vn.jsx)("div",{className:"px-4 py-3 bg-[#1C1C1E] border-b border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("h3",{className:"text-base font-semibold text-white flex items-center",children:[(0,Vn.jsx)(VP,{size:16,className:"mr-2 text-[#0A84FF]"}),"Informasi Proyek"]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsxs)("button",{onClick:()=>{window.location.href="/admin/contracts?project=".concat(u.id)},className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-[#8E8E93] bg-[#2C2C2E] border border-[#38383A] rounded-lg hover:bg-[#38383A] hover:text-white transition-colors",title:"Lihat kontrak proyek",children:[(0,Vn.jsx)(qE,{className:"h-3.5 w-3.5 mr-1.5"}),"Kontrak"]}),(0,Vn.jsxs)("button",{onClick:()=>{window.location.href="/admin/projects/".concat(u.id,"/edit")},className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-white bg-[#0A84FF] rounded-lg hover:bg-[#0A84FF]/80 transition-colors",title:"Edit informasi proyek",children:[(0,Vn.jsx)(rD,{className:"h-3.5 w-3.5 mr-1.5"}),"Edit Proyek"]})]})]})}),(0,Vn.jsx)("div",{className:"p-4",children:(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-1",children:"Nama Proyek"}),(0,Vn.jsx)("h2",{className:"text-lg font-bold text-white break-words word-wrap",children:u.name||u.title||"Nama proyek tidak tersedia"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-1",children:"Kode Proyek"}),(0,Vn.jsx)("p",{className:"text-sm font-semibold text-white bg-[#1C1C1E] px-3 py-2 rounded-lg border border-[#38383A]",children:u.code||u.id||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-1",children:"Jenis Proyek"}),(0,Vn.jsx)("p",{className:"text-sm text-white",children:u.type||u.category||"Konstruksi Umum"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-1",children:"Subsidiary / Anak Perusahaan"}),(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] px-3 py-2 rounded-lg border border-[#38383A]",children:[(0,Vn.jsx)("p",{className:"text-sm font-semibold text-white",children:(null===(t=u.subsidiaryInfo)||void 0===t?void 0:t.name)||(null===(r=u.subsidiary)||void 0===r?void 0:r.name)||"Tidak ada subsidiary"}),((null===(n=u.subsidiaryInfo)||void 0===n?void 0:n.code)||(null===(a=u.subsidiary)||void 0===a?void 0:a.code))&&(0,Vn.jsxs)("p",{className:"text-xs text-[#636366] mt-0.5",children:["Kode: ",(null===(s=u.subsidiaryInfo)||void 0===s?void 0:s.code)||(null===(o=u.subsidiary)||void 0===o?void 0:o.code)]}),((null===(i=u.subsidiaryInfo)||void 0===i?void 0:i.specialization)||(null===(l=u.subsidiary)||void 0===l?void 0:l.specialization))&&(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mt-1",children:(null===(c=u.subsidiaryInfo)||void 0===c?void 0:c.specialization)||(null===(d=u.subsidiary)||void 0===d?void 0:d.specialization)})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-1",children:"Klien"}),(0,Vn.jsx)("div",{className:"text-sm text-white",children:mD(u.client,u.clientName)})]})]}),(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-1",children:"Lokasi Proyek"}),(0,Vn.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Vn.jsx)(bo,{className:"h-4 w-4 text-[#8E8E93] mt-0.5 flex-shrink-0"}),(0,Vn.jsx)("p",{className:"text-sm text-white break-words word-wrap leading-relaxed",children:fD(u.location)})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-1",children:"Durasi Proyek"}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)(VP,{size:16,className:"text-[#8E8E93]"}),(0,Vn.jsx)("p",{className:"text-sm text-white",children:u.startDate&&u.endDate?(0,Vn.jsxs)(Vn.Fragment,{children:[aD(u.startDate)," - ",aD(u.endDate),(0,Vn.jsxs)("span",{className:"ml-2 text-xs text-[#636366]",children:["(",(p=u.startDate,h=u.endDate,p&&h?Math.ceil((new Date(h)-new Date(p))/864e5):0)," hari)"]})]}):"Tanggal belum ditentukan"})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-1",children:"Status Saat Ini"}),(0,Vn.jsx)("div",{className:"flex items-center space-x-2",children:(0,Vn.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ".concat(xD(u.status)),children:gD(u.status)})})]})]})]})})]});var p,h},mD=(e,t)=>"object"===typeof e&&e?e.company?(0,Vn.jsxs)("div",{className:"space-y-1",children:[(0,Vn.jsx)("p",{className:"font-medium break-words",children:e.company}),e.pic&&(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93]",children:["PIC: ",e.pic]}),e.email&&(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93]",children:["Email: ",e.email]}),e.phone&&(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93]",children:["Telepon: ",e.phone]})]}):e.name||"Klien tidak diketahui":e||t||"-",fD=e=>"object"===typeof e&&e?[e.address,e.city,e.state,e.country].filter(Boolean).join(", ")||"Lokasi belum ditentukan":e||"Lokasi belum ditentukan",xD=e=>({active:"bg-[#30D158]/20 text-[#30D158]",planning:"bg-[#0A84FF]/20 text-[#0A84FF]","on-hold":"bg-[#FF9F0A]/20 text-[#FF9F0A]",completed:"bg-[#8E8E93]/20 text-[#8E8E93]"}[e]||"bg-[#8E8E93]/20 text-[#8E8E93]"),gD=e=>({active:"Aktif",planning:"Perencanaan","on-hold":"Ditunda",completed:"Selesai"}[e]||"Tidak Diketahui"),bD=e=>{var t,r,n,s;let{project:o,workflowData:i}=e;if(a.useEffect(()=>{var e,t,r;if(o&&i&&(console.log("=== ProjectOverview Debug ==="),console.log("Project Budget:",o.budget||o.totalBudget),console.log("Budget Summary:",i.budgetSummary),console.log("RAB Items Count:",null===(e=o.rabItems)||void 0===e?void 0:e.length),console.log("PO Count:",null===(t=i.purchaseOrders)||void 0===t?void 0:t.length),(null===(r=o.rabItems)||void 0===r?void 0:r.length)>0)){const e=o.rabItems[0];console.log("Sample RAB Item:",{id:e.id,description:e.description,totalPrice:e.totalPrice,amount:e.amount,status:e.status,isApproved:e.isApproved})}},[o,i]),!o)return(0,Vn.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Memuat data proyek..."})]})});const l=((e,t)=>{const r=parseFloat(e)||0,n=parseFloat(t)||0;return 0===r?0:Math.round(n/r*100)})(o.totalBudget,(null===i||void 0===i||null===(t=i.budgetSummary)||void 0===t?void 0:t.actualSpent)||0),c=((e,t)=>{var r,n,a,s;if(!e||!t)return 0;let o=0;"draft"!==t.status&&"pending"!==t.status&&(o+=1);const i=t.rabItems&&t.rabItems.length>0,l=null===(r=e.rabStatus)||void 0===r?void 0:r.approved;i&&l&&(o+=1);const c=(null===(n=e.purchaseOrders)||void 0===n?void 0:n.length)>0,d=null===(a=e.purchaseOrders)||void 0===a?void 0:a.some(e=>"approved"===e.status);return c&&d&&(o+=1),(null===(s=e.deliveryReceipts)||void 0===s?void 0:s.length)>0&&(o+=1),"completed"===t.status&&(o+=1),Math.round(o/5*100)})(i,o);return(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-4",children:[(0,Vn.jsx)("div",{className:"flex items-center justify-between",children:(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-[#30D158]/20 rounded-lg",children:(0,Vn.jsx)(xa,{className:"h-5 w-5 text-[#30D158]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:"Budget Utilization"}),(0,Vn.jsxs)("p",{className:"text-lg font-semibold text-white",children:[l,"%"]})]})]})}),(0,Vn.jsxs)("div",{className:"mt-2 pt-2 border-t border-[#38383A]",children:[(0,Vn.jsx)("div",{className:"mb-3",children:(0,Vn.jsx)("div",{className:"w-full bg-[#38383A] rounded-full h-2 overflow-hidden",children:(0,Vn.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(l>90?"bg-[#FF453A]":l>75?"bg-[#FF9F0A]":"bg-[#30D158]"),style:{width:"".concat(Math.min(l,100),"%")}})})}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsx)("span",{className:"text-xs text-[#98989D]",children:"Terpakai:"}),(0,Vn.jsx)("span",{className:"text-xs text-white font-medium",children:nD((null===i||void 0===i||null===(r=i.budgetSummary)||void 0===r?void 0:r.actualSpent)||0)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,Vn.jsx)("span",{className:"text-xs text-[#98989D]",children:"Total Budget:"}),(0,Vn.jsx)("span",{className:"text-xs text-[#8E8E93]",children:nD(o.totalBudget||0)})]})]})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-4",children:[(0,Vn.jsx)("div",{className:"flex items-center justify-between",children:(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-[#0A84FF]/20 rounded-lg",children:(0,Vn.jsx)(ui,{className:"h-5 w-5 text-[#0A84FF]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:"Project Progress"}),(0,Vn.jsxs)("p",{className:"text-lg font-semibold text-white",children:[c,"%"]})]})]})}),(0,Vn.jsxs)("div",{className:"mt-2 pt-2 border-t border-[#38383A]",children:[(0,Vn.jsx)("div",{className:"w-full bg-[#38383A] rounded-full h-2 overflow-hidden",children:(0,Vn.jsx)("div",{className:"h-full bg-[#0A84FF] rounded-full transition-all duration-500",style:{width:"".concat(c,"%")}})}),(0,Vn.jsx)("p",{className:"text-xs text-[#98989D] mt-2",children:"Kelengkapan tahapan workflow"})]})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-4",children:[(0,Vn.jsx)("div",{className:"flex items-center justify-between",children:(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-[#BF5AF2]/20 rounded-lg",children:(0,Vn.jsx)(ma,{className:"h-5 w-5 text-[#BF5AF2]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:"Anggota Tim"}),(0,Vn.jsx)("p",{className:"text-lg font-semibold text-white",children:(null===(n=o.teamMembers)||void 0===n?void 0:n.length)||0})]})]})}),(0,Vn.jsx)("div",{className:"mt-2 pt-2 border-t border-[#38383A]",children:(0,Vn.jsx)("p",{className:"text-xs text-[#98989D]",children:"Tim Aktif"})})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-4",children:[(0,Vn.jsx)("div",{className:"flex items-center justify-between",children:(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-[#FF9F0A]/20 rounded-lg",children:(0,Vn.jsx)(di,{className:"h-5 w-5 text-[#FF9F0A]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:"Dokumen"}),(0,Vn.jsx)("p",{className:"text-lg font-semibold text-white",children:(null===(s=o.documents)||void 0===s?void 0:s.length)||0})]})]})}),(0,Vn.jsx)("div",{className:"mt-2 pt-2 border-t border-[#38383A]",children:(0,Vn.jsx)("p",{className:"text-xs text-[#98989D]",children:"File Terlampir"})})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,Vn.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,Vn.jsx)(hD,{project:o}),o.description&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] overflow-hidden",children:[(0,Vn.jsx)("div",{className:"px-4 py-3 bg-[#1C1C1E] border-b border-[#38383A]",children:(0,Vn.jsx)("h3",{className:"text-base font-semibold text-white",children:"Deskripsi Proyek"})}),(0,Vn.jsx)("div",{className:"p-4",children:(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] leading-relaxed whitespace-pre-wrap break-words",children:o.description})})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] overflow-hidden",children:[(0,Vn.jsx)("div",{className:"px-4 py-3 bg-[#1C1C1E] border-b border-[#38383A]",children:(0,Vn.jsxs)("h3",{className:"text-base font-semibold text-white flex items-center",children:[(0,Vn.jsx)(VP,{size:16,className:"mr-2 text-[#30D158]"}),"Alur Tahapan Proyek"]})}),(0,Vn.jsx)("div",{className:"p-4",children:(0,Vn.jsx)(pD,{workflowData:i,project:o})})]})]}),(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsx)(sD,{project:o,workflowData:i}),(0,Vn.jsx)(oD,{project:o,workflowData:i}),(0,Vn.jsx)(lD,{project:o,workflowData:i})]})]})]})},yD=(0,Qn.A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),vD=(Ea.A,e=>{let{project:t,onStatusUpdate:r}=e;const[n,s]=(0,a.useState)((null===t||void 0===t?void 0:t.status)||"active"),[o,i]=(0,a.useState)(""),[l,c]=(0,a.useState)(!1),d=[{value:"planning",label:"Perencanaan",color:"#FF9500"},{value:"active",label:"Aktif / Dalam Pengerjaan",color:"#0A84FF"},{value:"on_hold",label:"Terhenti",color:"#FF3B30"},{value:"completed",label:"Selesai",color:"#34C759"},{value:"cancelled",label:"Dibatalkan",color:"#636366"}],u=d.find(e=>e.value===n);return(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-4 md:p-5 mb-4 border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[(0,Vn.jsx)("div",{className:"flex-shrink-0",children:(0,Vn.jsx)("label",{className:"text-sm font-medium text-[#8E8E93]",children:"Quick Status Update:"})}),(0,Vn.jsxs)("div",{className:"relative flex-shrink-0 w-full md:w-64",children:[(0,Vn.jsx)("select",{value:n,onChange:e=>{const t=e.target.value;s(t)},className:"w-full appearance-none bg-[#1C1C1E] text-white rounded-lg px-4 py-2.5 pr-10  border border-[#38383A] focus:border-[#0A84FF] focus:outline-none focus:ring-1 focus:ring-[#0A84FF] transition-colors text-sm font-medium",style:{color:null===u||void 0===u?void 0:u.color},children:d.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,Vn.jsx)(na.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#8E8E93] pointer-events-none"})]}),(0,Vn.jsx)("div",{className:"flex-1 min-w-0",children:(0,Vn.jsx)("input",{type:"text",value:o,onChange:e=>{i(e.target.value)},placeholder:"Catatan perubahan status (opsional)",className:"w-full bg-[#1C1C1E] text-white placeholder-[#636366] rounded-lg px-4 py-2.5 border border-[#38383A] focus:border-[#0A84FF] focus:outline-none focus:ring-1 focus:ring-[#0A84FF] transition-colors text-sm"})}),(n!==(null===t||void 0===t?void 0:t.status)||o.trim())&&(0,Vn.jsx)("button",{onClick:async()=>{if(n!==(null===t||void 0===t?void 0:t.status)||o.trim()){c(!0);try{await(null===r||void 0===r?void 0:r({status:n,notes:o.trim()})),i("")}catch(e){console.error("Failed to update status:",e)}finally{c(!1)}}},disabled:l,className:"flex-shrink-0 bg-[#0A84FF] hover:bg-[#0A84FF]/90 text-white px-5 py-2.5 rounded-lg font-medium text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:l?"Updating...":"Update"})]})})}),jD=(0,Qn.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),wD=(0,Qn.A)("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),ND=(0,Qn.A)("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),AD=[{id:"overview",label:"Ringkasan",icon:jD,path:"overview",description:"Ringkasan proyek",hasChildren:!1},{id:"budget",label:"Anggaran (RAB/PO/WO",icon:li,description:"Manajemen anggaran dan pembelian",hasChildren:!0,children:[{id:"rab-workflow",label:"RAB",path:"rab-workflow",icon:li,description:"Rencana Anggaran Biaya"},{id:"purchase-orders",label:"Purchase Orders",path:"purchase-orders",icon:Jo,description:"Manajemen Purchase Order"},{id:"work-orders",label:"Work Orders",path:"work-orders",icon:wD,description:"Manajemen Work Order (Jasa & Tenaga Kerja)"}]},{id:"milestones",label:"Progres",icon:Ua,path:"milestones",description:"Target dan pencapaian proyek",hasChildren:!1},{id:"ba-payments",label:"BA & Pembayaran",icon:wD,description:"Berita Acara dan Progress Payment",hasChildren:!0,children:[{id:"berita-acara",label:"Berita Acara",path:"berita-acara",icon:ND,description:"Berita Acara Pekerjaan"},{id:"progress-payments",label:"Progress Payment",path:"progress-payments",icon:yD,description:"Pembayaran Progres"}]},{id:"documents",label:"Dokumen",icon:ha,path:"documents",description:"Dokumen dan file proyek",hasChildren:!1},{id:"operations",label:"Tim",icon:ma,path:"team",description:"Tim dan personel proyek",hasChildren:!1},{id:"analytics",label:"Laporan",icon:ba,description:"Laporan dan analisis proyek",hasChildren:!0,children:[{id:"budget-monitoring",label:"Monitoring Anggaran",path:"budget-monitoring",icon:ui,description:"Monitoring Anggaran Proyek"},{id:"reports",label:"Laporan",path:"reports",icon:ba,description:"Laporan & Analisis"}]}],kD=e=>{let{activeTab:t,onTabChange:r}=e;const{mainTab:n,subTab:a}=(e=>{for(const t of AD){if(t.path===e)return{mainTab:t,subTab:null};if(t.hasChildren){const r=t.children.find(t=>t.path===e);if(r)return{mainTab:t,subTab:r}}}return{mainTab:null,subTab:null}})(t);return(0,Vn.jsxs)("div",{className:"mb-6",children:[(0,Vn.jsx)("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:AD.map(e=>{const a=(null===n||void 0===n?void 0:n.id)===e.id||((e,t)=>!!e.hasChildren&&e.children.some(e=>e.path===t))(e,t),s=e.icon;return(0,Vn.jsxs)("button",{onClick:()=>(e=>{if(e.hasChildren){const t=e.children[0];r(t.path)}else r(e.path)})(e),className:"\n                flex items-center gap-1.5 px-3 py-2 rounded-full font-medium text-xs\n                transition-all duration-200 whitespace-nowrap\n                ".concat(a?"bg-[#3A3A3C] text-white border border-[#0A84FF] shadow-lg shadow-[#0A84FF]/20":"bg-transparent text-[#8E8E93] border border-[#48484A] hover:bg-[#2C2C2E] hover:text-white hover:border-[#5E5E60]","\n              "),children:[(0,Vn.jsx)(s,{className:"w-3.5 h-3.5 ".concat(a?"text-[#0A84FF]":"text-[#8E8E93]")}),(0,Vn.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.id)})}),(null===n||void 0===n?void 0:n.hasChildren)&&(0,Vn.jsx)("div",{className:"flex items-center gap-0 border-b border-[#38383A] overflow-x-auto",children:n.children.map(e=>{const t=(null===a||void 0===a?void 0:a.id)===e.id;return(0,Vn.jsxs)("button",{onClick:()=>(e=>{r(e.path)})(e),className:"\n                  px-4 py-2.5 text-xs font-medium transition-all duration-200 relative whitespace-nowrap\n                  ".concat(t?"text-white":"text-[#8E8E93] hover:text-white hover:bg-[#2C2C2E]/50","\n                "),children:[e.label,t&&(0,Vn.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#0A84FF]"})]},e.id)})})]})},CD=(Ea.A,(0,Qn.A)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])),FD=(e,t)=>{const[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(0),u=(0,a.useRef)(t);(0,a.useEffect)(()=>{u.current=t},[t]);const p=async()=>{try{if(o(!0),console.log("\ud83d\udd04 useRABItems: Starting fetchRABData for projectId:",e),!e)return console.log("\u26a0\ufe0f useRABItems: No projectId provided"),void n([]);const t=localStorage.getItem("token");if(!t)return console.log("\u26a0\ufe0f useRABItems: No token found"),void n([]);console.log("\ud83d\udce1 useRABItems: Making API call to get RAB items..."),console.log("\ud83d\udce1 useRABItems: Project ID:",e);const r=await fetch("/api/projects/".concat(e,"/rab"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});console.log("\ud83d\udce1 useRABItems: Response status:",r.status);const a=await r.json();if(console.log("\ud83d\ude80 useRABItems: Full result:",a),!r.ok)throw new Error("HTTP ".concat(r.status,": ").concat(a.message||"API Error"));if(!a.success)throw new Error("Database Error: ".concat(a.message));const s=a.data||[];if(console.log("\ud83d\udd0d useRABItems: Items found:",s.length,s),0===s.length)return console.log("\u26a0\ufe0f useRABItems: No RAB items found for project:",e),n([]),void l(null);const i=s.map((e,t)=>(console.log("\ud83d\udd04 useRABItems: Transforming item ".concat(t+1,":"),e),{id:e.id,code:"RAB-".concat(e.id.substring(0,8)),name:e.description||"No description",category:e.category||"Unknown",description:e.description||"No description",unit:e.unit||"Unit",quantity:parseFloat(e.quantity)||0,unitPrice:parseFloat(e.unitPrice)||0,total:parseFloat(e.totalPrice)||0,totalPrice:parseFloat(e.totalPrice)||0,total_amount:parseFloat(e.totalPrice)||0,specifications:e.notes||"",status:e.isApproved?"approved":"draft",approval_status:e.isApproved?"approved":"pending_approval",isApproved:e.isApproved||!1,approvedBy:e.approvedBy,approvedAt:e.approvedAt,created_at:e.createdAt,createdAt:e.createdAt,updatedAt:e.updatedAt}));console.log("\ud83c\udfaf useRABItems: Final transformed items count:",i.length);const c=(t=>{try{const r="approval_status_".concat(e),n=localStorage.getItem(r);if(!n)return console.log("[RAB WORKFLOW SYNC] No approval cache found for project:",e),t;const a=JSON.parse(n);console.log("[RAB WORKFLOW SYNC] Found approval cache:",a);const s=t.map(e=>{const t="rab_".concat(e.id),r=a[t];if(r){const t="approved"===r.status;return console.log("[RAB WORKFLOW SYNC] Updating ".concat(e.description,": ").concat(e.isApproved," \u2192 ").concat(t)),(0,Mt.A)((0,Mt.A)({},e),{},{isApproved:t,status:t?"approved":"draft",approved_at:r.approved_at,approved_by:r.approved_by,approval_status:r.status,last_sync:(new Date).toISOString()})}return e}),o=s.filter(e=>e.isApproved).length;return console.log("[RAB WORKFLOW SYNC] Synced ".concat(o," approved items out of ").concat(t.length," total")),s}catch(r){return console.error("[RAB WORKFLOW SYNC] Error syncing approval status:",r),t}})(i);console.log("\u2705 useRABItems: Setting rabItems state with",c.length,"items"),n(c);const d=c.length,u=c.filter(e=>e.isApproved).length,p=d>0&&u===d;l({status:p?"approved":"draft",totalItems:d,canAddItems:!p&&d>=0})}catch(t){console.error("\u274c RAB Workflow Error:",t),n([]),l(null)}finally{o(!1)}},h=(0,a.useCallback)(()=>{d(e=>e+1)},[]);(0,a.useEffect)(()=>{p()},[e,c]);return{rabItems:r,loading:s,approvalStatus:i,addRABItem:async t=>{try{const r=await fetch("/api/projects/".concat(e,"/rab"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(t)});if(r.ok)return await p(),u.current&&u.current(),{success:!0};{const e=await r.json();throw new Error(e.message||"Failed to add RAB item")}}catch(a){console.error("Error adding RAB item:",a);const s=(0,Mt.A)((0,Mt.A)({},t),{},{id:Date.now(),projectId:e,status:"draft",isApproved:!1,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()});return n([...r,s]),{success:!0,demo:!0}}},updateRABItem:async(t,a)=>{try{const r=await fetch("/api/projects/".concat(e,"/rab"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify((0,Mt.A)((0,Mt.A)({},a),{},{id:t}))});if(r.ok)return await p(),u.current&&u.current(),{success:!0};{const e=await r.json();throw new Error(e.message||"Failed to update RAB item")}}catch(s){return console.error("Error updating RAB item:",s),n(r.map(e=>e.id===t?(0,Mt.A)((0,Mt.A)((0,Mt.A)({},e),a),{},{updatedAt:(new Date).toISOString()}):e)),{success:!0,demo:!0}}},deleteRABItem:async t=>{try{return await fetch("/api/projects/".concat(e,"/rab/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),n(r.filter(e=>e.id!==t)),u.current&&u.current(),{success:!0}}catch(a){return console.error("Error deleting RAB item:",a),n(r.filter(e=>e.id!==t)),{success:!0,demo:!0}}},approveRAB:async()=>{try{const t=localStorage.getItem("token"),r=localStorage.getItem("userId")||localStorage.getItem("username")||"system",n=await fetch("/api/projects/".concat(e,"/rab/approve"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({approvedBy:r})});if(n.ok)return await p(),u.current&&u.current(),{success:!0};{const e=await n.json().catch(()=>({}));throw new Error(e.message||"Failed to approve RAB")}}catch(t){return console.error("Error approving RAB:",t),{success:!1,error:t.message}}},refetch:h}},SD=[{value:"material",label:"Material/Barang",color:"blue",description:"Item yang bisa dibeli melalui PO",workflow:"purchase_order",paymentMethod:"po_payment"},{value:"labor",label:"Tenaga Kerja/Upah",color:"green",description:"Upah pekerja dan jasa tenaga kerja",workflow:"direct_payment",paymentMethod:"payroll"},{value:"service",label:"Jasa/Subkontraktor",color:"purple",description:"Jasa subkontraktor dan vendor",workflow:"service_contract",paymentMethod:"contract_payment"},{value:"equipment",label:"Sewa Peralatan",color:"yellow",description:"Sewa alat berat dan equipment",workflow:"rental_agreement",paymentMethod:"rental_payment"},{value:"overhead",label:"Overhead/Operasional",color:"gray",description:"Biaya overhead dan operasional",workflow:"direct_payment",paymentMethod:"expense_payment"}],ED=[{value:"Pekerjaan Persiapan",label:"Pekerjaan Persiapan",color:"blue"},{value:"Pekerjaan Tanah",label:"Pekerjaan Tanah",color:"orange"},{value:"Pekerjaan Pondasi",label:"Pekerjaan Pondasi",color:"green"},{value:"Pekerjaan Struktur",label:"Pekerjaan Struktur",color:"blue"},{value:"Pekerjaan Arsitektur",label:"Pekerjaan Arsitektur",color:"purple"},{value:"Pekerjaan Atap",label:"Pekerjaan Atap",color:"red"},{value:"Pekerjaan MEP",label:"Pekerjaan MEP",color:"yellow"},{value:"Pekerjaan Finishing",label:"Pekerjaan Finishing",color:"pink"}],PD={Material:"blue","Tenaga Kerja":"green",Peralatan:"yellow",Subkontraktor:"purple",Overhead:"gray"},DD=e=>SD.find(t=>t.value===e),OD=e=>{const t=DD(e);return t?t.workflow:"direct_payment"},TD=e=>{const t=DD(e);return t?t.paymentMethod:"expense_payment"},ID=(e,t)=>{const[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),c=()=>{localStorage.removeItem("rab_draft_".concat(e)),n([])};return{draftItems:r,isSubmitting:s,isSavingDraft:i,loadDraft:()=>{try{const t=localStorage.getItem("rab_draft_".concat(e));if(t){const e=JSON.parse(t);return n(e),e}}catch(t){console.error("Error loading draft:",t)}return[]},saveDraft:async t=>{l(!0);try{const r=t.filter(e=>""!==e.description.trim()||""!==e.category||e.quantity>0);return localStorage.setItem("rab_draft_".concat(e),JSON.stringify(r)),n(r),{success:!0,message:"Draft tersimpan: ".concat(r.length," item(s)")}}catch(r){return console.error("Error saving draft:",r),{success:!1,error:r.message}}finally{l(!1)}},clearDraft:c,submitBulkItems:async r=>{o(!0);try{var n,a,s,i,l;const o=r.filter(e=>""!==e.description.trim()&&""!==e.category&&e.quantity>0&&e.unitPrice>0);if(0===o.length)throw new Error("Tidak ada item valid untuk disimpan");const p=o.map(t=>({category:t.category,description:t.description.trim(),unit:t.unit,quantity:parseFloat(t.quantity),unitPrice:parseFloat(t.unitPrice),totalPrice:parseFloat(t.quantity)*parseFloat(t.unitPrice),notes:t.specifications||"",itemType:t.itemType,workflow:OD(t.itemType),paymentMethod:TD(t.itemType),supplier:"material"===t.itemType?t.supplier:null,laborCategory:"labor"===t.itemType?t.laborCategory:null,serviceScope:"service"===t.itemType?t.serviceScope:null,projectId:e})),h=p.reduce((e,t)=>{const r=t.itemType;return e[r]||(e[r]=[]),e[r].push(t),e},{}),m=[],f=localStorage.getItem("token");for(const[t,r]of Object.entries(h))try{console.log("\ud83d\udce4 Submitting ".concat(t," items:"),r.length);const n=await fetch("/api/projects/".concat(e,"/rab/bulk"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:JSON.stringify({items:r})});if(console.log("\ud83d\udce4 ".concat(t," batch response status:"),n.status),n.ok){const e=await n.json();console.log("\u2705 ".concat(t," batch success:"),e),m.push({itemType:t,count:r.length,items:r,workflow:OD(t),apiResult:e})}else{const a=await n.text();console.warn("\u26a0\ufe0f Bulk API failed for ".concat(t,":"),n.status,a),console.log("\ud83d\udd04 Trying individual submissions for ".concat(t,"..."));let s=0;for(const t of r)try{const r=await fetch("/api/projects/".concat(e,"/rab"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:JSON.stringify(t)});if(r.ok)s++,console.log("\u2705 Individual item saved: ".concat(t.description));else{const e=await r.text();console.error("\u274c Individual item failed: ".concat(t.description),e)}}catch(d){console.error("\u274c Network error for item: ".concat(t.description),d)}m.push({itemType:t,count:s,items:r.slice(0,s),workflow:OD(t),fallback:!0})}}catch(u){console.error("\u274c Error submitting ".concat(t," items:"),u),m.push({itemType:t,count:r.length,items:r,workflow:OD(t),demo:!0})}return c(),t&&await t(m),{success:!0,results:m,totalItems:p.length,summary:{material:(null===(n=h.material)||void 0===n?void 0:n.length)||0,service:(null===(a=h.service)||void 0===a?void 0:a.length)||0,labor:(null===(s=h.labor)||void 0===s?void 0:s.length)||0,equipment:(null===(i=h.equipment)||void 0===i?void 0:i.length)||0,overhead:(null===(l=h.overhead)||void 0===l?void 0:l.length)||0}}}catch(u){return console.error("Bulk submission error:",u),{success:!1,error:u.message}}finally{o(!1)}},validateBulkItems:e=>{const t={};return e.forEach((e,r)=>{const n=[];e.category.trim()||n.push("Kategori harus diisi"),e.description.trim()||n.push("Deskripsi harus diisi"),e.unit.trim()||n.push("Satuan harus diisi"),e.quantity<=0&&n.push("Quantity harus lebih dari 0"),e.unitPrice<=0&&n.push("Harga unit harus lebih dari 0"),n.length>0&&(t["item_".concat(r)]=n)}),{isValid:0===Object.keys(t).length,errors:t}},generateSubmissionSummary:e=>{const t=e.find(e=>"material"===e.itemType),r=e.find(e=>"service"===e.itemType);let n=[];return(null===t||void 0===t?void 0:t.count)>0&&n.push("".concat(t.count," item material akan diproses menjadi Purchase Order")),(null===r||void 0===r?void 0:r.count)>0&&n.push("".concat(r.count," item jasa akan diproses menjadi Perintah Kerja")),n}}},MD=(e,t)=>{(0,a.useEffect)(()=>{const r=r=>{r.detail&&r.detail.projectId===e&&"rab"===r.detail.itemType&&(console.log("[RAB WORKFLOW] RAB approval status changed, refreshing data..."),t())};return window.addEventListener("approvalStatusChanged",r),()=>{window.removeEventListener("approvalStatusChanged",r)}},[e,t])},_D="approved",RD={draft:{label:"Draft",color:"yellow",icon:"Clock",bgColor:"bg-[#FF9F0A]/20",textColor:"text-yellow-800",borderColor:"border-yellow-300"},approved:{label:"Disetujui",color:"green",icon:"CheckCircle",bgColor:"bg-[#30D158]/20",textColor:"text-green-800",borderColor:"border-green-300"},rejected:{label:"Ditolak",color:"red",icon:"AlertTriangle",bgColor:"bg-[#FF3B30]/20",textColor:"text-red-800",borderColor:"border-red-300"}},BD=e=>(null===e||void 0===e?void 0:e.status)!==_D,LD=e=>{let{status:t}=e;const r=(e=>RD[e]||RD.draft)(t);return(0,Vn.jsxs)("div",{className:"flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat(r.bgColor," ").concat(r.textColor),children:["CheckCircle"===r.icon&&(0,Vn.jsx)(Ea.A,{className:"h-4 w-4 mr-1"}),"Clock"===r.icon&&(0,Vn.jsx)(Sa,{className:"h-4 w-4 mr-1"}),"AlertTriangle"===r.icon&&(0,Vn.jsx)(ti,{className:"h-4 w-4 mr-1"}),r.label]})},zD=e=>{let{show:t,message:r,type:n="success"}=e;return t?(0,Vn.jsx)("div",{className:"fixed top-4 right-4 z-50 p-4 rounded-lg  ".concat("success"===n?"bg-[#30D158]/20 border border-green-500 text-[#30D158]":"bg-[#FF3B30]/20 border border-red-500 text-[#FF3B30]"),children:(0,Vn.jsxs)("div",{className:"flex items-center",children:["success"===n?(0,Vn.jsx)(Ea.A,{className:"h-5 w-5 mr-2"}):(0,Vn.jsx)(ti,{className:"h-5 w-5 mr-2"}),r]})}):null},UD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{currency:r="IDR",locale:n="id-ID",minimumFractionDigits:a=0,maximumFractionDigits:s=0,compact:o=!1}=t;if(o&&Math.abs(e)>=1e9){const t=e/1e9;return new Intl.NumberFormat(n,{style:"currency",currency:r,minimumFractionDigits:1,maximumFractionDigits:1}).format(t)+"B"}if(o&&Math.abs(e)>=1e6){const t=e/1e6;return new Intl.NumberFormat(n,{style:"currency",currency:r,minimumFractionDigits:1,maximumFractionDigits:1}).format(t)+"M"}if(o&&Math.abs(e)>=1e3){const t=e/1e3;return new Intl.NumberFormat(n,{style:"currency",currency:r,minimumFractionDigits:1,maximumFractionDigits:1}).format(t)+"K"}return new Intl.NumberFormat(n,{style:"currency",currency:r,minimumFractionDigits:a,maximumFractionDigits:s}).format(e)},WD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{locale:r="id-ID",format:n="short"}=t,a="string"===typeof e?new Date(e):e;return new Intl.DateTimeFormat(r,{short:{year:"numeric",month:"2-digit",day:"2-digit"},medium:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric"},full:{weekday:"long",year:"numeric",month:"long",day:"numeric"}}[n]).format(a)},VD=e=>{if(!e||0===e)return"Rp 0";const t=Math.abs(e),r=e<0?"-":"",n=e=>e.toString().replace(/\.?0+$/,"");if(t>=1e12){const e=n((t/1e12).toFixed(2));return"".concat(r,"Rp ").concat(e," Triliun")}if(t>=1e9){const e=n((t/1e9).toFixed(2));return"".concat(r,"Rp ").concat(e," Miliar")}if(t>=1e6){const e=n((t/1e6).toFixed(2));return"".concat(r,"Rp ").concat(e," Juta")}if(t>=1e3){const e=n((t/1e3).toFixed(1));return"".concat(r,"Rp ").concat(e," Ribu")}return"".concat(r,"Rp ").concat(t.toFixed(0))},HD=e=>e.reduce((e,t)=>e+t.quantity*t.unitPrice,0),KD=e=>{let{rabItems:t,approvalStatus:r}=e;const n=HD(t);return(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-lg  p-4",children:(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"text-lg font-bold text-[#0A84FF]",children:t.length}),(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93]",children:"Total Items"})]}),(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"text-lg font-bold text-[#30D158]",children:UD(n)}),(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93]",children:"Total RAB"})]}),(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"text-lg font-bold text-[#FF9F0A]",children:(null===r||void 0===r?void 0:r.currentStep)||"-"}),(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93]",children:"Current Step"})]}),(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsxs)("div",{className:"text-lg font-bold text-[#BF5AF2]",children:[(null===r||void 0===r?void 0:r.progress)||"0","%"]}),(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93]",children:"Approval Progress"})]})]})})},qD=(0,Qn.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),GD=e=>{let{onSubmit:t,onSaveDraft:r,onCancel:n,draftItems:s=[]}=e;const[o,i]=(0,a.useState)(s.length>0?s:[g()]),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)({}),[m,f]=(0,a.useState)(""),x=(0,a.useRef)(null);function g(){return{id:Date.now()+Math.random(),category:"",description:"",unit:"",quantity:0,unitPrice:0,specifications:"",itemType:"material",supplier:"",laborCategory:"",serviceScope:""}}const b=e=>Object.keys(e[0]).join(",")+"\n"+e.map(e=>Object.values(e).join(",")).join("\n"),y=e=>{const t=e.split("\n"),r=t[0].split(",").map(e=>e.trim()),n=["Tipe Item","Kategori","Deskripsi","Unit","Quantity","Harga Unit"].filter(e=>!r.includes(e));if(n.length>0)throw new Error("Header yang diperlukan: ".concat(n.join(", ")));const a=[];for(let s=1;s<t.length;s++){const e=t[s].trim();if(!e)continue;const n=e.split(",").map(e=>e.trim()),o={id:Date.now()+Math.random()+s,itemType:n[r.indexOf("Tipe Item")]||"material",category:n[r.indexOf("Kategori")]||"",description:n[r.indexOf("Deskripsi")]||"",unit:n[r.indexOf("Unit")]||"",quantity:parseFloat(n[r.indexOf("Quantity")])||0,unitPrice:parseFloat(n[r.indexOf("Harga Unit")])||0,specifications:n[r.indexOf("Spesifikasi")]||"",supplier:"",laborCategory:"",serviceScope:""};a.push(o)}return a},v=(e,t,r)=>{var n;i(o.map(n=>n.id===e?(0,Mt.A)((0,Mt.A)({},n),{},{[t]:r}):n)),null!==(n=p[e])&&void 0!==n&&n[t]&&h(r=>(0,Mt.A)((0,Mt.A)({},r),{},{[e]:(0,Mt.A)((0,Mt.A)({},r[e]),{},{[t]:void 0})}))},j=()=>{const e={};let t=!1;return o.forEach(r=>{const n=(e=>{var t,r,n,a;const s={};return null!==(t=e.itemType)&&void 0!==t&&t.trim()?["material","service","labor","equipment","overhead"].includes(e.itemType)||(s.itemType="Tipe item tidak valid"):s.itemType="Tipe item harus dipilih",null!==(r=e.category)&&void 0!==r&&r.trim()||(s.category="Kategori harus dipilih"),null!==(n=e.description)&&void 0!==n&&n.trim()?e.description.trim().length<10&&(s.description="Deskripsi minimal 10 karakter"):s.description="Deskripsi pekerjaan harus diisi",null!==(a=e.unit)&&void 0!==a&&a.trim()||(s.unit="Satuan harus dipilih"),(!e.quantity||parseFloat(e.quantity)<=0)&&(s.quantity="Quantity harus lebih dari 0"),(!e.unitPrice||parseFloat(e.unitPrice)<=0)&&(s.unitPrice="Harga satuan harus lebih dari 0"),s})(r);(e=>0===Object.keys(e).length)(n)||(e[r.id]=n,t=!0)}),h(e),!t},w=()=>o.reduce((e,t)=>e+t.quantity*t.unitPrice,0);return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-xl border border-[#38383A] overflow-hidden",children:[(0,Vn.jsx)("div",{className:"bg-[#1C1C1E] px-6 py-4 border-b border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-xl font-bold text-white",children:"Kelola RAB Project"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mt-1",children:"Input, edit, dan kelola item RAB secara efisien"})]}),(0,Vn.jsx)("button",{onClick:n,className:"p-2 text-[#8E8E93] hover:text-white hover:bg-[#38383A] rounded-lg transition-colors",children:(0,Vn.jsx)(ja.A,{className:"h-5 w-5"})})]})}),(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] px-6 py-3 border-b border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsxs)("button",{onClick:()=>{const e=b([{"Tipe Item":"material",Kategori:"Struktur",Deskripsi:"Semen Portland PC 40kg",Unit:"sak",Quantity:100,"Harga Unit":65e3,Spesifikasi:"Semen grade A"},{"Tipe Item":"service",Kategori:"Finishing",Deskripsi:"Jasa Cat Tembok",Unit:"m\xb2",Quantity:250,"Harga Unit":25e3,Spesifikasi:"Cat akrilik 2 lapis"}]),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(t),r.download="template-rab-import.csv",r.click()},className:"flex items-center px-3 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-colors text-sm",children:[(0,Vn.jsx)(Ai,{className:"h-4 w-4 mr-2"}),"Download Template"]}),(0,Vn.jsx)("input",{ref:x,type:"file",accept:".csv,.xlsx,.xls",onChange:e=>{const t=e.target.files[0];if(!t)return;f("");const r=new FileReader;r.onload=e=>{try{const t=e.target.result,r=y(t);if(0===r.length)return void f("File CSV kosong atau format tidak valid");i(r),h({})}catch(t){f("Error parsing file: "+t.message)}},r.readAsText(t),e.target.value=""},className:"hidden"}),(0,Vn.jsxs)("button",{onClick:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.click()},className:"flex items-center px-3 py-2 bg-[#FF9F0A] text-white rounded-lg hover:bg-[#FF9F0A]/90 transition-colors text-sm",children:[(0,Vn.jsx)(qD,{className:"h-4 w-4 mr-2"}),"Import Excel/CSV"]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] px-3 py-1 rounded",children:[(0,Vn.jsx)("span",{className:"text-[#8E8E93]",children:"Total:"}),(0,Vn.jsx)("span",{className:"text-white ml-1 font-semibold",children:o.length})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] px-3 py-1 rounded",children:[(0,Vn.jsx)("span",{className:"text-[#8E8E93]",children:"Estimasi:"}),(0,Vn.jsx)("span",{className:"text-[#0A84FF] ml-1 font-semibold",children:UD(w())})]})]})]}),m&&(0,Vn.jsxs)("div",{className:"mt-3 p-3 bg-red-500/10 border border-red-500/30 rounded-lg flex items-start",children:[(0,Vn.jsx)(ti,{className:"h-4 w-4 text-red-400 mr-2 mt-0.5"}),(0,Vn.jsx)("div",{className:"text-sm text-red-400",children:m})]})]}),(0,Vn.jsx)("div",{className:"p-6",children:(0,Vn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),j()){c(!0);try{console.log("\ud83d\udce4 BulkRABForm: Submitting items:",o);const e=await t(o);console.log("\ud83d\udce4 BulkRABForm: Submit result:",e),e.success?(i([g()]),h({}),console.log("\u2705 BulkRABForm: Submit successful, form cleared")):console.error("\u274c BulkRABForm: Submit failed:",e.error)}catch(r){console.error("\u274c BulkRABForm: Submit error:",r)}finally{c(!1)}}},children:[(0,Vn.jsx)("div",{className:"overflow-x-auto bg-[#1C1C1E] rounded-lg border border-[#38383A]",children:(0,Vn.jsxs)("table",{className:"w-full",children:[(0,Vn.jsx)("thead",{children:(0,Vn.jsxs)("tr",{className:"border-b border-[#38383A]",children:[(0,Vn.jsx)("th",{className:"text-left py-3 px-3 text-xs font-semibold text-[#98989D] uppercase tracking-wider w-28",children:"Tipe"}),(0,Vn.jsx)("th",{className:"text-left py-3 px-3 text-xs font-semibold text-[#98989D] uppercase tracking-wider w-36",children:"Kategori"}),(0,Vn.jsx)("th",{className:"text-left py-3 px-3 text-xs font-semibold text-[#98989D] uppercase tracking-wider",children:"Deskripsi"}),(0,Vn.jsx)("th",{className:"text-left py-3 px-3 text-xs font-semibold text-[#98989D] uppercase tracking-wider w-20",children:"Unit"}),(0,Vn.jsx)("th",{className:"text-left py-3 px-3 text-xs font-semibold text-[#98989D] uppercase tracking-wider w-24",children:"Qty"}),(0,Vn.jsx)("th",{className:"text-left py-3 px-3 text-xs font-semibold text-[#98989D] uppercase tracking-wider w-32",children:"Harga Unit"}),(0,Vn.jsx)("th",{className:"text-left py-3 px-3 text-xs font-semibold text-[#98989D] uppercase tracking-wider w-32",children:"Subtotal"}),(0,Vn.jsx)("th",{className:"text-center py-3 px-3 text-xs font-semibold text-[#98989D] uppercase tracking-wider w-16"})]})}),(0,Vn.jsx)("tbody",{className:"divide-y divide-[#38383A]",children:o.map((e,t)=>{const r=p[e.id]||{};(e=>{const t=DD(e);"material"===e||("service"===e||(null===t||void 0===t||t.label))})(e.itemType);return(0,Vn.jsxs)("tr",{className:"hover:bg-[#2C2C2E] transition-colors",children:[(0,Vn.jsxs)("td",{className:"py-2 px-3",children:[(0,Vn.jsxs)("select",{value:e.itemType,onChange:t=>v(e.id,"itemType",t.target.value),className:"w-full px-2 py-1.5 text-xs bg-[#2C2C2E] border border-[#38383A] rounded text-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,Vn.jsx)("option",{value:"material",children:"Material"}),(0,Vn.jsx)("option",{value:"service",children:"Jasa"}),(0,Vn.jsx)("option",{value:"labor",children:"Tenaga"}),(0,Vn.jsx)("option",{value:"equipment",children:"Alat"}),(0,Vn.jsx)("option",{value:"overhead",children:"Overhead"})]}),r.itemType&&(0,Vn.jsx)("p",{className:"text-[#FF3B30] text-xs mt-1",children:r.itemType})]}),(0,Vn.jsxs)("td",{className:"py-2 px-3",children:[(0,Vn.jsxs)("select",{value:e.category,onChange:t=>v(e.id,"category",t.target.value),className:"w-full px-2 py-1.5 text-xs bg-[#2C2C2E] border border-[#38383A] rounded text-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,Vn.jsx)("option",{value:"",children:"Pilih Kategori"}),ED.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))]}),r.category&&(0,Vn.jsx)("p",{className:"text-[#FF3B30] text-xs mt-1",children:r.category})]}),(0,Vn.jsxs)("td",{className:"py-2 px-3",children:[(0,Vn.jsx)("input",{type:"text",value:e.description,onChange:t=>v(e.id,"description",t.target.value),placeholder:"Deskripsi item...",className:"w-full px-2 py-1.5 text-xs bg-[#2C2C2E] border border-[#38383A] rounded text-white focus:outline-none focus:ring-1 focus:ring-blue-500"}),r.description&&(0,Vn.jsx)("p",{className:"text-[#FF3B30] text-xs mt-1",children:r.description})]}),(0,Vn.jsxs)("td",{className:"py-2 px-3",children:[(0,Vn.jsx)("input",{type:"text",value:e.unit,onChange:t=>v(e.id,"unit",t.target.value),placeholder:"Unit",className:"w-full px-2 py-1.5 text-xs bg-[#2C2C2E] border border-[#38383A] rounded text-white focus:outline-none focus:ring-1 focus:ring-blue-500"}),r.unit&&(0,Vn.jsx)("p",{className:"text-[#FF3B30] text-xs mt-1",children:r.unit})]}),(0,Vn.jsxs)("td",{className:"py-2 px-3",children:[(0,Vn.jsx)("input",{type:"number",value:e.quantity,onChange:t=>v(e.id,"quantity",parseFloat(t.target.value)||0),placeholder:"0",min:"0",step:"0.01",className:"w-full px-2 py-1.5 text-xs bg-[#2C2C2E] border border-[#38383A] rounded text-white focus:outline-none focus:ring-1 focus:ring-blue-500"}),r.quantity&&(0,Vn.jsx)("p",{className:"text-[#FF3B30] text-xs mt-1",children:r.quantity})]}),(0,Vn.jsxs)("td",{className:"py-2 px-3",children:[(0,Vn.jsx)("input",{type:"number",value:e.unitPrice,onChange:t=>v(e.id,"unitPrice",parseFloat(t.target.value)||0),placeholder:"0",min:"0",step:"0.01",className:"w-full px-2 py-1.5 text-xs bg-[#2C2C2E] border border-[#38383A] rounded text-white focus:outline-none focus:ring-1 focus:ring-blue-500"}),r.unitPrice&&(0,Vn.jsx)("p",{className:"text-[#FF3B30] text-xs mt-1",children:r.unitPrice})]}),(0,Vn.jsx)("td",{className:"py-2 px-3 text-right",children:(0,Vn.jsx)("span",{className:"text-sm font-semibold text-white",children:UD(e.quantity*e.unitPrice)})}),(0,Vn.jsx)("td",{className:"py-2 px-3 text-center",children:(0,Vn.jsx)("button",{type:"button",onClick:()=>(e=>{if(o.length>1){i(o.filter(t=>t.id!==e));const t=(0,Mt.A)({},p);delete t[e],h(t)}})(e.id),disabled:1===o.length,className:"p-1.5 text-[#FF3B30] hover:text-[#FF3B30]/80 hover:bg-[#FF3B30]/10 rounded disabled:text-[#8E8E93] disabled:cursor-not-allowed transition-colors",title:"Hapus baris",children:(0,Vn.jsx)(ca,{className:"h-4 w-4"})})})]},e.id)})})]})}),(0,Vn.jsx)("div",{className:"mt-4 flex justify-center",children:(0,Vn.jsxs)("button",{type:"button",onClick:()=>{i([...o,g()])},className:"flex items-center px-4 py-2 bg-[#38383A] border border-[#48484A] rounded-lg text-white hover:bg-[#48484A] transition-colors",children:[(0,Vn.jsx)(Pi,{className:"h-4 w-4 mr-2"}),"Tambah Baris"]})}),(0,Vn.jsxs)("div",{className:"mt-6 bg-[#1C1C1E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Total Items:"}),(0,Vn.jsx)("span",{className:"text-lg font-bold text-white ml-2",children:o.length})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Material:"}),(0,Vn.jsx)("span",{className:"text-sm font-semibold text-blue-300 ml-2",children:o.filter(e=>"material"===e.itemType).length})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Jasa:"}),(0,Vn.jsx)("span",{className:"text-sm font-semibold text-green-300 ml-2",children:o.filter(e=>"service"===e.itemType).length})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Total Estimasi:"}),(0,Vn.jsx)("span",{className:"text-xl font-bold text-[#0A84FF] ml-2",children:UD(w())})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsxs)("button",{type:"button",onClick:async()=>{u(!0);try{await r(o)}catch(e){console.error("Save draft error:",e)}finally{u(!1)}},disabled:d,className:"flex items-center px-4 py-2 bg-[#FF9F0A] text-white rounded-lg hover:bg-[#FF9F0A]/90 disabled:opacity-50 transition-colors",children:[(0,Vn.jsx)(di,{className:"h-4 w-4 mr-2"}),d?"Menyimpan...":"Simpan Draft"]}),(0,Vn.jsxs)("button",{type:"submit",disabled:l||0===o.length,className:"flex items-center px-6 py-2 bg-[#30D158] text-white rounded-lg hover:bg-[#30D158]/90 disabled:opacity-50 transition-colors font-semibold",children:[(0,Vn.jsx)(gE,{className:"h-4 w-4 mr-2"}),l?"Menyimpan...":"Simpan ".concat(o.length," Item")]})]})]}),(0,Vn.jsx)("div",{className:"mt-4 text-xs text-[#8E8E93] bg-[#2C2C2E] p-3 rounded border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Vn.jsxs)("span",{className:"flex items-center",children:[(0,Vn.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-1"}),"Material \u2192 Purchase Order"]}),(0,Vn.jsxs)("span",{className:"flex items-center",children:[(0,Vn.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"Jasa \u2192 Perintah Kerja"]})]})})]})]})})]})},YD=(0,Qn.A)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),$D=(0,Qn.A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),JD=e=>{let{rabItems:t,onEdit:r,onDelete:n,onApprove:a,onReject:s}=e;const o=t.reduce((e,t)=>e+t.quantity*t.unitPrice,0),i=t.filter(e=>!e.isApproved);return(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"min-w-full divide-y divide-[#38383A]",children:[(0,Vn.jsx)("thead",{className:"bg-[#1C1C1E]",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Kategori"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Deskripsi"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Unit"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Qty & Harga"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Subtotal"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Status"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Aksi"})]})}),(0,Vn.jsx)("tbody",{className:"bg-[#2C2C2E] divide-y divide-[#38383A]",children:t.map((e,t)=>(0,Vn.jsxs)("tr",{className:"hover:bg-[#1C1C1E]",children:[(0,Vn.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:(0,Vn.jsx)("div",{className:"font-medium",children:e.category})}),(0,Vn.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:(0,Vn.jsxs)("div",{className:"max-w-xs",children:[(0,Vn.jsx)("div",{children:e.description}),e.specifications&&(0,Vn.jsx)("div",{className:"text-xs text-[#8E8E93] mt-1 truncate",title:e.specifications,children:e.specifications.length>50?e.specifications.substring(0,50)+"...":e.specifications})]})}),(0,Vn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-white",children:e.unit}),(0,Vn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-white",children:(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{children:e.quantity}),(0,Vn.jsx)("span",{className:"text-[#8E8E93] mx-1",children:"\xd7"}),(0,Vn.jsx)("span",{children:UD(e.unitPrice)})]})}),(0,Vn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-white",children:UD(e.quantity*e.unitPrice)}),(0,Vn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:e.isApproved?(0,Vn.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#30D158]/20 text-[#30D158]",children:[(0,Vn.jsx)(YD,{className:"h-3 w-3 mr-1"}),"Disetujui"]}):(0,Vn.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#FF9F0A]/20 text-[#FF9F0A]",children:"Draft"})}),(0,Vn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,Vn.jsx)("button",{onClick:()=>r(e),className:"p-1 text-[#0A84FF] hover:bg-[#0A84FF]/10 rounded transition-colors",title:"Edit item",children:(0,Vn.jsx)(rD,{className:"h-4 w-4"})}),(0,Vn.jsx)("button",{onClick:()=>n(e.id,e.description),className:"p-1 text-[#FF3B30] hover:bg-[#FF3B30]/10 rounded transition-colors",title:"Hapus item",children:(0,Vn.jsx)(ca,{className:"h-4 w-4"})}),!e.isApproved&&a&&s&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("button",{onClick:()=>a(e),className:"p-1 text-[#30D158] hover:bg-[#30D158]/10 rounded transition-colors",title:"Approve",children:(0,Vn.jsx)(YD,{className:"h-4 w-4"})}),(0,Vn.jsx)("button",{onClick:()=>s(e),className:"p-1 text-[#FF3B30] hover:bg-[#FF3B30]/10 rounded transition-colors",title:"Reject",children:(0,Vn.jsx)($D,{className:"h-4 w-4"})})]})]})})]},e.id||t))}),(0,Vn.jsx)("tfoot",{className:"bg-[#1C1C1E] border-t-2 border-[#38383A]",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{colSpan:"5",className:"px-4 py-4 text-right text-sm font-semibold text-white",children:"Total RAB:"}),(0,Vn.jsx)("td",{colSpan:"2",className:"px-4 py-4",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm font-bold text-[#0A84FF]",children:UD(o)}),(0,Vn.jsxs)("div",{children:[i.length>0&&(0,Vn.jsxs)("button",{onClick:()=>{i.forEach(e=>a(e))},className:"inline-flex items-center px-4 py-2 bg-[#30D158] text-white text-sm font-medium rounded-lg hover:bg-[#30D158]/90 transition-colors",title:"Approve ".concat(i.length," pending items"),children:[(0,Vn.jsx)(YD,{className:"h-4 w-4 mr-2"}),"Approve All (",i.length,")"]}),0===i.length&&(0,Vn.jsxs)("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium bg-[#30D158]/20 text-[#30D158]",children:[(0,Vn.jsx)(YD,{className:"h-3 w-3 mr-1"}),"Semua item disetujui"]})]})]})})]})})]})})},XD=e=>{let{rabItems:t}=e;const r=HD(t),n=(e=>{const t={};return["Material","Tenaga Kerja","Peralatan","Subkontraktor","Overhead"].forEach(r=>{const n=e.filter(e=>e.category===r).reduce((e,t)=>e+t.quantity*t.unitPrice,0);t[r]=n}),t})(t),a=Object.keys(PD),s=e=>({blue:"bg-[#0A84FF]",green:"bg-[#30D158]",yellow:"bg-[#FF9F0A]",purple:"bg-purple-500",gray:"bg-gray-500"}[PD[e]]||"bg-gray-500");return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg  p-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Breakdown Biaya per Kategori"}),(0,Vn.jsx)("div",{className:"space-y-3",children:a.map(e=>{const t=n[e]||0,a=((e,t)=>0===t?0:(e/t*100).toFixed(1))(t,r);return(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(s(e))}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-[#98989D]",children:e})]}),(0,Vn.jsxs)("div",{className:"text-right",children:[(0,Vn.jsx)("div",{className:"text-sm font-semibold text-white",children:UD(t)}),(0,Vn.jsxs)("div",{className:"text-xs text-[#98989D]",children:[a,"%"]})]})]},e)})})]})},QD=e=>{let{rabItems:t,approvalStatus:r}=e;const n=(e=>new Set(e.map(e=>e.category)).size)(t);return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg  p-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Statistik RAB"}),(0,Vn.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Vn.jsxs)("div",{className:"text-center p-3 bg-[#0A84FF]/10 rounded-lg",children:[(0,Vn.jsx)("div",{className:"text-lg font-bold text-[#0A84FF]",children:t.length}),(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93]",children:"Total Item"})]}),(0,Vn.jsxs)("div",{className:"text-center p-3 bg-[#30D158]/10 rounded-lg",children:[(0,Vn.jsx)("div",{className:"text-lg font-bold text-[#30D158]",children:"approved"===(null===r||void 0===r?void 0:r.status)?"Disetujui":"Draft"}),(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93]",children:"Status RAB"})]}),(0,Vn.jsxs)("div",{className:"text-center p-3 bg-[#BF5AF2]/10 rounded-lg",children:[(0,Vn.jsx)("div",{className:"text-lg font-bold text-[#BF5AF2]",children:n}),(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93]",children:"Kategori"})]})]})]})},ZD=e=>{let{approvalStatus:t,rabItemsCount:r,isSubmitting:n,onApprove:a,workflowStats:s={totalPOs:0,approvedPOs:0,totalReceipts:0,totalBAs:0,totalPayments:0}}=e;if(0===r)return null;const o=e=>{if("approved"!==(null===t||void 0===t?void 0:t.status))return"rab"===e?"active":"disabled";switch(e){case"rab":return"completed";case"po":return s.approvedPOs>0?"completed":s.totalPOs>0?"active":"pending";case"receipt":return s.totalReceipts>=s.approvedPOs&&s.approvedPOs>0?"completed":s.totalReceipts>0?"active":"pending";case"ba":return s.totalBAs>0?"active":"pending";case"payment":return s.totalPayments>0?"active":"pending";default:return"pending"}},i=e=>{switch(e){case"completed":return"bg-[#30D158]";case"active":return"bg-[#FF9F0A]";default:return"bg-[#636366]"}},l=e=>{const t=o(e);switch(e){case"po":return"completed"===t?"".concat(s.approvedPOs," PO approved"):"active"===t?"".concat(s.totalPOs," PO (belum approved)"):"Belum ada PO";case"receipt":return"completed"===t?"".concat(s.totalReceipts," Tanda Terima (lengkap)"):"active"===t?"".concat(s.totalReceipts,"/").concat(s.approvedPOs," Tanda Terima"):"Belum ada tanda terima";case"ba":return s.totalBAs>0?"".concat(s.totalBAs," Berita Acara"):"Belum ada BA";case"payment":return s.totalPayments>0?"".concat(s.totalPayments," Payment"):"Belum ada payment";default:return""}};return(0,Vn.jsxs)("div",{className:"bg-gradient-to-br from-[#2C2C2E] to-[#1C1C1E] rounded-lg border border-[#38383A] p-6",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[(0,Vn.jsx)(ui,{className:"h-5 w-5 mr-2 text-[#0A84FF]"}),"Status RAB & Langkah Selanjutnya"]}),(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsx)("div",{className:"flex items-start gap-3 p-4 bg-[#1C1C1E] rounded-lg border border-[#38383A]",children:"approved"===(null===t||void 0===t?void 0:t.status)?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#30D158]/20 flex items-center justify-center flex-shrink-0",children:(0,Vn.jsx)(Ea.A,{className:"h-5 w-5 text-[#30D158]"})}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h4",{className:"text-sm font-semibold text-white mb-1",children:"RAB Sudah Disetujui"}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-3",children:"RAB telah disetujui dan siap untuk proses selanjutnya"}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-[#0A84FF]/10 text-[#0A84FF] rounded-md",children:[(0,Vn.jsx)(Jo,{className:"h-3.5 w-3.5"}),"Lanjut ke Purchase Orders"]}),(0,Vn.jsx)("span",{className:"text-[#636366]",children:"\u2192"}),(0,Vn.jsx)("span",{className:"text-[#636366]",children:"Procurement \u2192 Berita Acara \u2192 Payment"})]})]})]}):"draft"===(null===t||void 0===t?void 0:t.status)?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#FF9F0A]/20 flex items-center justify-center flex-shrink-0",children:(0,Vn.jsx)(Vo.A,{className:"h-5 w-5 text-[#FF9F0A]"})}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h4",{className:"text-sm font-semibold text-white mb-1",children:"RAB Menunggu Approval"}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-3",children:"RAB perlu disetujui sebelum melanjutkan ke tahap procurement"}),(0,Vn.jsxs)("button",{onClick:a,disabled:n,className:"inline-flex items-center gap-2 px-4 py-2 bg-[#30D158] text-white text-sm font-medium rounded-lg hover:bg-[#30D158]/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[(0,Vn.jsx)(Ea.A,{className:"h-4 w-4"}),n?"Mengapprove...":"Approve RAB Sekarang"]})]})]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#636366]/20 flex items-center justify-center flex-shrink-0",children:(0,Vn.jsx)(Vo.A,{className:"h-5 w-5 text-[#636366]"})}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsxs)("h4",{className:"text-sm font-semibold text-white mb-1",children:["Status: ",(null===t||void 0===t?void 0:t.status)||"Unknown"]}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:"Periksa status approval untuk melanjutkan"})]})]})}),(0,Vn.jsxs)("div",{className:"p-4 bg-[#1C1C1E]/50 rounded-lg border border-[#38383A]/50",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Vn.jsx)("span",{className:"text-xs font-semibold text-white",children:"Construction Workflow Progress"}),"approved"===(null===t||void 0===t?void 0:t.status)&&(0,Vn.jsx)("span",{className:"text-xs text-[#636366]",children:s.totalPOs>0&&"".concat(s.approvedPOs,"/").concat(s.totalPOs," PO Approved")})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsxs)("div",{className:"flex flex-col items-center gap-1.5 group relative",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 rounded-full ".concat(i(o("rab"))," flex items-center justify-center transition-all"),children:(0,Vn.jsx)(Ea.A,{className:"h-4 w-4 text-white"})}),(0,Vn.jsx)("span",{className:"text-[10px] text-[#8E8E93] font-medium",children:"RAB"}),(0,Vn.jsx)("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-[#2C2C2E] border border-[#38383A] px-2 py-1 rounded text-[9px] text-white whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:"Approved"})]}),(0,Vn.jsx)("div",{className:"h-0.5 flex-1 bg-[#38383A]"}),(0,Vn.jsxs)("div",{className:"flex flex-col items-center gap-1.5 group relative",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 rounded-full ".concat(i(o("po"))," flex items-center justify-center transition-all"),children:(0,Vn.jsx)(Jo,{className:"h-4 w-4 text-white"})}),(0,Vn.jsx)("span",{className:"text-[10px] text-[#8E8E93] font-medium",children:"PO"}),(0,Vn.jsx)("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-[#2C2C2E] border border-[#38383A] px-2 py-1 rounded text-[9px] text-white whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:l("po")})]}),(0,Vn.jsx)("div",{className:"h-0.5 flex-1 bg-[#38383A]"}),(0,Vn.jsxs)("div",{className:"flex flex-col items-center gap-1.5 group relative",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 rounded-full ".concat(i(o("receipt"))," flex items-center justify-center transition-all"),children:(0,Vn.jsx)(Xo,{className:"h-4 w-4 text-white"})}),(0,Vn.jsx)("span",{className:"text-[10px] text-[#8E8E93] font-medium",children:"Receipt"}),(0,Vn.jsx)("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-[#2C2C2E] border border-[#38383A] px-2 py-1 rounded text-[9px] text-white whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:l("receipt")})]}),(0,Vn.jsx)("div",{className:"h-0.5 flex-1 bg-[#38383A]"}),(0,Vn.jsxs)("div",{className:"flex flex-col items-center gap-1.5 group relative",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 rounded-full ".concat(i(o("ba"))," flex items-center justify-center transition-all"),children:(0,Vn.jsx)(ND,{className:"h-4 w-4 text-white"})}),(0,Vn.jsx)("span",{className:"text-[10px] text-[#8E8E93] font-medium",children:"BA"}),(0,Vn.jsx)("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-[#2C2C2E] border border-[#38383A] px-2 py-1 rounded text-[9px] text-white whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:l("ba")})]}),(0,Vn.jsx)("div",{className:"h-0.5 flex-1 bg-[#38383A]"}),(0,Vn.jsxs)("div",{className:"flex flex-col items-center gap-1.5 group relative",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 rounded-full ".concat(i(o("payment"))," flex items-center justify-center transition-all"),children:(0,Vn.jsx)(yD,{className:"h-4 w-4 text-white"})}),(0,Vn.jsx)("span",{className:"text-[10px] text-[#8E8E93] font-medium",children:"Payment"}),(0,Vn.jsx)("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-[#2C2C2E] border border-[#38383A] px-2 py-1 rounded text-[9px] text-white whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:l("payment")})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-center gap-4 mt-4 pt-3 border-t border-[#38383A]/50",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Vn.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#30D158]"}),(0,Vn.jsx)("span",{className:"text-[10px] text-[#8E8E93]",children:"Selesai"})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Vn.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#FF9F0A]"}),(0,Vn.jsx)("span",{className:"text-[10px] text-[#8E8E93]",children:"Proses"})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Vn.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#636366]"}),(0,Vn.jsx)("span",{className:"text-[10px] text-[#8E8E93]",children:"Belum"})]})]})]})]})]})},eO=e=>{let{onAddClick:t}=e;return(0,Vn.jsxs)("div",{className:"text-center py-16",children:[(0,Vn.jsxs)("div",{className:"mb-6",children:[(0,Vn.jsx)(li,{className:"h-16 w-16 text-[#636366] mx-auto mb-4"}),(0,Vn.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Belum Ada Item RAB"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] mb-6 max-w-md mx-auto",children:"Mulai kelola RAB project Anda dengan input massal yang efisien atau import dari Excel"})]}),(0,Vn.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[(0,Vn.jsxs)("button",{onClick:t,className:"flex items-center bg-[#30D158] text-white px-6 py-3 rounded-lg hover:bg-[#30D158]/90 transition-colors font-medium",children:[(0,Vn.jsx)(CD,{className:"h-5 w-5 mr-2"}),"Mulai Kelola RAB"]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-[#8E8E93]",children:[(0,Vn.jsx)(qD,{className:"h-4 w-4"}),(0,Vn.jsx)("span",{children:"Import Excel"}),(0,Vn.jsx)("span",{children:"\u2022"}),(0,Vn.jsx)(Ai,{className:"h-4 w-4"}),(0,Vn.jsx)("span",{children:"Template"})]})]}),(0,Vn.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto text-sm",children:[(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsx)("div",{className:"text-[#0A84FF] font-semibold mb-1",children:"Input Massal"}),(0,Vn.jsx)("div",{className:"text-[#8E8E93]",children:"Input ratusan item sekaligus dalam tabel"})]}),(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsx)("div",{className:"text-[#FF9F0A] font-semibold mb-1",children:"Import Excel"}),(0,Vn.jsx)("div",{className:"text-[#8E8E93]",children:"Upload file Excel/CSV untuk import otomatis"})]}),(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsx)("div",{className:"text-[#30D158] font-semibold mb-1",children:"Auto Workflow"}),(0,Vn.jsx)("div",{className:"text-[#8E8E93]",children:"Material\u2192PO, Jasa\u2192Perintah Kerja"})]})]})]})},tO=(e,t,r,n)=>{const[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null),{user:c}=Kn(),d={rab:"/api/projects/".concat(t,"/rab"),po:"/api/purchase-orders","purchase-orders":"/api/purchase-orders",wo:"/api/projects/".concat(t,"/work-orders"),"work-orders":"/api/projects/".concat(t,"/work-orders"),ba:"/api/projects/".concat(t,"/berita-acara"),tt:"/api/projects/".concat(t,"/tanda-terima")},u=d[e]||d.rab,p=(0,a.useCallback)(async t=>{o(!0),l(null);try{const n=await Sr.patch("".concat(u,"/").concat(t.id,"/status"),{approval_status:"reviewed",notes:"Marked as reviewed for approval"});return window.dispatchEvent(new CustomEvent("approval-status-changed",{detail:{type:e,itemId:t.id,status:"reviewed",item:n.data}})),r&&r(n.data,"reviewed"),{success:!0,data:n.data}}catch(i){var a,s;const e=(null===(a=i.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Gagal menandai item sebagai reviewed";return l(e),n&&n(e,i),{success:!1,error:e}}finally{o(!1)}},[u,e,r,n]),h=(0,a.useCallback)(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";o(!0),l(null);try{if(!c||!c.id)throw new Error("User not authenticated");const n=await Sr.put("".concat(u,"/").concat(t.id,"/approve"),{approvedBy:c.id,notes:a,approval_date:(new Date).toISOString()});return window.dispatchEvent(new CustomEvent("approval-status-changed",{detail:{type:e,itemId:t.id,status:"approved",item:n.data}})),window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:"success",message:"".concat(t.code||"Item"," berhasil diapprove"),duration:3e3}})),r&&r(n.data,"approved"),{success:!0,data:n.data}}catch(d){var s,i;const e=(null===(s=d.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||"Gagal approve item";return l(e),window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:"error",message:e,duration:5e3}})),n&&n(e,d),{success:!1,error:e}}finally{o(!1)}},[u,e,c,r,n]),m=(0,a.useCallback)(async(t,a)=>{if(!a||!a.trim()){const e="Alasan penolakan harus diisi";return l(e),n&&n(e),{success:!1,error:e}}o(!0),l(null);try{if(!c||!c.id)throw new Error("User not authenticated");const n=await Sr.put("".concat(u,"/").concat(t.id,"/reject"),{rejectedBy:c.id,rejectionReason:a,rejection_date:(new Date).toISOString()});return window.dispatchEvent(new CustomEvent("approval-status-changed",{detail:{type:e,itemId:t.id,status:"rejected",reason:a,item:n.data}})),window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:"warning",message:"".concat(t.code||"Item"," ditolak: ").concat(a),duration:5e3}})),r&&r(n.data,"rejected"),{success:!0,data:n.data}}catch(d){var s,i;const e=(null===(s=d.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||"Gagal reject item";return l(e),window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:"error",message:e,duration:5e3}})),n&&n(e,d),{success:!1,error:e}}finally{o(!1)}},[u,e,c,r,n]),f=(0,a.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";o(!0),l(null);const a={success:[],failed:[]};try{for(const r of e){const e=await h(r,t);e.success?a.success.push(r):a.failed.push({item:r,error:e.error})}return window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:0===a.failed.length?"success":"warning",message:"".concat(a.success.length," item berhasil, ").concat(a.failed.length," gagal"),duration:5e3}})),r&&r(a,"bulk-approved"),{success:0===a.failed.length,data:a}}catch(s){const e="Gagal bulk approve items";return l(e),n&&n(e,s),{success:!1,error:e}}finally{o(!1)}},[h,r,n]);return{isLoading:s,error:i,markAsReviewed:p,approveItem:h,rejectItem:m,bulkApprove:f}},rO=e=>{let{projectId:t,project:r,onDataChange:n}=e;console.log("=== ProjectRABWorkflow COMPONENT LOADED ==="),console.log("Received projectId:",t),console.log("Received project:",r),console.log("onDataChange function:",typeof n);const[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)([]),[c,d]=(0,a.useState)({show:!1,message:"",type:"success"}),[u,p]=(0,a.useState)(!1),[h,m]=(0,a.useState)({totalPOs:0,approvedPOs:0,totalReceipts:0,totalBAs:0,totalPayments:0}),f=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";const r=(new Date).toLocaleTimeString(),n="[".concat(r,"] ").concat(e);console.log("\ud83d\udce2 Notification: ".concat(n)),d({show:!0,message:n,type:t}),setTimeout(()=>{d({show:!1,message:"",type:"success"})},3e3)},[]),x=(0,a.useRef)(n);(0,a.useEffect)(()=>{x.current=n},[n]);const{rabItems:g,loading:b,approvalStatus:y,addRABItem:v,updateRABItem:j,deleteRABItem:w,approveRAB:N,refetch:A}=FD(t,x.current),k=(0,a.useRef)(A),C=(0,a.useRef)(f);(0,a.useEffect)(()=>{k.current=A,C.current=f},[A,f]);const F=(0,a.useCallback)((e,t)=>{C.current("Item berhasil ".concat("approved"===t?"diapprove":"ditolak"),"success"),k.current()},[]),S=(0,a.useCallback)(e=>{C.current(e,"error")},[]),{approveItem:E,rejectItem:P}=tO("rab",t,F,S),D=(0,a.useCallback)(async e=>{await A();const t=e.reduce((e,t)=>e+t.count,0);f("".concat(t," item RAB berhasil ditambahkan!"),"success")},[A,f]);MD(t,A);const{draftItems:O,loadDraft:T,saveDraft:I,submitBulkItems:M,generateSubmissionSummary:_}=ID(t,D);(0,a.useEffect)(()=>{t&&"approved"===(null===y||void 0===y?void 0:y.status)&&(async()=>{try{var e;const o=(null===(e=(await Hs.get("/purchase-orders?projectId=".concat(t))).data)||void 0===e?void 0:e.data)||[],i=o.filter(e=>"approved"===e.status);let l=[];try{var r;l=(null===(r=(await Hs.get("/projects/".concat(t,"/delivery-receipts"))).data)||void 0===r?void 0:r.data)||[]}catch(s){console.warn("Error fetching receipts:",s.message)}let c=[];try{var n;c=(null===(n=(await Hs.get("/projects/".concat(t,"/berita-acara"))).data)||void 0===n?void 0:n.data)||[]}catch(s){console.warn("Error fetching berita acara:",s.message)}let d=[];try{var a;d=(null===(a=(await Hs.get("/projects/".concat(t,"/progress-payments"))).data)||void 0===a?void 0:a.data)||[]}catch(s){console.warn("Error fetching payments:",s.message)}m({totalPOs:o.length,approvedPOs:i.length,totalReceipts:l.length,totalBAs:c.length,totalPayments:d.length})}catch(o){console.error("Error fetching workflow stats:",o)}})()},[t,y]);const R=(0,a.useCallback)(()=>{const e=T();l(e),o(!0)},[T]),B=(0,a.useCallback)(()=>{o(!1)},[]),L=((0,a.useCallback)(async e=>{e.preventDefault(),o(!1)},[]),(0,a.useCallback)(async e=>{console.log("\ud83d\udd04 ProjectRABWorkflow: Starting bulk submit with items:",e);const t=await M(e);if(console.log("\ud83d\udd04 ProjectRABWorkflow: Bulk submit result:",t),t.success){o(!1),console.log("\ud83d\udd04 ProjectRABWorkflow: Refreshing RAB data after successful submit..."),await A(),console.log("\ud83d\udd04 ProjectRABWorkflow: RAB data refresh completed");const e=_(t.results);f(e.join(", "),"success")}else console.error("\u274c ProjectRABWorkflow: Bulk submit failed:",t.error),f(t.error||"Gagal menyimpan item bulk","error");return t},[M,A,_,f])),z=(0,a.useCallback)(async e=>{const t=await I(e);return t.success?f(t.message,"success"):f(t.error||"Gagal menyimpan draft","error"),t},[I,f]),U=(0,a.useCallback)(e=>{console.log("Edit item:",e)},[]),W=(0,a.useCallback)(async(e,t)=>{const r='Apakah Anda yakin ingin menghapus item:\n"'.concat(t,'"?\n\nTindakan ini tidak dapat dibatalkan.');if(confirm(r)){const t=await w(e);t.success&&f("Item RAB berhasil dihapus!".concat(t.demo?" (Mode Demo)":""),"success")}},[w,f]),V=(0,a.useCallback)(async e=>{(await E(e)).success&&f("Item RAB berhasil diapprove!","success")},[E,f]),H=(0,a.useCallback)(async e=>{const t=prompt("Alasan penolakan:");if(t&&t.trim()){(await P(e,t)).success&&f("Item RAB ditolak","warning")}},[P,f]),K=(0,a.useCallback)(async()=>{const e=g.filter(e=>!e.isApproved);if(0!==e.length&&confirm("Approve ".concat(e.length," item sekaligus?"))){let t=0;for(const r of e){(await E(r)).success&&t++}f("".concat(t," dari ").concat(e.length," item berhasil diapprove"),"success")}},[g,E,f]),q=(0,a.useCallback)(async()=>{if(0===g.length)return void alert("Tidak ada item RAB untuk diapprove");p(!0);const e=await N();p(!1),e.success?f("RAB berhasil diapprove!","success"):f(e.error||"Gagal approve RAB. Silakan coba lagi.","error")},[g.length,N,f]);return b?(0,Vn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsx)(zD,{show:c.show,message:c.message,type:c.type}),(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-lg font-semibold text-white",children:"RAB Management"}),(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93]",children:["Rencana Anggaran Biaya untuk ",r.name]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[y&&(0,Vn.jsx)(LD,{status:y.status}),BD(y)&&(0,Vn.jsxs)("button",{onClick:R,className:"flex items-center px-6 py-3 bg-[#30D158] text-white rounded-lg hover:bg-[#30D158]/90 transition-colors font-medium",children:[(0,Vn.jsx)(CD,{className:"h-5 w-5 mr-2"}),"Kelola RAB"]}),"approved"===(null===y||void 0===y?void 0:y.status)&&(0,Vn.jsx)("div",{className:"text-sm text-[#98989D] italic",children:"RAB telah disetujui - tidak dapat menambah item baru"})]})]}),(0,Vn.jsx)(KD,{rabItems:g,approvalStatus:y}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] overflow-hidden",children:[(0,Vn.jsx)("div",{className:"px-4 py-3 border-b border-[#38383A]",children:(0,Vn.jsx)("h3",{className:"text-base font-semibold text-white",children:"Daftar Item RAB"})}),s&&(0,Vn.jsx)(GD,{onSubmit:L,onSaveDraft:z,onCancel:B,draftItems:i}),!s&&(g.length>0?(0,Vn.jsx)(JD,{rabItems:g,onEdit:U,onDelete:W,onApprove:V,onReject:H,onApproveAll:K}):(0,Vn.jsx)(eO,{onAddClick:R}))]}),g.length>0&&(0,Vn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,Vn.jsx)(XD,{rabItems:g}),(0,Vn.jsx)(QD,{rabItems:g,approvalStatus:y})]}),(0,Vn.jsx)(ZD,{approvalStatus:y,rabItemsCount:g.length,isSubmitting:u,onApprove:q,workflowStats:h})]})},nO=e=>e?"PO-".concat(e):"-",aO=e=>({draft:"Draft",pending:"Menunggu Persetujuan",approved:"Disetujui",rejected:"Ditolak",cancelled:"Dibatalkan",completed:"Selesai"}[null===e||void 0===e?void 0:e.toLowerCase()]||e||"Unknown"),sO=e=>({draft:"bg-[#3A3A3C] text-[#EBEBF5] border-[#38383A]",pending:"bg-[#FF9F0A]/20 text-yellow-800 border-yellow-300",approved:"bg-[#30D158]/20 text-green-800 border-green-300",rejected:"bg-[#FF3B30]/20 text-red-800 border-red-300",cancelled:"bg-[#3A3A3C] text-[#8E8E93] border-[#38383A]",completed:"bg-[#0A84FF]/20 text-blue-800 border-blue-300"}[null===e||void 0===e?void 0:e.toLowerCase()]||"bg-[#3A3A3C] text-[#EBEBF5] border-[#38383A]"),oO=e=>{let{status:t,className:r=""}=e;if(!t)return null;const n=sO(t),a=aO(t);return(0,Vn.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ".concat(n," ").concat(r),children:a})},iO=(0,Qn.A)("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),lO=(0,Qn.A)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),cO=(0,Qn.A)("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),dO=e=>{let{rabItems:t,selectedRABItems:r,setSelectedRABItems:n,onNext:s,loading:o,projectId:i,mode:l="po"}=e;const[c,d]=(0,a.useState)(()=>"wo"===l?"all-wo":"material");(0,a.useEffect)(()=>{"po"===l&&"material"!==c?(console.log("\ud83d\udd12 [RABSelection] Forcing material tab for PO mode"),d("material")):"wo"===l&&"all-wo"!==c&&(console.log("\ud83d\udd12 [RABSelection] Forcing all-wo tab for WO mode"),d("all-wo"))},[l,c]);const u=(0,a.useMemo)(()=>{console.log("\ud83d\udd0d [RABSelection] Starting categorization..."),console.log("\ud83d\udd0d [RABSelection] Total rabItems:",t.length);const e=[],r=[],n=[],a=[];return t.forEach((t,s)=>{const o=t.isApproved||t.is_approved,i=(t.availableQuantity||t.available_quantity||0)>0;if(console.log("\ud83d\udd0d [Item ".concat(s,"]"),{name:t.name||t.item_name||t.description,category:t.kategori||t.category,item_type:t.item_type||t.itemType||t.type||"NOT SET",isApproved:o,hasQuantity:i,qty:t.availableQuantity||t.available_quantity,allProps:Object.keys(t)}),!o||!i)return void console.log("\u274c [Item ".concat(s,"] Skipped - Not approved or no quantity"));const l=(e=>{const t=e.item_type||e.itemType||e.type;if(t)return console.log('\ud83c\udfaf [detectType] Using explicit type from DB: "'.concat(t,'" for item: "').concat(e.name||e.item_name,'"')),t;console.warn('\u26a0\ufe0f [detectType] No item_type found for: "'.concat(e.name||e.item_name,'", using fallback detection'));const r=(e.name||e.item_name||e.description||"").toLowerCase();return["material","bahan","besi","kayu","beton","cat","pasir","semen","bata","keramik","pipa","kabel"].some(e=>r.includes(e))?"material":["jasa","service","instalasi","pasang"].some(e=>r.includes(e))?"service":["upah","tenaga","labor","pekerja","tukang"].some(e=>r.includes(e))?"labor":["alat","equipment","sewa"].some(e=>r.includes(e))?"equipment":(console.log('\ud83c\udfaf [detectType] Default fallback to material for: "'.concat(r,'"')),"material")})(t);console.log("\u2705 [Item ".concat(s,"] Final detected type:"),l),"material"===l?e.push((0,Mt.A)((0,Mt.A)({},t),{},{detectedType:l})):"service"===l?r.push((0,Mt.A)((0,Mt.A)({},t),{},{detectedType:l})):"labor"===l?n.push((0,Mt.A)((0,Mt.A)({},t),{},{detectedType:l})):"equipment"===l&&a.push((0,Mt.A)((0,Mt.A)({},t),{},{detectedType:l}))}),console.log("\ud83d\udcca [RABSelection] Categorization result:",{materials:e.length,services:r.length,labor:n.length,equipment:a.length}),{materials:e,services:r,labor:n,equipment:a}},[t]),p=(0,a.useMemo)(()=>{if(console.log("\ud83c\udfa8 [displayedItems] Active tab:",c),console.log("\ud83c\udfa8 [displayedItems] Mode:",l),"all-wo"===c){const e=[...u.services,...u.labor,...u.equipment];return console.log("\ud83c\udfa8 [displayedItems] Showing all WO items:",e.length),e}return"material"===c?(console.log("\ud83c\udfa8 [displayedItems] Showing materials:",u.materials.length),u.materials):"service"===c?(console.log("\ud83c\udfa8 [displayedItems] Showing services:",u.services.length),u.services):"labor"===c?(console.log("\ud83c\udfa8 [displayedItems] Showing labor:",u.labor.length),u.labor):"equipment"===c?(console.log("\ud83c\udfa8 [displayedItems] Showing equipment:",u.equipment.length),u.equipment):u.materials},[u,c,l]),h=(0,a.useMemo)(()=>{let e;return console.log("\ud83d\udccb [RABSelection] Computing approvedItems..."),console.log("\ud83d\udccb [RABSelection] Mode:",l),"po"===l?(e=u.materials,console.log("\ud83d\udccb [RABSelection] PO Mode - Materials:",e.length)):(e=[...u.services,...u.labor,...u.equipment],console.log("\ud83d\udccb [RABSelection] WO Mode - Non-materials:",e.length)),0===e.length&&(console.warn("\u26a0\ufe0f [RABSelection] FALLBACK: No categorized items, using all approved items"),e=t.filter(e=>(e.isApproved||e.is_approved)&&(e.availableQuantity||e.available_quantity||0)>0),console.log("\ud83d\udccb [RABSelection] Fallback items:",e.length)),e},[u,l,t]),m=(0,a.useMemo)(()=>{const e=u.materials.length,t=u.services.length,n=u.labor.length,a=u.equipment.length;return{totalItems:"po"===l?e:t+n+a,selectedCount:r.length,totalValue:h.reduce((e,t)=>e+(t.availableQuantity||t.available_quantity||0)*(t.unitPrice||t.unit_price||0),0),selectedValue:r.reduce((e,t)=>e+(t.availableQuantity||t.available_quantity||0)*(t.unitPrice||t.unit_price||0),0),totalMaterials:e,totalServices:t,totalLabor:n,totalEquipment:a}},[u,h,r,l]),f=e=>{const t=r.some(t=>t.id===e.id);n(t?r.filter(t=>t.id!==e.id):[...r,e])},x=()=>{if(r.length===p.length){const e=new Set(p.map(e=>e.id));n(r.filter(t=>!e.has(t.id)))}else{const e=new Set(r.map(e=>e.id)),t=p.filter(t=>!e.has(t.id));n([...r,...t])}};if(o)return(0,Vn.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0A84FF] mx-auto"}),(0,Vn.jsx)("p",{className:"mt-4 text-[#8E8E93]",children:"Memuat data RAB..."})]})});if(0===h.length){const e="po"===l?"Tidak ada material RAB yang tersedia untuk Purchase Order":"Tidak ada jasa/tenaga kerja yang tersedia untuk Work Order";return(0,Vn.jsxs)("div",{className:"text-center py-12 bg-[#1C1C1E] border border-[#38383A] rounded-lg",children:["po"===l?(0,Vn.jsx)(Xo,{className:"h-12 w-12 text-[#636366] mx-auto mb-4"}):(0,Vn.jsx)(za,{className:"h-12 w-12 text-[#636366] mx-auto mb-4"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:e}),(0,Vn.jsx)("p",{className:"text-[#636366] text-sm mt-2",children:"Pastikan RAB sudah disetujui dan memiliki quantity tersedia"})]})}return(0,Vn.jsxs)("div",{className:"space-y-6",children:["po"===l&&(0,Vn.jsx)("div",{style:{backgroundColor:"rgba(10, 132, 255, 0.1)",border:"1px solid rgba(10, 132, 255, 0.3)"},className:"rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)(Xo,{className:"h-5 w-5 text-[#0A84FF] mr-2"}),(0,Vn.jsx)("p",{className:"text-[#0A84FF] text-sm font-medium",children:"Mode Purchase Order: Menampilkan item MATERIAL saja. Untuk jasa, tenaga kerja, dan peralatan, gunakan Work Order."})]})}),"wo"===l&&(0,Vn.jsx)("div",{style:{backgroundColor:"rgba(175, 82, 222, 0.1)",border:"1px solid rgba(175, 82, 222, 0.3)"},className:"rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)(za,{className:"h-5 w-5 text-[#AF52DE] mr-2"}),(0,Vn.jsx)("p",{className:"text-[#AF52DE] text-sm font-medium",children:"Mode Work Order: Menampilkan semua item Jasa, Tenaga Kerja, dan Peralatan dalam satu tabel."})]})}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Vn.jsx)("div",{style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"rounded-lg shadow p-4",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"wo"===l?"Total Work Order Items":"material"===c?"Total Material":"service"===c?"Total Jasa":"labor"===c?"Total Tenaga Kerja":"equipment"===c?"Total Peralatan":"Total Items"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-white",children:p.length}),(0,Vn.jsx)("p",{className:"text-xs text-[#636366] mt-1",children:"Item tersedia"})]}),(0,Vn.jsx)("div",{style:{backgroundColor:"wo"===l?"rgba(175, 82, 222, 0.2)":"rgba(10, 132, 255, 0.2)"},className:"w-12 h-12 rounded-full flex items-center justify-center",children:"wo"===l?(0,Vn.jsx)(za,{className:"w-6 h-6 text-[#AF52DE]"}):(0,Vn.jsxs)(Vn.Fragment,{children:["material"===c&&(0,Vn.jsx)(Xo,{className:"w-6 h-6 text-[#0A84FF]"}),"service"===c&&(0,Vn.jsx)(di,{className:"w-6 h-6 text-[#AF52DE]"}),"labor"===c&&(0,Vn.jsx)(fa,{className:"w-6 h-6 text-[#30D158]"}),"equipment"===c&&(0,Vn.jsx)(iO,{className:"w-6 h-6 text-[#FF9F0A]"})]})})]})}),(0,Vn.jsx)("div",{style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"rounded-lg shadow p-4",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Dipilih"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-[#30D158]",children:m.selectedCount}),(0,Vn.jsx)("p",{className:"text-xs text-[#636366] mt-1",children:"Item terpilih"})]}),(0,Vn.jsx)("div",{style:{backgroundColor:"rgba(48, 209, 88, 0.2)"},className:"w-12 h-12 rounded-full flex items-center justify-center",children:(0,Vn.jsx)(Ea.A,{className:"w-6 h-6 text-[#30D158]"})})]})}),(0,Vn.jsx)("div",{style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"rounded-lg shadow p-4",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Total Nilai"}),(0,Vn.jsx)("p",{className:"text-lg font-bold text-white",title:UD(m.totalValue),children:UD(m.totalValue,!0)}),(0,Vn.jsx)("p",{className:"text-xs text-[#636366] mt-1",children:"wo"===l?"Semua item WO":"Semua material"})]}),(0,Vn.jsx)("div",{style:{backgroundColor:"rgba(191, 90, 242, 0.2)"},className:"w-12 h-12 rounded-full flex items-center justify-center",children:(0,Vn.jsx)(xa,{className:"w-6 h-6 text-[#BF5AF2]"})})]})}),(0,Vn.jsx)("div",{style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"rounded-lg shadow p-4",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Nilai Terpilih"}),(0,Vn.jsx)("p",{className:"text-lg font-bold text-[#0A84FF]",title:UD(m.selectedValue),children:UD(m.selectedValue,!0)}),(0,Vn.jsx)("p",{className:"text-xs text-[#636366] mt-1",children:"Material dipilih"})]}),(0,Vn.jsx)("div",{style:{backgroundColor:"rgba(10, 132, 255, 0.2)"},className:"w-12 h-12 rounded-full flex items-center justify-center",children:(0,Vn.jsx)(Xo,{className:"w-6 h-6 text-[#0A84FF]"})})]})})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Pilih Material untuk Purchase Order"}),(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93]",children:[m.selectedCount," dari ",m.totalItems," item dipilih"]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("button",{onClick:x,style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"flex items-center px-4 py-2 text-white rounded-lg hover:bg-[#3A3A3C] transition-colors",children:r.length===h.length?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(lO,{className:"h-4 w-4 mr-2"}),"Batalkan Semua"]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(cO,{className:"h-4 w-4 mr-2"}),"Pilih Semua"]})}),r.length>0&&(0,Vn.jsx)("button",{onClick:s,style:{backgroundColor:"wo"===l?"#AF52DE":"#0A84FF",border:"wo"===l?"1px solid #AF52DE":"1px solid #0A84FF"},className:"flex items-center px-6 py-2 text-white rounded-lg transition-colors shadow-lg ".concat("wo"===l?"hover:bg-[#AF52DE]/90 shadow-[#AF52DE]/20":"hover:bg-[#0A84FF]/90 shadow-[#0A84FF]/20"),children:"wo"===l?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(za,{className:"h-4 w-4 mr-2"}),"Lanjut ke Form WO"]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(Xo,{className:"h-4 w-4 mr-2"}),"Lanjut ke Form PO"]})})]})]}),(0,Vn.jsx)("div",{style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"rounded-lg overflow-hidden",children:(0,Vn.jsxs)("div",{className:"overflow-x-auto rab-table-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#38383A #1C1C1E"},children:[(0,Vn.jsx)("style",{children:"\n            .rab-table-scroll::-webkit-scrollbar {\n              height: 8px;\n            }\n            .rab-table-scroll::-webkit-scrollbar-track {\n              background: #1C1C1E;\n            }\n            .rab-table-scroll::-webkit-scrollbar-thumb {\n              background: #38383A;\n              border-radius: 4px;\n            }\n            .rab-table-scroll::-webkit-scrollbar-thumb:hover {\n              background: #48484A;\n            }\n          "}),(0,Vn.jsxs)("table",{className:"min-w-full",children:[(0,Vn.jsx)("thead",{style:{backgroundColor:"#2C2C2E"},children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#98989D] uppercase tracking-wider border-b border-[#38383A]",style:{width:"50px"},children:(0,Vn.jsx)("input",{type:"checkbox",checked:r.length===h.length&&h.length>0,onChange:x,className:"w-4 h-4 text-[#0A84FF] bg-[#2C2C2E] border-[#38383A] rounded focus:ring-[#0A84FF] focus:ring-2"})}),(0,Vn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#98989D] uppercase tracking-wider border-b border-[#38383A]",children:"wo"===l?"Nama Pekerjaan":"Nama Material"}),(0,Vn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#98989D] uppercase tracking-wider border-b border-[#38383A]",children:"Item Type"}),(0,Vn.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#98989D] uppercase tracking-wider border-b border-[#38383A]",children:"Satuan"}),(0,Vn.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-[#98989D] uppercase tracking-wider border-b border-[#38383A]",children:"Harga Satuan"}),(0,Vn.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-[#98989D] uppercase tracking-wider border-b border-[#38383A]",children:"Qty Tersedia"}),(0,Vn.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-[#98989D] uppercase tracking-wider border-b border-[#38383A]",children:"Total Nilai"})]})}),(0,Vn.jsx)("tbody",{style:{backgroundColor:"#1C1C1E"},className:"divide-y divide-[#38383A]",children:p.length>0?p.map(e=>{const t=(e=>r.some(t=>t.id===e.id))(e),n=e.availableQuantity||e.available_quantity||0,a=e.unitPrice||e.unit_price||0,s=n*a;return(0,Vn.jsxs)("tr",{onClick:()=>f(e),className:"hover:bg-[#2C2C2E] transition-colors cursor-pointer",style:{backgroundColor:t?"rgba(10, 132, 255, 0.1)":"transparent"},children:[(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vn.jsx)("input",{type:"checkbox",checked:t,onChange:()=>f(e),onClick:e=>e.stopPropagation(),className:"w-4 h-4 text-[#0A84FF] bg-[#2C2C2E] border-[#38383A] rounded focus:ring-[#0A84FF] focus:ring-2"})}),(0,Vn.jsx)("td",{className:"px-6 py-4",children:(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)(Xo,{className:"h-4 w-4 mr-2 text-[#0A84FF] flex-shrink-0"}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:e.description||e.name||"-"}),e.specifications&&(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mt-1",children:e.specifications})]})]})}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(()=>{const t={material:{bg:"bg-[#0A84FF]/20",text:"text-[#0A84FF]",label:"\ud83d\udce6 Material"},service:{bg:"bg-[#AF52DE]/20",text:"text-[#AF52DE]",label:"\ud83d\udd28 Jasa"},labor:{bg:"bg-[#30D158]/20",text:"text-[#30D158]",label:"\ud83d\udc77 Tenaga Kerja"},equipment:{bg:"bg-[#FF9F0A]/20",text:"text-[#FF9F0A]",label:"\ud83d\ude9b Peralatan"},overhead:{bg:"bg-gray-500/20",text:"text-gray-400",label:"\u2699\ufe0f Overhead"}},r=t[e.item_type||e.itemType||e.detectedType||"material"]||t.material;return(0,Vn.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r.bg," ").concat(r.text),children:r.label})})()}),(0,Vn.jsx)("td",{className:"px-6 py-4 text-center whitespace-nowrap",children:(0,Vn.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#0A84FF]/20 text-[#0A84FF]",children:e.unit||e.satuan||"-"})}),(0,Vn.jsx)("td",{className:"px-6 py-4 text-right whitespace-nowrap",children:(0,Vn.jsx)("span",{className:"text-sm font-medium text-white",children:UD(a)})}),(0,Vn.jsxs)("td",{className:"px-6 py-4 text-right whitespace-nowrap",children:[(0,Vn.jsx)("span",{className:"text-sm font-bold text-[#30D158]",children:Math.floor(n)}),(0,Vn.jsx)("span",{className:"text-xs text-[#8E8E93] ml-1",children:e.unit||e.satuan})]}),(0,Vn.jsx)("td",{className:"px-6 py-4 text-right whitespace-nowrap",children:(0,Vn.jsx)("span",{className:"text-sm font-bold text-[#0A84FF]",children:UD(s)})})]},e.id)}):(0,Vn.jsx)("tr",{children:(0,Vn.jsx)("td",{colSpan:"7",className:"px-6 py-12 text-center",children:(0,Vn.jsxs)("div",{className:"flex flex-col items-center",children:["material"===c&&(0,Vn.jsx)(Xo,{className:"h-12 w-12 text-[#636366] mb-4"}),"service"===c&&(0,Vn.jsx)(di,{className:"h-12 w-12 text-[#636366] mb-4"}),"labor"===c&&(0,Vn.jsx)(fa,{className:"h-12 w-12 text-[#636366] mb-4"}),"equipment"===c&&(0,Vn.jsx)(iO,{className:"h-12 w-12 text-[#636366] mb-4"}),(0,Vn.jsxs)("p",{className:"text-[#8E8E93]",children:["material"===c&&"Tidak ada material yang tersedia","service"===c&&"Tidak ada jasa yang tersedia","labor"===c&&"Tidak ada tenaga kerja yang tersedia","equipment"===c&&"Tidak ada peralatan yang tersedia"]})]})})})})]})]})}),(0,Vn.jsx)("div",{style:{backgroundColor:"rgba(10, 132, 255, 0.1)",border:"1px solid rgba(10, 132, 255, 0.3)"},className:"rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)(Sa,{className:"h-5 w-5 text-[#0A84FF] mr-2 flex-shrink-0"}),(0,Vn.jsx)("span",{className:"text-sm text-[#0A84FF] font-medium",children:"\ud83d\udca1 Tip: Klik baris untuk memilih/membatalkan material. Pilih minimal 1 item untuk melanjutkan."})]})})]})},uO=e=>e&&Array.isArray(e)?e.reduce((e,t)=>e+(parseFloat(t.quantity)||0)*(parseFloat(t.unitPrice||t.unit_price)||0),0):0,pO=e=>{let{selectedRABItems:t,rabItems:r,supplierInfo:n,setSupplierInfo:s,onSubmit:o,onBack:i,projectId:l}=e;const[c,d]=(0,a.useState)(t.map(e=>{const t=Math.floor(e.availableQuantity||e.remainingQuantity||0),r=t>0?Math.min(1,t):0;return{rabItemId:e.id,inventoryId:e.id,itemName:e.description,quantity:r,unitPrice:e.unitPrice||e.unit_price||0,unit:e.unit,totalPrice:r*(e.unitPrice||e.unit_price||0),availableQuantity:t}})),[u,p]=(0,a.useState)([]),h=(0,a.useCallback)((e,t)=>{d(r=>{const n=[...r],a=Math.floor(parseFloat(t)||0),s=n[e];return a>s.availableQuantity?(alert("Jumlah tidak boleh melebihi ".concat(s.availableQuantity," ").concat(s.unit)),r):(s.quantity=a,s.totalPrice=a*s.unitPrice,n)})},[]),m=(0,a.useMemo)(()=>uO(c),[c]),f=(0,a.useMemo)(()=>c.filter(e=>(parseFloat(e.quantity)||0)>0).length,[c]),x=(0,a.useMemo)(()=>c.filter(e=>0===(parseFloat(e.quantity)||0)).length,[c]);return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)("button",{onClick:i,style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"mr-4 p-2 hover:bg-[#3A3A3C] rounded-lg transition-colors",children:(0,Vn.jsx)(Aa,{className:"h-5 w-5 text-white"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Buat Purchase Order"}),(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93]",children:[c.length," item dipilih"]})]})]}),u.length>0&&(0,Vn.jsxs)("div",{style:{backgroundColor:"rgba(255, 59, 48, 0.1)",border:"1px solid rgba(255, 59, 48, 0.3)"},className:"rounded-lg p-4",children:[(0,Vn.jsx)("h4",{className:"text-sm font-medium text-[#FF3B30] mb-2",children:"\u26a0\ufe0f Validasi gagal:"}),(0,Vn.jsx)("ul",{className:"list-disc list-inside text-sm text-[#FF3B30] space-y-1",children:u.map((e,t)=>(0,Vn.jsx)("li",{children:e},t))})]}),(0,Vn.jsxs)("div",{style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"rounded-lg p-6",children:[(0,Vn.jsxs)("h4",{className:"text-md font-semibold text-white mb-4 flex items-center",children:[(0,Vn.jsx)(ga,{className:"h-5 w-5 mr-2 text-[#0A84FF]"}),"Informasi Supplier"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#98989D] mb-1",children:["Nama Supplier ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"text",value:n.name,onChange:e=>s((0,Mt.A)((0,Mt.A)({},n),{},{name:e.target.value})),style:{backgroundColor:"#2C2C2E",border:u.some(e=>e.includes("Nama supplier"))?"1px solid #FF3B30":"1px solid #38383A",color:"white"},className:"w-full px-3 py-2 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366]",placeholder:"CV. Supplier Name"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#98989D] mb-1",children:["Kontak ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"text",value:n.contact,onChange:e=>s((0,Mt.A)((0,Mt.A)({},n),{},{contact:e.target.value})),style:{backgroundColor:"#2C2C2E",border:u.some(e=>e.includes("Kontak supplier"))?"1px solid #FF3B30":"1px solid #38383A",color:"white"},className:"w-full px-3 py-2 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366]",placeholder:"081234567890"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#98989D] mb-1",children:["Alamat ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"text",value:n.address,onChange:e=>s((0,Mt.A)((0,Mt.A)({},n),{},{address:e.target.value})),style:{backgroundColor:"#2C2C2E",border:u.some(e=>e.includes("Alamat supplier"))?"1px solid #FF3B30":"1px solid #38383A",color:"white"},className:"w-full px-3 py-2 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366]",placeholder:"Jalan Raya..."})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#98989D] mb-1",children:["Tanggal Pengiriman ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)(HP,{value:n.deliveryDate,onChange:e=>s((0,Mt.A)((0,Mt.A)({},n),{},{deliveryDate:e.target.value})),style:{backgroundColor:"#2C2C2E",border:u.some(e=>e.includes("Tanggal pengiriman"))?"1px solid #FF3B30":"1px solid #38383A",color:"white",colorScheme:"dark"},className:"w-full pr-4 py-2 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all",min:(new Date).toISOString().split("T")[0]})]})]})]}),(0,Vn.jsxs)("div",{style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"rounded-lg p-6",children:[(0,Vn.jsxs)("h4",{className:"text-md font-semibold text-white mb-4 flex items-center",children:[(0,Vn.jsx)(Xo,{className:"h-5 w-5 mr-2 text-[#0A84FF]"}),"Daftar Item (",c.length,")"]}),x>0&&(0,Vn.jsx)("div",{style:{backgroundColor:"rgba(255, 159, 10, 0.1)",border:"1px solid rgba(255, 159, 10, 0.3)"},className:"rounded-lg p-3 mb-4",children:(0,Vn.jsxs)("p",{className:"text-sm text-[#FF9F0A]",children:["\u26a0\ufe0f ",x," item memiliki quantity 0 dan tidak akan dimasukkan dalam PO"]})}),(0,Vn.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2 po-items-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#38383A #1C1C1E"},children:[(0,Vn.jsx)("style",{children:"\n            .po-items-scroll::-webkit-scrollbar {\n              width: 8px;\n            }\n            .po-items-scroll::-webkit-scrollbar-track {\n              background: #1C1C1E;\n            }\n            .po-items-scroll::-webkit-scrollbar-thumb {\n              background: #38383A;\n              border-radius: 4px;\n            }\n            .po-items-scroll::-webkit-scrollbar-thumb:hover {\n              background: #48484A;\n            }\n          "}),c.map((e,t)=>(0,Vn.jsxs)("div",{style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"rounded-lg p-4",children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h5",{className:"font-medium text-white mb-1",children:e.itemName}),(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93]",children:["Tersedia: ",(0,Vn.jsxs)("span",{className:"font-medium text-[#30D158]",children:[Math.floor(e.availableQuantity)," ",e.unit]})]})]}),(0,Vn.jsxs)("div",{className:"text-right",children:[(0,Vn.jsx)("p",{className:"text-xs text-[#98989D] mb-1",children:"Harga Satuan"}),(0,Vn.jsx)("p",{className:"font-medium text-[#0A84FF]",children:UD(e.unitPrice)})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-4 mt-3",children:[(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#98989D] mb-1",children:["Jumlah (",e.unit,")"]}),(0,Vn.jsx)(XP,{value:e.quantity,onChange:e=>h(t,e),max:e.availableQuantity,min:"0",step:"0.01",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"white"},className:"w-full px-3 py-2 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all"})]}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-1",children:"Total"}),(0,Vn.jsx)("div",{style:{backgroundColor:"rgba(10, 132, 255, 0.1)",border:"1px solid rgba(10, 132, 255, 0.3)"},className:"px-3 py-2 rounded-lg",children:(0,Vn.jsx)("span",{className:"font-bold text-[#0A84FF]",children:UD(e.totalPrice||0)})})]})]})]},t))]})]}),(0,Vn.jsx)("div",{style:{backgroundColor:"rgba(10, 132, 255, 0.1)",border:"1px solid rgba(10, 132, 255, 0.3)"},className:"rounded-lg p-6",children:(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsx)("span",{className:"text-lg font-semibold text-white",children:"Total Purchase Order"}),(0,Vn.jsx)("span",{className:"text-2xl font-bold text-[#0A84FF]",children:UD(m)})]})}),(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsx)("div",{style:{backgroundColor:"rgba(142, 142, 147, 0.1)",border:"1px solid rgba(142, 142, 147, 0.2)"},className:"rounded-lg p-3",children:(0,Vn.jsxs)("p",{className:"text-xs text-[#8E8E93] text-center",children:["\ud83d\udca1 Pastikan semua field bertanda (*) sudah diisi dan minimal 1 item memiliki quantity ",">"," 0"]})}),(0,Vn.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Vn.jsx)("button",{onClick:i,style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"white"},className:"px-6 py-2 rounded-lg hover:bg-[#2C2C2E] transition-all",children:"Batal"}),(0,Vn.jsxs)("button",{onClick:()=>{const e=[];console.log("\ud83d\udd0d DEBUG Validation Start:"),console.log("supplierInfo:",n),console.log("poItems:",c),n.name&&""!==n.name.trim()?console.log("\u2705 PASS: Nama supplier:",n.name):(console.log("\u274c FAIL: Nama supplier empty"),e.push("Nama supplier harus diisi")),n.contact&&""!==n.contact.trim()?console.log("\u2705 PASS: Kontak supplier:",n.contact):(console.log("\u274c FAIL: Kontak supplier empty"),e.push("Kontak supplier harus diisi")),n.address&&""!==n.address.trim()?console.log("\u2705 PASS: Alamat supplier:",n.address):(console.log("\u274c FAIL: Alamat supplier empty"),e.push("Alamat supplier harus diisi")),n.deliveryDate?console.log("\u2705 PASS: Delivery date:",n.deliveryDate):(console.log("\u274c FAIL: Delivery date empty"),e.push("Tanggal pengiriman harus diisi"));const t=c.filter(e=>(parseFloat(e.quantity)||0)>0);if(console.log("Valid items (qty > 0):",t.length,"/",c.length),0===t.length?(console.log("\u274c FAIL: No items with quantity > 0"),e.push("Minimal harus ada 1 item dengan quantity > 0")):console.log("\u2705 PASS: Found",t.length,"valid items"),t.forEach(t=>{const r=parseFloat(t.quantity)||0,n=parseFloat(t.availableQuantity)||0;console.log("  Item: ".concat(t.itemName,", qty: ").concat(r,", available: ").concat(n)),r>n&&(console.log("  \u274c FAIL: Exceeds available (".concat(r," > ").concat(n,")")),e.push("".concat(t.itemName,": Quantity ").concat(r," melebihi yang tersedia (").concat(n,")")))}),console.log("Total errors:",e.length),e.length>0)return console.log("Errors:",e),void p(e);console.log("\u2705 All validation passed!"),p([]);const r="SUP-".concat(n.name.replace(/\s+/g,"-").toUpperCase().substring(0,20),"-").concat(Date.now().toString().slice(-6)),a={projectId:l,poNumber:"PO-".concat(Date.now()),supplierId:r,supplierName:n.name,orderDate:(new Date).toISOString(),expectedDeliveryDate:n.deliveryDate,status:"pending",items:t.map(e=>({inventoryId:e.inventoryId||e.rabItemId,itemName:e.itemName,quantity:parseFloat(e.quantity),unitPrice:parseFloat(e.unitPrice),totalPrice:parseFloat(e.quantity)*parseFloat(e.unitPrice),description:"".concat(e.itemName," (").concat(e.unit,")")})),subtotal:m,taxAmount:0,totalAmount:m,notes:"Kontak: ".concat(n.contact,"\nAlamat: ").concat(n.address),deliveryAddress:n.address,terms:""};console.log("\ud83d\udce4 Submitting PO Data:",JSON.stringify(a,null,2)),console.log("\ud83d\udd0d Items detail:",a.items.map(e=>({inventoryId:e.inventoryId,itemName:e.itemName,hasRabItemId:!!e.rabItemId}))),o(a)},disabled:0===f,style:{backgroundColor:0===f?"#38383A":"#0A84FF"},className:"flex items-center px-6 py-2 text-white rounded-lg hover:bg-[#0A84FF]/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-[#0A84FF]/20",children:[(0,Vn.jsx)(gE,{className:"h-4 w-4 mr-2"}),"Simpan Purchase Order"]})]})]})]})},hO=e=>{let{purchaseOrders:t,onCreateNew:r,projectName:n,projectAddress:s,projectId:o,loading:i,onApprovePO:l,onRejectPO:c,onApproveAllPO:d}=e;const[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)("all"),[f,x]=(0,a.useState)(!1),g="all"===h?t:t.filter(e=>{var t;return(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())===h.toLowerCase()}),b=async e=>{try{x(!0);let t="/api";t=t.replace(/\/api\/?$/,""),t.includes("nusantaragroup.co")&&(t="https://api.nusantaragroup.co");const r=localStorage.getItem("token"),n=e.id||e.poNumber||e.po_number;console.log("Generating PDF for PO:",n),console.log("Using API URL:",t);const a=await fetch("".concat(t,"/api/purchase-orders/").concat(n,"/pdf"),{method:"GET",headers:{Authorization:"Bearer ".concat(r),Accept:"application/pdf"}});if(!a.ok){console.error("PDF Generation failed with status:",a.status);const e=await a.text();console.error("Error response:",e);try{const t=JSON.parse(e);throw new Error(t.message||"Gagal generate invoice PDF (".concat(a.status,")"))}catch(Pr){throw new Error("Gagal generate invoice PDF (".concat(a.status,")"))}}const s=await a.blob(),o=URL.createObjectURL(s),i=window.open(o,"_blank");if(!i||i.closed||"undefined"===typeof i.closed){const t=document.createElement("a");t.href=o,t.download="PO-".concat(e.poNumber||e.id||"document",".pdf"),document.body.appendChild(t),t.click(),document.body.removeChild(t),window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:"info",message:"Download PDF dimulai. Jika tidak muncul, periksa pengaturan pop-up browser Anda.",duration:5e3}}))}setTimeout(()=>URL.revokeObjectURL(o),3e3),window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:"success",message:"Invoice PDF berhasil dibuat!",duration:3e3}}))}catch(t){console.error("Error generating PDF:",t),window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:"error",message:"Gagal generate invoice: "+t.message,duration:5e3}}))}finally{x(!1)}},y=e=>{p(e)},v=()=>{p(null)};return i?(0,Vn.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Vn.jsx)("p",{className:"mt-4 text-[#8E8E93]",children:"Memuat data Purchase Orders..."})]})}):u?(0,Vn.jsx)("div",{className:"space-y-4",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)("button",{onClick:v,style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"mr-4 p-2 hover:bg-[#3A3A3C] rounded-lg transition-colors",children:(0,Vn.jsx)(Aa,{className:"h-5 w-5 text-white"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white",children:nO(u.poNumber||u.po_number)}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Detail Purchase Order"})]})]}),(0,Vn.jsx)("div",{className:"flex items-center gap-3",children:(0,Vn.jsx)("button",{onClick:()=>b(u),disabled:f,style:{backgroundColor:f?"#3A3A3C":"#0A84FF",border:"1px solid #38383A"},className:"px-4 py-2 rounded-lg hover:bg-[#0077ED] transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-white",children:"Generating..."})]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(di,{className:"h-4 w-4 text-white"}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-white",children:"Generate PDF"})]})})})]})}):(0,Vn.jsx)("div",{className:"space-y-4",children:(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"min-w-full border border-[#38383A] rounded-lg overflow-hidden",children:[(0,Vn.jsx)("thead",{className:"bg-[#1C1C1E] border-b border-[#38383A]",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"py-3 px-4 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"PO Number"}),(0,Vn.jsx)("th",{className:"py-3 px-4 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Supplier"}),(0,Vn.jsx)("th",{className:"py-3 px-4 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Date"}),(0,Vn.jsx)("th",{className:"py-3 px-4 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Amount"}),(0,Vn.jsx)("th",{className:"py-3 px-4 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Status"}),(0,Vn.jsx)("th",{className:"py-3 px-4 text-right text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Actions"})]})}),(0,Vn.jsx)("tbody",{className:"bg-[#2C2C2E] divide-y divide-[#38383A]",children:g.map(e=>(0,Vn.jsxs)("tr",{className:"hover:bg-[#3A3A3C] cursor-pointer transition-colors",children:[(0,Vn.jsx)("td",{className:"px-4 py-3",onClick:()=>y(e),children:(0,Vn.jsx)("div",{className:"text-white font-medium",children:nO(e.poNumber||e.po_number)})}),(0,Vn.jsx)("td",{className:"px-4 py-3",onClick:()=>y(e),children:(0,Vn.jsx)("div",{className:"text-white",children:e.supplierName||e.supplier_name})}),(0,Vn.jsx)("td",{className:"px-4 py-3",onClick:()=>y(e),children:(0,Vn.jsx)("div",{className:"text-white",children:WD(e.orderDate||e.order_date||e.createdAt)})}),(0,Vn.jsx)("td",{className:"px-4 py-3",onClick:()=>y(e),children:(0,Vn.jsx)("div",{className:"text-white",children:UD(e.totalAmount||e.total_amount||0)})}),(0,Vn.jsx)("td",{className:"px-4 py-3",onClick:()=>y(e),children:(0,Vn.jsx)(oO,{status:e.status})}),(0,Vn.jsx)("td",{className:"px-4 py-3 text-right",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Vn.jsx)("button",{onClick:()=>b(e),className:"p-2 hover:bg-[#3A3A3C] rounded-lg transition-colors",title:"Generate PDF",children:(0,Vn.jsx)(di,{className:"h-4 w-4 text-[#0A84FF]"})}),(0,Vn.jsx)("button",{onClick:()=>y(e),className:"p-2 hover:bg-[#3A3A3C] rounded-lg transition-colors",title:"View Details",children:(0,Vn.jsx)(la,{className:"h-4 w-4 text-[#64D2FF]"})})]})})]},e.id))})]})})})},mO=e=>{const t=[],r=(e=>{const t=[];if(e.supplierName&&""!==e.supplierName.trim()||t.push("Nama supplier harus diisi"),e.expectedDeliveryDate){const r=new Date(e.expectedDeliveryDate),n=new Date;n.setHours(0,0,0,0),r<n&&t.push("Tanggal pengiriman tidak boleh di masa lalu")}else t.push("Tanggal pengiriman harus diisi");return e.items&&Array.isArray(e.items)&&0!==e.items.length||t.push("Minimal harus ada 1 item dalam PO"),{isValid:0===t.length,errors:t}})(e);r.isValid||t.push(...r.errors);const n=(e=>{const t=[];return e&&Array.isArray(e)&&0!==e.length?(e.forEach((e,r)=>{const n=[];e.inventoryId||n.push("Item ".concat(r+1,": Inventory ID tidak valid"));const a=parseFloat(e.quantity);(!a||a<=0)&&n.push("Item ".concat(r+1,": Jumlah harus lebih dari 0"));const s=parseFloat(e.unitPrice||e.unit_price);(!s||s<=0)&&n.push("Item ".concat(r+1,": Harga satuan harus lebih dari 0")),n.length>0&&t.push(...n)}),{isValid:0===t.length,errors:t}):(t.push("Minimal harus ada 1 item dalam PO"),{isValid:!1,errors:t})})(e.items);return n.isValid||t.push(...n.errors),{isValid:0===t.length,errors:t}},fO=e=>{let{projectId:t,project:r,onDataChange:n,mode:s="history",onComplete:o,onCreateNew:i}=e;const{id:l=t,name:c,address:d}=r||{},[u,p]=(0,a.useState)("rab-selection"),[h,m]=(0,a.useState)([]),[f,x]=(0,a.useState)({name:"",contact:"",address:"",deliveryDate:""}),{purchaseOrders:g,loading:b,createPurchaseOrder:y,fetchPurchaseOrders:v}=(e=>{const[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null),l=(0,a.useCallback)(t=>{try{const r="approval_status_".concat(e),n=localStorage.getItem(r);let a={};return n&&(a=JSON.parse(n)),t.map(t=>{const r="po_".concat(t.id),n=a[r];return console.log("[WORKFLOW PO SYNC] Checking PO ".concat(t.poNumber,":"),{po_id:t.id,poApprovalKey:r,current_status:t.status,cached_status:(null===n||void 0===n?void 0:n.status)||"none",has_cache:!!n,projectId:e}),n&&n.status!==t.status?(console.log("[WORKFLOW PO SYNC] Updating PO ".concat(t.poNumber," status from ").concat(t.status," to ").concat(n.status)),(0,Mt.A)((0,Mt.A)({},t),{},{status:n.status,approved_at:n.approved_at,approved_by:n.approved_by,last_sync:(new Date).toISOString()})):t})}catch(o){return console.error("Error syncing PO approval status:",o),t}},[e]),c=(0,a.useCallback)(async()=>{try{s(!0),i(null);const t=await fetch("/api/purchase-orders?projectId=".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!t.ok)throw new Error("Failed to fetch purchase orders");{const e=(await t.json()).data||[],n=l(e);r(n)}}catch(t){console.error("Error fetching purchase orders:",t),i(t.message)}finally{s(!1)}},[e,l]),d=(0,a.useCallback)(async e=>{try{console.log("\ud83d\udd35 [usePurchaseOrders] Creating PO..."),console.log("\ud83d\udce6 [usePurchaseOrders] Payload:",e),s(!0),i(null);const t=await fetch("/api/purchase-orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(e)});if(console.log("\ud83d\udce1 [usePurchaseOrders] Response status:",t.status),console.log("\ud83d\udce1 [usePurchaseOrders] Response ok:",t.ok),!t.ok){const e=await t.json();console.error("\u274c [usePurchaseOrders] Error response:",e),console.error("\u274c [usePurchaseOrders] Validation details:",e.details);let r=e.message||e.error||"Failed to create purchase order";throw e.details&&Array.isArray(e.details)&&(r+="\n\nDetails:\n"+e.details.map(e=>"- ".concat(e.message||e)).join("\n")),new Error(r)}const r=await t.json();return console.log("\u2705 [usePurchaseOrders] Success response:",r),console.log("\ud83d\udd04 [usePurchaseOrders] Refreshing PO list..."),await c(),{success:!0,data:r.data}}catch(t){return console.error("\ud83d\udca5 [usePurchaseOrders] Exception:",t),console.error("\ud83d\udca5 [usePurchaseOrders] Stack:",t.stack),i(t.message),{success:!1,error:t.message}}finally{s(!1)}},[c]),u=(0,a.useCallback)(async(e,t)=>{try{s(!0),i(null);const n=await fetch("/api/purchase-orders/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update purchase order");const a=await n.json();return r(t=>t.map(t=>t.id===e?(0,Mt.A)((0,Mt.A)({},t),a.data):t)),{success:!0,data:a.data}}catch(n){return console.error("Error updating purchase order:",n),i(n.message),{success:!1,error:n.message}}finally{s(!1)}},[]),p=(0,a.useCallback)(async e=>{try{if(s(!0),i(null),!(await fetch("/api/purchase-orders/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok)throw new Error("Failed to delete purchase order");return r(t=>t.filter(t=>t.id!==e)),{success:!0}}catch(t){return console.error("Error deleting purchase order:",t),i(t.message),{success:!1,error:t.message}}finally{s(!1)}},[]);return(0,a.useEffect)(()=>{e&&c()},[e,c]),{purchaseOrders:t,loading:n,error:o,fetchPurchaseOrders:c,createPurchaseOrder:d,updatePurchaseOrder:u,deletePurchaseOrder:p,syncPOApprovalStatus:l}})(t),{rabItems:j,filteredRABItems:w,loading:N,fetchRABItems:A}=(e=>{const[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null),d=(0,a.useCallback)(t=>{try{const r="approval_status_".concat(e),n=localStorage.getItem(r);if(!n)return console.log("[RAB SYNC] No approval cache found"),t;const a=JSON.parse(n);console.log("[RAB SYNC] Found approval cache:",a);const s=t.map(e=>{const t="rab_".concat(e.id),r=a[t];return r?(console.log("[RAB SYNC] Updating ".concat(e.description," status from ").concat(e.isApproved," to ").concat("approved"===r.status)),(0,Mt.A)((0,Mt.A)({},e),{},{isApproved:"approved"===r.status,is_approved:"approved"===r.status,approved_at:r.approved_at,approved_by:r.approved_by,approval_status:r.status,last_sync:(new Date).toISOString()})):e});return console.log("[RAB SYNC] Synced ".concat(s.filter(e=>e.isApproved).length," approved items out of ").concat(t.length)),s}catch(l){return console.error("[RAB SYNC] Error syncing approval status:",l),t}},[e]),u=(0,a.useCallback)(async()=>{try{i(!0),c(null);const t=localStorage.getItem("token"),n=await fetch("/api/projects/".concat(e,"/rab"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!n.ok)throw new Error("Failed to fetch RAB items");const a=await n.json();if(a.success&&a.data){const t=a.data,n=(new Date).getTime(),o="/api/rab-tracking/projects/".concat(e,"/purchase-summary?_t=").concat(n),i=await fetch(o,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});let l={};if(i.ok){const e=await i.json();console.log("[DEBUG] Purchase summary response:",e),e.success&&e.data&&(l=e.data.reduce((e,t)=>{var r,n;return e[String(null!==(r=null!==(n=t.rabItemId)&&void 0!==n?n:t.rab_item_id)&&void 0!==r?r:t.id)]=t,e},{}),console.log("[DEBUG] Processed purchase summary:",l))}else console.error("[DEBUG] Purchase summary fetch failed:",i.status,await i.text());const c=t.map(e=>{var t,r,n,a,s,o,i,c,d,u,p,h,m;const f=String(e.id),x=l[f]||{},g=parseFloat(null!==(t=null!==(r=null!==(n=x.totalPurchased)&&void 0!==n?n:x.total_purchased)&&void 0!==r?r:x.total_purchased_quantity)&&void 0!==t?t:0)||0,b=parseFloat(null!==(a=null!==(s=x.totalAmount)&&void 0!==s?s:x.total_amount)&&void 0!==a?a:0)||0,y=parseInt(null!==(o=null!==(i=x.activePOCount)&&void 0!==i?i:x.active_po_count)&&void 0!==o?o:0)||0,v=null!==(c=null!==(d=x.lastPurchaseDate)&&void 0!==d?d:x.last_purchase_date)&&void 0!==c?c:null,j=parseInt(null!==(u=null!==(p=x.recordCount)&&void 0!==p?p:x.record_count)&&void 0!==u?u:0)||0,w=parseFloat(e.quantity)||0,N=Math.floor(Math.max(0,w-g)),A=N,k=parseFloat(null!==(h=null!==(m=e.unitPrice)&&void 0!==m?m:e.unit_price)&&void 0!==h?h:0)||0,C=w*k,F=g*k,S=N*k,E=(0,Mt.A)((0,Mt.A)({},e),{},{remainingQuantity:N,availableQuantity:A,totalPurchased:g,totalPurchaseAmount:b,activePOCount:y,lastPurchaseDate:v,purchaseRecordCount:j,purchaseProgress:w>0?g/w*100:0,totalRABValue:C,totalPurchasedValue:F,remainingValue:S,unitPrice:k});return console.debug("[RAB Purchase] itemId=",f,"totalQty=",w,"totalPurchased=",g,"available=",A,"remainingValue=",S),E}),u=d(c);r(u),s(u)}}catch(t){console.error("Error fetching RAB items:",t),c(t.message)}finally{i(!1)}},[e,d]),p=(0,a.useCallback)(e=>{if(e&&"all"!==e){const r=t.filter(t=>{var r;return(null===(r=t.category)||void 0===r?void 0:r.toLowerCase())===e.toLowerCase()});s(r)}else s(t)},[t]),h=(0,a.useCallback)(e=>{if(e){const e=t.filter(e=>e.isApproved||e.is_approved);s(e)}else s(t)},[t]),m=(0,a.useCallback)(e=>{if(e){const e=t.filter(e=>e.availableQuantity>0||e.remainingQuantity>0);s(e)}else s(t)},[t]),f=(0,a.useCallback)(e=>{if(e){const r=t.filter(t=>{var r,n;return(null===(r=t.description)||void 0===r?void 0:r.toLowerCase().includes(e.toLowerCase()))||(null===(n=t.category)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))});s(r)}else s(t)},[t]);return(0,a.useEffect)(()=>{e&&u()},[e]),{rabItems:t,filteredRABItems:n,loading:o,error:l,fetchRABItems:u,filterByCategory:p,filterByApproval:h,filterByAvailability:m,searchRABItems:f,syncRABApprovalStatus:d}})(t),{broadcastPOChange:k,setupPOListener:C}=((e,t)=>{const r=(0,a.useCallback)(()=>{const r=r=>{r.key==="approval_status_".concat(e)&&r.newValue&&(console.log("[PO SYNC] Approval status changed, triggering refresh"),t&&t())};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[e,t]),n=(0,a.useCallback)(function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"update";const n=new CustomEvent("po-changed",{detail:{projectId:e,action:r,data:t,timestamp:(new Date).toISOString()}});window.dispatchEvent(n),console.log("[PO SYNC] Broadcasted PO ".concat(r,":"),t)},[e]),s=(0,a.useCallback)(t=>{const r=r=>{r.detail.projectId===e&&(console.log("[PO SYNC] Received PO change:",r.detail),t(r.detail))};return window.addEventListener("po-changed",r),()=>{window.removeEventListener("po-changed",r)}},[e]),o=(0,a.useCallback)(()=>{try{const t="approval_status_".concat(e),r=localStorage.getItem(t);if(r){const e=JSON.parse(r);return console.log("[PO SYNC] Syncing with approval dashboard:",e),e}return null}catch(t){return console.error("[PO SYNC] Error syncing with approval dashboard:",t),null}},[e]),i=(0,a.useCallback)(function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const a="approval_status_".concat(e),s=localStorage.getItem(a);let o={};return s&&(o=JSON.parse(s)),o["po_".concat(t)]=(0,Mt.A)((0,Mt.A)({status:r},n),{},{updated_at:(new Date).toISOString()}),localStorage.setItem(a,JSON.stringify(o)),console.log("[PO SYNC] Updated approval cache for PO ".concat(t,":"),r),!0}catch(a){return console.error("[PO SYNC] Error updating approval cache:",a),!1}},[e]),l=(0,a.useCallback)(()=>{try{const t="approval_status_".concat(e);return localStorage.removeItem(t),console.log("[PO SYNC] Cleared approval cache"),!0}catch(t){return console.error("[PO SYNC] Error clearing approval cache:",t),!1}},[e]);return(0,a.useEffect)(()=>r(),[r]),{broadcastPOChange:n,setupPOListener:s,syncWithApprovalDashboard:o,updateApprovalCache:i,clearApprovalCache:l}})(t,n),{approveItem:F,rejectItem:S,isLoading:E,error:P}=tO("purchase-orders",t,n),D=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:t,message:e,duration:3e3}}))},[]),O=b||N;(0,a.useEffect)(()=>{console.log("========================================"),console.log("[ProjectPurchaseOrders] MODE:",s),console.log("[ProjectPurchaseOrders] createPOStep:",u),console.log("[ProjectPurchaseOrders] RAB Items:",null===w||void 0===w?void 0:w.length),console.log("[ProjectPurchaseOrders] Purchase Orders:",null===g||void 0===g?void 0:g.length),console.log("========================================")},[s,u]);const T=()=>{p("rab-selection")};(0,a.useEffect)(()=>C(e=>{console.log("[PO Container] Received PO change:",e),v()}),[C,v]);return(0,Vn.jsx)("div",{className:"space-y-6",children:"create"===s?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-2xl font-bold text-white",children:"rab-selection"===u?"Pilih Material dari RAB":"Buat Purchase Order Baru"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] mt-1",children:"rab-selection"===u?"Pilih material dari RAB yang sudah disetujui untuk ".concat(c||"proyek ini"):"Lengkapi informasi supplier dan detail pemesanan material"})]}),"rab-selection"===u&&(0,Vn.jsx)(dO,{rabItems:w,selectedRABItems:h,setSelectedRABItems:m,onNext:()=>{0!==h.length?p("create-po"):alert("Pilih minimal 1 item RAB untuk membuat PO")},loading:O,projectId:t}),"create-po"===u&&(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsx)("button",{onClick:T,style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"flex items-center px-4 py-2 text-white rounded-lg hover:bg-[#3A3A3C] transition-colors",children:"\u2190 Kembali ke Pilih Material"}),(0,Vn.jsx)(pO,{selectedRABItems:h,rabItems:j,supplierInfo:f,setSupplierInfo:x,onSubmit:async e=>{try{console.log("\ud83d\ude80 [CREATE PO] Starting PO creation..."),console.log("\ud83d\udce6 [CREATE PO] PO Data:",e);const t=mO(e);if(console.log("\u2705 [CREATE PO] Validation result:",t),!t.isValid)return console.error("\u274c [CREATE PO] Validation failed:",t.errors),void alert("Validasi gagal:\n"+t.errors.join("\n"));console.log("\ud83d\udce1 [CREATE PO] Calling createPurchaseOrder API...");const r=await y(e);if(console.log("\ud83d\udce8 [CREATE PO] API Response:",r),!r.success)throw console.error("\u274c [CREATE PO] API returned error:",r.error),new Error(r.error);console.log("\u2705 [CREATE PO] PO created successfully:",r.data),k(r.data,"create"),await new Promise(e=>setTimeout(e,500)),console.log("\ud83d\udd04 [CREATE PO] Refreshing RAB items..."),await A(),console.log("\u2705 [CREATE PO] RAB items refreshed"),p("rab-selection"),m([]),x({name:"",contact:"",address:"",deliveryDate:""}),n&&n(),alert("\u2705 Purchase Order ".concat(r.data.poNumber," berhasil dibuat!")),o&&o()}catch(t){console.error("\ud83d\udca5 [CREATE PO] Exception caught:",t),console.error("\ud83d\udca5 [CREATE PO] Error stack:",t.stack),alert("Gagal membuat Purchase Order: "+t.message)}},onBack:T,projectId:t})]})]}):"history"===s?(0,Vn.jsxs)(Vn.Fragment,{children:[console.log("\ud83d\udfe2 [RENDER] HISTORY MODE - Showing PO List"),(0,Vn.jsx)(hO,{purchaseOrders:g,onCreateNew:i,projectName:c,projectAddress:d,projectId:t,loading:O,onApprovePO:async e=>{try{console.log("\ud83d\udd0d [APPROVE PO] Starting approval for:",e);const t={id:e.id,code:e.poNumber||e.po_number,name:"PO - ".concat(e.supplierName||e.supplier_name),type:"purchase-orders",total_amount:e.totalAmount||e.total_amount||0,approval_status:e.status,metadata:e},r=await F(t,"purchase-orders");r.success?(D("PO ".concat(e.poNumber||e.po_number," berhasil diapprove!"),"success"),await new Promise(e=>setTimeout(e,300)),await Promise.all([v(),A()]),n&&n()):D("Gagal approve PO: ".concat(r.error),"error")}catch(t){console.error("\u274c [APPROVE PO] Error:",t),D("Terjadi kesalahan saat approve PO","error")}},onRejectPO:async e=>{try{console.log("\ud83d\udd0d [REJECT PO] Starting rejection for:",e);const t=prompt("Alasan penolakan PO:");if(!t||!t.trim())return void D("Alasan penolakan wajib diisi","warning");const r={id:e.id,code:e.poNumber||e.po_number,name:"PO - ".concat(e.supplierName||e.supplier_name),type:"purchase-orders",total_amount:e.totalAmount||e.total_amount||0,approval_status:e.status,metadata:e},a=await S(r,t,"purchase-orders");a.success?(D("PO ".concat(e.poNumber||e.po_number," ditolak"),"warning"),await new Promise(e=>setTimeout(e,300)),await Promise.all([v(),A()]),n&&n(),n&&n()):D("Gagal reject PO: ".concat(a.error),"error")}catch(t){console.error("\u274c [REJECT PO] Error:",t),D("Terjadi kesalahan saat reject PO","error")}},onApproveAllPO:async()=>{try{const e=g.filter(e=>"pending"===e.status);if(0===e.length)return void D("Tidak ada PO yang pending","info");if(!window.confirm("Approve ".concat(e.length," Purchase Order sekaligus?\n\n")+e.map(e=>"- ".concat(e.poNumber||e.po_number," (").concat(e.supplierName||e.supplier_name,")")).join("\n")))return;console.log("\ud83d\ude80 [APPROVE ALL PO] Approving",e.length,"POs...");let t=0,r=0;for(const n of e){const e={id:n.id,code:n.poNumber||n.po_number,name:"PO - ".concat(n.supplierName||n.supplier_name),type:"purchase-orders",total_amount:n.totalAmount||n.total_amount||0,approval_status:n.status,metadata:n},a=await F(e,"purchase-orders");a.success?t++:(r++,console.error("Failed to approve PO:",n.poNumber,a.error))}await v(),n&&n(),0===r?D("\u2705 ".concat(t," PO berhasil diapprove!"),"success"):D("".concat(t," PO berhasil, ").concat(r," PO gagal diapprove"),"warning")}catch(e){console.error("\u274c [APPROVE ALL PO] Error:",e),D("Terjadi kesalahan saat approve semua PO","error")}}})]}):(0,Vn.jsx)("div",{className:"text-center py-12",children:(0,Vn.jsxs)("p",{className:"text-[#8E8E93]",children:["Invalid mode: ",s]})})})},xO=e=>{let{projectId:t,project:r,onDataChange:n}=e;const[s,o]=(0,a.useState)(()=>{const e=window.location.hash.replace("#","");if(e.includes(":")){const t=e.split(":")[1];if("create"===t||"history"===t)return t}return"history"});(0,a.useEffect)(()=>{const e=window.location.hash.replace("#","").split(":")[0]||"purchase-orders";window.location.hash="".concat(e,":").concat(s)},[s]),(0,a.useEffect)(()=>{const e=()=>{const e=window.location.hash.replace("#","");if(e.includes(":")){const t=e.split(":")[1];"create"!==t&&"history"!==t||t===s||o(t)}};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[s]);return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"bg-gradient-to-br from-[#1C1C1E] to-[#2C2C2E] border border-[#38383A] rounded-xl p-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-[#0A84FF]/10 rounded-lg",children:(0,Vn.jsx)(Jo,{size:24,className:"text-[#0A84FF]"})}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Purchase Orders"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mt-1",children:"Manajemen Purchase Order untuk material proyek"})]})]}),(0,Vn.jsxs)("div",{className:"flex gap-2 mt-4 p-1 bg-[#1C1C1E] rounded-lg",children:[(0,Vn.jsxs)("button",{onClick:()=>o("history"),className:"\n              flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg\n              text-sm font-medium transition-all\n              ".concat("history"===s?"bg-[#0A84FF] text-white shadow-lg":"text-[#8E8E93] hover:text-white hover:bg-[#2C2C2E]","\n            "),children:[(0,Vn.jsx)(CD,{size:16}),"Riwayat PO"]}),(0,Vn.jsxs)("button",{onClick:()=>o("create"),className:"\n              flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg\n              text-sm font-medium transition-all\n              ".concat("create"===s?"bg-[#0A84FF] text-white shadow-lg":"text-[#8E8E93] hover:text-white hover:bg-[#2C2C2E]","\n            "),children:[(0,Vn.jsx)(Pi,{size:16}),"Buat PO"]})]})]}),(0,Vn.jsxs)("div",{className:"transition-all duration-300",children:["history"===s&&(0,Vn.jsx)(fO,{projectId:t,project:r,onDataChange:n,mode:"history",onCreateNew:()=>{o("create")}}),"create"===s&&(0,Vn.jsx)(fO,{projectId:t,project:r,onDataChange:n,mode:"create",onComplete:()=>{o("history"),null===n||void 0===n||n()}})]})]})},gO=e=>{let{selectedRABItems:t,rabItems:r,contractorInfo:n,setContractorInfo:s,onSubmit:o,onBack:i,projectId:l}=e;console.log("\ud83d\udd0d [CreateWOView] selectedRABItems:",t),console.log("\ud83d\udd0d [CreateWOView] rabItems:",r),console.log("\ud83d\udd0d [CreateWOView] rabItems count:",null===r||void 0===r?void 0:r.length);const[c,d]=(0,a.useState)(()=>{const e={};return t.forEach(t=>{const n="object"===typeof t?t.id:t,a=r.find(e=>e.id===n);console.log("\ud83d\udd0d [CreateWOView] Finding item ".concat(n,":"),a),a&&(e[n]=a.availableQuantity||a.available_quantity||0)}),console.log("\ud83d\udd0d [CreateWOView] Initial itemQuantities:",e),e}),u=(0,a.useMemo)(()=>{let e=0,n=0;return t.forEach(t=>{const a="object"===typeof t?t.id:t,s=r.find(e=>e.id===a),o=parseFloat(c[a])||0;if(s&&o>0){const t=parseFloat(s.unitPrice||s.unit_price)||0;e+=o*t,n++}}),{totalAmount:e,totalItems:n}},[t,r,c]);return(0,Vn.jsxs)("form",{onSubmit:e=>{var a,s,i;if(e.preventDefault(),null===(a=n.name)||void 0===a||!a.trim())return void alert("Nama kontraktor harus diisi");if(null===(s=n.contact)||void 0===s||!s.trim())return void alert("Kontak kontraktor harus diisi");if(!n.startDate)return void alert("Tanggal mulai harus diisi");if(!n.endDate)return void alert("Tanggal selesai harus diisi");if(t.filter(e=>{const t="object"===typeof e?e.id:e;return(parseFloat(c[t])||0)<=0}).length>0)return void alert("Semua item harus memiliki volume > 0");const l={contractorName:n.name.trim(),contractorContact:n.contact.trim(),contractorAddress:(null===(i=n.address)||void 0===i?void 0:i.trim())||"",startDate:n.startDate,endDate:n.endDate,items:t.map(e=>{const t="object"===typeof e?e.id:e,n=r.find(e=>e.id===t),a=parseFloat(c[t])||0;return{rabItemId:n.id,itemName:n.description||n.item_name,itemType:n.item_type||n.itemType||"service",quantity:a,unit:n.unit,unitPrice:parseFloat(n.unitPrice||n.unit_price)||0}}),totalAmount:u.totalAmount,status:"pending"};console.log("[CreateWOView] Submitting WO:",l),o(l)},className:"space-y-6",children:[(0,Vn.jsxs)("div",{style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"rounded-lg p-6",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[(0,Vn.jsx)(ga,{className:"h-5 w-5 mr-2 text-[#AF52DE]"}),"Informasi Kontraktor"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Nama Kontraktor *"}),(0,Vn.jsx)("input",{type:"text",value:n.name,onChange:e=>s((0,Mt.A)((0,Mt.A)({},n),{},{name:e.target.value})),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2 rounded-lg focus:outline-none focus:border-[#AF52DE]",placeholder:"Masukkan nama kontraktor",required:!0})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Kontak *"}),(0,Vn.jsx)("input",{type:"text",value:n.contact,onChange:e=>s((0,Mt.A)((0,Mt.A)({},n),{},{contact:e.target.value})),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2 rounded-lg focus:outline-none focus:border-[#AF52DE]",placeholder:"No. telepon atau email",required:!0})]}),(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Alamat"}),(0,Vn.jsx)("textarea",{value:n.address,onChange:e=>s((0,Mt.A)((0,Mt.A)({},n),{},{address:e.target.value})),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2 rounded-lg focus:outline-none focus:border-[#AF52DE]",placeholder:"Alamat lengkap kontraktor",rows:"2"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Tanggal Mulai *"}),(0,Vn.jsx)("input",{type:"date",value:n.startDate,onChange:e=>s((0,Mt.A)((0,Mt.A)({},n),{},{startDate:e.target.value})),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2 rounded-lg focus:outline-none focus:border-[#AF52DE]",required:!0})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Tanggal Selesai *"}),(0,Vn.jsx)("input",{type:"date",value:n.endDate,onChange:e=>s((0,Mt.A)((0,Mt.A)({},n),{},{endDate:e.target.value})),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2 rounded-lg focus:outline-none focus:border-[#AF52DE]",required:!0})]})]})]}),(0,Vn.jsxs)("div",{style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"rounded-lg p-6",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[(0,Vn.jsx)(di,{className:"h-5 w-5 mr-2 text-[#AF52DE]"}),"Daftar Pekerjaan (",u.totalItems," items)"]}),(0,Vn.jsx)("div",{className:"space-y-3",children:t.map(e=>{const t="object"===typeof e?e.id:e,n=r.find(e=>e.id===t);if(!n)return null;const a=n.availableQuantity||n.available_quantity||0,s=parseFloat(c[t])||0,o=parseFloat(n.unitPrice||n.unit_price)||0,i=s*o,l=n.item_type||n.itemType||"service",u="labor"===l?"\ud83d\udc77":"equipment"===l?"\ud83d\ude9b":"\ud83d\udd28";return(0,Vn.jsxs)("div",{style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"rounded-lg p-4",children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Vn.jsx)("span",{className:"text-lg",children:u}),(0,Vn.jsx)("h4",{className:"text-white font-medium",children:n.description||n.item_name})]}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:n.category||n.kategori})]}),(0,Vn.jsxs)("div",{className:"text-right",children:[(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93]",children:"Harga Satuan"}),(0,Vn.jsx)("div",{className:"text-white font-semibold",children:UD(o)})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm text-[#98989D] mb-1",children:["Volume (Max: ",Math.floor(a)," ",n.unit,")"]}),(0,Vn.jsx)("input",{type:"number",value:c[t]||"",onChange:e=>{const r=Math.min(parseFloat(e.target.value)||0,a);d((0,Mt.A)((0,Mt.A)({},c),{},{[t]:r}))},max:a,min:"0",step:"0.01",style:{backgroundColor:"#1C1C1E",border:"1px solid #48484A",color:"white"},className:"w-full px-3 py-2 rounded-lg focus:outline-none focus:border-[#AF52DE]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm text-[#98989D] mb-1",children:"Subtotal"}),(0,Vn.jsx)("div",{style:{backgroundColor:"rgba(175, 82, 222, 0.1)",border:"1px solid rgba(175, 82, 222, 0.3)"},className:"px-3 py-2 rounded-lg text-[#AF52DE] font-bold text-right",children:UD(i)})]})]})]},t)})})]}),(0,Vn.jsx)("div",{style:{backgroundColor:"rgba(175, 82, 222, 0.1)",border:"2px solid rgba(175, 82, 222, 0.3)"},className:"rounded-lg p-6",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)(xa,{className:"h-6 w-6 text-[#AF52DE] mr-2"}),(0,Vn.jsx)("span",{className:"text-lg font-semibold text-white",children:"Total Nilai Work Order:"})]}),(0,Vn.jsx)("span",{className:"text-3xl font-bold text-[#AF52DE]",children:UD(u.totalAmount)})]})}),(0,Vn.jsxs)("div",{className:"flex gap-4",children:[(0,Vn.jsx)("button",{type:"button",onClick:i,style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"flex-1 py-3 rounded-lg text-white font-semibold hover:bg-[#3A3A3C] transition-colors",children:"\u2190 Kembali"}),(0,Vn.jsx)("button",{type:"submit",className:"flex-1 py-3 rounded-lg bg-[#AF52DE] hover:bg-[#AF52DE]/90 text-white font-semibold transition-colors",children:"Buat Work Order"})]})]})},bO=e=>{let{status:t}=e;const r=(()=>{switch(null===t||void 0===t?void 0:t.toLowerCase()){case"pending":return{bg:"rgba(255, 159, 10, 0.15)",text:"#FF9F0A",label:"Pending"};case"approved":return{bg:"rgba(48, 209, 88, 0.15)",text:"#30D158",label:"Approved"};case"rejected":return{bg:"rgba(255, 69, 58, 0.15)",text:"#FF453A",label:"Rejected"};case"in_progress":return{bg:"rgba(10, 132, 255, 0.15)",text:"#0A84FF",label:"In Progress"};case"completed":return{bg:"rgba(175, 82, 222, 0.15)",text:"#AF52DE",label:"Completed"};default:return{bg:"rgba(142, 142, 147, 0.15)",text:"#8E8E93",label:t||"Unknown"}}})();return(0,Vn.jsx)("span",{style:{backgroundColor:r.bg,color:r.text,padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:r.label})},yO=e=>{let{workOrders:t,onCreateNew:r,projectName:n,projectAddress:s,projectId:o,loading:i,onApproveWO:l,onRejectWO:c}=e;const[d,u]=(0,a.useState)(null),[p,h]=(0,a.useState)("all"),[m,f]=(0,a.useState)(!1),x="all"===p?t:t.filter(e=>{var t;return(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())===p.toLowerCase()}),g=()=>{u(null)};return i?(0,Vn.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),(0,Vn.jsx)("p",{className:"mt-4 text-[#8E8E93]",children:"Memuat data Work Orders..."})]})}):d?(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)("button",{onClick:g,style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"mr-4 p-2 hover:bg-[#3A3A3C] rounded-lg transition-colors",children:(0,Vn.jsx)(Aa,{className:"h-5 w-5 text-white"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white",children:d.woNumber||d.wo_number||"WO-XXXX"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Detail Work Order"})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("button",{onClick:()=>(async e=>{try{f(!0);let t="/api";t=t.replace(/\/api\/?$/,"");const r=localStorage.getItem("token"),n=await fetch("".concat(t,"/api/projects/").concat(o,"/work-orders/").concat(e.id,"/pdf"),{method:"GET",headers:{Authorization:"Bearer ".concat(r)}});if(!n.ok)throw new Error("Gagal generate Perintah Kerja PDF");const a=await n.blob(),s=URL.createObjectURL(a);window.open(s,"_blank"),setTimeout(()=>URL.revokeObjectURL(s),100),window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:"success",message:"Perintah Kerja PDF berhasil dibuat!",duration:3e3}}))}catch(t){console.error("Error generating PDF:",t),window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:"error",message:"Gagal generate Perintah Kerja: "+t.message,duration:5e3}}))}finally{f(!1)}})(d),disabled:m,style:{backgroundColor:m?"#3A3A3C":"#AF52DE",border:"1px solid #38383A"},className:"px-4 py-2 rounded-lg hover:bg-[#9D3FCC] transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-white",children:"Generating..."})]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(di,{className:"h-4 w-4 text-white"}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-white",children:"Generate Perintah Kerja"})]})}),(0,Vn.jsx)(bO,{status:d.status})]})]}),(0,Vn.jsxs)("div",{style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"rounded-lg p-6 space-y-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("h4",{className:"text-md font-semibold text-white mb-3 flex items-center",children:[(0,Vn.jsx)(ga,{className:"h-5 w-5 mr-2 text-[#AF52DE]"}),"Informasi Kontraktor"]}),(0,Vn.jsx)("div",{style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-[#98989D] block mb-1",children:"Nama:"}),(0,Vn.jsx)("p",{className:"font-medium text-white",children:d.contractorName||d.contractor_name||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-[#98989D] block mb-1",children:"Kontak:"}),(0,Vn.jsx)("p",{className:"font-medium text-white",children:d.contractorContact||d.contractor_contact||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-[#98989D] block mb-1",children:"Alamat:"}),(0,Vn.jsx)("p",{className:"font-medium text-white",children:d.contractorAddress||d.contractor_address||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-[#98989D] block mb-1",children:"Periode:"}),(0,Vn.jsxs)("p",{className:"font-medium text-[#AF52DE]",children:[WD(d.startDate||d.start_date)," - ",WD(d.endDate||d.end_date)]})]})]})})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("h4",{className:"text-md font-semibold text-white mb-3 flex items-center",children:[(0,Vn.jsx)(di,{className:"h-5 w-5 mr-2 text-[#AF52DE]"}),"Daftar Pekerjaan"]}),(0,Vn.jsx)("div",{style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"rounded-lg overflow-hidden",children:(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"min-w-full divide-y divide-[#38383A]",children:[(0,Vn.jsx)("thead",{style:{backgroundColor:"#1C1C1E"},children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Pekerjaan"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Tipe"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Volume"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Harga Satuan"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Total"})]})}),(0,Vn.jsx)("tbody",{style:{backgroundColor:"#2C2C2E"},className:"divide-y divide-[#38383A]",children:(d.items||[]).map((e,t)=>{const r=parseFloat(e.quantity)||0,n=parseFloat(e.unitPrice||e.unit_price)||0,a=r*n,s=e.itemType||e.item_type||"service",o="labor"===s?"\ud83d\udc77 Tenaga":"equipment"===s?"\ud83d\ude9b Alat":"\ud83d\udd28 Jasa";return(0,Vn.jsxs)("tr",{className:"hover:bg-[#3A3A3C] transition-colors",children:[(0,Vn.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:e.itemName||e.item_name||e.description}),(0,Vn.jsx)("td",{className:"px-4 py-3 text-sm text-center",children:(0,Vn.jsx)("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:"rgba(175, 82, 222, 0.15)",color:"#AF52DE"},children:o})}),(0,Vn.jsxs)("td",{className:"px-4 py-3 text-sm text-right",children:[(0,Vn.jsx)("span",{className:"text-[#AF52DE] font-medium",children:Math.floor(r)}),(0,Vn.jsx)("span",{className:"text-[#8E8E93] ml-1",children:e.unit})]}),(0,Vn.jsx)("td",{className:"px-4 py-3 text-sm text-white text-right",children:UD(n)}),(0,Vn.jsx)("td",{className:"px-4 py-3 text-sm font-semibold text-[#30D158] text-right",children:UD(a)})]},t)})})]})})})]}),(0,Vn.jsx)("div",{style:{backgroundColor:"rgba(175, 82, 222, 0.1)",border:"1px solid rgba(175, 82, 222, 0.3)"},className:"rounded-lg p-4 mt-4",children:(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsx)("span",{className:"text-[#98989D] font-medium",children:"Total Nilai Work Order:"}),(0,Vn.jsx)("span",{className:"text-2xl font-bold text-[#AF52DE]",children:UD(d.totalAmount||d.total_amount||0)})]})}),"pending"===d.status&&(0,Vn.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-[#38383A]",children:[(0,Vn.jsx)("button",{onClick:()=>{g(),l(d)},className:"flex-1 bg-[#30D158] hover:bg-[#30D158]/90 text-white px-4 py-2.5 rounded-lg font-semibold transition-colors",children:"\u2713 Approve Work Order"}),(0,Vn.jsx)("button",{onClick:()=>{g(),c(d)},className:"flex-1 bg-[#FF453A] hover:bg-[#FF453A]/90 text-white px-4 py-2.5 rounded-lg font-semibold transition-colors",children:"\u2715 Reject Work Order"})]})]})]}):(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Work Orders"}),(0,Vn.jsxs)("p",{className:"text-[#8E8E93] mt-1",children:["Manajemen Work Order untuk ",n||"proyek ini"]})]}),(0,Vn.jsx)("button",{onClick:r,className:"bg-[#AF52DE] hover:bg-[#AF52DE]/90 text-white px-6 py-2.5 rounded-lg font-semibold transition-colors flex items-center",children:"+ Buat Work Order Baru"})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Vn.jsxs)("button",{onClick:()=>h("all"),style:{backgroundColor:"all"===p?"rgba(175, 82, 222, 0.15)":"#2C2C2E",border:"all"===p?"2px solid #AF52DE":"1px solid #38383A"},className:"p-4 rounded-lg hover:border-[#AF52DE] transition-all",children:[(0,Vn.jsx)("div",{className:"text-2xl font-bold text-white",children:t.length}),(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93]",children:"Total WO"})]}),(0,Vn.jsxs)("button",{onClick:()=>h("pending"),style:{backgroundColor:"pending"===p?"rgba(255, 159, 10, 0.15)":"#2C2C2E",border:"pending"===p?"2px solid #FF9F0A":"1px solid #38383A"},className:"p-4 rounded-lg hover:border-[#FF9F0A] transition-all",children:[(0,Vn.jsx)("div",{className:"text-2xl font-bold text-[#FF9F0A]",children:t.filter(e=>"pending"===e.status).length}),(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93]",children:"Pending"})]}),(0,Vn.jsxs)("button",{onClick:()=>h("approved"),style:{backgroundColor:"approved"===p?"rgba(48, 209, 88, 0.15)":"#2C2C2E",border:"approved"===p?"2px solid #30D158":"1px solid #38383A"},className:"p-4 rounded-lg hover:border-[#30D158] transition-all",children:[(0,Vn.jsx)("div",{className:"text-2xl font-bold text-[#30D158]",children:t.filter(e=>"approved"===e.status).length}),(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93]",children:"Approved"})]}),(0,Vn.jsxs)("button",{onClick:()=>h("completed"),style:{backgroundColor:"completed"===p?"rgba(10, 132, 255, 0.15)":"#2C2C2E",border:"completed"===p?"2px solid #0A84FF":"1px solid #38383A"},className:"p-4 rounded-lg hover:border-[#0A84FF] transition-all",children:[(0,Vn.jsx)("div",{className:"text-2xl font-bold text-[#0A84FF]",children:t.filter(e=>"completed"===e.status).length}),(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93]",children:"Completed"})]})]}),(0,Vn.jsx)("div",{style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"rounded-lg overflow-hidden",children:0===x.length?(0,Vn.jsxs)("div",{className:"text-center py-12",children:[(0,Vn.jsx)(di,{className:"h-16 w-16 text-[#48484A] mx-auto mb-4"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] text-lg",children:"all"===p?"Belum ada Work Order. Klik tombol di atas untuk membuat yang pertama.":"Tidak ada Work Order dengan status ".concat(p)})]}):(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"min-w-full divide-y divide-[#38383A]",children:[(0,Vn.jsx)("thead",{style:{backgroundColor:"#2C2C2E"},children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"WO Number"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Kontraktor"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Items"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Total Nilai"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Periode"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Status"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Approval"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Aksi"})]})}),(0,Vn.jsx)("tbody",{style:{backgroundColor:"#1C1C1E"},className:"divide-y divide-[#38383A]",children:x.map(e=>(0,Vn.jsxs)("tr",{className:"hover:bg-[#2C2C2E] transition-colors",children:[(0,Vn.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,Vn.jsx)("div",{className:"text-sm font-medium text-white",children:e.woNumber||e.wo_number||"WO-XXXX"}),(0,Vn.jsx)("div",{className:"text-xs text-[#8E8E93]",children:WD(e.createdAt||e.created_at)})]}),(0,Vn.jsxs)("td",{className:"px-4 py-4",children:[(0,Vn.jsx)("div",{className:"text-sm text-white",children:e.contractorName||e.contractor_name||"-"}),(0,Vn.jsx)("div",{className:"text-xs text-[#8E8E93]",children:e.contractorContact||e.contractor_contact||"-"})]}),(0,Vn.jsxs)("td",{className:"px-4 py-4 text-center",children:[(0,Vn.jsx)("span",{className:"text-[#AF52DE] font-semibold",children:(e.items||[]).length}),(0,Vn.jsx)("span",{className:"text-[#8E8E93] text-xs ml-1",children:"items"})]}),(0,Vn.jsx)("td",{className:"px-4 py-4 text-right",children:(0,Vn.jsx)("div",{className:"text-sm font-semibold text-[#30D158]",children:UD(e.totalAmount||e.total_amount||0)})}),(0,Vn.jsxs)("td",{className:"px-4 py-4 text-center text-xs text-[#8E8E93]",children:[WD(e.startDate||e.start_date),(0,Vn.jsx)("br",{}),"s/d",(0,Vn.jsx)("br",{}),WD(e.endDate||e.end_date)]}),(0,Vn.jsx)("td",{className:"px-4 py-4 text-center",children:(0,Vn.jsx)(bO,{status:e.status})}),(0,Vn.jsx)("td",{className:"px-4 py-4 text-center",children:"pending"===e.status&&l&&c?(0,Vn.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,Vn.jsx)("button",{onClick:t=>{t.stopPropagation(),l(e)},className:"p-1.5 hover:bg-green-500/20 rounded-lg transition-colors group",title:"Approve",children:(0,Vn.jsx)("span",{className:"text-green-500 group-hover:text-green-400 text-lg",children:"\u2713"})}),(0,Vn.jsx)("button",{onClick:t=>{t.stopPropagation(),c(e)},className:"p-1.5 hover:bg-red-500/20 rounded-lg transition-colors group",title:"Reject",children:(0,Vn.jsx)("span",{className:"text-red-500 group-hover:text-red-400 text-lg",children:"\u2715"})})]}):"approved"===e.status?(0,Vn.jsx)("span",{className:"text-xs text-[#30D158]",children:"\u2713 Approved"}):"rejected"===e.status?(0,Vn.jsx)("span",{className:"text-xs text-[#FF453A]",children:"\u2715 Rejected"}):(0,Vn.jsx)("span",{className:"text-xs text-[#8E8E93]",children:"-"})}),(0,Vn.jsx)("td",{className:"px-4 py-4 text-center",children:(0,Vn.jsx)("button",{onClick:()=>(e=>{u(e)})(e),className:"p-2 hover:bg-[#3A3A3C] rounded-lg transition-colors",title:"Lihat Detail",children:(0,Vn.jsx)(la,{className:"h-5 w-5 text-[#AF52DE]"})})})]},e.id))})]})})})]})},vO=e=>{let{projectId:t,project:r,onDataChange:n,mode:s="history",onComplete:o,onCreateNew:i}=e;const{id:l=t,name:c,address:d}=r||{},[u,p]=(0,a.useState)("rab-selection"),[h,m]=(0,a.useState)([]),[f,x]=(0,a.useState)({name:"",contact:"",address:"",startDate:"",endDate:""}),{workOrders:g,loading:b,createWorkOrder:y,fetchWorkOrders:v}=(e=>{const[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),l=(0,a.useCallback)(async()=>{if(e)try{s(!0),i(null),console.log("[useWorkOrders] Fetching work orders for project:",e);const t=await fetch("/api/projects/".concat(e,"/work-orders"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}});if(!t.ok)throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));const n=await t.json();if(console.log("[useWorkOrders] Fetch result:",n),!n.success)throw new Error(n.error||"Failed to fetch work orders");r(n.data||[])}catch(t){console.error("[useWorkOrders] Fetch error:",t),i(t.message),r([])}finally{s(!1)}else console.warn("[useWorkOrders] No projectId provided")},[e]),c=(0,a.useCallback)(async t=>{if(!e)return{success:!1,error:"Project ID is required"};try{s(!0),console.log("[useWorkOrders] Creating work order:",t);const n=await fetch("/api/projects/".concat(e,"/work-orders"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")||"")},body:JSON.stringify(t)}),a=await n.json();return console.log("[useWorkOrders] Create result:",a),a.success?(r(e=>[a.data,...e]),{success:!0,data:a.data}):{success:!1,error:a.error||"Failed to create work order"}}catch(n){return console.error("[useWorkOrders] Create error:",n),{success:!1,error:n.message}}finally{s(!1)}},[e]),d=(0,a.useCallback)(async(t,n)=>{try{s(!0),console.log("[useWorkOrders] Updating work order:",t,n);const a=await fetch("/api/projects/".concat(e,"/work-orders/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")||"")},body:JSON.stringify(n)}),o=await a.json();return o.success?(r(e=>e.map(e=>e.id===t?(0,Mt.A)((0,Mt.A)({},e),o.data):e)),{success:!0,data:o.data}):{success:!1,error:o.error||"Failed to update work order"}}catch(a){return console.error("[useWorkOrders] Update error:",a),{success:!1,error:a.message}}finally{s(!1)}},[e]),u=(0,a.useCallback)(async t=>{try{s(!0),console.log("[useWorkOrders] Deleting work order:",t);const n=await fetch("/api/projects/".concat(e,"/work-orders/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}}),a=await n.json();return a.success?(r(e=>e.filter(e=>e.id!==t)),{success:!0}):{success:!1,error:a.error||"Failed to delete work order"}}catch(n){return console.error("[useWorkOrders] Delete error:",n),{success:!1,error:n.message}}finally{s(!1)}},[e]);return(0,a.useEffect)(()=>{e&&l()},[e,l]),{workOrders:t,loading:n,error:o,fetchWorkOrders:l,createWorkOrder:c,updateWorkOrder:d,deleteWorkOrder:u}})(t),{approveItem:j,rejectItem:w,isLoading:N,error:A}=tO("work-orders",t,n),k=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:t,message:e,duration:3e3}}))},[]),[C,F]=(0,a.useState)([]),[S,E]=(0,a.useState)(!1),P=(0,a.useCallback)(async()=>{try{E(!0),console.log("[ProjectWorkOrders] Fetching available RAB items...");const e=localStorage.getItem("token"),r=await fetch("/api/projects/".concat(t,"/work-orders/available-rab"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!r.ok)throw new Error("Failed to fetch available RAB items");const n=await r.json();console.log("[ProjectWorkOrders] Available RAB items:",n.data),F(n.data||[])}catch(e){console.error("[ProjectWorkOrders] Error fetching available RAB:",e),k("Gagal memuat item RAB tersedia","error"),F([])}finally{E(!1)}},[t,k]);(0,a.useEffect)(()=>{"create"===s&&t&&P()},[s,t,P]);const D=b||S;(0,a.useEffect)(()=>{console.log("========================================"),console.log("[ProjectWorkOrders] MODE:",s),console.log("[ProjectWorkOrders] createWOStep:",u),console.log("[ProjectWorkOrders] Available RAB Items:",null===C||void 0===C?void 0:C.length),console.log("[ProjectWorkOrders] Work Orders:",null===g||void 0===g?void 0:g.length),console.log("========================================")},[s,u,C,g]);return(0,Vn.jsx)("div",{className:"space-y-6",children:"create"===s?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-2xl font-bold text-white",children:"rab-selection"===u?"Pilih Item dari RAB":"Buat Work Order Baru"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] mt-1",children:"rab-selection"===u?"Pilih jasa, tenaga kerja, atau peralatan dari RAB untuk ".concat(c||"proyek ini"):"Lengkapi informasi kontraktor dan detail pekerjaan"})]}),"rab-selection"===u&&(0,Vn.jsx)(dO,{rabItems:C,selectedRABItems:h,setSelectedRABItems:m,onNext:()=>{0!==h.length?p("create-wo"):k("Pilih minimal 1 item RAB untuk membuat WO","warning")},loading:S,projectId:t,mode:"wo"}),"create-wo"===u&&(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsx)("button",{onClick:()=>{p("rab-selection")},style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},className:"flex items-center px-4 py-2 text-white rounded-lg hover:bg-[#3A3A3C] transition-colors",children:"\u2190 Kembali ke Pilih Item"}),(0,Vn.jsx)(gO,{selectedRABItems:h,rabItems:C,projectId:t,project:r,contractorInfo:f,setContractorInfo:x,onSubmit:async e=>{try{console.log("\ud83d\ude80 [CREATE WO] Starting WO creation..."),console.log("\ud83d\udce6 [CREATE WO] WO Data:",e),console.log("\ud83d\udce1 [CREATE WO] Calling createWorkOrder API...");const t=await y(e);if(console.log("\ud83d\udce8 [CREATE WO] API Response:",t),!t.success)throw console.error("\u274c [CREATE WO] API returned error:",t.error),new Error(t.error);console.log("\u2705 [CREATE WO] WO created successfully:",t.data),await new Promise(e=>setTimeout(e,500)),console.log("\ud83d\udd04 [CREATE WO] Refreshing RAB items..."),await P(),console.log("\u2705 [CREATE WO] RAB items refreshed"),p("rab-selection"),m([]),x({name:"",contact:"",address:"",startDate:"",endDate:""}),n&&n(),k("\u2705 Work Order ".concat(t.data.woNumber," berhasil dibuat!"),"success"),o&&o()}catch(t){console.error("\ud83d\udca5 [CREATE WO] Exception caught:",t),k("Gagal membuat Work Order: "+t.message,"error")}},onBack:()=>p("rab-selection"),loading:b})]})]}):"history"===s?(0,Vn.jsxs)(Vn.Fragment,{children:[console.log("\ud83d\udfe2 [RENDER] HISTORY MODE - Showing WO List"),(0,Vn.jsx)(yO,{workOrders:g,onCreateNew:i,projectName:c,projectAddress:d,projectId:t,loading:D,onApproveWO:async e=>{try{console.log("\ud83d\udd0d [APPROVE WO] Starting approval for:",e);const t={id:e.id,code:e.woNumber||e.wo_number,name:"WO - ".concat(e.contractorName||e.contractor_name),type:"work-orders",total_amount:e.totalAmount||e.total_amount||0,approval_status:e.status,metadata:e},r=await j(t,"work-orders");r.success?(k("WO ".concat(e.woNumber||e.wo_number," berhasil diapprove!"),"success"),await new Promise(e=>setTimeout(e,300)),await Promise.all([v(),P()]),n&&n()):k("Gagal approve WO: ".concat(r.error),"error")}catch(t){console.error("\u274c [APPROVE WO] Error:",t),k("Terjadi kesalahan saat approve WO","error")}},onRejectWO:async e=>{try{console.log("\ud83d\udd0d [REJECT WO] Starting rejection for:",e);const t=prompt("Alasan penolakan WO:");if(!t||!t.trim())return void k("Alasan penolakan wajib diisi","warning");const r={id:e.id,code:e.woNumber||e.wo_number,name:"WO - ".concat(e.contractorName||e.contractor_name),type:"work-orders",total_amount:e.totalAmount||e.total_amount||0,approval_status:e.status,metadata:e},a=await w(r,t,"work-orders");a.success?(k("WO ".concat(e.woNumber||e.wo_number," ditolak"),"warning"),await new Promise(e=>setTimeout(e,300)),await Promise.all([v(),P()]),n&&n()):k("Gagal reject WO: ".concat(a.error),"error")}catch(t){console.error("\u274c [REJECT WO] Error:",t),k("Terjadi kesalahan saat reject WO","error")}}})]}):(0,Vn.jsx)("div",{className:"text-center py-12",children:(0,Vn.jsxs)("p",{className:"text-[#8E8E93]",children:["Invalid mode: ",s]})})})},jO=e=>{let{projectName:t,timeframe:r,onTimeframeChange:n,onRefresh:a}=e;return(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Budget Monitoring"}),(0,Vn.jsxs)("p",{className:"text-[#8E8E93]",children:["Real-time budget tracking untuk ",t]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsxs)("select",{value:r,onChange:e=>n(e.target.value),className:"bg-[#2C2C2E] text-white border border-[#38383A] rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Vn.jsx)("option",{value:"week",children:"Mingguan"}),(0,Vn.jsx)("option",{value:"month",children:"Bulanan"}),(0,Vn.jsx)("option",{value:"quarter",children:"Kuartal"})]}),(0,Vn.jsxs)("button",{onClick:a,className:"flex items-center px-3 py-2 text-[#8E8E93] hover:text-white transition-colors",children:[(0,Vn.jsx)(Ho,{className:"h-4 w-4 mr-2"}),"Refresh"]}),(0,Vn.jsxs)("button",{className:"flex items-center px-4 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-colors",children:[(0,Vn.jsx)(Ai,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})},wO=e=>e||0===e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"Rp 0",NO=5,AO=15,kO=e=>e<=NO?"text-[#30D158]":e<=AO?"text-[#FF9F0A]":"text-[#FF3B30]",CO=e=>{let{summary:t={}}=e;const{totalBudget:r=0,totalCommitted:n=0,totalActual:a=0,remainingBudget:s=0,variancePercentage:o=0}=t,i=[{label:"Total Budget",value:wO(r),icon:Ua,color:"text-[#0A84FF]"},{label:"Committed",value:wO(n),percentage:(n/r*100).toFixed(1),icon:ri,color:"text-[#FF9F0A]"},{label:"Actual Spent",value:wO(a),percentage:(a/r*100).toFixed(1),icon:xa,color:"text-[#30D158]"},{label:"Remaining",value:wO(s),variance:o,icon:li,color:"text-purple-600"}];return(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map((e,t)=>{const r=e.icon;return(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-lg shadow p-4",children:(0,Vn.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:e.label}),(0,Vn.jsx)("p",{className:"text-base md:text-lg font-bold ".concat(e.color," break-words"),children:e.value}),e.percentage&&(0,Vn.jsxs)("p",{className:"text-xs text-[#98989D] mt-1",children:[e.percentage,"% of budget"]}),void 0!==e.variance&&(0,Vn.jsxs)("div",{className:"flex items-center mt-1",children:[e.variance>0?(0,Vn.jsx)(ui,{className:"h-3 w-3 mr-1 flex-shrink-0 ".concat(kO(Math.abs(e.variance)))}):(0,Vn.jsx)(Oi,{className:"h-3 w-3 mr-1 flex-shrink-0 ".concat(kO(Math.abs(e.variance)))}),(0,Vn.jsxs)("span",{className:"text-xs ".concat(kO(Math.abs(e.variance))),children:[Math.abs(e.variance).toFixed(1),"%"]})]})]}),(0,Vn.jsx)(r,{className:"h-6 w-6 flex-shrink-0 ".concat(e.color)})]})},t)})})},FO=e=>{let{alerts:t=[]}=e;return 0===t.length?null:(0,Vn.jsxs)("div",{className:"bg-[#FF3B30]/20 border border-[#FF3B30]/50 rounded-lg p-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Vn.jsx)(ti,{className:"h-5 w-5 text-[#FF3B30] mr-2"}),(0,Vn.jsx)("h3",{className:"text-white font-medium",children:"Budget Alerts"})]}),(0,Vn.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>(0,Vn.jsxs)("div",{className:"text-sm text-[#FF3B30]",children:["\u2022 ",e.message]},t))})]})},SO=e=>{let{summary:t={}}=e;const{totalBudget:r=1,totalCommitted:n=0,totalActual:a=0}=t;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg shadow p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Budget Utilization"}),(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"flex justify-between text-sm text-[#8E8E93] mb-1",children:[(0,Vn.jsxs)("span",{children:["Committed (",wO(n),")"]}),(0,Vn.jsxs)("span",{children:[(n/r*100).toFixed(1),"%"]})]}),(0,Vn.jsx)("div",{className:"w-full bg-[#48484A] rounded-full h-2",children:(0,Vn.jsx)("div",{className:"bg-yellow-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(n/r*100,100),"%")}})})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"flex justify-between text-sm text-[#8E8E93] mb-1",children:[(0,Vn.jsxs)("span",{children:["Actual Spent (",wO(a),")"]}),(0,Vn.jsxs)("span",{children:[(a/r*100).toFixed(1),"%"]})]}),(0,Vn.jsx)("div",{className:"w-full bg-[#48484A] rounded-full h-2",children:(0,Vn.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(a/r*100,100),"%")}})})]})]})]})},EO=e=>e<=5?"text-[#30D158]":e<=15?"text-[#FF9F0A]":"text-[#FF3B30]",PO=e=>{let{categories:t=[]}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg shadow",children:[(0,Vn.jsx)("div",{className:"px-6 py-4 border-b border-[#38383A]",children:(0,Vn.jsx)("h3",{className:"text-lg font-medium text-white",children:"Budget by Category"})}),(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"min-w-full divide-y divide-[#38383A]",children:[(0,Vn.jsx)("thead",{className:"bg-[#1C1C1E]",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Category"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Budget"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Actual"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Variance"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Status"})]})}),(0,Vn.jsx)("tbody",{className:"bg-[#2C2C2E] divide-y divide-[#38383A]",children:t.map((e,t)=>{const r=(n=e.budget,a=e.actual,n&&0!==n?(a-n)/n*100:0);var n,a;const s=(o=Math.abs(r))<=5?Ea.A:o<=15?ti:Vo.A;var o;return(0,Vn.jsxs)("tr",{className:"hover:bg-[#1C1C1E] transition-colors",children:[(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:e.category}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:wO(e.budget)}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:wO(e.actual)}),(0,Vn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium ".concat(EO(Math.abs(r))),children:[r>0?"+":"",r.toFixed(1),"%"]}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vn.jsx)(s,{className:"h-4 w-4 ".concat(EO(Math.abs(r)))})})]},t)})})]})})]})},DO=e=>{let{categories:t=[]}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg shadow p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Budget Distribution"}),(0,Vn.jsx)("div",{className:"h-64",children:(0,Vn.jsx)(Hl,{width:"100%",height:"100%",children:(0,Vn.jsxs)(PS,{children:[(0,Vn.jsx)(ES,{data:t,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"budget",label:e=>{let{category:t,percent:r}=e;return"".concat(t," (").concat((100*r).toFixed(0),"%)")},children:t.map((e,r)=>(0,Vn.jsx)(Ij,{fill:"hsl(".concat(360*r/t.length,", 70%, 60%)")},"cell-".concat(r)))}),(0,Vn.jsx)(qc,{formatter:e=>wO(e)})]})})})]})};var OO=["type","layout","connectNulls","ref"],TO=["key"];function IO(e){return IO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IO(e)}function MO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _O(){return _O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_O.apply(this,arguments)}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(t){qO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function LO(e){return function(e){if(Array.isArray(e))return zO(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return zO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GO(n.key),n)}}function WO(e,t,r){return t=HO(t),function(e,t){if(t&&("object"===IO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,VO()?Reflect.construct(t,r||[],HO(e).constructor):t.apply(e,r))}function VO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(VO=function(){return!!e})()}function HO(e){return HO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HO(e)}function KO(e,t){return KO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KO(e,t)}function qO(e,t,r){return(t=GO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GO(e){var t=function(e,t){if("object"!=IO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=IO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IO(t)?t:t+""}var YO=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return qO(e=WO(this,t,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),qO(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),qO(e,"getStrokeDasharray",function(r,n,a){var s=a.reduce(function(e,t){return e+t});if(!s)return e.generateSimpleStrokeDasharray(n,r);for(var o=Math.floor(r/s),i=r%s,l=n-r,c=[],d=0,u=0;d<a.length;u+=a[d],++d)if(u+a[d]>i){c=[].concat(LO(a.slice(0,d)),[i-u]);break}var p=c.length%2===0?[0,l]:[l];return[].concat(LO(t.repeat(a,o)),LO(c),p).map(function(e){return"".concat(e,"px")}).join(", ")}),qO(e,"id",Zi("recharts-line-")),qO(e,"pathRef",function(t){e.mainCurve=t}),qO(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),qO(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KO(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,s=r.xAxis,o=r.yAxis,i=r.layout,l=Sl(r.children,rv);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:mv(e.payload,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return a.createElement(ac,d,l.map(function(e){return a.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:s,yAxis:o,layout:i,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.dot,i=s.points,l=s.dataKey,c=Il(this.props,!1),d=Il(o,!0),u=i.map(function(e,r){var n=BO(BO(BO({key:"dot-".concat(r),r:3},c),d),{},{index:r,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:i});return t.renderDotItem(o,n)}),p={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return a.createElement(ac,_O({className:"recharts-line-dots",key:"dots"},p),u)}},{key:"renderCurveStatically",value:function(e,t,r,n){var s=this.props,o=s.type,i=s.layout,l=s.connectNulls,c=(s.ref,MO(s,OO)),d=BO(BO(BO({},Il(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:o,layout:i,connectNulls:l});return a.createElement(lk,_O({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,s=n.points,o=n.strokeDasharray,i=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,d=n.animationEasing,u=n.animationId,p=n.animateNewValues,h=n.width,m=n.height,f=this.state,x=f.prevPoints,g=f.totalLength;return a.createElement(Xp,{begin:l,duration:c,isActive:i,easing:d,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var a=n.t;if(x){var i=x.length/s.length,l=s.map(function(e,t){var r=Math.floor(t*i);if(x[r]){var n=x[r],s=rl(n.x,e.x),o=rl(n.y,e.y);return BO(BO({},e),{},{x:s(a),y:o(a)})}if(p){var l=rl(2*h,e.x),c=rl(m/2,e.y);return BO(BO({},e),{},{x:l(a),y:c(a)})}return BO(BO({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,t)}var c,d=rl(0,g)(a);if(o){var u="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(d,g,u)}else c=r.generateSimpleStrokeDasharray(g,d);return r.renderCurveStatically(s,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,s=this.state,o=s.prevPoints,i=s.totalLength;return a&&n&&n.length&&(!o&&i>0||!hy()(o,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,s=t.points,o=t.className,i=t.xAxis,l=t.yAxis,c=t.top,d=t.left,u=t.width,p=t.height,h=t.isAnimationActive,m=t.id;if(r||!s||!s.length)return null;var f=this.state.isAnimationFinished,x=1===s.length,g=Mi("recharts-line",o),b=i&&i.allowDataOverflow,y=l&&l.allowDataOverflow,v=b||y,j=Gi()(m)?this.id:m,w=null!==(e=Il(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,A=void 0===N?3:N,k=w.strokeWidth,C=void 0===k?2:k,F=(Tl(n)?n:{}).clipDot,S=void 0===F||F,E=2*A+C;return a.createElement(ac,{className:g},b||y?a.createElement("defs",null,a.createElement("clipPath",{id:"clipPath-".concat(j)},a.createElement("rect",{x:b?d:d-u/2,y:y?c:c-p/2,width:b?u:2*u,height:y?p:2*p})),!S&&a.createElement("clipPath",{id:"clipPath-dots-".concat(j)},a.createElement("rect",{x:d-E/2,y:c-E/2,width:u+E,height:p+E}))):null,!x&&this.renderCurve(v,j),this.renderErrorBar(v,j),(x||n)&&this.renderDots(v,S,j),(!h||f)&&Yj.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!==0?[].concat(LO(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(LO(n),LO(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(a.isValidElement(e))r=a.cloneElement(e,t);else if(il()(e))r=e(t);else{var n=t.key,s=MO(t,TO),o=Mi("recharts-line-dot","boolean"!==typeof e?e.className:"");r=a.createElement(wu,_O({key:n},s,{className:o}))}return r}}],n&&UO(r.prototype,n),s&&UO(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);qO(YO,"displayName","Line"),qO(YO,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Dc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),qO(YO,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,i=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,u=l.map(function(e,t){var l=mv(e,o);return"horizontal"===d?{x:Pv({axis:r,ticks:a,bandSize:i,entry:e,index:t}),y:Gi()(l)?null:n.scale(l),value:l,payload:e}:{x:Gi()(l)?null:r.scale(l),y:Pv({axis:n,ticks:s,bandSize:i,entry:e,index:t}),value:l,payload:e}});return BO({points:u,layout:d},c)});var $O=nC({chartName:"LineChart",GraphicalChild:YO,axisComponents:[{axisType:"xAxis",AxisComp:ZC},{axisType:"yAxis",AxisComp:dF}],formatAxisMap:uN});const JO=e=>{let{timeline:t=[]}=e;return 0===t.length?null:(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg shadow p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Budget vs Actual Timeline"}),(0,Vn.jsx)("div",{className:"h-80",children:(0,Vn.jsx)(Hl,{width:"100%",height:"100%",children:(0,Vn.jsxs)($O,{data:t,children:[(0,Vn.jsx)(EF,{strokeDasharray:"3 3"}),(0,Vn.jsx)(ZC,{dataKey:"period"}),(0,Vn.jsx)(dF,{tickFormatter:e=>"".concat((e/1e6).toFixed(0),"M")}),(0,Vn.jsx)(qc,{formatter:e=>wO(e)}),(0,Vn.jsx)(vu,{}),(0,Vn.jsx)(YO,{type:"monotone",dataKey:"budgetAmount",stroke:"#8884d8",strokeWidth:2,name:"Budget"}),(0,Vn.jsx)(YO,{type:"monotone",dataKey:"actualAmount",stroke:"#82ca9d",strokeWidth:2,name:"Actual"}),(0,Vn.jsx)(YO,{type:"monotone",dataKey:"committedAmount",stroke:"#ffc658",strokeWidth:2,name:"Committed"})]})})})]})},XO=e=>{let{forecast:t=[]}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg shadow p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-medium text-white",children:"Cash Flow Forecast"}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)(VP,{size:16,className:"text-[#0A84FF]"}),(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Next 3 months"})]})]}),(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map((e,t)=>(0,Vn.jsxs)("div",{className:"text-center p-4 border border-[#38383A] rounded-lg hover:border-blue-300 transition-colors",children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-2",children:e.period}),(0,Vn.jsx)("p",{className:"text-sm md:text-base font-bold text-white break-words",children:wO(e.projectedSpend)}),(0,Vn.jsx)("p",{className:"text-xs text-[#98989D] mt-1",children:"Planned expenses"})]},t))})]})},QO=()=>{const e=[{icon:ti,label:"Set Budget Alert",color:"text-[#FF9F0A]"},{icon:li,label:"Budget Reallocation",color:"text-[#0A84FF]"},{icon:ba,label:"Generate Report",color:"text-[#30D158]"},{icon:Ua,label:"Set Milestone Budget",color:"text-purple-600"}];return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg shadow p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Budget Control Actions"}),(0,Vn.jsx)("div",{className:"grid grid-cols-2 gap-4",children:e.map((e,t)=>{const r=e.icon;return(0,Vn.jsxs)("button",{className:"flex items-center justify-center px-4 py-3 border border-[#38383A] rounded-lg hover:bg-[#1C1C1E] transition-colors",children:[(0,Vn.jsx)(r,{className:"h-5 w-5 ".concat(e.color," mr-2")}),(0,Vn.jsx)("span",{children:e.label})]},t)})})]})},ZO=()=>(0,Vn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),eT=()=>(0,Vn.jsxs)("div",{className:"text-center py-12",children:[(0,Vn.jsx)(li,{className:"h-12 w-12 text-[#636366] mx-auto mb-4"}),(0,Vn.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Data Budget Tidak Tersedia"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Pastikan RAB sudah dibuat dan diapprove"})]}),tT=e=>{let{projectId:t,project:r,onDataChange:n}=e;const{timeframe:s,handleTimeframeChange:o}=(()=>{const[e,t]=(0,a.useState)("month"),[r,n]=(0,a.useState)("all");return{timeframe:e,selectedCategory:r,handleTimeframeChange:e=>{t(e)},handleCategoryChange:e=>{n(e)},resetFilters:()=>{t("month"),n("all")}}})(),{budgetData:i,loading:l,refreshData:c}=((e,t)=>{const[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null),c=(0,a.useCallback)(async()=>{if(e)try{o(!0),l(null);const r=await fetch("/api/projects/".concat(e,"/budget-monitoring?timeframe=").concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!r.ok)throw new Error("Failed to fetch budget data");{const e=await r.json();n(e.data)}}catch(i){console.error("Error fetching budget data:",i),l(i.message)}finally{o(!1)}},[e,t]);return(0,a.useEffect)(()=>{c()},[c]),{budgetData:r,loading:s,error:i,refreshData:(0,a.useCallback)(()=>{c()},[c])}})(t,s);if(l)return(0,Vn.jsx)(ZO,{});if(!i)return(0,Vn.jsx)(eT,{});const d=i.summary||{},u=i.categories||[],p=i.timeline||[],h=i.alerts||[],m=i.forecast||[];return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)(jO,{projectName:r.name,timeframe:s,onTimeframeChange:o,onRefresh:c}),(0,Vn.jsx)(FO,{alerts:h}),(0,Vn.jsx)(CO,{summary:d}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Vn.jsx)(PO,{categories:u}),(0,Vn.jsx)(DO,{categories:u})]}),(0,Vn.jsx)(SO,{summary:d}),(0,Vn.jsx)(JO,{timeline:p}),(0,Vn.jsx)(XO,{forecast:m}),(0,Vn.jsx)(QO,{})]})},rT=((0,Qn.A)("FileBarChart",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M16 18v-6",key:"15y0np"}]]),(0,Qn.A)("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Ea.A,Ea.A,Ea.A,(0,Qn.A)("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]])),nT=e=>{var t,r,n,s,o,i,l,c,d;let{projectId:u,project:p,onClose:h}=e;const[m,f]=(0,a.useState)(""),[x,g]=(0,a.useState)({startDate:"",endDate:""}),[b,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)(null),[w,N]=(0,a.useState)(""),A=[{id:"cost-analysis",name:"Project Cost Analysis",description:"Analisis detail breakdown biaya proyek",icon:xa,color:"#0A84FF",endpoint:"/api/reports/project/cost-analysis"},{id:"profitability",name:"Profitability Analysis",description:"Analisis profitabilitas dan margin proyek",icon:ui,color:"#30D158",endpoint:"/api/reports/project/profitability"},{id:"budget-variance",name:"Budget Variance Report",description:"Perbandingan budget vs aktual spending",icon:rT,color:"#FFD60A",endpoint:"/api/reports/budget/variance"},{id:"resource-utilization",name:"Resource Utilization",description:"Penggunaan resource dan manpower",icon:ba,color:"#BF5AF2",endpoint:"/api/reports/project/resource-utilization"},{id:"executive-summary",name:"Executive Summary",description:"Ringkasan eksekutif untuk management",icon:di,color:"#FF453A",endpoint:"/api/reports/executive/summary"}],k=A.find(e=>e.id===m);return(0,Vn.jsx)("div",{className:"space-y-6",children:(0,Vn.jsxs)("div",{className:"bg-gradient-to-br from-[#1C1C1E] to-[#2C2C2E] border border-[#38383A] rounded-xl p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[(0,Vn.jsx)(ba,{size:24,className:"text-[#0A84FF]"}),"Generate Report"]}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mt-1",children:(null===p||void 0===p?void 0:p.name)||"Project ".concat(u)})]}),h&&(0,Vn.jsx)("button",{onClick:h,className:"p-2 hover:bg-[#38383A] rounded-lg transition-colors",title:"Tutup",children:(0,Vn.jsx)(ja.A,{size:20,className:"text-[#8E8E93]"})})]}),v?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsxs)("div",{className:"mb-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white",children:null===k||void 0===k?void 0:k.name}),(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93] mt-1",children:["Generated on ",(new Date).toLocaleString("id-ID")]})]}),(0,Vn.jsx)("button",{onClick:()=>j(null),className:"px-4 py-2 text-sm text-[#0A84FF] hover:bg-[#0A84FF]/10 rounded-lg transition-colors",children:"Generate Ulang"})]}),(null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.summary)&&(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Vn.jsxs)("div",{className:"bg-gradient-to-br from-[#0A84FF]/20 to-[#0A84FF]/5 border border-[#0A84FF]/30 rounded-xl p-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] font-medium",children:"Total Biaya Proyek"}),(0,Vn.jsx)(xa,{size:16,className:"text-[#0A84FF]"})]}),(0,Vn.jsxs)("p",{className:"text-2xl font-bold text-white",children:["Rp ",(null===(r=v.data.summary.totalProjectCosts)||void 0===r?void 0:r.toLocaleString("id-ID"))||"0"]})]}),(0,Vn.jsxs)("div",{className:"bg-gradient-to-br from-[#30D158]/20 to-[#30D158]/5 border border-[#30D158]/30 rounded-xl p-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] font-medium",children:"Kategori Biaya"}),(0,Vn.jsx)(rT,{size:16,className:"text-[#30D158]"})]}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-white",children:v.data.summary.costCategories||0}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mt-1",children:"Kategori aktif"})]}),(0,Vn.jsxs)("div",{className:"bg-gradient-to-br from-[#FFD60A]/20 to-[#FFD60A]/5 border border-[#FFD60A]/30 rounded-xl p-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] font-medium",children:"Rata-rata per Bulan"}),(0,Vn.jsx)(ui,{size:16,className:"text-[#FFD60A]"})]}),(0,Vn.jsxs)("p",{className:"text-2xl font-bold text-white",children:["Rp ",(null===(n=v.data.summary.averageMonthlyCost)||void 0===n?void 0:n.toLocaleString("id-ID"))||"0"]})]})]}),(null===v||void 0===v||null===(s=v.data)||void 0===s?void 0:s.period)&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-xl p-4 mb-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Vn.jsx)(VP,{size:16,className:"text-[#0A84FF]"}),(0,Vn.jsx)("h4",{className:"text-sm font-semibold text-white",children:"Periode Report"})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-[#8E8E93] mb-1",children:"Tanggal Mulai"}),(0,Vn.jsx)("p",{className:"text-white font-medium",children:new Date(v.data.period.startDate).toLocaleDateString("id-ID")})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-[#8E8E93] mb-1",children:"Tanggal Selesai"}),(0,Vn.jsx)("p",{className:"text-white font-medium",children:new Date(v.data.period.endDate).toLocaleDateString("id-ID")})]})]})]}),null!==v&&void 0!==v&&null!==(o=v.data)&&void 0!==o&&o.costBreakdown&&v.data.costBreakdown.length>0?(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-xl p-5 mb-6",children:[(0,Vn.jsxs)("h4",{className:"text-sm font-semibold text-white mb-4 flex items-center gap-2",children:[(0,Vn.jsx)(ba,{size:16,className:"text-[#0A84FF]"}),"Breakdown Biaya per Kategori"]}),(0,Vn.jsx)("div",{className:"space-y-3",children:v.data.costBreakdown.map((e,t)=>{var r,n;return(0,Vn.jsxs)("div",{className:"p-3 bg-[#1C1C1E] rounded-lg",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:e.categoryName}),(0,Vn.jsxs)("p",{className:"text-sm font-bold text-[#0A84FF]",children:["Rp ",null===(r=e.totalAmount)||void 0===r?void 0:r.toLocaleString("id-ID")]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)("div",{className:"flex-1 h-2 bg-[#38383A] rounded-full overflow-hidden",children:(0,Vn.jsx)("div",{className:"h-full bg-[#0A84FF] rounded-full transition-all",style:{width:"".concat(e.percentage||0,"%")}})}),(0,Vn.jsxs)("p",{className:"text-xs text-[#8E8E93] font-medium w-12 text-right",children:[(null===(n=e.percentage)||void 0===n?void 0:n.toFixed(1))||0,"%"]})]})]},t)})})]}):(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-xl p-8 mb-6 text-center",children:[(0,Vn.jsx)(rT,{size:48,className:"text-[#636366] mx-auto mb-3"}),(0,Vn.jsx)("p",{className:"text-white font-medium mb-1",children:"Belum Ada Data Biaya"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Project ini belum memiliki transaksi biaya yang tercatat"})]}),(null===v||void 0===v||null===(i=v.data)||void 0===i?void 0:i.monthlyTrends)&&Array.isArray(v.data.monthlyTrends)&&v.data.monthlyTrends.length>0&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-xl p-5 mb-6",children:[(0,Vn.jsxs)("h4",{className:"text-sm font-semibold text-white mb-4 flex items-center gap-2",children:[(0,Vn.jsx)(ui,{size:16,className:"text-[#30D158]"}),"Tren Biaya Bulanan"]}),(0,Vn.jsx)("div",{className:"space-y-2",children:v.data.monthlyTrends.map(e=>{var t;return(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-[#1C1C1E] rounded-lg transition-colors",children:[(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:e.monthName||e.month}),(0,Vn.jsxs)("p",{className:"text-sm font-medium text-white",children:["Rp ",(null===(t=e.amount)||void 0===t?void 0:t.toLocaleString("id-ID"))||"0"]})]},e.month)})})]}),(0,Vn.jsx)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-xl p-4",children:(0,Vn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Vn.jsx)(di,{size:16,className:"text-[#0A84FF] mt-0.5 flex-shrink-0"}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium text-white mb-1",children:"Report Generated Successfully"}),(0,Vn.jsxs)("p",{className:"text-xs text-[#8E8E93] leading-relaxed",children:["Data di atas adalah hasil analisis real-time dari database untuk project"," ",(0,Vn.jsx)("span",{className:"text-white font-mono",children:null===v||void 0===v||null===(l=v.data)||void 0===l?void 0:l.projectId}),".",0===(null===v||void 0===v||null===(c=v.data)||void 0===c||null===(d=c.costBreakdown)||void 0===d?void 0:d.length)&&" Project ini belum memiliki transaksi biaya yang tercatat."]})]})]})})]}),(0,Vn.jsxs)("div",{className:"flex gap-3",children:[(0,Vn.jsx)("button",{onClick:()=>j(null),className:"flex-1 px-4 py-2.5 bg-[#2C2C2E] hover:bg-[#38383A] text-white rounded-lg transition-colors text-sm font-medium",children:"Generate Ulang"}),(0,Vn.jsxs)("button",{onClick:()=>{if(!v)return;const e=JSON.stringify(v,null,2),t=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="".concat(m,"-").concat(u,"-").concat((new Date).toISOString().split("T")[0],".json"),n.click(),URL.revokeObjectURL(r)},className:"flex-1 px-4 py-2.5 bg-[#30D158] hover:bg-[#30D158]/90 text-white rounded-lg transition-all text-sm font-medium flex items-center justify-center gap-2",children:[(0,Vn.jsx)(Ai,{size:16}),"Download Data (JSON)"]})]})]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsxs)("div",{className:"mb-6",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-3",children:"Pilih Jenis Report"}),(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:A.map(e=>{const t=e.icon,r=m===e.id;return(0,Vn.jsxs)("button",{onClick:()=>f(e.id),className:"\n                        relative p-4 rounded-xl border-2 text-left transition-all\n                        ".concat(r?"border-[#0A84FF] bg-[#0A84FF]/10":"border-[#38383A] bg-[#2C2C2E] hover:border-[#48484A]","\n                      "),children:[(0,Vn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Vn.jsx)("div",{className:"p-2 rounded-lg flex-shrink-0",style:{backgroundColor:"".concat(e.color,"20")},children:(0,Vn.jsx)(t,{size:20,style:{color:e.color}})}),(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("h3",{className:"font-medium text-white text-sm mb-1",children:e.name}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] leading-relaxed",children:e.description})]})]}),r&&(0,Vn.jsx)("div",{className:"absolute top-3 right-3 w-5 h-5 bg-[#0A84FF] rounded-full flex items-center justify-center",children:(0,Vn.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})})]},e.id)})})]}),(0,Vn.jsxs)("div",{className:"mb-6",children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-3",children:[(0,Vn.jsx)(VP,{size:16,className:"inline mr-2"}),"Periode (Opsional)"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-2",children:"Tanggal Mulai"}),(0,Vn.jsx)(HP,{value:x.startDate,onChange:e=>g(t=>(0,Mt.A)((0,Mt.A)({},t),{},{startDate:e.target.value})),className:"w-full pr-4 py-2.5 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-[#0A84FF] transition-all"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-2",children:"Tanggal Selesai"}),(0,Vn.jsx)(HP,{value:x.endDate,onChange:e=>g(t=>(0,Mt.A)((0,Mt.A)({},t),{},{endDate:e.target.value})),className:"w-full pr-4 py-2.5 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-[#0A84FF] transition-all"})]})]})]}),w&&(0,Vn.jsx)("div",{className:"mb-6 p-4 bg-[#FF453A]/10 border border-[#FF453A]/30 rounded-lg",children:(0,Vn.jsx)("p",{className:"text-sm text-[#FF453A]",children:w})}),k&&(0,Vn.jsxs)("div",{className:"mb-6 p-4 bg-[#0A84FF]/10 border border-[#0A84FF]/30 rounded-lg",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Vn.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:k.color}}),(0,Vn.jsxs)("p",{className:"text-sm font-medium text-white",children:["Akan generate: ",k.name]})]}),(0,Vn.jsxs)("p",{className:"text-xs text-[#8E8E93]",children:["Report akan berisi ",k.description.toLowerCase(),x.startDate&&" untuk periode ".concat(x.startDate),x.endDate&&" sampai ".concat(x.endDate)]})]}),(0,Vn.jsxs)("div",{className:"flex gap-3",children:[h&&(0,Vn.jsx)("button",{onClick:h,className:"flex-1 px-4 py-2.5 bg-[#2C2C2E] hover:bg-[#38383A] text-white rounded-lg transition-colors text-sm font-medium",children:"Batal"}),(0,Vn.jsx)("button",{onClick:async()=>{if(m){y(!0),N("");try{const e=A.find(e=>e.id===m),t=new URLSearchParams({project_id:u});x.startDate&&t.append("start_date",x.startDate),x.endDate&&t.append("end_date",x.endDate);const r=await fetch("".concat(e.endpoint,"?").concat(t.toString()),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!r.ok)throw new Error("Failed to generate report");const n=await r.json();j(n)}catch(e){console.error("Error generating report:",e),N("Gagal generate report. Silakan coba lagi.")}finally{y(!1)}}else N("Pilih jenis report terlebih dahulu")},disabled:!m||b,className:"flex-1 px-4 py-2.5 bg-[#0A84FF] hover:bg-[#0A84FF]/90 disabled:bg-[#38383A] disabled:text-[#8E8E93] text-white rounded-lg transition-all text-sm font-medium flex items-center justify-center gap-2",children:b?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(vP.A,{size:16,className:"animate-spin"}),"Generating..."]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(ba,{size:16}),"Generate Report"]})})]})]})]})})},aT=e=>{let{projectId:t,project:r,onDataChange:n}=e;const[s,o]=(0,a.useState)(()=>{const e=window.location.hash.replace("#","");if(e.includes(":")){const t=e.split(":")[1];if("create"===t||"history"===t)return t}return"history"});(0,a.useEffect)(()=>{const e=window.location.hash.replace("#","").split(":")[0]||"work-orders";window.location.hash="".concat(e,":").concat(s)},[s]),(0,a.useEffect)(()=>{const e=()=>{const e=window.location.hash.replace("#","");if(e.includes(":")){const t=e.split(":")[1];"create"!==t&&"history"!==t||t===s||o(t)}};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[s]);return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"bg-gradient-to-br from-[#1C1C1E] to-[#2C2C2E] border border-[#38383A] rounded-xl p-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-[#AF52DE]/10 rounded-lg",children:(0,Vn.jsx)(wD,{size:24,className:"text-[#AF52DE]"})}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Work Orders"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mt-1",children:"Manajemen Work Order untuk jasa, tenaga kerja, dan peralatan"})]})]}),(0,Vn.jsxs)("div",{className:"flex gap-2 mt-4 p-1 bg-[#1C1C1E] rounded-lg",children:[(0,Vn.jsxs)("button",{onClick:()=>o("history"),className:"\n              flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg\n              text-sm font-medium transition-all\n              ".concat("history"===s?"bg-[#AF52DE] text-white shadow-lg":"text-[#8E8E93] hover:text-white hover:bg-[#2C2C2E]","\n            "),children:[(0,Vn.jsx)(CD,{size:16}),"Riwayat WO"]}),(0,Vn.jsxs)("button",{onClick:()=>o("create"),className:"\n              flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg\n              text-sm font-medium transition-all\n              ".concat("create"===s?"bg-[#AF52DE] text-white shadow-lg":"text-[#8E8E93] hover:text-white hover:bg-[#2C2C2E]","\n            "),children:[(0,Vn.jsx)(Pi,{size:16}),"Buat WO"]})]})]}),(0,Vn.jsxs)("div",{className:"transition-all duration-300",children:["history"===s&&(0,Vn.jsx)(vO,{projectId:t,project:r,onDataChange:n,mode:"history",onCreateNew:()=>{o("create")}}),"create"===s&&(0,Vn.jsx)(vO,{projectId:t,project:r,onDataChange:n,mode:"create",onComplete:()=>{o("history"),null===n||void 0===n||n()}})]})]})},sT=e=>{const[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),o=async()=>{try{const t=await is(e);if(t.data&&t.data.length>0){const n=t.data.map(t=>({id:t.id,name:t.title||"",description:t.description||"",targetDate:t.targetDate?t.targetDate.split("T")[0]:"",actualDate:t.completedDate?t.completedDate.split("T")[0]:null,status:t.status||"pending",progress:parseInt(t.progress)||0,budget:parseFloat(t.budget)||0,actualCost:parseFloat(t.actualCost)||0,deliverables:t.deliverables?"string"===typeof t.deliverables?JSON.parse(t.deliverables):t.deliverables:[""],assignedTeam:t.assignedTo?[t.assignedTo]:[],dependencies:t.dependencies?"string"===typeof t.dependencies?JSON.parse(t.dependencies):t.dependencies:[],notes:t.notes||"",priority:t.priority||"medium",category_link:t.categoryLink||t.category_link||null,project_id:t.projectId||e,createdAt:t.createdAt,updatedAt:t.updatedAt}));r(n)}else r([])}catch(t){console.error("Error loading milestones:",t),r([])}finally{s(!1)}};(0,a.useEffect)(()=>{o()},[e]);const i=(0,a.useMemo)(()=>(e=>{const t=e.length,r=e.filter(e=>"completed"===e.status).length,n=e.filter(e=>"in_progress"===e.status).length,a=e.filter(e=>"completed"!==e.status&&new Date(e.targetDate)<new Date).length,s=e.reduce((e,t)=>e+t.budget,0),o=e.reduce((e,t)=>e+t.actualCost,0);let i=0;return e.length>0&&(i=s>0?e.reduce((e,t)=>e+t.progress*t.budget,0)/s:e.reduce((e,t)=>e+t.progress,0)/e.length),{total:t,completed:r,inProgress:n,overdue:a,completionRate:t>0?r/t*100:0,totalBudget:s,totalActualCost:o,progressWeighted:i||0}})(t),[t]);return{milestones:t,loading:n,stats:i,updateMilestoneProgress:async(n,a)=>{try{var s;const o=t.find(e=>e.id===n);if(!o)return console.error("Milestone not found:",n),void alert("Milestone tidak ditemukan. Silakan refresh halaman.");const i={title:o.name||o.title,description:o.description||"",targetDate:o.targetDate,progress:a,status:100===a?"completed":a>0?"in_progress":"pending",priority:o.priority||"medium"};if(null!==(s=o.assignedTeam)&&void 0!==s&&s[0]&&(i.assignedTo=o.assignedTeam[0]),o.notes&&(i.notes=o.notes),o.deliverables&&o.deliverables.length>0){const e=o.deliverables.filter(e=>e&&""!==e.trim());e.length>0&&(i.deliverables=e)}if(o.dependencies&&o.dependencies.length>0){const e=o.dependencies.filter(e=>e&&""!==e.trim());e.length>0&&(i.dependencies=e)}await cs(e,n,i),r(e=>e.map(e=>e.id===n?(0,Mt.A)((0,Mt.A)({},e),{},{progress:a,status:i.status}):e))}catch(o){console.error("Error updating milestone progress:",o),alert("Error updating milestone progress. Please try again.")}},deleteMilestone:async t=>{if(window.confirm("Yakin ingin menghapus milestone ini?"))try{return await ds(e,t),r(e=>e.filter(e=>e.id!==t)),alert("Milestone berhasil dihapus!"),!0}catch(n){return console.error("Error deleting milestone:",n),alert("Gagal menghapus milestone. Silakan coba lagi."),!1}},approveMilestone:async t=>{if(window.confirm("Approve milestone ini?"))try{return await us(e,t),r(e=>e.map(e=>e.id===t?(0,Mt.A)((0,Mt.A)({},e),{},{status:"in_progress"}):e)),alert("Milestone berhasil di-approve!"),!0}catch(n){return console.error("Error approving milestone:",n),alert("Gagal approve milestone. Silakan coba lagi."),!1}},loadMilestones:o}},oT=e=>{let{stats:t}=e;return(0,Vn.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] p-4 rounded-lg border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#0A84FF] mb-2",children:[(0,Vn.jsx)(Ua,{size:18}),(0,Vn.jsx)("span",{className:"text-sm font-medium",children:"Total Milestone"})]}),(0,Vn.jsx)("div",{className:"text-lg font-bold text-[#0A84FF]",children:t.total})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] p-4 rounded-lg border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#30D158] mb-2",children:[(0,Vn.jsx)(Ea.A,{size:18}),(0,Vn.jsx)("span",{className:"text-sm font-medium",children:"Selesai"})]}),(0,Vn.jsxs)("div",{className:"text-lg font-bold text-[#30D158]",children:[t.completed," (",t.completionRate.toFixed(0),"%)"]})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] p-4 rounded-lg border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#FF9F0A] mb-2",children:[(0,Vn.jsx)(Sa,{size:18}),(0,Vn.jsx)("span",{className:"text-sm font-medium",children:"Berlangsung"})]}),(0,Vn.jsx)("div",{className:"text-lg font-bold text-[#FF9F0A]",children:t.inProgress})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] p-4 rounded-lg border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#FF3B30] mb-2",children:[(0,Vn.jsx)(Vo.A,{size:18}),(0,Vn.jsx)("span",{className:"text-sm font-medium",children:"Terlambat"})]}),(0,Vn.jsx)("div",{className:"text-lg font-bold text-[#FF3B30]",children:t.overdue})]})]})},iT=e=>{let{stats:t}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] p-6",children:[(0,Vn.jsx)("h4",{className:"font-semibold text-white mb-4",children:"Progress Overview"}),(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"flex justify-between text-sm mb-2 text-[#8E8E93]",children:[(0,Vn.jsx)("span",{children:"Progress Keseluruhan"}),(0,Vn.jsxs)("span",{children:[t.progressWeighted.toFixed(1),"%"]})]}),(0,Vn.jsx)("div",{className:"w-full bg-[#48484A] rounded-full h-2",children:(0,Vn.jsx)("div",{className:"bg-[#0A84FF] h-2 rounded-full transition-all duration-300",style:{width:"".concat(t.progressWeighted,"%")}})})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Total Budget Milestone"}),(0,Vn.jsx)("div",{className:"text-base font-semibold text-white",children:UD(t.totalBudget)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Actual Cost"}),(0,Vn.jsx)("div",{className:"text-base font-semibold text-white",children:UD(t.totalActualCost)})]})]})]})]})},lT=(0,Qn.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),cT={completed:{color:"#30D158",bgColor:"#30D158",bgOpacity:"rgba(48, 209, 88, 0.1)",icon:Ea.A,text:"Selesai"},in_progress:{color:"#0A84FF",bgColor:"#0A84FF",bgOpacity:"rgba(10, 132, 255, 0.1)",icon:Sa,text:"Berlangsung"},pending:{color:"#8E8E93",bgColor:"#8E8E93",bgOpacity:"rgba(142, 142, 147, 0.1)",icon:Vo.A,text:"Pending"},overdue:{color:"#FF3B30",bgColor:"#FF3B30",bgOpacity:"rgba(255, 59, 48, 0.1)",icon:Vo.A,text:"Terlambat"}},dT=e=>cT[e]||cT.pending,uT=e=>"completed"!==e.status&&new Date(e.targetDate)<new Date,pT=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Hs.get("/projects/".concat(e,"/milestones/").concat(t,"/photos"),{params:r})},hT=(e,t,r)=>Hs.post("/projects/".concat(e,"/milestones/").concat(t,"/photos"),r,{headers:{"Content-Type":"multipart/form-data"}}),mT=(e,t,r)=>Hs.delete("/projects/".concat(e,"/milestones/").concat(t,"/photos/").concat(r)),fT=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Hs.get("/projects/".concat(e,"/milestones/").concat(t,"/costs"),{params:r})},xT=(e,t)=>Hs.get("/projects/".concat(e,"/milestones/").concat(t,"/costs/summary")),gT=(e,t,r)=>Hs.post("/projects/".concat(e,"/milestones/").concat(t,"/costs"),r),bT=(e,t,r,n)=>Hs.put("/projects/".concat(e,"/milestones/").concat(t,"/costs/").concat(r),n),yT=(e,t,r)=>Hs.delete("/projects/".concat(e,"/milestones/").concat(t,"/costs/").concat(r)),vT=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Hs.get("/projects/".concat(e,"/milestones/").concat(t,"/activities"),{params:r})},jT=(e,t,r)=>Hs.post("/projects/".concat(e,"/milestones/").concat(t,"/activities"),r),wT={PROGRESS:"progress",ISSUE:"issue",INSPECTION:"inspection",QUALITY:"quality",BEFORE:"before",AFTER:"after",GENERAL:"general"},NT={MATERIALS:"materials",LABOR:"labor",EQUIPMENT:"equipment",SUBCONTRACTOR:"subcontractor",CONTINGENCY:"contingency",INDIRECT:"indirect",OTHER:"other"},AT={PLANNED:"planned",ACTUAL:"actual",CHANGE_ORDER:"change_order",UNFORESEEN:"unforeseen"},kT=(e,t)=>{const[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),u=(0,a.useCallback)(async function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(!0),d(null);try{const a=await fT(e,t,r);n(a.data||[])}catch(a){console.error("Error loading costs:",a),d(a.message)}finally{l(!1)}},[e,t]),p=(0,a.useCallback)(async()=>{l(!0),d(null);try{const r=await xT(e,t);o(r.data||null)}catch(r){console.error("Error loading cost summary:",r),d(r.message)}finally{l(!1)}},[e,t]);return(0,a.useEffect)(()=>{e&&t&&(u(),p())},[e,t,u,p]),{costs:r,summary:s,loading:i,error:c,loadCosts:u,loadSummary:p,addCost:async r=>{d(null);try{const n=await gT(e,t,r);return await u(),await p(),n.data}catch(n){throw console.error("Error adding cost:",n),d(n.message),n}},updateCost:async(r,n)=>{d(null);try{const a=await bT(e,t,r,n);return await u(),await p(),a.data}catch(a){throw console.error("Error updating cost:",a),d(a.message),a}},deleteCost:async r=>{try{await yT(e,t,r),n(e=>e.filter(e=>e.id!==r)),await p()}catch(a){throw console.error("Error deleting cost:",a),d(a.message),a}}}},CT=e=>{let{milestone:t,projectId:r}=e;const{summary:n,loading:a}=kT(r,t.id),s=dT(t.status),o=s.icon,i=null!==n&&void 0!==n&&n.variance?(n.variance/t.budget*100).toFixed(1):0;return(0,Vn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:s.bgOpacity},children:(0,Vn.jsx)(o,{size:24,style:{color:s.color}})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Status"}),(0,Vn.jsx)("p",{className:"text-lg font-semibold",style:{color:s.color},children:s.text})]})]}),(0,Vn.jsxs)("div",{className:"text-right",children:[(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Progress"}),(0,Vn.jsxs)("p",{className:"text-2xl font-bold text-white",children:[t.progress,"%"]})]})]}),(0,Vn.jsx)("div",{className:"mt-4",children:(0,Vn.jsx)("div",{className:"w-full bg-[#48484A] rounded-full h-2",children:(0,Vn.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:"".concat(t.progress,"%"),backgroundColor:s.color}})})})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#0A84FF] mb-2",children:[(0,Vn.jsx)(io,{size:18}),(0,Vn.jsx)("span",{className:"text-xs font-medium",children:"Target Date"})]}),(0,Vn.jsx)("p",{className:"text-base font-semibold text-white",children:WD(t.targetDate)})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#30D158] mb-2",children:[(0,Vn.jsx)(xa,{size:18}),(0,Vn.jsx)("span",{className:"text-xs font-medium",children:"Budget"})]}),(0,Vn.jsx)("p",{className:"text-base font-semibold text-white",children:UD(t.budget)})]}),t.deliverables&&t.deliverables.length>0&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#FF9F0A] mb-2",children:[(0,Vn.jsx)(Xo,{size:18}),(0,Vn.jsx)("span",{className:"text-xs font-medium",children:"Deliverables"})]}),(0,Vn.jsxs)("p",{className:"text-base font-semibold text-white",children:[t.deliverables.length," items"]})]}),"completed"!==t.status&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#FF453A] mb-2",children:[(0,Vn.jsx)(Sa,{size:18}),(0,Vn.jsx)("span",{className:"text-xs font-medium",children:"Days Remaining"})]}),(0,Vn.jsxs)("p",{className:"text-base font-semibold text-white",children:[Math.ceil((new Date(t.targetDate)-new Date)/864e5)," days"]})]})]}),a?(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Loading cost summary..."})}):n?(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Vn.jsx)(ui,{size:18,className:"text-[#0A84FF]"}),(0,Vn.jsx)("h3",{className:"font-semibold text-white",children:"Budget vs Actual"})]}),(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Milestone Budget"}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-white",children:UD(n.budget||t.budget||0)})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Actual Cost"}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-white",children:UD(n.totalActual||0)})]}),(0,Vn.jsx)("div",{className:"border-t border-[#38383A] my-2"}),(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm font-semibold text-white",children:"Variance"}),(0,Vn.jsxs)("div",{className:"text-right",children:[(0,Vn.jsxs)("span",{className:"text-sm font-bold ".concat("over_budget"===n.status?"text-[#FF453A]":"under_budget"===n.status?"text-[#30D158]":"text-[#FF9F0A]"),children:[n.variance>0?"+":"",UD(n.variance)]}),(0,Vn.jsxs)("p",{className:"text-xs ".concat("over_budget"===n.status?"text-[#FF453A]":"under_budget"===n.status?"text-[#30D158]":"text-[#FF9F0A]"),children:[i>0?"+":"",i,"%"]})]})]}),(0,Vn.jsx)("div",{className:"pt-2",children:(0,Vn.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium ".concat("over_budget"===n.status?"bg-[#FF453A]/10 text-[#FF453A] border border-[#FF453A]/30":"under_budget"===n.status?"bg-[#30D158]/10 text-[#30D158] border border-[#30D158]/30":"bg-[#FF9F0A]/10 text-[#FF9F0A] border border-[#FF9F0A]/30"),children:["over_budget"===n.status&&"\u26a0\ufe0f Over Budget","under_budget"===n.status&&"\u2705 Under Budget","on_budget"===n.status&&"\ud83d\udc4d On Budget"]})})]})]}):(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"No cost data available yet."})}),t.category_link&&t.category_link.enabled&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Vn.jsx)(Xo,{size:18,className:"text-[#0A84FF]"}),(0,Vn.jsx)("h3",{className:"font-semibold text-white",children:"RAB Category Link"})]}),(0,Vn.jsxs)("div",{className:"space-y-2",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Category"}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-white",children:t.category_link.category_name})]}),t.category_link.itemCount&&(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Items"}),(0,Vn.jsxs)("span",{className:"text-sm font-medium text-white",children:[t.category_link.itemCount," items"]})]}),t.category_link.totalValue&&(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Total Value"}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-white",children:UD(t.category_link.totalValue)})]})]})]}),t.actualDate&&(0,Vn.jsx)("div",{className:"bg-[#30D158]/10 rounded-lg p-4 border border-[#30D158]/30",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)(Ea.A,{size:20,className:"text-[#30D158]"}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm font-medium text-[#30D158]",children:"Completed"}),(0,Vn.jsxs)("p",{className:"text-xs text-[#8E8E93]",children:["Finished on ",WD(t.actualDate)]})]})]})})]})},FT=(0,Qn.A)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),ST=(0,Qn.A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),ET=e=>{let{milestone:t,projectId:r}=e;const{photos:n,loading:s,uploading:o,uploadPhotos:i,deletePhoto:l}=((e,t)=>{const[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),u=(0,a.useCallback)(async function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("\ud83d\udce5 [LOAD] Loading photos...",{projectId:e,milestoneId:t,filter:r}),o(!0),d(null);try{var a;const s=await pT(e,t,r);console.log("\ud83d\udce5 [LOAD] Photos loaded:",(null===(a=s.data)||void 0===a?void 0:a.length)||0),s.data&&s.data.length>0&&console.log("\ud83d\udcf8 [LOAD] First photo sample:",{id:s.data[0].id,title:s.data[0].title,photoUrl:s.data[0].photoUrl,thumbnailUrl:s.data[0].thumbnailUrl,hasPhotoUrl:!!s.data[0].photoUrl,hasThumbnailUrl:!!s.data[0].thumbnailUrl,allKeys:Object.keys(s.data[0])}),n(s.data||[])}catch(s){console.error("\u274c [LOAD] Error loading photos:",s),d(s.message)}finally{o(!1)}},[e,t]);return(0,a.useEffect)(()=>{e&&t&&u()},[e,t,u]),{photos:r,loading:s,uploading:i,error:c,loadPhotos:u,uploadPhotos:async r=>{console.log("\ud83d\ude80 [UPLOAD] Starting photo upload..."),l(!0),d(null);try{const n=await hT(e,t,r);return console.log("\ud83d\udce6 [UPLOAD] Raw Response:",n),console.log("\ud83d\udce6 [UPLOAD] Response Data:",n.data),n.data&&Array.isArray(n.data)&&(console.log("\ud83d\udcf8 [UPLOAD] Uploaded Photos Count:",n.data.length),n.data.forEach((e,t)=>{console.log("\ud83d\udcf8 [UPLOAD] Photo ".concat(t+1,":"),{id:e.id,title:e.title,photoUrl:e.photoUrl,thumbnailUrl:e.thumbnailUrl,photoType:e.photoType,hasPhotoUrl:!!e.photoUrl,hasThumbnailUrl:!!e.thumbnailUrl,allKeys:Object.keys(e)})})),console.log("\ud83d\udd04 [UPLOAD] Reloading photos..."),await u(),console.log("\u2705 [UPLOAD] Upload complete, photos reloaded"),n.data}catch(n){throw console.error("\u274c [UPLOAD] Error uploading photos:",n),d(n.message),n}finally{l(!1)}},deletePhoto:async r=>{try{await mT(e,t,r),n(e=>e.filter(e=>e.id!==r))}catch(a){throw console.error("Error deleting photo:",a),d(a.message),a}}}})(r,t.id),[c,d]=(0,a.useState)("all"),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)([]),[f,x]=(0,a.useState)({title:"",description:"",photoType:"progress"}),g=()=>{const e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),s=e.getFullYear(),o="".concat(t).concat(a).concat(s),i=String(e.getHours()).padStart(2,"0"),l=String(e.getMinutes()).padStart(2,"0"),c=String(e.getSeconds()).padStart(2,"0"),d="".concat(i).concat(l).concat(c),u=n.filter(t=>{if(!t.createdAt)return!1;const r=new Date(t.createdAt);return t.photoType===f.photoType&&r.toDateString()===e.toDateString()}),p=String(u.length+1).padStart(2,"0"),h="".concat(f.photoType,"-").concat(r,"-").concat(o,"-").concat(d,"-").concat(p);x(e=>(0,Mt.A)((0,Mt.A)({},e),{},{title:h}))},b="all"===c?n:n.filter(e=>e.photoType===c),y=async e=>{const t=n.find(t=>t.id===e),r=(null===t||void 0===t?void 0:t.title)||"this photo";if(window.confirm('Are you sure you want to delete "'.concat(r,'"?\n\n')+"This action cannot be undone. The photo will be permanently removed from the milestone."))try{await l(e),u&&u.id===e&&p(null)}catch(a){console.error("Delete failed:",a),alert("Failed to delete photo. Please try again.")}},v=e=>{const t={progress:"bg-[#0A84FF]/10 text-[#0A84FF] border-[#0A84FF]/30",issue:"bg-[#FF453A]/10 text-[#FF453A] border-[#FF453A]/30",inspection:"bg-[#FF9F0A]/10 text-[#FF9F0A] border-[#FF9F0A]/30",quality:"bg-[#30D158]/10 text-[#30D158] border-[#30D158]/30",before:"bg-[#BF5AF2]/10 text-[#BF5AF2] border-[#BF5AF2]/30",after:"bg-[#FFD60A]/10 text-[#FFD60A] border-[#FFD60A]/30",general:"bg-[#8E8E93]/10 text-[#8E8E93] border-[#8E8E93]/30"};return t[e]||t.general};return(0,Vn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Vn.jsx)(lT,{size:18,className:"text-[#0A84FF]"}),(0,Vn.jsx)("h3",{className:"font-semibold text-white",children:"Upload Photos"})]}),(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:["Title ",(0,Vn.jsx)("span",{className:"text-[#FF453A]",children:"*"})]}),(0,Vn.jsxs)("div",{className:"flex gap-2",children:[(0,Vn.jsx)("input",{type:"text",value:f.title,onChange:e=>x(t=>(0,Mt.A)((0,Mt.A)({},t),{},{title:e.target.value})),placeholder:"e.g., Foundation Progress Day 1",required:!0,className:"flex-1 px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded text-sm text-white placeholder-[#636366] focus:border-[#0A84FF] focus:outline-none"}),(0,Vn.jsxs)("button",{type:"button",onClick:g,className:"px-3 py-2 bg-[#5AC8FA]/10 hover:bg-[#5AC8FA]/20 text-[#5AC8FA] border border-[#5AC8FA]/30 rounded text-sm font-medium transition-colors flex items-center gap-1.5 whitespace-nowrap",title:"Auto-generate title based on photo type, project code, and timestamp",children:[(0,Vn.jsx)(FT,{size:14}),(0,Vn.jsx)("span",{children:"Auto"})]})]}),(0,Vn.jsxs)("p",{className:"text-xs text-[#636366] mt-1",children:["Format: ",f.photoType,"-",r,"-ddmmyyyy-time-sequence"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Description (Optional)"}),(0,Vn.jsx)("textarea",{value:f.description,onChange:e=>x(t=>(0,Mt.A)((0,Mt.A)({},t),{},{description:e.target.value})),placeholder:"Add notes about this photo...",rows:2,className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded text-sm text-white placeholder-[#636366] focus:border-[#0A84FF] focus:outline-none resize-none"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Photo Type"}),(0,Vn.jsxs)("select",{value:f.photoType,onChange:e=>x(t=>(0,Mt.A)((0,Mt.A)({},t),{},{photoType:e.target.value})),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded text-sm text-white focus:border-[#0A84FF] focus:outline-none",children:[(0,Vn.jsx)("option",{value:"progress",children:"Progress"}),(0,Vn.jsx)("option",{value:"issue",children:"Issue"}),(0,Vn.jsx)("option",{value:"inspection",children:"Inspection"}),(0,Vn.jsx)("option",{value:"quality",children:"Quality Check"}),(0,Vn.jsx)("option",{value:"before",children:"Before"}),(0,Vn.jsx)("option",{value:"after",children:"After"}),(0,Vn.jsx)("option",{value:"general",children:"General"})]})]}),(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-2",children:"Select Photos"}),(0,Vn.jsxs)("label",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-[#2C2C2E] hover:bg-[#38383A] border-2 border-dashed border-[#38383A] hover:border-[#0A84FF] text-[#8E8E93] hover:text-white rounded-lg cursor-pointer transition-all",children:[(0,Vn.jsx)(ST,{size:18}),(0,Vn.jsx)("span",{className:"font-medium",children:h.length>0?"".concat(h.length," photo").concat(h.length>1?"s":""," selected"):"Choose Photos"}),(0,Vn.jsx)("input",{type:"file",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/gif",onChange:e=>{const t=Array.from(e.target.files);0!==t.length&&(m(t),f.title||g())},disabled:o,className:"hidden"})]}),(0,Vn.jsx)("p",{className:"text-xs text-[#636366] text-center mt-2",children:"Max 10 photos, 10MB each. JPEG, JPG, PNG, GIF"})]}),h.length>0&&(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] rounded-lg p-3 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vn.jsxs)("span",{className:"text-xs text-[#8E8E93] font-medium",children:["Selected Files (",h.length,")"]}),(0,Vn.jsx)("button",{type:"button",onClick:()=>{m([]);const e=document.querySelector('input[type="file"]');e&&(e.value="")},className:"text-xs text-[#FF453A] hover:text-[#FF453A]/80",children:"Clear All"})]}),(0,Vn.jsx)("div",{className:"space-y-1",children:h.map((e,t)=>(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-xs text-[#636366]",children:[(0,Vn.jsx)(ST,{size:12,className:"text-[#0A84FF]"}),(0,Vn.jsx)("span",{className:"flex-1 truncate",children:e.name}),(0,Vn.jsxs)("span",{className:"text-[#8E8E93]",children:[(e.size/1024/1024).toFixed(2)," MB"]})]},t))})]}),(0,Vn.jsxs)("button",{type:"button",onClick:async()=>{if(!f.title||""===f.title.trim())return void alert('\u274c Title is required!\n\nPlease enter a title or click "Auto" to generate one.');if(0===h.length)return void alert("\u274c No files selected!\n\nPlease select photos to upload.");const e=new FormData;h.forEach(t=>{e.append("photos",t)}),e.append("title",f.title.trim()),e.append("description",f.description||""),e.append("photoType",f.photoType);try{await i(e),x({title:"",description:"",photoType:"progress"}),m([]);const t=document.querySelector('input[type="file"]');t&&(t.value="")}catch(t){console.error("Upload failed:",t),alert("\u274c Upload failed!\n\n"+(t.message||"Please try again."))}},disabled:o||0===h.length||!f.title.trim(),className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ".concat(o||0===h.length||!f.title.trim()?"bg-[#38383A] text-[#636366] cursor-not-allowed":"bg-[#0A84FF] hover:bg-[#0A84FF]/90 text-white shadow-lg shadow-[#0A84FF]/20 hover:shadow-[#0A84FF]/30"),children:[(0,Vn.jsx)(qD,{size:18}),(0,Vn.jsx)("span",{children:o?"Uploading...":"Upload Photos"})]}),h.length>0&&!f.title.trim()&&(0,Vn.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-[#FF9F0A]/10 border border-[#FF9F0A]/30 rounded-lg",children:[(0,Vn.jsx)("span",{className:"text-[#FF9F0A] text-xs",children:"\u26a0\ufe0f"}),(0,Vn.jsxs)("p",{className:"text-xs text-[#FF9F0A]",children:[(0,Vn.jsx)("strong",{children:"Title required:"}),' Please enter a title or click "Auto" to generate one before uploading.']})]})]})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,Vn.jsx)(bP,{size:16,className:"text-[#8E8E93]"}),(0,Vn.jsxs)("button",{onClick:()=>d("all"),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ".concat("all"===c?"bg-[#0A84FF] text-white":"bg-[#2C2C2E] text-[#8E8E93] hover:text-white"),children:["All (",n.length,")"]}),Object.values(wT).map(e=>{const t=n.filter(t=>t.photoType===e).length;return(0,Vn.jsxs)("button",{onClick:()=>d(e),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-colors capitalize ".concat(c===e?"bg-[#0A84FF] text-white":"bg-[#2C2C2E] text-[#8E8E93] hover:text-white"),children:[e.replace("_"," ")," (",t,")"]},e)})]}),s?(0,Vn.jsx)("div",{className:"text-center py-12",children:(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Loading photos..."})}):0===b.length?(0,Vn.jsxs)("div",{className:"text-center py-12 bg-[#2C2C2E] rounded-lg border border-[#38383A]",children:[(0,Vn.jsx)(ST,{size:48,className:"text-[#636366] mx-auto mb-3"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"No photos yet. Upload some to get started!"})]}):(0,Vn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:b.map((e,t)=>{const r=e.photoUrl||e.thumbnailUrl,n=r?Wn(e.thumbnailUrl||e.photoUrl):"";return console.log("\ud83d\uddbc\ufe0f [RENDER] Photo ".concat(t+1,":"),{id:e.id,title:e.title,photoUrl:e.photoUrl,thumbnailUrl:e.thumbnailUrl,computedThumbnailUrl:n,hasPhotoUrl:!!e.photoUrl,hasThumbnailUrl:!!e.thumbnailUrl,hasValidUrl:r,allKeys:Object.keys(e)}),r?(0,Vn.jsxs)("div",{className:"group relative bg-[#2C2C2E] rounded-lg overflow-hidden border border-[#38383A] hover:border-[#0A84FF] transition-colors cursor-pointer",onClick:()=>p(e),children:[(0,Vn.jsxs)("div",{className:"aspect-square relative bg-[#1C1C1E]",children:[(0,Vn.jsx)("img",{src:n,alt:e.title,className:"w-full h-full object-cover",loading:"lazy",onError:t=>{if(console.error("\u274c [IMG] Image load error:",{photoId:e.id,attemptedSrc:t.target.src,photoUrl:e.photoUrl,thumbnailUrl:e.thumbnailUrl}),!t.target.dataset.fallbackAttempted){t.target.dataset.fallbackAttempted="true";const r=Wn(e.photoUrl);r&&t.target.src!==r?(console.log("\ud83d\udd04 [IMG] Falling back to original:",r),t.target.src=r):(console.error("\u274c [IMG] No fallback available, hiding image"),t.target.style.display="none",t.target.parentElement.innerHTML='<div class="flex items-center justify-center w-full h-full bg-red-500/10 text-red-500 text-xs p-4 text-center">Image not found</div>')}},onLoad:t=>{console.log("\u2705 [IMG] Image loaded successfully:",{photoId:e.id,src:t.target.src,naturalWidth:t.target.naturalWidth,naturalHeight:t.target.naturalHeight})}}),(0,Vn.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,Vn.jsx)("button",{onClick:t=>{t.stopPropagation(),p(e)},className:"p-2 bg-[#0A84FF] hover:bg-[#0A84FF]/90 text-white rounded-lg transition-colors",title:"View Photo",children:(0,Vn.jsx)(ST,{size:16})}),(0,Vn.jsx)("button",{onClick:t=>{t.stopPropagation(),y(e.id)},className:"p-2 bg-[#FF453A] hover:bg-[#FF453A]/90 text-white rounded-lg transition-colors",title:"Delete Photo",children:(0,Vn.jsx)(ca,{size:16})})]}),(0,Vn.jsx)("a",{href:Wn(e.photoUrl),target:"_blank",rel:"noopener noreferrer",download:!0,onClick:e=>{e.stopPropagation()},className:"absolute top-2 right-2 p-1.5 bg-[#30D158] hover:bg-[#30D158]/90 text-white rounded-lg transition-all opacity-0 group-hover:opacity-100 shadow-lg",title:"Download Photo",children:(0,Vn.jsx)(Ai,{size:14})})]}),(0,Vn.jsxs)("div",{className:"p-3",children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,Vn.jsx)("h4",{className:"text-sm font-medium text-white line-clamp-1",children:e.title}),(0,Vn.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded text-xs border ".concat(v(e.photoType)),children:e.photoType})]}),e.description&&(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] line-clamp-2 mb-2",children:e.description}),(0,Vn.jsx)("p",{className:"text-xs text-[#636366]",children:WD(e.takenAt||e.createdAt)}),e.uploader_name&&(0,Vn.jsxs)("p",{className:"text-xs text-[#636366]",children:["By: ",e.uploader_name]})]})]},e.id):(console.warn("\u26a0\ufe0f [RENDER] Skipping photo without URL:",e),null)})}),u&&(0,Vn.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:(0,Vn.jsxs)("div",{className:"max-w-4xl w-full bg-[#1C1C1E] rounded-lg overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Vn.jsx)("img",{src:Wn(u.photoUrl),alt:u.title,className:"w-full max-h-[70vh] object-contain bg-black"}),(0,Vn.jsxs)("div",{className:"p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:u.title}),u.description&&(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mb-3",children:u.description}),(0,Vn.jsxs)("div",{className:"flex items-center gap-4 text-xs text-[#636366]",children:[(0,Vn.jsx)("span",{children:WD(u.takenAt||u.createdAt)}),u.uploader_name&&(0,Vn.jsxs)("span",{children:["By: ",u.uploader_name]})]})]}),(0,Vn.jsx)("span",{className:"inline-flex px-3 py-1 rounded border text-xs font-medium ".concat(v(u.photoType)),children:u.photoType})]}),(0,Vn.jsxs)("div",{className:"flex gap-3",children:[(0,Vn.jsxs)("button",{onClick:()=>{y(u.id),p(null)},className:"flex items-center gap-2 px-4 py-2 bg-[#FF453A] hover:bg-[#FF453A]/90 text-white rounded-lg transition-colors",children:[(0,Vn.jsx)(ca,{size:16}),"Delete Photo"]}),(0,Vn.jsx)("button",{onClick:()=>p(null),className:"flex-1 px-4 py-2 bg-[#48484A] hover:bg-[#48484A]/80 text-white rounded-lg transition-colors",children:"Close"})]})]})]})})]})},PT=e=>{var t,r;let{milestone:n,projectId:s}=e;const{costs:o,summary:i,loading:l,addCost:c,updateCost:d,deleteCost:u}=kT(s,n.id),[p,h]=(0,a.useState)(!1),[m,f]=(0,a.useState)(null),[x,g]=(0,a.useState)([]),[b,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)([]),[w,N]=(0,a.useState)(!1),[A,k]=(0,a.useState)([]),[C,F]=(0,a.useState)(!1),[S,E]=(0,a.useState)({costCategory:"materials",costType:"actual",amount:"",description:"",referenceNumber:"",accountId:"",sourceAccountId:""});(0,a.useEffect)(()=>{s&&(P(),D(),O())},[s]);const P=async()=>{try{var e;y(!0);const t=await Hs.get("/projects/".concat(s));null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.purchaseOrders?(g(t.data.purchaseOrders),console.log("[CostsTab] Loaded POs:",t.data.purchaseOrders.length)):g([])}catch(t){console.error("[CostsTab] Error fetching POs:",t),g([])}finally{y(!1)}},D=async()=>{try{N(!0);const e="/api",t=await fetch("".concat(e,"/chart-of-accounts?account_type=EXPENSE&is_active=true"),{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch expense accounts");const r=await t.json();if(r.success&&r.data){const e=r.data.filter(e=>"EXPENSE"===e.accountType&&e.level>=2&&!e.isControlAccount);console.log("[CostsTab] Loaded expense accounts:",e.length),j(e)}}catch(e){console.error("[CostsTab] Error fetching expense accounts:",e),j([])}finally{N(!1)}},O=async()=>{try{F(!0);const e="/api",t=await fetch("".concat(e,"/chart-of-accounts?account_type=ASSET&is_active=true"),{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch source accounts");const r=await t.json();if(r.success&&r.data){const e=r.data.filter(e=>"ASSET"===e.accountType&&"CASH_AND_BANK"===e.accountSubType&&e.level>=3&&!e.isControlAccount);console.log("[CostsTab] Loaded source accounts (bank/cash):",e.length),k(e)}}catch(e){console.error("[CostsTab] Error fetching source accounts:",e),k([])}finally{F(!1)}},T=e=>({materials:"#0A84FF",labor:"#30D158",equipment:"#FF9F0A",subcontractor:"#BF5AF2",contingency:"#FF453A",indirect:"#8E8E93",other:"#636366"}[e]||"#636366");return(0,Vn.jsxs)("div",{className:"p-6 space-y-6",children:[l?(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Loading summary..."})}):i?(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg p-6 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Vn.jsx)(ui,{size:20,className:"text-[#0A84FF]"}),(0,Vn.jsx)("h3",{className:"font-semibold text-white text-lg",children:"Budget Summary"})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Milestone Budget"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-white",children:UD(n.budget||0)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Total Spent"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-white",children:UD(i.totalActual||0)})]})]}),(0,Vn.jsxs)("div",{className:"mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vn.jsx)("span",{className:"text-xs text-[#8E8E93]",children:"Budget Usage"}),(0,Vn.jsxs)("span",{className:"text-xs font-medium text-white",children:[n.budget>0?((i.totalActual||0)/n.budget*100).toFixed(1):"0.0","%"]})]}),(0,Vn.jsx)("div",{className:"w-full bg-[#48484A] rounded-full h-2",children:(0,Vn.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:n.budget>0?"".concat(Math.min((i.totalActual||0)/n.budget*100,100),"%"):"0%",backgroundColor:"over_budget"===i.status?"#FF453A":"#30D158"}})})]}),void 0!==i.variance&&0!==i.variance&&n.budget>0&&(0,Vn.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg ".concat("over_budget"===i.status?"bg-[#FF453A]/10 border border-[#FF453A]/30":"bg-[#30D158]/10 border border-[#30D158]/30"),children:[(0,Vn.jsx)(Vo.A,{size:20,className:"over_budget"===i.status?"text-[#FF453A]":"text-[#30D158]"}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium ".concat("over_budget"===i.status?"text-[#FF453A]":"text-[#30D158]"),children:"over_budget"===i.status?"Over Budget!":"Under Budget"}),(0,Vn.jsxs)("p",{className:"text-xs text-[#8E8E93] mt-1",children:["Variance: ",i.variance>0?"+":"",UD(Math.abs(i.variance||0))," ","(",(Math.abs(i.variance||0)/n.budget*100).toFixed(1),"%)"]})]})]}),i.breakdown&&i.breakdown.length>0&&(0,Vn.jsxs)("div",{className:"mt-4 pt-4 border-t border-[#38383A]",children:[(0,Vn.jsx)("p",{className:"text-xs font-medium text-[#8E8E93] mb-3",children:"Cost Breakdown"}),(0,Vn.jsx)("div",{className:"space-y-2",children:i.breakdown.map(e=>(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T(e.category)}}),(0,Vn.jsx)("span",{className:"text-xs text-white capitalize",children:e.category.replace("_"," ")})]}),(0,Vn.jsx)("span",{className:"text-xs font-medium text-white",children:UD(e.total)})]},e.category))})]})]}):null,!p&&(0,Vn.jsxs)("button",{onClick:()=>h(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-[#0A84FF] hover:bg-[#0A84FF]/90 text-white rounded-lg transition-colors font-medium",children:[(0,Vn.jsx)(Pi,{size:18}),(0,Vn.jsx)("span",{children:"Add Cost Entry"})]}),p&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsx)("h3",{className:"font-semibold text-white mb-4",children:m?"Edit Cost Entry":"Add New Cost Entry"}),(0,Vn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(0,Mt.A)((0,Mt.A)({},S),{},{amount:parseFloat(S.amount)});m?(await d(m.id,e),f(null)):await c(e),await O(),console.log("[CostsTab] Balances refreshed after transaction"),E({costCategory:"materials",costType:"actual",amount:"",description:"",referenceNumber:"",accountId:"",sourceAccountId:""}),h(!1)}catch(n){var t,r;console.error("Failed to save cost:",n),null!==(t=n.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.message?alert(n.response.data.message):alert("Failed to save cost entry")}},className:"space-y-3",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Category *"}),(0,Vn.jsx)("select",{value:S.costCategory,onChange:e=>E(t=>(0,Mt.A)((0,Mt.A)({},t),{},{costCategory:e.target.value})),required:!0,className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded text-sm text-white focus:border-[#0A84FF] focus:outline-none",children:Object.entries(NT).map(e=>{let[t,r]=e;return(0,Vn.jsx)("option",{value:r,children:r.charAt(0).toUpperCase()+r.slice(1).replace("_"," ")},t)})})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Type *"}),(0,Vn.jsx)("select",{value:S.costType,onChange:e=>E(t=>(0,Mt.A)((0,Mt.A)({},t),{},{costType:e.target.value})),required:!0,className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded text-sm text-white focus:border-[#0A84FF] focus:outline-none",children:Object.entries(AT).map(e=>{let[t,r]=e;return(0,Vn.jsx)("option",{value:r,children:r.charAt(0).toUpperCase()+r.slice(1).replace("_"," ")},t)})})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Amount (Rp) *"}),(0,Vn.jsx)("input",{type:"number",value:S.amount,onChange:e=>E(t=>(0,Mt.A)((0,Mt.A)({},t),{},{amount:e.target.value})),required:!0,min:"0",step:"1000",placeholder:"0",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded text-sm text-white placeholder-[#636366] focus:border-[#0A84FF] focus:outline-none"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Description *"}),(0,Vn.jsx)("textarea",{value:S.description,onChange:e=>E(t=>(0,Mt.A)((0,Mt.A)({},t),{},{description:e.target.value})),required:!0,rows:2,placeholder:"What was this cost for?",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded text-sm text-white placeholder-[#636366] focus:border-[#0A84FF] focus:outline-none resize-none"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Reference Number (Optional)"}),(0,Vn.jsxs)("select",{value:S.referenceNumber,onChange:e=>E(t=>(0,Mt.A)((0,Mt.A)({},t),{},{referenceNumber:e.target.value})),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded text-sm text-white focus:border-[#0A84FF] focus:outline-none",disabled:b,children:[(0,Vn.jsx)("option",{value:"",children:"-- Select PO (Optional) --"}),b?(0,Vn.jsx)("option",{disabled:!0,children:"Loading POs..."}):0===x.length?(0,Vn.jsx)("option",{disabled:!0,children:"No POs available"}):x.map(e=>(0,Vn.jsxs)("option",{value:e.poNumber,children:[e.poNumber," - ",e.supplierName," - ",UD(e.totalAmount)]},e.id||e.poNumber))]}),S.referenceNumber&&(0,Vn.jsxs)("p",{className:"text-xs text-[#8E8E93] mt-1",children:["Selected: ",S.referenceNumber]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Jenis Pengeluaran *"}),(0,Vn.jsxs)("select",{value:S.accountId,onChange:e=>{console.log("Expense account selected:",e.target.value),E(t=>(0,Mt.A)((0,Mt.A)({},t),{},{accountId:e.target.value}))},required:!0,className:"w-full px-3 py-2 bg-[#1C1C1E] border rounded text-sm text-white focus:border-[#0A84FF] focus:outline-none ".concat(S.accountId?"border-[#38383A]":"border-[#FF453A]"),disabled:w,children:[(0,Vn.jsx)("option",{value:"",children:w?"Loading...":"-- Pilih Jenis Pengeluaran --"}),v.length>0?v.map(e=>(0,Vn.jsxs)("option",{value:e.id,children:[e.accountCode," - ",e.accountName]},e.id)):!w&&(0,Vn.jsx)("option",{disabled:!0,children:"No expense accounts found"})]}),!S.accountId&&(0,Vn.jsx)("p",{className:"text-xs text-[#FF453A] mt-1",children:"Jenis pengeluaran wajib dipilih"}),S.accountId&&v.length>0&&(0,Vn.jsxs)("p",{className:"text-xs text-[#30D158] mt-1",children:["\u2713 ",null===(t=v.find(e=>e.id===S.accountId))||void 0===t?void 0:t.accountName]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Sumber Dana (Bank/Kas) *"}),(0,Vn.jsxs)("select",{value:S.sourceAccountId,onChange:e=>{console.log("Source account selected:",e.target.value),E(t=>(0,Mt.A)((0,Mt.A)({},t),{},{sourceAccountId:e.target.value}))},required:!0,className:"w-full px-3 py-2 bg-[#1C1C1E] border rounded text-sm text-white focus:border-[#0A84FF] focus:outline-none ".concat(S.sourceAccountId?"border-[#38383A]":"border-[#FF453A]"),disabled:C,children:[(0,Vn.jsx)("option",{value:"",children:C?"Loading...":"-- Pilih Sumber Dana --"}),A.length>0?A.map(e=>(0,Vn.jsxs)("option",{value:e.id,children:[e.accountCode," - ",e.accountName,void 0!==e.currentBalance&&null!==e.currentBalance?" (Saldo: ".concat(UD(e.currentBalance),")"):""]},e.id)):!C&&(0,Vn.jsx)("option",{disabled:!0,children:"No bank/cash accounts found"})]}),!S.sourceAccountId&&(0,Vn.jsx)("p",{className:"text-xs text-[#FF453A] mt-1",children:"Sumber dana pembayaran wajib dipilih"}),S.sourceAccountId&&A.length>0&&(0,Vn.jsxs)("p",{className:"text-xs text-[#30D158] mt-1",children:["\u2713 ",null===(r=A.find(e=>e.id===S.sourceAccountId))||void 0===r?void 0:r.accountName,(()=>{const e=A.find(e=>e.id===S.sourceAccountId),t=null===e||void 0===e?void 0:e.currentBalance,r=parseFloat(S.amount)||0;return void 0!==t&&null!==t?r>t?(0,Vn.jsxs)("span",{className:"text-[#FF453A]",children:[" - \u26a0\ufe0f Saldo tidak cukup! (Saldo: ",UD(t),")"]}):(0,Vn.jsxs)("span",{className:"text-[#8E8E93]",children:[" - Saldo: ",UD(t)]}):null})()]})]}),(0,Vn.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,Vn.jsxs)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-[#0A84FF] hover:bg-[#0A84FF]/90 text-white rounded-lg transition-colors font-medium",children:[m?"Update":"Add"," Cost"]}),(0,Vn.jsx)("button",{type:"button",onClick:()=>{h(!1),f(null),E({costCategory:"materials",costType:"actual",amount:"",description:"",referenceNumber:"",accountId:"",sourceAccountId:""})},className:"px-4 py-2 bg-[#48484A] hover:bg-[#48484A]/80 text-white rounded-lg transition-colors",children:"Cancel"})]})]})]}),(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("h3",{className:"font-semibold text-white",children:["Cost Entries (",o.length,")"]}),l?(0,Vn.jsx)("div",{className:"text-center py-8",children:(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Loading costs..."})}):0===o.length?(0,Vn.jsxs)("div",{className:"text-center py-8 bg-[#2C2C2E] rounded-lg border border-[#38383A]",children:[(0,Vn.jsx)(xa,{size:48,className:"text-[#636366] mx-auto mb-3"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"No cost entries yet. Add one to get started!"})]}):(0,Vn.jsx)("div",{className:"space-y-2",children:o.map(e=>{const t=(e=>{const t={planned:{text:"Planned",color:"bg-[#0A84FF]/10 text-[#0A84FF]"},actual:{text:"Actual",color:"bg-[#30D158]/10 text-[#30D158]"},change_order:{text:"Change Order",color:"bg-[#FF9F0A]/10 text-[#FF9F0A]"},unforeseen:{text:"Unforeseen",color:"bg-[#FF453A]/10 text-[#FF453A]"}};return t[e]||t.actual})(e.costType);return(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A] hover:border-[#48484A] transition-colors",children:(0,Vn.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Vn.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:T(e.costCategory)}}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-white capitalize",children:e.costCategory.replace("_"," ")}),(0,Vn.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded text-xs ".concat(t.color),children:t.text})]}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-2",children:e.description}),e.referenceNumber&&(0,Vn.jsxs)("p",{className:"text-xs text-[#636366]",children:["Ref: ",e.referenceNumber]}),(0,Vn.jsxs)("p",{className:"text-xs text-[#636366] mt-1",children:[WD(e.recordedAt||e.createdAt),e.recorder_name&&" \u2022 By: ".concat(e.recorder_name)]})]}),(0,Vn.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Vn.jsx)("div",{className:"text-right",children:(0,Vn.jsx)("p",{className:"text-lg font-bold text-white",children:UD(e.amount)})}),(0,Vn.jsxs)("div",{className:"flex gap-1",children:[(0,Vn.jsx)("button",{onClick:()=>(e=>{f(e),E({costCategory:e.costCategory,costType:e.costType,amount:e.amount.toString(),description:e.description||"",referenceNumber:e.referenceNumber||"",accountId:e.accountId||"",sourceAccountId:e.sourceAccountId||""}),h(!0)})(e),className:"p-1.5 text-[#0A84FF] hover:bg-[#0A84FF]/10 rounded transition-colors",title:"Edit",children:(0,Vn.jsx)(rD,{size:14})}),(0,Vn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this cost entry?"))try{await u(e),await O(),console.log("[CostsTab] Balances refreshed after deletion")}catch(t){console.error("Delete failed:",t),alert("Failed to delete cost entry")}})(e.id),className:"p-1.5 text-[#FF453A] hover:bg-[#FF453A]/10 rounded transition-colors",title:"Delete",children:(0,Vn.jsx)(ca,{size:14})})]})]})]})},e.id)})})]})]})},DT=(0,Qn.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),OT=e=>{let{milestone:t,projectId:r}=e;const{activities:n,loading:s,hasMore:o,loadMore:i,addActivity:l}=((e,t)=>{const[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),u=(0,a.useCallback)(async function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(!0),l(null);try{var a;const s=await vT(e,t,(0,Mt.A)({limit:20},r));n(s.data||[]),d((null===(a=s.data)||void 0===a?void 0:a.length)>=20)}catch(s){console.error("Error loading activities:",s),l(s.message)}finally{o(!1)}},[e,t]);return(0,a.useEffect)(()=>{e&&t&&u()},[e,t,u]),{activities:r,loading:s,error:i,hasMore:c,loadActivities:u,loadMore:async r=>{if(c&&!s){o(!0);try{const a=(await vT(e,t,{limit:20,offset:r})).data||[];n(e=>[...e,...a]),d(a.length>=20)}catch(a){console.error("Error loading more activities:",a),l(a.message)}finally{o(!1)}}},addActivity:async r=>{l(null);try{const n=await jT(e,t,r);return await u(),n.data}catch(n){throw console.error("Error adding activity:",n),l(n.message),n}}}})(r,t.id),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)({activityType:"comment",activityTitle:"",activityDescription:""}),h=e=>{const t=Math.floor((new Date-new Date(e))/1e3);let r=t/31536e3;return r>1?Math.floor(r)+" years ago":(r=t/2592e3,r>1?Math.floor(r)+" months ago":(r=t/86400,r>1?Math.floor(r)+" days ago":(r=t/3600,r>1?Math.floor(r)+" hours ago":(r=t/60,r>1?Math.floor(r)+" minutes ago":"Just now"))))},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"attachment";if(!e)return;const r=e.startsWith("http")?e:Wn(e),n=document.createElement("a");n.href=r,n.download=t,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)};return(0,Vn.jsxs)("div",{className:"p-6 space-y-6",children:[n.length>0&&console.log("[ActivityTab] Activities data:",n.slice(0,2)),!c&&(0,Vn.jsxs)("button",{onClick:()=>d(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-[#0A84FF] hover:bg-[#0A84FF]/90 text-white rounded-lg transition-colors font-medium",children:[(0,Vn.jsx)(Pi,{size:18}),(0,Vn.jsx)("span",{children:"Add Manual Note"})]}),c&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Add Activity Note"}),(0,Vn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await l(u),p({activityType:"comment",activityTitle:"",activityDescription:""}),d(!1)}catch(t){console.error("Failed to add activity:",t),alert("Failed to add activity")}},className:"space-y-3",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Type"}),(0,Vn.jsxs)("select",{value:u.activityType,onChange:e=>p(t=>(0,Mt.A)((0,Mt.A)({},t),{},{activityType:e.target.value})),required:!0,className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded text-sm text-white focus:border-[#0A84FF] focus:outline-none",children:[(0,Vn.jsx)("option",{value:"comment",children:"Comment"}),(0,Vn.jsx)("option",{value:"issue_reported",children:"Issue Reported"}),(0,Vn.jsx)("option",{value:"issue_resolved",children:"Issue Resolved"}),(0,Vn.jsx)("option",{value:"progress_update",children:"Progress Update"}),(0,Vn.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Title *"}),(0,Vn.jsx)("input",{type:"text",value:u.activityTitle,onChange:e=>p(t=>(0,Mt.A)((0,Mt.A)({},t),{},{activityTitle:e.target.value})),required:!0,placeholder:"Brief title...",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded text-sm text-white placeholder-[#636366] focus:border-[#0A84FF] focus:outline-none"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Description *"}),(0,Vn.jsx)("textarea",{value:u.activityDescription,onChange:e=>p(t=>(0,Mt.A)((0,Mt.A)({},t),{},{activityDescription:e.target.value})),required:!0,rows:3,placeholder:"Detailed description...",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded text-sm text-white placeholder-[#636366] focus:border-[#0A84FF] focus:outline-none resize-none"})]}),(0,Vn.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,Vn.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-[#0A84FF] hover:bg-[#0A84FF]/90 text-white rounded-lg transition-colors font-medium",children:"Add Note"}),(0,Vn.jsx)("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 bg-[#48484A] hover:bg-[#48484A]/80 text-white rounded-lg transition-colors",children:"Cancel"})]})]})]}),(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsxs)("h3",{className:"font-semibold text-white",children:["Activity Timeline (",n.length,")"]}),s&&0===n.length?(0,Vn.jsx)("div",{className:"text-center py-8",children:(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Loading activities..."})}):0===n.length?(0,Vn.jsxs)("div",{className:"text-center py-8 bg-[#2C2C2E] rounded-lg border border-[#38383A]",children:[(0,Vn.jsx)(ri,{size:48,className:"text-[#636366] mx-auto mb-3"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"No activities yet. Actions will appear here automatically."})]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsxs)("div",{className:"relative max-h-[600px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-[#38383A] scrollbar-track-transparent hover:scrollbar-thumb-[#48484A]",children:[(0,Vn.jsx)("div",{className:"absolute left-5 top-8 bottom-8 w-px bg-[#38383A]"}),(0,Vn.jsx)("div",{className:"space-y-4",children:n.map((e,t)=>{var r;const n=(a=e.activityType,{created:ri,updated:ui,status_change:Vo.A,progress_update:ui,photo_upload:ST,cost_added:xa,cost_updated:xa,issue_reported:Vo.A,issue_resolved:Ea.A,approved:Ea.A,rejected:$D,comment:DT,other:ri}[a]||ri);var a;const s=(e=>({created:"#0A84FF",updated:"#0A84FF",status_change:"#FF9F0A",progress_update:"#30D158",photo_upload:"#BF5AF2",cost_added:"#30D158",cost_updated:"#FF9F0A",issue_reported:"#FF453A",issue_resolved:"#30D158",approved:"#30D158",rejected:"#FF453A",comment:"#8E8E93",other:"#636366"}[e]||"#636366"))(e.activityType);return(0,Vn.jsxs)("div",{className:"relative flex gap-4",children:[(0,Vn.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center relative z-10",style:{backgroundColor:"".concat(s,"20"),border:"2px solid ".concat(s)},children:(0,Vn.jsx)(n,{size:18,style:{color:s}})}),(0,Vn.jsxs)("div",{className:"flex-1 bg-[#2C2C2E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h4",{className:"text-sm font-semibold text-white mb-1",children:e.activityTitle}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:e.activityDescription})]}),(0,Vn.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded text-xs font-medium capitalize flex-shrink-0 ml-2",style:{backgroundColor:"".concat(s,"20"),color:s},children:e.activityType.replace("_"," ")})]}),(0,Vn.jsxs)("div",{className:"flex items-center flex-wrap gap-3 text-xs text-[#636366] mt-3 pt-3 border-t border-[#38383A]",children:[(0,Vn.jsx)("span",{title:WD(e.performedAt||e.createdAt),children:h(e.performedAt||e.createdAt)}),e.performer_name&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("span",{children:"\u2022"}),(0,Vn.jsxs)("span",{children:["By: ",e.performer_name]})]}),e.relatedPhotoId&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("span",{children:"\u2022"}),e.related_photo_url?(0,Vn.jsxs)("button",{onClick:()=>m(e.related_photo_url,"photo-".concat(e.relatedPhotoId,".jpg")),className:"flex items-center gap-1 text-[#0A84FF] hover:text-[#0A84FF]/80 transition-colors",title:"Download attached photo",children:[(0,Vn.jsx)(ST,{size:12}),(0,Vn.jsx)("span",{children:"Photo"}),(0,Vn.jsx)(Ai,{size:12})]}):(0,Vn.jsxs)("span",{className:"flex items-center gap-1 text-[#636366] line-through opacity-60",title:"Photo has been deleted",children:[(0,Vn.jsx)(ST,{size:12}),(0,Vn.jsx)("span",{children:"Photo (deleted)"})]})]}),e.related_cost_id&&(0,Vn.jsxs)(Vn.Fragment,{children:[console.log("[ActivityTab] Cost info for ".concat(e.id,":"),{cost_id:e.related_cost_id,cost_amount:e.related_cost_amount,type:typeof e.related_cost_amount,is_object:"object"===typeof e.related_cost_amount}),(0,Vn.jsx)("span",{children:"\u2022"}),e.related_cost_amount&&"object"===typeof e.related_cost_amount?e.related_cost_amount.is_deleted?(0,Vn.jsxs)("span",{className:"flex items-center gap-1 text-[#636366] line-through opacity-60",title:"Deleted by ".concat(e.related_cost_amount.deleted_by_name||"Unknown"," on ").concat(WD(e.related_cost_amount.deleted_at)),children:[(0,Vn.jsx)(xa,{size:12}),(0,Vn.jsxs)("span",{children:["Deleted by ",e.related_cost_amount.deleted_by_name||"Unknown"]})]}):(0,Vn.jsxs)("span",{className:"flex items-center gap-1",title:"Created by ".concat(e.related_cost_amount.recorded_by_name||"Unknown","\nCategory: ").concat(e.related_cost_amount.category||"N/A"),children:[(0,Vn.jsx)(xa,{size:12}),(0,Vn.jsxs)("span",{children:["Cost: Rp ",Number(e.related_cost_amount.amount).toLocaleString("id-ID")]}),(0,Vn.jsxs)("span",{className:"text-[#8E8E93] text-[10px]",children:["by ",e.related_cost_amount.recorded_by_name||"Unknown"]})]}):(0,Vn.jsxs)("span",{className:"flex items-center gap-1 text-[#636366] opacity-60",title:"Cost data not available",children:[(0,Vn.jsx)(xa,{size:12}),(0,Vn.jsx)("span",{children:"Cost data unavailable"})]})]}),(null===(r=e.metadata)||void 0===r?void 0:r.attachmentUrl)&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("span",{children:"\u2022"}),(0,Vn.jsxs)("button",{onClick:()=>m(e.metadata.attachmentUrl,e.metadata.attachmentName||"attachment"),className:"flex items-center gap-1 text-[#5AC8FA] hover:text-[#5AC8FA]/80 transition-colors",title:"Download attachment",children:[(0,Vn.jsx)(Ai,{size:12}),(0,Vn.jsx)("span",{children:"Download"})]})]})]})]})]},e.id)})})]}),o&&(0,Vn.jsx)("button",{onClick:()=>i(n.length),disabled:s,className:"w-full px-4 py-2 bg-[#2C2C2E] hover:bg-[#38383A] text-white rounded-lg transition-colors text-sm font-medium border border-[#38383A]",children:s?"Loading...":"Load More"})]})]})]})},TT=[{id:"overview",label:"Overview",icon:jD},{id:"photos",label:"Foto Dokumentasi",icon:lT},{id:"costs",label:"Biaya & Kasbon",icon:xa},{id:"activity",label:"Timeline Kegiatan",icon:ri}],IT=e=>{var t;let{milestone:r,milestones:n=[],onMilestoneChange:s,projectId:o,onEdit:i,onDelete:l,onApprove:c,onProgressUpdate:d}=e;const[u,p]=(0,a.useState)("overview"),[h,m]=(0,a.useState)(!1),f=dT(uT(r)?"overdue":r.status),x=f.icon,g=r.category_link&&r.category_link.enabled;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] h-full flex flex-col",children:[n.length>1&&(0,Vn.jsxs)("div",{className:"flex-shrink-0 p-4 border-b border-[#38383A] relative",children:[(0,Vn.jsxs)("button",{onClick:()=>m(!h),className:"w-full flex items-center justify-between gap-2 px-4 py-3 bg-[#1C1C1E] hover:bg-[#38383A] border border-[#38383A] rounded-lg text-white transition-colors",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:f.bgOpacity},children:(0,Vn.jsx)(x,{size:14,style:{color:f.color}})}),(0,Vn.jsx)("span",{className:"font-semibold truncate",children:r.name}),(0,Vn.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:f.bgOpacity,color:f.color},children:f.text})]}),(0,Vn.jsx)(na.A,{size:16,className:"text-[#8E8E93] transition-transform ".concat(h?"rotate-180":"")})]}),h&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),(0,Vn.jsx)("div",{className:"absolute top-full left-4 right-4 mt-1 bg-[#1C1C1E] border border-[#38383A] rounded-lg shadow-xl z-50 max-h-96 overflow-y-auto",children:n.map(e=>{const t=dT(uT(e)?"overdue":e.status),n=t.icon,a=e.id===r.id;return(0,Vn.jsxs)("button",{onClick:()=>{s(e),m(!1)},className:"\n                        w-full flex items-center gap-3 px-4 py-3 text-left transition-colors border-b border-[#38383A] last:border-b-0\n                        ".concat(a?"bg-[#0A84FF]/20 border-l-2 border-l-[#0A84FF]":"hover:bg-[#2C2C2E]","\n                      "),children:[(0,Vn.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:t.bgOpacity},children:(0,Vn.jsx)(n,{size:14,style:{color:t.color}})}),(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("div",{className:"font-semibold text-white truncate",children:e.name}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,Vn.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:t.bgOpacity,color:t.color},children:t.text}),(0,Vn.jsxs)("span",{className:"text-xs text-[#8E8E93]",children:[e.progress,"% complete"]})]})]})]},e.id)})})]})]}),(0,Vn.jsxs)("div",{className:"flex-shrink-0 p-6 border-b border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[n.length<=1&&(0,Vn.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:f.bgOpacity},children:(0,Vn.jsx)(x,{size:20,style:{color:f.color}})}),(0,Vn.jsx)("h2",{className:"text-2xl font-bold text-white truncate",children:r.name}),(0,Vn.jsx)("span",{className:"px-3 py-1 rounded-lg text-sm font-medium",style:{backgroundColor:f.bgOpacity,color:f.color},children:f.text})]}),r.description&&(0,Vn.jsx)("p",{className:"text-[#8E8E93] text-sm line-clamp-2",children:r.description})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0 ml-4",children:["pending"===r.status&&c&&(0,Vn.jsx)("button",{onClick:c,className:"p-2 text-[#30D158] hover:bg-[#30D158]/10 rounded-lg transition-colors",title:"Approve Milestone",children:(0,Vn.jsx)(Ea.A,{size:20})}),(0,Vn.jsx)("button",{onClick:i,className:"p-2 text-[#0A84FF] hover:bg-[#0A84FF]/10 rounded-lg transition-colors",title:"Edit Milestone",children:(0,Vn.jsx)(rD,{size:20})}),(0,Vn.jsx)("button",{onClick:l,className:"p-2 text-[#FF453A] hover:bg-[#FF453A]/10 rounded-lg transition-colors",title:"Delete Milestone",children:(0,Vn.jsx)(ca,{size:20})})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#0A84FF]/20 flex items-center justify-center",children:(0,Vn.jsx)(io,{size:16,className:"text-[#0A84FF]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:"Target Date"}),(0,Vn.jsx)("p",{className:"text-sm font-semibold text-white",children:WD(r.targetDate)})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#30D158]/20 flex items-center justify-center",children:(0,Vn.jsx)(xa,{size:16,className:"text-[#30D158]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:"Budget"}),(0,Vn.jsx)("p",{className:"text-sm font-semibold text-white",children:UD(r.budget)})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#BF5AF2]/20 flex items-center justify-center",children:(0,Vn.jsx)(ui,{size:16,className:"text-[#BF5AF2]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:"Progress"}),(0,Vn.jsxs)("p",{className:"text-sm font-semibold text-white",children:[r.progress,"%"]})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#FF9F0A]/20 flex items-center justify-center",children:(0,Vn.jsx)(Xo,{size:16,className:"text-[#FF9F0A]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:"Deliverables"}),(0,Vn.jsxs)("p",{className:"text-sm font-semibold text-white",children:[(null===(t=r.deliverables)||void 0===t?void 0:t.length)||0," items"]})]})]})]}),"completed"!==r.status&&d&&(0,Vn.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Vn.jsx)("span",{className:"text-[#8E8E93]",children:"Adjust Progress"}),(0,Vn.jsxs)("span",{className:"font-mono font-medium text-white",children:[r.progress,"%"]})]}),(0,Vn.jsx)("div",{className:"flex items-center gap-3",children:(0,Vn.jsx)("input",{type:"range",min:"0",max:"100",value:r.progress,onChange:e=>d(r.id,parseInt(e.target.value)),className:"flex-1 h-2 accent-[#0A84FF] cursor-pointer",style:{background:"linear-gradient(to right, #0A84FF 0%, #0A84FF ".concat(r.progress,"%, #48484A ").concat(r.progress,"%, #48484A 100%)")}})})]}),g&&(0,Vn.jsxs)("div",{className:"mt-4 flex items-center gap-2 p-3 bg-[#0A84FF]/10 border border-[#0A84FF]/30 rounded-lg",children:[(0,Vn.jsx)(Xo,{className:"h-4 w-4 text-[#0A84FF]"}),(0,Vn.jsxs)("span",{className:"text-sm text-[#0A84FF] font-medium",children:["Linked to RAB Category: ",r.category_link.category_name]})]})]}),(0,Vn.jsx)("div",{className:"flex-shrink-0 px-6 py-3 border-b border-[#38383A] bg-[#1C1C1E]",children:(0,Vn.jsx)("div",{className:"flex gap-2",children:TT.map(e=>{const t=e.icon,r=u===e.id;return(0,Vn.jsxs)("button",{onClick:()=>p(e.id),className:"\n                  flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm\n                  transition-all duration-200\n                  ".concat(r?"bg-[#0A84FF] text-white shadow-lg":"bg-[#2C2C2E] text-[#8E8E93] hover:bg-[#38383A] hover:text-white","\n                "),children:[(0,Vn.jsx)(t,{size:16}),(0,Vn.jsx)("span",{children:e.label})]},e.id)})})}),(0,Vn.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Vn.jsxs)("div",{className:"p-6",children:["overview"===u&&(0,Vn.jsx)(CT,{milestone:r,projectId:o}),"photos"===u&&(0,Vn.jsx)(ET,{milestone:r,projectId:o}),"costs"===u&&(0,Vn.jsx)(PT,{milestone:r,projectId:o}),"activity"===u&&(0,Vn.jsx)(OT,{milestone:r,projectId:o})]})})]})},MT=e=>{let{projectId:t,value:r,onChange:n}=e;const[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(r||!1);(0,a.useEffect)(()=>{t&&h()},[t]);const h=async()=>{try{l(!0),d(null),console.log("[RABSelector] Fetching RAB summary for project:",t);const e=await Hs.get("/projects/".concat(t,"/milestones/rab-summary"));console.log("[RABSelector] Response:",e),null!==e&&void 0!==e&&e.success&&null!==e&&void 0!==e&&e.data?(o(e.data),console.log("[RABSelector] RAB Summary loaded:",e.data)):(d("No RAB found for this project"),console.warn("[RABSelector] No RAB data:",e))}catch(n){var e,r;console.error("[RABSelector] Error fetching RAB summary:",n),d((null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error)||"Failed to load RAB")}finally{l(!1)}},m=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e||0);return i?(0,Vn.jsxs)("div",{className:"space-y-2",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white",children:"Link ke RAB Proyek (Opsional)"}),(0,Vn.jsx)("div",{className:"p-4 bg-[#2C2C2E] border border-[#38383A] rounded-lg",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#8E8E93]",children:[(0,Vn.jsx)(vP.A,{className:"h-4 w-4 animate-spin"}),(0,Vn.jsx)("p",{className:"text-sm",children:"Loading RAB summary..."})]})})]}):!c&&s&&s.hasRAB?(0,Vn.jsxs)("div",{className:"space-y-2",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white",children:"Link ke RAB Proyek (Opsional)"}),(0,Vn.jsxs)("div",{className:"p-4 rounded-lg border transition-all ".concat(u?"bg-[#0A84FF]/10 border-[#0A84FF]":"bg-[#2C2C2E] border-[#38383A] hover:border-[#48484A]"),children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,Vn.jsxs)("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 transition-colors ".concat(u?"bg-[#0A84FF]/20":"bg-[#38383A]"),children:(0,Vn.jsx)(Xo,{className:"h-5 w-5 ".concat(u?"text-[#0A84FF]":"text-[#8E8E93]")})}),(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Vn.jsx)("h4",{className:"font-semibold text-white",children:"RAB Proyek Keseluruhan"}),u&&(0,Vn.jsx)(Ea.A,{className:"h-4 w-4 text-[#30D158] flex-shrink-0"})]}),(0,Vn.jsxs)("div",{className:"space-y-1",children:[(0,Vn.jsxs)("p",{className:"text-base font-medium text-white",children:["Total Budget: ",m(s.totalValue)]}),(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93]",children:[s.totalItems," items \u2022 Approved: ",(f=s.approvedDate,f?new Date(f).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"N/A")]})]}),s.categories&&s.categories.length>0&&(0,Vn.jsxs)("div",{className:"mt-3 pt-3 border-t border-[#38383A]",children:[(0,Vn.jsx)("p",{className:"text-xs font-medium text-[#8E8E93] mb-2",children:"Breakdown per kategori:"}),(0,Vn.jsxs)("div",{className:"space-y-1",children:[s.categories.slice(0,5).map((e,t)=>(0,Vn.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Vn.jsxs)("span",{className:"text-[#8E8E93]",children:["\u2022 ",e.category]}),(0,Vn.jsxs)("span",{className:"text-[#8E8E93] font-mono",children:[m(e.totalValue)," (",e.percentage,"%)"]})]},t)),s.categories.length>5&&(0,Vn.jsxs)("p",{className:"text-xs text-[#8E8E93] italic",children:["+",s.categories.length-5," kategori lainnya"]})]})]})]})]}),(0,Vn.jsx)("button",{type:"button",onClick:()=>{const e=!u;p(e),n&&n(e?{enabled:!0,totalValue:s.totalValue,totalItems:s.totalItems,approvedDate:s.approvedDate,linkedAt:(new Date).toISOString()}:null)},className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors flex-shrink-0 ".concat(u?"bg-[#FF453A] text-white hover:bg-[#FF453A]/90":"bg-[#0A84FF] text-white hover:bg-[#0A84FF]/90"),children:u?"Unlink":"Link to RAB"})]}),u&&(0,Vn.jsx)("div",{className:"mt-3 pt-3 border-t border-[#0A84FF]/30",children:(0,Vn.jsxs)("p",{className:"text-xs text-[#30D158] flex items-center gap-1",children:[(0,Vn.jsx)(Ea.A,{className:"h-3 w-3"}),"Milestone ini akan track budget terhadap RAB keseluruhan"]})})]}),!u&&(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:"\ud83d\udca1 Link milestone ke RAB untuk tracking budget dan progress yang akurat"})]}):(0,Vn.jsxs)("div",{className:"space-y-2",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white",children:"Link ke RAB Proyek (Opsional)"}),(0,Vn.jsx)("div",{className:"p-4 bg-[#2C2C2E] border border-[#38383A] rounded-lg",children:(0,Vn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Vn.jsx)(Vo.A,{className:"h-5 w-5 text-[#FF9F0A] flex-shrink-0 mt-0.5"}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:c||"No approved RAB found for this project"}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mt-1",children:"RAB harus di-approve terlebih dahulu sebelum dapat dilink ke milestone"})]})]})})]});var f},_T=e=>{var t,r,n;let{projectId:s,milestone:o=null,onClose:i,onSuccess:l}=e;const c=!!o,{formData:d,setFormData:u,updateDeliverable:p,addDeliverable:h,removeDeliverable:m,handleSubmit:f}=((e,t,r)=>{const[n,s]=(0,a.useState)(t||{name:"",description:"",targetDate:"",budget:0,priority:"medium",status:"pending",progress:0,deliverables:[""],assignedTeam:[],dependencies:[],notes:""});return(0,a.useEffect)(()=>{t&&s((0,Mt.A)((0,Mt.A)({},t),{},{deliverables:t.deliverables||[""],assignedTeam:t.assignedTeam||[],dependencies:t.dependencies||[],priority:t.priority||"medium",budget:t.budget||0}))},[t]),{formData:n,setFormData:s,updateDeliverable:(e,t)=>{const r=[...n.deliverables||[""]];r[e]=t,s((0,Mt.A)((0,Mt.A)({},n),{},{deliverables:r}))},addDeliverable:()=>{const e=n.deliverables||[];s((0,Mt.A)((0,Mt.A)({},n),{},{deliverables:[...e,""]}))},removeDeliverable:e=>{const t=(n.deliverables||[]).filter((t,r)=>r!==e);s((0,Mt.A)((0,Mt.A)({},n),{},{deliverables:t}))},handleSubmit:async a=>{a.preventDefault();try{var s,o,i;const a={title:n.name||n.title,description:n.description||"",targetDate:n.targetDate,budget:n.budget||0,priority:n.priority||"medium",status:n.status||"pending",progress:n.progress||0};if(null!==(s=n.rabLink)&&void 0!==s&&s.enabled&&null!==(o=n.rabLink)&&void 0!==o&&o.totalValue&&(a.budget=n.rabLink.totalValue,console.log("[useMilestoneForm] Using RAB total value as budget:",n.rabLink.totalValue)),null!==(i=n.assignedTeam)&&void 0!==i&&i[0]&&(a.assignedTo=n.assignedTeam[0]),n.notes&&(a.notes=n.notes),n.deliverables&&n.deliverables.length>0){const e=n.deliverables.filter(e=>e&&""!==e.trim());e.length>0&&(a.deliverables=e)}if(n.dependencies&&n.dependencies.length>0){const e=n.dependencies.filter(e=>e&&""!==e.trim());e.length>0&&(a.dependencies=e)}n.rabLink&&(a.rab_link=n.rabLink),console.log("[useMilestoneForm] Submitting milestone data:",a),t?(await cs(e,t.id,a),alert("Milestone berhasil diperbarui!")):(await ls(e,a),alert("Milestone berhasil ditambahkan!")),r()}catch(l){console.error("Error saving milestone:",l),alert("Gagal menyimpan milestone. Silakan coba lagi.")}}}})(s,o,()=>{l(),i()});return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsx)("h4",{className:"text-lg font-semibold text-white",children:c?"Edit Milestone":"Tambah Milestone Baru"}),(0,Vn.jsx)("button",{onClick:i,className:"text-[#8E8E93] hover:text-white transition-colors",children:(0,Vn.jsx)(ja.A,{size:20})})]}),(0,Vn.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-1",children:["Nama Milestone ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"text",value:d.name,onChange:e=>u((0,Mt.A)((0,Mt.A)({},d),{},{name:e.target.value})),className:"w-full bg-[#1C1C1E] border border-[#38383A] rounded-lg px-3 py-2 text-white placeholder-[#98989D] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent",placeholder:"Contoh: Pembangunan Pondasi",required:!0})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-1",children:["Target Tanggal ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"date",value:d.targetDate,onChange:e=>u((0,Mt.A)((0,Mt.A)({},d),{},{targetDate:e.target.value})),className:"w-full bg-[#1C1C1E] border border-[#38383A] rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent",required:!0})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-1",children:["Deskripsi ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("textarea",{value:d.description,onChange:e=>u((0,Mt.A)((0,Mt.A)({},d),{},{description:e.target.value})),className:"w-full bg-[#1C1C1E] border border-[#38383A] rounded-lg px-3 py-2 text-white placeholder-[#98989D] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent",placeholder:"Deskripsi detail milestone...",rows:2,required:!0})]}),(0,Vn.jsx)(MT,{projectId:s,value:d.rabLink,onChange:e=>{console.log("[MilestoneInlineForm] RAB data changed:",e);const t=(0,Mt.A)((0,Mt.A)({},d),{},{rabLink:e});e&&e.enabled&&e.totalValue&&(console.log("[MilestoneInlineForm] Auto-setting budget from RAB:",e.totalValue),t.budget=e.totalValue),u(t)}}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-1",children:["Budget (Rp) ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"number",value:d.budget,onChange:e=>u((0,Mt.A)((0,Mt.A)({},d),{},{budget:parseInt(e.target.value)||0})),className:"w-full bg-[#1C1C1E] border border-[#38383A] rounded-lg px-3 py-2 text-white placeholder-[#98989D] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent",placeholder:"50000000",required:!0,readOnly:null===(t=d.rabLink)||void 0===t?void 0:t.enabled,title:null!==(r=d.rabLink)&&void 0!==r&&r.enabled?"Budget diambil dari total nilai RAB yang di-link":"Masukkan budget milestone"}),(null===(n=d.rabLink)||void 0===n?void 0:n.enabled)&&(0,Vn.jsx)("p",{className:"text-xs text-[#0A84FF] mt-1",children:"\u2713 Budget diambil dari total RAB proyek"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-1",children:"Priority"}),(0,Vn.jsxs)("select",{value:d.priority||"medium",onChange:e=>u((0,Mt.A)((0,Mt.A)({},d),{},{priority:e.target.value})),className:"w-full bg-[#1C1C1E] border border-[#38383A] rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent",children:[(0,Vn.jsx)("option",{value:"low",children:"Low"}),(0,Vn.jsx)("option",{value:"medium",children:"Medium"}),(0,Vn.jsx)("option",{value:"high",children:"High"}),(0,Vn.jsx)("option",{value:"critical",children:"Critical"})]})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-2",children:"Deliverables"}),(0,Vn.jsx)("div",{className:"space-y-2",children:(d.deliverables||[]).map((e,t)=>(0,Vn.jsxs)("div",{className:"flex gap-2",children:[(0,Vn.jsx)("input",{type:"text",value:e,onChange:e=>p(t,e.target.value),className:"flex-1 bg-[#1C1C1E] border border-[#38383A] rounded-lg px-3 py-2 text-white placeholder-[#98989D] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent text-sm",placeholder:"Deliverable ".concat(t+1)}),d.deliverables.length>1&&(0,Vn.jsx)("button",{type:"button",onClick:()=>m(t),className:"text-[#FF3B30] hover:text-[#FF3B30]/80 transition-colors p-2",children:(0,Vn.jsx)(ca,{size:18})})]},t))}),(0,Vn.jsxs)("button",{type:"button",onClick:h,className:"flex items-center gap-1 text-sm text-[#0A84FF] hover:text-[#0A84FF]/80 transition-colors mt-2",children:[(0,Vn.jsx)(Pi,{size:14}),"Tambah Deliverable"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-1",children:"Catatan"}),(0,Vn.jsx)("textarea",{value:d.notes,onChange:e=>u((0,Mt.A)((0,Mt.A)({},d),{},{notes:e.target.value})),className:"w-full bg-[#1C1C1E] border border-[#38383A] rounded-lg px-3 py-2 text-white placeholder-[#98989D] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent",placeholder:"Catatan tambahan (opsional)",rows:2})]}),(0,Vn.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,Vn.jsx)("button",{type:"submit",className:"px-6 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-colors font-medium",children:c?"Update Milestone":"Simpan Milestone"}),(0,Vn.jsx)("button",{type:"button",onClick:i,className:"px-6 py-2 bg-[#48484A] text-white rounded-lg hover:bg-[#48484A]/80 transition-colors font-medium",children:"Batal"})]})]})]})},RT=e=>{let{project:t,onUpdate:r}=e;const[n,s]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),{milestones:d,loading:u,stats:p,updateMilestoneProgress:h,deleteMilestone:m,approveMilestone:f,loadMilestones:x}=sT(t.id);(0,a.useEffect)(()=>{d.length>0&&!l&&c(d[0])},[d,l]);const g=async()=>{await x(),r({timeline:(0,Mt.A)((0,Mt.A)({},t.timeline),{},{updatedAt:(new Date).toISOString()})})};return u?(0,Vn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#0A84FF] mx-auto"}),(0,Vn.jsx)("p",{className:"mt-2 text-[#8E8E93]",children:"Loading milestones..."})]})}):(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Project Milestones"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Kelola tonggak pencapaian proyek"})]}),(0,Vn.jsx)("button",{onClick:()=>{s(!n),i(null)},className:"flex items-center gap-2 px-4 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-colors",children:n?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(ja.A,{size:16}),"Tutup Form"]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(Pi,{size:16}),"Tambah Milestone"]})})]}),(0,Vn.jsx)(oT,{stats:p}),n&&(0,Vn.jsx)(_T,{projectId:t.id,onClose:()=>s(!1),onSuccess:()=>{g(),s(!1)}}),o&&(0,Vn.jsx)(_T,{projectId:t.id,milestone:o,onClose:()=>i(null),onSuccess:()=>{g(),i(null)}}),(0,Vn.jsx)(iT,{stats:p}),(0,Vn.jsx)("div",{className:"w-full",children:l?(0,Vn.jsx)(IT,{milestone:l,milestones:d,onMilestoneChange:c,projectId:t.id,onEdit:()=>{i(l),s(!1)},onDelete:()=>{if(window.confirm('Are you sure you want to delete "'.concat(l.name,'"?'))){m(l.id);const e=d.findIndex(e=>e.id===l.id),t=d[e+1]||d[e-1]||d[0];c(t)}},onApprove:()=>f(l.id),onProgressUpdate:h}):(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] p-16 text-center h-full flex items-center justify-center",children:(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-[#8E8E93] text-lg mb-2",children:"No Milestone Available"}),(0,Vn.jsx)("p",{className:"text-[#636366] text-sm",children:"Add a new milestone to get started"})]})})})]})},BT={"Project Manager":{color:"blue",count:0},"Civil Engineer":{color:"green",count:0},"Electrical Engineer":{color:"yellow",count:0},"Safety Officer":{color:"red",count:0},"Site Supervisor":{color:"purple",count:0},"Quality Controller":{color:"indigo",count:0}},LT=e=>{const[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[o,i]=(0,a.useState)(""),[l,c]=(0,a.useState)("all"),d=async()=>{try{const t=await ps(e);if(t.data&&t.data.length>0){const e=t.data.map(e=>({id:e.id,employeeId:e.employeeId,name:e.name,role:e.role,email:e.email||"",phone:e.phone||"",joinDate:e.joinDate?e.joinDate.split("T")[0]:"",allocation:parseFloat(e.allocation)||100,hourlyRate:parseFloat(e.hourlyRate)||0,totalHours:parseFloat(e.totalHours)||0,totalCost:parseFloat(e.totalCost)||0,status:e.status||"active",skills:e.skills?"string"===typeof e.skills?JSON.parse(e.skills):e.skills:[],certifications:e.certifications?"string"===typeof e.certifications?JSON.parse(e.certifications):e.certifications:[],performance:parseFloat(e.performance)||0,responsibilities:e.responsibilities?"string"===typeof e.responsibilities?JSON.parse(e.responsibilities):e.responsibilities:[],notes:e.notes||"",createdAt:e.createdAt,updatedAt:e.updatedAt}));r(e)}else r([])}catch(t){console.error("Error loading team members:",t),r([])}finally{s(!1)}};(0,a.useEffect)(()=>{d()},[e]);const u=(0,a.useMemo)(()=>(e=>{const t=e.length,r=e.filter(e=>"active"===e.status).length,n=e.reduce((e,t)=>e+t.totalCost,0),a=e.reduce((e,t)=>e+t.totalHours,0),s=e.reduce((e,t)=>e+t.performance,0)/t,o=e.reduce((e,t)=>e+t.allocation,0)/t;return{totalMembers:t,activeMembers:r,totalCost:n,totalHours:a,avgPerformance:s||0,avgAllocation:o||0}})(t),[t]),p=(0,a.useMemo)(()=>((e,t)=>{const r=(0,Mt.A)({},t);return e.forEach(e=>{r[e.role]&&r[e.role].count++}),r})(t,BT),[t]),h=(0,a.useMemo)(()=>((e,t,r)=>e.filter(e=>{const n=e.name.toLowerCase().includes(t.toLowerCase())||e.role.toLowerCase().includes(t.toLowerCase()),a="all"===r||e.role===r;return n&&a}))(t,o,l),[t,o,l]);return{teamMembers:t,loading:n,teamStats:u,roles:p,filteredMembers:h,searchTerm:o,setSearchTerm:i,filterRole:l,setFilterRole:c,handleDeleteMember:async t=>{if(window.confirm("Yakin ingin menghapus anggota tim ini?"))try{return await fs(e,t),await d(),alert("Anggota tim berhasil dihapus!"),!0}catch(r){return console.error("Error removing team member:",r),alert("Gagal menghapus anggota tim. Silakan coba lagi."),!1}},loadTeamMembers:d}},zT=e=>{let{teamStats:t}=e;const r=t.totalMembers>0?(t.activeMembers/t.totalMembers*100).toFixed(0):0,n=[{icon:ma,label:"Total Anggota",value:t.totalMembers,subValue:"".concat(t.activeMembers," aktif"),description:"".concat(r,"% aktif"),gradient:"from-[#0A84FF]/10 to-[#0A84FF]/5",borderColor:"border-[#0A84FF]/30",iconBg:"bg-[#0A84FF]/20",iconColor:"text-[#0A84FF]",valueColor:"text-white",subValueColor:"text-[#0A84FF]"},{icon:xa,label:"Total Cost",value:VD(t.totalCost),subValue:t.totalMembers>0?"".concat(t.totalMembers," anggota"):"Belum ada data",description:"Total biaya anggota",gradient:"from-[#30D158]/10 to-[#30D158]/5",borderColor:"border-[#30D158]/30",iconBg:"bg-[#30D158]/20",iconColor:"text-[#30D158]",valueColor:"text-white",subValueColor:"text-[#30D158]"},{icon:Sa,label:"Total Hours",value:t.totalHours.toLocaleString("id-ID"),subValue:t.totalMembers>0?"".concat(t.totalMembers," anggota"):"Belum ada data",description:"Total jam kerja",gradient:"from-[#FFD60A]/10 to-[#FFD60A]/5",borderColor:"border-[#FFD60A]/30",iconBg:"bg-[#FFD60A]/20",iconColor:"text-[#FFD60A]",valueColor:"text-white",subValueColor:"text-[#FFD60A]"},{icon:Wa,label:"Avg Performance",value:"".concat(t.avgPerformance.toFixed(1),"%"),subValue:t.totalMembers>0?"".concat(t.totalMembers," anggota"):"Belum ada data",description:"Rata-rata performa",gradient:"from-[#BF5AF2]/10 to-[#BF5AF2]/5",borderColor:"border-[#BF5AF2]/30",iconBg:"bg-[#BF5AF2]/20",iconColor:"text-[#BF5AF2]",valueColor:"text-white",subValueColor:"text-[#BF5AF2]"}];return(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map((e,t)=>{const r=e.icon;return(0,Vn.jsxs)("div",{className:"bg-gradient-to-br ".concat(e.gradient," border ").concat(e.borderColor," rounded-xl p-4 hover:scale-[1.02] transition-all duration-200 cursor-pointer"),children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Vn.jsx)("div",{className:"".concat(e.iconBg," rounded-lg p-2"),children:(0,Vn.jsx)(r,{size:18,className:e.iconColor})}),(0,Vn.jsx)("span",{className:"text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:e.label})]}),(0,Vn.jsx)("div",{className:"mb-2",children:(0,Vn.jsx)("p",{className:"text-3xl font-bold ".concat(e.valueColor," leading-none"),children:e.value})}),(0,Vn.jsx)("div",{className:"mb-1",children:(0,Vn.jsx)("p",{className:"text-base font-semibold ".concat(e.subValueColor),children:e.subValue})}),(0,Vn.jsx)("div",{className:"pt-2 border-t border-white/10",children:(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:e.description})})]},t)})})},UT=e=>{let{searchTerm:t,onSearchChange:r,filterRole:n,onFilterChange:a,roles:s}=e;return(0,Vn.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,Vn.jsxs)("div",{className:"flex-1 relative",children:[(0,Vn.jsx)(uE.A,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#8E8E93]"}),(0,Vn.jsx)("input",{type:"text",placeholder:"Cari anggota tim...",value:t,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#8E8E93] focus:outline-none focus:border-[#0A84FF] focus:ring-1 focus:ring-[#0A84FF] transition-colors"})]}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)(bP,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#8E8E93] pointer-events-none"}),(0,Vn.jsxs)("select",{value:n,onChange:e=>a(e.target.value),className:"pl-10 pr-8 py-2.5 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:border-[#0A84FF] focus:ring-1 focus:ring-[#0A84FF] transition-colors appearance-none cursor-pointer min-w-[180px]",children:[(0,Vn.jsx)("option",{value:"all",children:"Semua Role"}),Object.keys(s).map(e=>(0,Vn.jsx)("option",{value:e,children:e},e))]}),(0,Vn.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,Vn.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:(0,Vn.jsx)("path",{d:"M2.5 4.5L6 8L9.5 4.5",stroke:"#8E8E93",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})},WT=e=>{let{members:t,onEdit:r,onDelete:n}=e;if(0===t.length)return null;const a=e=>{const t={active:{bg:"bg-[#30D158]/20",text:"text-[#30D158]",label:"Active"},inactive:{bg:"bg-[#8E8E93]/20",text:"text-[#8E8E93]",label:"Inactive"},on_leave:{bg:"bg-[#FFD60A]/20",text:"text-[#FFD60A]",label:"On Leave"}},r=t[e]||t.active;return(0,Vn.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(r.bg," ").concat(r.text),children:r.label})};return(0,Vn.jsxs)("div",{className:"bg-gradient-to-br from-[#1C1C1E] to-[#2C2C2E] border border-[#38383A] rounded-xl overflow-hidden",children:[(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"w-full",children:[(0,Vn.jsx)("thead",{className:"bg-[#2C2C2E]/50 border-b border-[#38383A]",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Member"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Role"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Contact"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Allocation"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Rate/Hour"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Status"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Actions"})]})}),(0,Vn.jsx)("tbody",{className:"divide-y divide-[#38383A]",children:t.map(e=>(0,Vn.jsxs)("tr",{className:"hover:bg-[#2C2C2E]/30 transition-colors",children:[(0,Vn.jsx)("td",{className:"px-4 py-4",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-[#0A84FF]/20 to-[#0A84FF]/10 rounded-lg flex items-center justify-center border border-[#0A84FF]/30",children:(0,Vn.jsx)("span",{className:"text-[#0A84FF] font-semibold text-sm",children:e.name.split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase()})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-sm font-semibold text-white",children:e.name}),(0,Vn.jsxs)("div",{className:"text-xs text-[#8E8E93]",children:["ID: ",e.employeeId]})]})]})}),(0,Vn.jsxs)("td",{className:"px-4 py-4",children:[(0,Vn.jsx)("div",{className:"text-sm text-white font-medium",children:e.role}),e.skills&&e.skills.length>0&&(0,Vn.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.skills.slice(0,2).map((e,t)=>(0,Vn.jsx)("span",{className:"inline-flex px-1.5 py-0.5 bg-[#0A84FF]/10 text-[#0A84FF] text-xs rounded",children:e},t)),e.skills.length>2&&(0,Vn.jsxs)("span",{className:"text-xs text-[#8E8E93]",children:["+",e.skills.length-2]})]})]}),(0,Vn.jsx)("td",{className:"px-4 py-4",children:(0,Vn.jsxs)("div",{className:"space-y-1",children:[e.email&&(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-[#8E8E93]",children:[(0,Vn.jsx)(vo,{size:12}),(0,Vn.jsx)("span",{className:"truncate max-w-[180px]",children:e.email})]}),e.phone&&(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-[#8E8E93]",children:[(0,Vn.jsx)(yo,{size:12}),(0,Vn.jsx)("span",{children:e.phone})]})]})}),(0,Vn.jsx)("td",{className:"px-4 py-4 text-center",children:(0,Vn.jsxs)("div",{className:"inline-flex flex-col items-center",children:[(0,Vn.jsxs)("div",{className:"text-sm font-semibold text-white",children:[e.allocation,"%"]}),(0,Vn.jsx)("div",{className:"w-16 bg-[#38383A] rounded-full h-1.5 mt-1",children:(0,Vn.jsx)("div",{className:"bg-[#0A84FF] h-1.5 rounded-full",style:{width:"".concat(e.allocation,"%")}})})]})}),(0,Vn.jsxs)("td",{className:"px-4 py-4 text-right",children:[(0,Vn.jsx)("div",{className:"text-sm font-semibold text-white",children:VD(e.hourlyRate||0)}),(0,Vn.jsx)("div",{className:"text-xs text-[#8E8E93]",children:"per jam"})]}),(0,Vn.jsx)("td",{className:"px-4 py-4 text-center",children:a(e.status)}),(0,Vn.jsx)("td",{className:"px-4 py-4",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Vn.jsx)("button",{onClick:()=>r(e),className:"p-2 text-[#0A84FF] hover:bg-[#0A84FF]/10 rounded-lg transition-colors",title:"Edit member",children:(0,Vn.jsx)(rD,{size:16})}),(0,Vn.jsx)("button",{onClick:()=>n(e.id),className:"p-2 text-[#FF453A] hover:bg-[#FF453A]/10 rounded-lg transition-colors",title:"Delete member",children:(0,Vn.jsx)(ca,{size:16})})]})})]},e.id))})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E]/30 border-t border-[#38383A] px-4 py-3",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between text-xs text-[#8E8E93]",children:[(0,Vn.jsxs)("div",{children:["Total: ",(0,Vn.jsx)("span",{className:"text-white font-medium",children:t.length})," member",1!==t.length?"s":""]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Vn.jsx)(Wa,{size:14,className:"text-[#30D158]"}),(0,Vn.jsxs)("span",{children:["Active: ",(0,Vn.jsx)("span",{className:"text-white font-medium",children:t.filter(e=>"active"===e.status).length})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Vn.jsx)(Sa,{size:14,className:"text-[#FFD60A]"}),(0,Vn.jsxs)("span",{children:["Avg: ",(0,Vn.jsxs)("span",{className:"text-white font-medium",children:[t.length>0?Math.round(t.reduce((e,t)=>e+(t.allocation||0),0)/t.length):0,"%"]})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Vn.jsx)(xa,{size:14,className:"text-[#BF5AF2]"}),(0,Vn.jsxs)("span",{children:["Total Rate: ",(0,Vn.jsx)("span",{className:"text-white font-medium",children:VD(t.reduce((e,t)=>e+(t.hourlyRate||0),0))})]})]})]})]})})]})},VT=e=>{let{searchTerm:t,filterRole:r}=e;return(0,Vn.jsxs)("div",{className:"text-center py-12",children:[(0,Vn.jsx)(ma,{size:48,className:"mx-auto text-gray-400 mb-4"}),(0,Vn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada anggota tim"}),(0,Vn.jsx)("p",{className:"text-gray-600",children:t||"all"!==r?"Tidak ada anggota yang sesuai dengan filter":"Belum ada anggota tim yang ditambahkan"})]})},HT=e=>{let{projectId:t,member:r,availableEmployees:n,roles:s,onClose:o,onSuccess:i}=e;const{formData:l,setFormData:c,updateResponsibility:d,addResponsibility:u,removeResponsibility:p,handleSubmit:h}=((e,t,r,n)=>{const[s,o]=(0,a.useState)(t||{employeeId:"",role:"Civil Engineer",allocation:100,hourlyRate:12e4,responsibilities:[""],notes:""});return{formData:s,setFormData:o,updateResponsibility:(e,t)=>{const r=[...s.responsibilities];r[e]=t,o((0,Mt.A)((0,Mt.A)({},s),{},{responsibilities:r}))},addResponsibility:()=>{o((0,Mt.A)((0,Mt.A)({},s),{},{responsibilities:[...s.responsibilities,""]}))},removeResponsibility:e=>{const t=s.responsibilities.filter((t,r)=>r!==e);o((0,Mt.A)((0,Mt.A)({},s),{},{responsibilities:t}))},handleSubmit:async a=>{var o;a.preventDefault();const i=r.find(e=>e.id===s.employeeId);if(!i)return void alert("Please select a valid employee");const l=(0,Mt.A)((0,Mt.A)({},s),{},{id:(null===t||void 0===t?void 0:t.id)||"TM".concat(Date.now()),name:i.name,email:i.email,phone:i.phone,startDate:(null===t||void 0===t?void 0:t.startDate)||(new Date).toISOString().split("T")[0],totalHours:(null===t||void 0===t?void 0:t.totalHours)||0,totalCost:(null===t||void 0===t?void 0:t.totalCost)||0,status:(null===t||void 0===t?void 0:t.status)||"active",skills:(null===(o=i.skills)||void 0===o?void 0:o.map(e=>e.name))||[],certifications:i.certifications||[],performance:(null===t||void 0===t?void 0:t.performance)||85});try{const r={name:l.name,role:l.role,email:l.email||"",phone:l.phone||"",employeeId:l.employeeId||"",startDate:l.startDate,allocation:parseFloat(l.allocation)||100,hourlyRate:parseFloat(l.hourlyRate)||0,status:l.status||"active",skills:l.skills||[],responsibilities:l.responsibilities.filter(e=>""!==e.trim())||[],notes:l.notes||""};t?(await ms(e,t.id,r),alert("Anggota tim berhasil diperbarui!")):(await hs(e,r),alert("Anggota tim berhasil ditambahkan!")),n()}catch(c){console.error("Error saving team member:",c),alert("Gagal menyimpan anggota tim. Silakan coba lagi.")}}}})(t,r,n,()=>{i(),o()});return(0,Vn.jsxs)("div",{className:"bg-gradient-to-br from-[#1C1C1E] to-[#2C2C2E] border border-[#38383A] rounded-xl p-6 mb-6 shadow-2xl",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-xl font-semibold text-white",children:r?"Edit Team Member":"Tambah Team Member Baru"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mt-1",children:r?"Update informasi anggota tim":"Isi form di bawah untuk menambah anggota tim"})]}),(0,Vn.jsx)("button",{onClick:o,className:"text-[#8E8E93] hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",children:(0,Vn.jsx)(ja.A,{size:20})})]}),(0,Vn.jsxs)("form",{onSubmit:h,className:"space-y-5",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-2",children:["Pilih Karyawan ",(0,Vn.jsx)("span",{className:"text-[#FF453A]",children:"*"})]}),(0,Vn.jsxs)("select",{value:l.employeeId,onChange:e=>c((0,Mt.A)((0,Mt.A)({},l),{},{employeeId:e.target.value})),className:"w-full bg-[#2C2C2E] border border-[#38383A] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#0A84FF] focus:ring-1 focus:ring-[#0A84FF] transition-colors",required:!0,disabled:!!r,children:[(0,Vn.jsx)("option",{value:"",children:"Pilih Karyawan"}),n.map(e=>(0,Vn.jsxs)("option",{value:e.id,children:[e.name," - ",e.position]},e.id))]}),r&&(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mt-1",children:"Karyawan tidak dapat diubah setelah ditambahkan"})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-2",children:["Role dalam Proyek ",(0,Vn.jsx)("span",{className:"text-[#FF453A]",children:"*"})]}),(0,Vn.jsx)("select",{value:l.role,onChange:e=>c((0,Mt.A)((0,Mt.A)({},l),{},{role:e.target.value})),className:"w-full bg-[#2C2C2E] border border-[#38383A] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#0A84FF] focus:ring-1 focus:ring-[#0A84FF] transition-colors",required:!0,children:Object.keys(s).map(e=>(0,Vn.jsx)("option",{value:e,children:e},e))})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-2",children:["Alokasi (%) ",(0,Vn.jsx)("span",{className:"text-[#FF453A]",children:"*"})]}),(0,Vn.jsx)("input",{type:"number",min:"1",max:"100",value:l.allocation,onChange:e=>c((0,Mt.A)((0,Mt.A)({},l),{},{allocation:parseInt(e.target.value)||0})),className:"w-full bg-[#2C2C2E] border border-[#38383A] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#0A84FF] focus:ring-1 focus:ring-[#0A84FF] transition-colors",required:!0,placeholder:"100"})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-2",children:["Hourly Rate (Rp) ",(0,Vn.jsx)("span",{className:"text-[#FF453A]",children:"*"})]}),(0,Vn.jsx)("input",{type:"number",value:l.hourlyRate,onChange:e=>c((0,Mt.A)((0,Mt.A)({},l),{},{hourlyRate:parseInt(e.target.value)||0})),className:"w-full bg-[#2C2C2E] border border-[#38383A] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#0A84FF] focus:ring-1 focus:ring-[#0A84FF] transition-colors",required:!0,placeholder:"50000"}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mt-1",children:"Tarif per jam untuk perhitungan biaya"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-2",children:"Tanggung Jawab"}),(0,Vn.jsx)("div",{className:"space-y-2 mb-3",children:l.responsibilities.map((e,t)=>(0,Vn.jsxs)("div",{className:"flex gap-2",children:[(0,Vn.jsx)("input",{type:"text",value:e,onChange:e=>d(t,e.target.value),className:"flex-1 bg-[#2C2C2E] border border-[#38383A] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#0A84FF] focus:ring-1 focus:ring-[#0A84FF] transition-colors",placeholder:"Tanggung jawab ".concat(t+1)}),(0,Vn.jsx)("button",{type:"button",onClick:()=>p(t),className:"text-[#FF453A] hover:text-[#FF6961] transition-colors p-2.5 hover:bg-[#FF453A]/10 rounded-lg",title:"Hapus tanggung jawab",children:(0,Vn.jsx)(ca,{size:18})})]},t))}),(0,Vn.jsxs)("button",{type:"button",onClick:u,className:"flex items-center gap-2 text-[#0A84FF] hover:text-[#409CFF] transition-colors text-sm font-medium",children:[(0,Vn.jsx)(Pi,{size:16}),"Tambah Tanggung Jawab"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-2",children:"Catatan"}),(0,Vn.jsx)("textarea",{value:l.notes,onChange:e=>c((0,Mt.A)((0,Mt.A)({},l),{},{notes:e.target.value})),className:"w-full bg-[#2C2C2E] border border-[#38383A] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#0A84FF] focus:ring-1 focus:ring-[#0A84FF] transition-colors resize-none",rows:3,placeholder:"Catatan tambahan tentang anggota tim..."})]}),(0,Vn.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-[#38383A]",children:[(0,Vn.jsx)("button",{type:"submit",className:"flex-1 bg-[#0A84FF] text-white py-2.5 px-4 rounded-lg hover:bg-[#409CFF] font-medium transition-colors",children:r?"Update Member":"Tambah Member"}),(0,Vn.jsx)("button",{type:"button",onClick:o,className:"flex-1 bg-[#38383A] text-white py-2.5 px-4 rounded-lg hover:bg-[#48484A] font-medium transition-colors",children:"Batal"})]})]})]})},KT=e=>{let{project:t,onUpdate:r}=e;const[n,s]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),{loading:l,teamStats:c,roles:d,filteredMembers:u,searchTerm:p,setSearchTerm:h,filterRole:m,setFilterRole:f,handleDeleteMember:x,loadTeamMembers:g}=LT(t.id),{availableEmployees:b}=(()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{try{const e=await Qa();t(e.data||[])}catch(e){console.error("Error fetching employees:",e)}finally{n(!1)}})()},[]),{availableEmployees:e,loading:r}})(),y=async()=>{await g(),r({team:{updatedAt:(new Date).toISOString()}})};return l?(0,Vn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,Vn.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading team data..."})]})}):(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Project Team"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Kelola anggota tim proyek"})]}),(0,Vn.jsxs)("button",{onClick:()=>s(!n),className:"flex items-center gap-2 px-4 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#409CFF] transition-colors font-medium",children:[(0,Vn.jsx)(Pi,{size:16}),n?"Tutup Form":"Tambah Anggota"]})]}),(0,Vn.jsx)(zT,{teamStats:c}),n&&(0,Vn.jsx)(HT,{projectId:t.id,availableEmployees:b,roles:d,onClose:()=>s(!1),onSuccess:y}),o&&(0,Vn.jsx)(HT,{projectId:t.id,member:o,availableEmployees:b,roles:d,onClose:()=>i(null),onSuccess:y}),(0,Vn.jsx)(UT,{searchTerm:p,onSearchChange:h,filterRole:m,onFilterChange:f,roles:d}),(0,Vn.jsx)(WT,{members:u,onEdit:e=>i(e),onDelete:x}),0===u.length&&(0,Vn.jsx)(VT,{searchTerm:p,filterRole:m})]})},qT=(0,Qn.A)("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),GT={contract:{name:"Kontrak",icon:di,color:"blue"},design:{name:"Desain & Gambar",icon:ST,color:"green"},permit:{name:"Perizinan",icon:qT,color:"yellow"},report:{name:"Laporan",icon:di,color:"purple"},certificate:{name:"Sertifikat",icon:qT,color:"red"},specification:{name:"Spesifikasi",icon:di,color:"indigo"},other:{name:"Lainnya",icon:qT,color:"gray"}},YT=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},$T=e=>({pdf:di,doc:di,docx:di,xls:di,xlsx:di,dwg:ST,png:ST,jpg:ST,jpeg:ST,gif:ST}[e]||qT),JT=e=>{let{stats:t}=e;return(0,Vn.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Vn.jsxs)("div",{className:"bg-[#0A84FF]/10 p-4 rounded-lg",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#0A84FF] mb-2",children:[(0,Vn.jsx)(di,{size:20}),(0,Vn.jsx)("span",{className:"font-medium",children:"Total Dokumen"})]}),(0,Vn.jsx)("div",{className:"text-2xl font-bold text-blue-700",children:t.totalDocuments})]}),(0,Vn.jsxs)("div",{className:"bg-[#30D158]/10 p-4 rounded-lg",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#30D158] mb-2",children:[(0,Vn.jsx)(ha,{size:20}),(0,Vn.jsx)("span",{className:"font-medium",children:"Total Size"})]}),(0,Vn.jsx)("div",{className:"text-2xl font-bold text-green-700",children:YT(t.totalSize)})]}),(0,Vn.jsxs)("div",{className:"bg-[#FF9F0A]/10 p-4 rounded-lg",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#FF9F0A] mb-2",children:[(0,Vn.jsx)(la,{size:20}),(0,Vn.jsx)("span",{className:"font-medium",children:"Disetujui"})]}),(0,Vn.jsx)("div",{className:"text-2xl font-bold text-yellow-700",children:t.byStatus.approved})]}),(0,Vn.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-purple-600 mb-2",children:[(0,Vn.jsx)(Sa,{size:20}),(0,Vn.jsx)("span",{className:"font-medium",children:"Review"})]}),(0,Vn.jsx)("div",{className:"text-2xl font-bold text-purple-700",children:t.byStatus.review})]})]})},XT={approved:{color:"green",text:"Disetujui"},review:{color:"yellow",text:"Review"},draft:{color:"gray",text:"Draft"},published:{color:"blue",text:"Published"}},QT=e=>XT[e]||XT.draft,ZT=e=>{let{searchTerm:t,setSearchTerm:r,filterCategory:n,setFilterCategory:a}=e;return(0,Vn.jsxs)("div",{className:"flex gap-4",children:[(0,Vn.jsxs)("div",{className:"flex-1 relative",children:[(0,Vn.jsx)(uE.A,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#8E8E93]"}),(0,Vn.jsx)("input",{type:"text",placeholder:"Cari dokumen...",value:t,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white placeholder-[#8E8E93] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent transition-all"})]}),(0,Vn.jsxs)("select",{value:n,onChange:e=>a(e.target.value),className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent transition-all appearance-none cursor-pointer pr-10",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%238E8E93' d='M6 9L1 4h10z'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center"},children:[(0,Vn.jsx)("option",{value:"all",children:"Semua Kategori"}),Object.entries(GT).map(e=>{let[t,r]=e;return(0,Vn.jsx)("option",{value:t,children:r.name},t)})]})]})},eI=(0,Qn.A)("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),tI=e=>{let{doc:t,onDownload:r,onEdit:n,onDelete:a}=e;const s=GT[t.category],o=$T(t.fileType),i=QT(t.status);return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border p-6 hover: transition-shadow",children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"w-12 h-12 bg-".concat(s.color,"-100 rounded-lg flex items-center justify-center"),children:(0,Vn.jsx)(o,{size:24,className:"text-".concat(s.color,"-600")})}),(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("h4",{className:"font-semibold text-white truncate",children:t.name}),(0,Vn.jsx)("p",{className:"text-sm text-[#98989D]",children:s.name})]})]}),(0,Vn.jsx)("div",{className:"flex items-center gap-1",children:t.isPublic?(0,Vn.jsx)(eI,{size:16,className:"text-[#30D158]",title:"Public"}):(0,Vn.jsx)(Ca,{size:16,className:"text-[#FF3B30]",title:"Private"})})]}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mb-3 line-clamp-2",children:t.description}),(0,Vn.jsxs)("div",{className:"space-y-2 mb-4 text-xs text-[#98989D]",children:[(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{children:"Size:"}),(0,Vn.jsx)("span",{children:YT(t.size)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{children:"Upload:"}),(0,Vn.jsx)("span",{children:WD(t.uploadDate)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{children:"Version:"}),(0,Vn.jsxs)("span",{children:["v",t.version]})]})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Vn.jsx)("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium bg-".concat(i.color,"-100 text-").concat(i.color,"-800"),children:i.text}),(0,Vn.jsxs)("span",{className:"text-xs text-[#98989D]",children:[t.downloadCount," downloads"]})]}),t.tags&&t.tags.length>0&&(0,Vn.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[t.tags.slice(0,3).map(e=>(0,Vn.jsx)("span",{className:"inline-flex px-2 py-1 bg-[#3A3A3C] text-[#98989D] text-xs rounded-full",children:e},e)),t.tags.length>3&&(0,Vn.jsxs)("span",{className:"text-xs text-[#98989D]",children:["+",t.tags.length-3," more"]})]}),(0,Vn.jsxs)("div",{className:"flex gap-2",children:[(0,Vn.jsxs)("button",{onClick:()=>r(t.id,t.filename),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 text-sm",title:"View Document",children:[(0,Vn.jsx)(la,{size:14}),"View"]}),(0,Vn.jsx)("button",{onClick:()=>n(t),className:"px-3 py-2 bg-[#48484A] text-[#98989D] rounded-lg hover:bg-gray-300",title:"Edit",children:(0,Vn.jsx)(rD,{size:14})}),(0,Vn.jsx)("button",{onClick:()=>a(t.id),className:"px-3 py-2 bg-[#FF3B30]/20 text-[#FF3B30] rounded-lg hover:bg-red-200",title:"Delete",children:(0,Vn.jsx)(ca,{size:14})})]})]})},rI=e=>{let{documents:t,onDownload:r,onEdit:n,onDelete:a}=e;return(0,Vn.jsx)("div",{className:"bg-gradient-to-br from-[#1C1C1E] to-[#2C2C2E] border border-[#38383A] rounded-xl overflow-hidden",children:(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"w-full",children:[(0,Vn.jsx)("thead",{className:"bg-[#2C2C2E]/50 border-b border-[#38383A]",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Dokumen"}),(0,Vn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Kategori"}),(0,Vn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Size"}),(0,Vn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Status"}),(0,Vn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Upload Date"}),(0,Vn.jsx)("th",{className:"px-6 py-4 text-center text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Actions"})]})}),(0,Vn.jsx)("tbody",{className:"divide-y divide-[#38383A]",children:t.map(e=>{const t=GT[e.category],s=$T(e.fileType),o=QT(e.status);return(0,Vn.jsxs)("tr",{className:"hover:bg-[#2C2C2E]/30 transition-colors",children:[(0,Vn.jsx)("td",{className:"px-6 py-4",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 bg-".concat(t.color,"-500/10 rounded-lg flex items-center justify-center border border-").concat(t.color,"-500/30"),children:(0,Vn.jsx)(s,{size:20,className:"text-".concat(t.color,"-500")})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93]",children:e.filename})]})]})}),(0,Vn.jsx)("td",{className:"px-6 py-4",children:(0,Vn.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-[#0A84FF]/10 text-[#0A84FF]",children:t.name})}),(0,Vn.jsx)("td",{className:"px-6 py-4 text-sm text-[#FFFFFF]",children:YT(e.size)}),(0,Vn.jsx)("td",{className:"px-6 py-4",children:(0,Vn.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium ".concat("approved"===e.status?"bg-[#30D158]/20 text-[#30D158]":"review"===e.status?"bg-[#FFD60A]/20 text-[#FFD60A]":"draft"===e.status?"bg-[#8E8E93]/20 text-[#8E8E93]":"bg-[#FF453A]/20 text-[#FF453A]"),children:o.text})}),(0,Vn.jsx)("td",{className:"px-6 py-4 text-sm text-[#8E8E93]",children:WD(e.uploadDate)}),(0,Vn.jsx)("td",{className:"px-6 py-4",children:(0,Vn.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,Vn.jsx)("button",{onClick:()=>r(e.id,e.filename),className:"p-2 text-[#0A84FF] hover:bg-[#0A84FF]/10 rounded-lg transition-colors",title:"View Document",children:(0,Vn.jsx)(la,{size:16})}),(0,Vn.jsx)("button",{onClick:()=>n(e),className:"p-2 text-[#FFD60A] hover:bg-[#FFD60A]/10 rounded-lg transition-colors",title:"Edit",children:(0,Vn.jsx)(rD,{size:16})}),(0,Vn.jsx)("button",{onClick:()=>a(e.id),className:"p-2 text-[#FF453A] hover:bg-[#FF453A]/10 rounded-lg transition-colors",title:"Delete",children:(0,Vn.jsx)(ca,{size:16})})]})})]},e.id)})})]})})})},nI=e=>{let{document:t,onSave:r,onCancel:n}=e;const[s,o]=(0,a.useState)(t||{name:"",category:"other",description:"",accessLevel:"team",tags:[],isPublic:!1}),[i,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1),[f]=(0,a.useState)(0),x=e=>{d(e),s.name||o((0,Mt.A)((0,Mt.A)({},s),{},{name:e.name.split(".")[0]}))},g=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?m(!0):"dragleave"===e.type&&m(!1)},b=()=>{i.trim()&&!s.tags.includes(i.trim())&&(o((0,Mt.A)((0,Mt.A)({},s),{},{tags:[...s.tags,i.trim()]})),l(""))};return(0,Vn.jsxs)("div",{className:"bg-gradient-to-br from-[#1C1C1E] to-[#2C2C2E] border border-[#38383A] rounded-xl p-6 mb-6",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Vn.jsx)("h3",{className:"text-xl font-semibold text-white",children:t?"Edit Dokumen":"Upload Dokumen Baru"}),(0,Vn.jsx)("button",{onClick:n,className:"p-2 text-[#8E8E93] hover:text-white hover:bg-[#38383A] rounded-lg transition-colors",title:"Close",children:(0,Vn.jsx)(ja.A,{size:20})})]}),(0,Vn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),t||c){p(!0);try{const e=(0,Mt.A)((0,Mt.A)({},s),{},{file:c});await r(e)}catch(n){console.error("Error submitting form:",n),alert("Gagal menyimpan dokumen")}finally{p(!1)}}else alert("Pilih file untuk diupload")},className:"space-y-5",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-2",children:"Nama Dokumen"}),(0,Vn.jsx)("input",{type:"text",value:s.name,onChange:e=>o((0,Mt.A)((0,Mt.A)({},s),{},{name:e.target.value})),className:"w-full bg-[#2C2C2E] border border-[#38383A] rounded-lg px-4 py-2.5 text-white placeholder-[#8E8E93] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent transition-all",placeholder:"Masukkan nama dokumen",required:!0})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-2",children:"Kategori"}),(0,Vn.jsx)("select",{value:s.category,onChange:e=>o((0,Mt.A)((0,Mt.A)({},s),{},{category:e.target.value})),className:"w-full bg-[#2C2C2E] border border-[#38383A] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent transition-all appearance-none cursor-pointer",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%238E8E93' d='M6 9L1 4h10z'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center"},required:!0,children:Object.entries(GT).map(e=>{let[t,r]=e;return(0,Vn.jsx)("option",{value:t,children:r.name},t)})})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-2",children:"Access Level"}),(0,Vn.jsxs)("select",{value:s.accessLevel,onChange:e=>o((0,Mt.A)((0,Mt.A)({},s),{},{accessLevel:e.target.value})),className:"w-full bg-[#2C2C2E] border border-[#38383A] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent transition-all appearance-none cursor-pointer",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%238E8E93' d='M6 9L1 4h10z'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center"},required:!0,children:[(0,Vn.jsx)("option",{value:"public",children:"Public"}),(0,Vn.jsx)("option",{value:"team",children:"Team Only"}),(0,Vn.jsx)("option",{value:"restricted",children:"Restricted"})]})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-2",children:"Deskripsi"}),(0,Vn.jsx)("textarea",{value:s.description,onChange:e=>o((0,Mt.A)((0,Mt.A)({},s),{},{description:e.target.value})),className:"w-full bg-[#2C2C2E] border border-[#38383A] rounded-lg px-4 py-2.5 text-white placeholder-[#8E8E93] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent transition-all resize-none",rows:3,placeholder:"Deskripsi dokumen",required:!0})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-2",children:"Tags"}),(0,Vn.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Vn.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),b()),className:"flex-1 bg-[#2C2C2E] border border-[#38383A] rounded-lg px-4 py-2.5 text-white placeholder-[#8E8E93] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent transition-all",placeholder:"Tambah tag (tekan Enter)"}),(0,Vn.jsx)("button",{type:"button",onClick:b,className:"px-6 py-2.5 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-colors font-medium",children:"Tambah"})]}),s.tags.length>0&&(0,Vn.jsx)("div",{className:"flex flex-wrap gap-2",children:s.tags.map(e=>(0,Vn.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[#0A84FF]/20 text-[#0A84FF] text-sm rounded-lg border border-[#0A84FF]/30",children:[e,(0,Vn.jsx)("button",{type:"button",onClick:()=>{return t=e,void o((0,Mt.A)((0,Mt.A)({},s),{},{tags:s.tags.filter(e=>e!==t)}));var t},className:"text-[#0A84FF] hover:text-[#0A84FF]/70 font-bold",children:"\xd7"})]},e))})]}),!t&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#8E8E93] mb-2",children:"Upload File"}),(0,Vn.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-6 text-center transition-all ".concat(h?"border-[#0A84FF] bg-[#0A84FF]/10":"border-[#38383A] hover:border-[#0A84FF]/50 bg-[#2C2C2E]/30"),onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:e=>{e.preventDefault(),e.stopPropagation(),m(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&x(e.dataTransfer.files[0])},children:[(0,Vn.jsx)(qD,{size:32,className:"mx-auto text-[#8E8E93] mb-3"}),c?(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-[#30D158] font-medium text-lg mb-1",children:c.name}),(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93] mb-3",children:["Size: ",(c.size/1024/1024).toFixed(2)," MB"]}),(0,Vn.jsx)("button",{type:"button",onClick:()=>d(null),className:"text-[#FF453A] hover:text-[#FF453A]/80 text-sm font-medium transition-colors",children:"Remove file"})]}):(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-[#8E8E93] mb-3",children:"Drag & drop file atau click untuk upload"}),(0,Vn.jsx)("input",{type:"file",id:"fileInputInline",className:"hidden",onChange:e=>e.target.files[0]&&x(e.target.files[0]),accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.png,.jpg,.jpeg,.gif,.dwg,.txt,.zip"}),(0,Vn.jsx)("label",{htmlFor:"fileInputInline",className:"inline-block px-6 py-2.5 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 cursor-pointer transition-colors font-medium",children:"Pilih File"})]})]}),f>0&&f<100&&(0,Vn.jsxs)("div",{className:"mt-3",children:[(0,Vn.jsx)("div",{className:"bg-[#38383A] rounded-full h-2 overflow-hidden",children:(0,Vn.jsx)("div",{className:"bg-[#0A84FF] h-2 rounded-full transition-all duration-300",style:{width:"".concat(f,"%")}})}),(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93] mt-2",children:["Uploading... ",f,"%"]})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-[#2C2C2E]/50 rounded-lg border border-[#38383A]",children:[(0,Vn.jsx)("input",{type:"checkbox",id:"isPublicInline",checked:s.isPublic,onChange:e=>o((0,Mt.A)((0,Mt.A)({},s),{},{isPublic:e.target.checked})),className:"w-4 h-4 text-[#0A84FF] bg-[#2C2C2E] border-[#38383A] rounded focus:ring-[#0A84FF] focus:ring-2"}),(0,Vn.jsx)("label",{htmlFor:"isPublicInline",className:"text-sm text-white cursor-pointer",children:"Dokumen dapat diakses publik"})]}),(0,Vn.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-[#38383A]",children:[(0,Vn.jsx)("button",{type:"submit",disabled:u||!t&&!c,className:"flex-1 py-3 px-4 rounded-lg transition-all font-medium ".concat(u||!t&&!c?"bg-[#38383A] text-[#636366] cursor-not-allowed":"bg-[#0A84FF] text-white hover:bg-[#0A84FF]/90 hover:shadow-lg"),children:u?(0,Vn.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Vn.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t?"Updating...":"Uploading..."]}):t?"Update Dokumen":"Upload Dokumen"}),(0,Vn.jsx)("button",{type:"button",onClick:n,disabled:u,className:"flex-1 py-3 px-4 rounded-lg transition-all font-medium ".concat(u?"bg-[#38383A] text-[#636366] cursor-not-allowed":"bg-[#2C2C2E] text-[#8E8E93] hover:bg-[#38383A] hover:text-white border border-[#38383A]"),children:"Batal"})]})]})]})},aI=e=>{let{searchTerm:t,filterCategory:r}=e;return(0,Vn.jsxs)("div",{className:"text-center py-12",children:[(0,Vn.jsx)(di,{size:48,className:"mx-auto text-[#636366] mb-4"}),(0,Vn.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Tidak ada dokumen"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:t||"all"!==r?"Tidak ada dokumen yang sesuai dengan filter":"Belum ada dokumen yang diupload"})]})},sI=e=>{let{project:t,onUpdate:r}=e;const[n,s]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[l,c]=(0,a.useState)("list"),{documents:d,loading:u,uploadDocument:p,updateDocument:h,deleteDocument:m,downloadDocument:f,loadDocuments:x}=(e=>{const[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!1),[o,i]=(0,a.useState)(0),l=async()=>{if(null!==e&&void 0!==e&&e.id)try{s(!0);const t=((await xs(e.id)).data||[]).map(e=>({id:e.id,name:e.title||e.name||"Untitled Document",filename:e.fileName||e.filename||"unknown.pdf",category:e.category||"other",size:e.fileSize||e.size||0,uploadDate:e.uploadDate||e.createdAt||(new Date).toISOString().split("T")[0],uploadedBy:e.uploadedBy||"Unknown User",version:e.version||"1.0",status:e.status||"draft",accessLevel:e.accessLevel||"team",description:e.description||"",tags:e.tags?Array.isArray(e.tags)?e.tags:JSON.parse(e.tags||"[]"):[],downloadCount:e.downloadCount||0,lastAccessed:e.lastAccessed||e.updatedAt||(new Date).toISOString().split("T")[0],fileType:e.mimeType?e.mimeType.split("/")[1]:e.fileType||"pdf",isPublic:e.isPublic||!1,approvedBy:e.approvedBy||null,approvalDate:e.approvalDate||null,filePath:e.filePath||null,mimeType:e.mimeType||"application/pdf"}));r(t)}catch(t){console.error("Error loading documents:",t),r([{id:"DOC001",name:"Kontrak Kerja Renovasi Pabrik",filename:"kontrak-renovasi-pabrik-2024.pdf",category:"contract",size:2456789,uploadDate:"2024-03-15",uploadedBy:"Dedi Kurniawan",version:"2.1",status:"approved",accessLevel:"restricted",description:"Kontrak kerja renovasi pabrik tekstil dengan PT Tekstil Nusantara",tags:["kontrak","legal","final"],downloadCount:12,lastAccessed:"2024-08-30",fileType:"pdf",isPublic:!1,approvedBy:"Manager",approvalDate:"2024-03-16"}])}finally{s(!1)}};return(0,a.useEffect)(()=>{l()},[null===e||void 0===e?void 0:e.id]),{documents:t,setDocuments:r,loading:n,uploadProgress:o,setUploadProgress:i,loadDocuments:l,uploadDocument:async t=>{var n,a,s,o;if(!t.file)throw new Error("File is required for new document");const i=new FormData;i.append("file",t.file),i.append("title",t.name),i.append("description",t.description||""),i.append("category",t.category),i.append("accessLevel",t.accessLevel),i.append("tags",JSON.stringify(t.tags||[])),i.append("isPublic",t.isPublic||!1),i.append("projectId",e.id),console.log("=== FORMDATA DEBUG ==="),console.log("Selected file object:",t.file),console.log("File name:",null===(n=t.file)||void 0===n?void 0:n.name),console.log("File size:",null===(a=t.file)||void 0===a?void 0:a.size),console.log("File type:",null===(s=t.file)||void 0===s?void 0:s.type),console.log("=====================");const l=await gs(e.id,i),c={id:l.data.id,name:l.data.title||t.name,filename:l.data.fileName||t.file.name,category:l.data.category||t.category,size:l.data.fileSize||t.file.size,uploadDate:(null===(o=l.data.createdAt)||void 0===o?void 0:o.split("T")[0])||(new Date).toISOString().split("T")[0],uploadedBy:l.data.uploadedBy||"Current User",version:l.data.version||"1.0",status:l.data.status||"draft",accessLevel:l.data.accessLevel||t.accessLevel,description:l.data.description||t.description,tags:l.data.tags?Array.isArray(l.data.tags)?l.data.tags:JSON.parse(l.data.tags||"[]"):[],downloadCount:0,lastAccessed:(new Date).toISOString().split("T")[0],fileType:l.data.mimeType?l.data.mimeType.split("/")[1]:"pdf",isPublic:l.data.isPublic||!1,approvedBy:null,approvalDate:null,filePath:l.data.filePath,mimeType:l.data.mimeType};return r(e=>[...e,c]),c},updateDocument:async(t,n)=>{const a={title:n.name,description:n.description,category:n.category,accessLevel:n.accessLevel,tags:JSON.stringify(n.tags||[]),isPublic:n.isPublic||!1,updatedAt:(new Date).toISOString()};await bs(e.id,t,a),r(e=>e.map(e=>e.id===t?(0,Mt.A)((0,Mt.A)({},e),{},{name:n.name,description:n.description,category:n.category,accessLevel:n.accessLevel,tags:n.tags||[],isPublic:n.isPublic||!1,updatedAt:(new Date).toISOString()}):e))},deleteDocument:async t=>{await ys(e.id,t),r(e=>e.filter(e=>e.id!==t))},downloadDocument:async(t,n)=>{try{const n=await vs(e.id,t),a=new Blob([n.data],{type:n.headers["content-type"]||"application/pdf"}),s=window.URL.createObjectURL(a);window.open(s,"_blank"),setTimeout(()=>{window.URL.revokeObjectURL(s)},100),r(e=>e.map(e=>e.id===t?(0,Mt.A)((0,Mt.A)({},e),{},{downloadCount:(e.downloadCount||0)+1,lastAccessed:(new Date).toISOString().split("T")[0]}):e))}catch(a){console.error("Error viewing document:",a),alert("Gagal membuka dokumen")}}}})(t),{searchTerm:g,setSearchTerm:b,filterCategory:y,setFilterCategory:v,filteredDocuments:j}=(e=>{const[t,r]=(0,a.useState)(""),[n,s]=(0,a.useState)("all"),o=(0,a.useMemo)(()=>e.filter(e=>{const r=e.name.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(t.toLowerCase())),a="all"===n||e.category===n;return r&&a}),[e,t,n]);return{searchTerm:t,setSearchTerm:r,filterCategory:n,setFilterCategory:s,filteredDocuments:o}})(d),w=(e=>(0,a.useMemo)(()=>({totalDocuments:e.length,totalSize:e.reduce((e,t)=>e+t.size,0),byCategory:Object.keys(GT).reduce((t,r)=>(t[r]=e.filter(e=>e.category===r).length,t),{}),byStatus:{approved:e.filter(e=>"approved"===e.status).length,review:e.filter(e=>"review"===e.status).length,draft:e.filter(e=>"draft"===e.status).length}}),[e]))(d),N=async e=>{if(confirm("Yakin ingin menghapus dokumen ini?"))try{await m(e),alert("Dokumen berhasil dihapus!"),await x()}catch(t){console.error("Error deleting document:",t),alert("Gagal menghapus dokumen. Silakan coba lagi.")}},A=async(e,t)=>{try{await f(e,t)}catch(r){console.error("Error downloading document:",r),alert("Gagal download dokumen. Silakan coba lagi.")}};return t?(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-xl font-semibold",children:"Project Documents"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Kelola dokumen dan file proyek"})]}),(0,Vn.jsxs)("div",{className:"flex gap-2",children:[(0,Vn.jsx)("button",{onClick:()=>c("grid"===l?"list":"grid"),className:"px-4 py-2 bg-[#48484A] text-[#98989D] rounded-lg hover:bg-gray-300",disabled:u,children:"grid"===l?"List View":"Grid View"}),(0,Vn.jsxs)("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90",disabled:u,children:[(0,Vn.jsx)(qD,{size:16}),"Upload Dokumen"]})]})]}),u&&(0,Vn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#8E8E93]",children:[(0,Vn.jsx)("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),"Memuat dokumen..."]})}),!u&&(0,Vn.jsxs)(Vn.Fragment,{children:[(n||o)&&(0,Vn.jsx)(nI,{document:o,onSave:async e=>{try{o?(await h(o.id,e),i(null),alert("Dokumen berhasil diperbarui!")):(await p(e),s(!1),alert("Dokumen berhasil diupload!")),await x()}catch(t){console.error("Error saving document:",t),alert("Gagal menyimpan dokumen. Silakan coba lagi.")}},onCancel:()=>{s(!1),i(null)}}),(0,Vn.jsx)(JT,{stats:w}),(0,Vn.jsx)(ZT,{searchTerm:g,setSearchTerm:b,filterCategory:y,setFilterCategory:v}),"grid"===l?(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(e=>(0,Vn.jsx)(tI,{doc:e,onDownload:A,onEdit:i,onDelete:N},e.id))}):(0,Vn.jsx)(rI,{documents:j,onDownload:A,onEdit:i,onDelete:N}),0===j.length&&(0,Vn.jsx)(aI,{searchTerm:g,filterCategory:y})]})]}):(0,Vn.jsx)("div",{className:"space-y-6",children:(0,Vn.jsxs)("div",{className:"text-center py-12",children:[(0,Vn.jsx)(di,{size:48,className:"mx-auto text-[#636366] mb-4"}),(0,Vn.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No Project Selected"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Please select a project to view documents"})]})})},oI=e=>{let{statistics:t}=e;const{total:r,pending:n,approved:a,paymentReady:s}=t,o=[{icon:di,label:"Total BA",value:r,color:"#0A84FF",bgColor:"rgba(10, 132, 255, 0.1)"},{icon:Sa,label:"Pending",value:n,color:"#FF9F0A",bgColor:"rgba(255, 159, 10, 0.1)"},{icon:Ea.A,label:"Disetujui",value:a,color:"#30D158",bgColor:"rgba(48, 209, 88, 0.1)"},{icon:xa,label:"Siap Bayar",value:s,color:"#32D74B",bgColor:"rgba(50, 215, 75, 0.1)"}];return(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:o.map((e,t)=>{const r=e.icon;return(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] p-4 rounded-lg border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:e.bgColor},children:(0,Vn.jsx)(r,{size:20,style:{color:e.color}})}),(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium text-[#8E8E93]",children:e.label}),(0,Vn.jsx)("p",{className:"text-lg font-bold text-white",children:e.value})]})]})},t)})})},iI=e=>{let{onCreateBA:t}=e;return(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Berita Acara Management"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mt-1",children:"Kelola Berita Acara untuk milestone dan pembayaran proyek"})]}),(0,Vn.jsxs)("button",{onClick:t,className:"bg-[#0A84FF] text-white px-4 py-2 rounded-lg hover:bg-[#0A84FF]/90 flex items-center gap-2 transition-colors",children:[(0,Vn.jsx)(Pi,{size:16}),(0,Vn.jsx)("span",{children:"Buat BA Baru"})]})]})},lI="draft",cI="submitted",dI="client_review",uI="approved",pI="rejected",hI=e=>{const t={[lI]:{label:"Draft",color:"#8E8E93",bgColor:"rgba(142, 142, 147, 0.1)",icon:di,description:"Masih dalam tahap penyusunan"},[cI]:{label:"Diajukan",color:"#0A84FF",bgColor:"rgba(10, 132, 255, 0.1)",icon:Sa,description:"Menunggu review dari klien"},[dI]:{label:"Review Klien",color:"#FF9F0A",bgColor:"rgba(255, 159, 10, 0.1)",icon:ra,description:"Sedang direview oleh klien"},[uI]:{label:"Disetujui",color:"#30D158",bgColor:"rgba(48, 209, 88, 0.1)",icon:Ea.A,description:"BA telah disetujui, siap untuk pembayaran"},[pI]:{label:"Ditolak",color:"#FF3B30",bgColor:"rgba(255, 59, 48, 0.1)",icon:ti,description:"BA ditolak, perlu revisi"}};return t[e]||t[lI]},mI="partial",fI="provisional",xI="final",gI=e=>{const t={[mI]:{label:"Sebagian",description:"BA untuk pekerjaan sebagian"},[fI]:{label:"Sementara",description:"BA sementara untuk handover awal"},[xI]:{label:"Final",description:"BA final untuk serah terima proyek"}};return t[e]||t[mI]},bI=e=>{let{ba:t,onView:r,onEdit:n,onSubmit:a,onDelete:s,onApprove:o,onReject:i}=e;const l=hI(t.status),c=gI(t.baType);return(0,Vn.jsx)("div",{className:"px-4 py-3 hover:bg-[#1C1C1E] transition-colors",children:(0,Vn.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[(0,Vn.jsx)("h5",{className:"text-sm font-semibold text-white",children:t.baNumber}),(0,Vn.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:l.bgColor,color:l.color},children:l.label}),(0,Vn.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-[#48484A] text-[#8E8E93]",children:c.label}),"approved"===t.status&&t.paymentAuthorized&&(0,Vn.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-[rgba(48,209,88,0.1)] text-[#30D158]",children:"\u2713 Payment Ready"})]}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mb-2 line-clamp-1",children:t.workDescription}),(0,Vn.jsxs)("div",{className:"flex items-center gap-4 text-xs text-[#98989D]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Vn.jsx)(io,{size:12}),(0,Vn.jsx)("span",{children:WD(t.completionDate)})]}),(0,Vn.jsxs)("div",{children:["Progress: ",t.completionPercentage,"%"]}),t.paymentAmount&&(0,Vn.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Vn.jsx)(xa,{size:12}),(0,Vn.jsx)("span",{children:UD(t.paymentAmount)})]})]}),"draft"!==t.status&&(t.submittedAt||t.approvedAt)&&(0,Vn.jsx)("div",{className:"mt-2 pt-2 border-t border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-4 text-xs text-[#98989D]",children:[t.submittedAt&&(0,Vn.jsxs)("div",{children:["Diajukan: ",(0,Vn.jsx)("span",{className:"text-[#8E8E93]",children:WD(t.submittedAt)})]}),t.approvedAt&&(0,Vn.jsxs)("div",{children:["Disetujui: ",(0,Vn.jsxs)("span",{className:"text-[#8E8E93]",children:[WD(t.approvedAt),t.approvedBy&&" oleh ".concat(t.approvedBy)]})]})]})})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,Vn.jsx)("button",{onClick:()=>r(t),className:"p-1.5 text-[#8E8E93] hover:text-[#0A84FF] hover:bg-[#0A84FF]/10 rounded transition-colors",title:"View BA",children:(0,Vn.jsx)(la,{size:14})}),"draft"===t.status&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("button",{onClick:()=>n(t),className:"p-1.5 text-[#8E8E93] hover:text-[#0A84FF] hover:bg-[#0A84FF]/10 rounded transition-colors",title:"Edit BA",children:(0,Vn.jsx)(rD,{size:14})}),(0,Vn.jsxs)("button",{onClick:()=>a(t.id),className:"bg-[#0A84FF] text-white px-2.5 py-1 rounded text-xs hover:bg-[#0A84FF]/90 transition-colors flex items-center gap-1",children:[(0,Vn.jsx)(jo,{size:12}),"Submit"]}),(0,Vn.jsx)("button",{onClick:()=>s(t.id),className:"p-1.5 text-[#8E8E93] hover:text-[#FF3B30] hover:bg-[#FF3B30]/10 rounded transition-colors",title:"Delete BA",children:(0,Vn.jsx)(ca,{size:14})})]}),"submitted"===t.status&&o&&i&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("button",{onClick:()=>o(t.id),className:"p-1.5 text-[#30D158] hover:bg-[#30D158]/10 rounded transition-colors",title:"Approve BA",children:(0,Vn.jsx)(Ea.A,{size:14})}),(0,Vn.jsx)("button",{onClick:()=>i(t.id),className:"p-1.5 text-[#FF3B30] hover:bg-[#FF3B30]/10 rounded transition-colors",title:"Reject BA",children:(0,Vn.jsx)($D,{size:14})})]})]})]})})},yI=e=>{let{baList:t,onView:r,onEdit:n,onSubmit:a,onDelete:s,onApprove:o,onReject:i,onCreateBA:l}=e;return 0===t.length?(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A]",children:[(0,Vn.jsx)("div",{className:"px-6 py-4 border-b border-[#38383A]",children:(0,Vn.jsx)("h4",{className:"text-lg font-medium text-white",children:"Daftar Berita Acara"})}),(0,Vn.jsxs)("div",{className:"px-6 py-12 text-center",children:[(0,Vn.jsx)(di,{size:48,className:"text-[#48484A] mx-auto mb-4"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] mb-4",children:"Belum ada Berita Acara yang dibuat"}),(0,Vn.jsx)("button",{onClick:l,className:"bg-[#0A84FF] text-white px-4 py-2 rounded-lg hover:bg-[#0A84FF]/90 transition-colors",children:"Buat BA Pertama"})]})]}):(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A]",children:[(0,Vn.jsx)("div",{className:"px-6 py-4 border-b border-[#38383A]",children:(0,Vn.jsx)("h4",{className:"text-lg font-medium text-white",children:"Daftar Berita Acara"})}),(0,Vn.jsx)("div",{className:"divide-y divide-[#38383A]",children:t.map(e=>(0,Vn.jsx)(bI,{ba:e,onView:r,onEdit:n,onSubmit:a,onDelete:s,onApprove:o,onReject:i},e.id))})]})},vI=()=>(0,Vn.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#0A84FF]"}),(0,Vn.jsx)("span",{className:"ml-3 text-[#8E8E93]",children:"Loading Berita Acara..."})]}),jI=e=>{let{error:t}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#FF3B30] rounded-lg p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)(ti,{size:20,className:"text-[#FF3B30] mr-2"}),(0,Vn.jsx)("span",{className:"text-[#FF3B30] font-medium",children:"Error"})]}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] text-sm mt-1",children:t})]})},wI=e=>{let{projectId:t,project:r,beritaAcara:n,onSave:s,onCancel:o}=e;const[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)({milestoneId:"",baType:"partial",workDescription:"",completionPercentage:0,completionDate:(new Date).toISOString().split("T")[0],clientNotes:"",attachments:[],witnesses:[{name:"",position:"",organization:""}]});(0,a.useEffect)(()=>{(async()=>{try{const e=await is(t);d(e.data||[])}catch(e){console.error("Error loading milestones:",e)}})()},[t]),(0,a.useEffect)(()=>{var e;n&&p({milestoneId:n.milestoneId||"",baType:n.baType||"partial",workDescription:n.workDescription||"",completionPercentage:n.completionPercentage||0,completionDate:(null===(e=n.completionDate)||void 0===e?void 0:e.split("T")[0])||"",clientNotes:n.clientNotes||"",attachments:n.attachments||[],witnesses:n.witnesses||[{name:"",position:"",organization:""}]})},[n]);const h=(e,t)=>{p(r=>(0,Mt.A)((0,Mt.A)({},r),{},{[e]:t}))},m=(e,t,r)=>{const n=[...u.witnesses];n[e][t]=r,p(e=>(0,Mt.A)((0,Mt.A)({},e),{},{witnesses:n}))};return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)("div",{className:"flex items-center justify-between",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("button",{onClick:o,className:"p-2 text-[#8E8E93] hover:text-white hover:bg-[#48484A] rounded transition-colors",children:(0,Vn.jsx)(Aa,{size:20})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-xl font-semibold text-white",children:n?"Edit Berita Acara":"Buat Berita Acara Baru"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mt-1",children:(null===r||void 0===r?void 0:r.name)||t})]})]})}),(0,Vn.jsx)("form",{onSubmit:async e=>{e.preventDefault(),l(!0);try{const e=u.witnesses.filter(e=>""!==e.name.trim()),r=(0,Mt.A)((0,Mt.A)({},u),{},{witnesses:e.length>0?e:void 0,status:"draft"});n?(await ws(t,n.id,r),alert("Berita Acara berhasil diperbarui!")):(await js(t,r),alert("Berita Acara berhasil dibuat!")),s()}catch(r){console.error("Error saving BA:",r),alert("Gagal menyimpan Berita Acara. Silakan coba lagi.")}finally{l(!1)}},className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] p-6",children:(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Milestone (Opsional)"}),(0,Vn.jsxs)("select",{value:u.milestoneId,onChange:e=>h("milestoneId",e.target.value),className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"",children:"-- Pilih Milestone --"}),c.map(e=>(0,Vn.jsx)("option",{value:e.id,children:e.title||e.name},e.id))]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Tipe BA ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsxs)("select",{value:u.baType,onChange:e=>h("baType",e.target.value),required:!0,className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"partial",children:"Sebagian (Partial)"}),(0,Vn.jsx)("option",{value:"provisional",children:"Sementara (Provisional)"}),(0,Vn.jsx)("option",{value:"final",children:"Final"})]})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Deskripsi Pekerjaan ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("textarea",{value:u.workDescription,onChange:e=>h("workDescription",e.target.value),required:!0,rows:4,placeholder:"Jelaskan pekerjaan yang telah diselesaikan...",className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#0A84FF] placeholder-[#48484A]"})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Persentase Penyelesaian (%) ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"number",min:"0",max:"100",value:u.completionPercentage,onChange:e=>h("completionPercentage",parseFloat(e.target.value)),required:!0,className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Tanggal Penyelesaian ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"date",value:u.completionDate,onChange:e=>h("completionDate",e.target.value),required:!0,className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Catatan untuk Klien"}),(0,Vn.jsx)("textarea",{value:u.clientNotes,onChange:e=>h("clientNotes",e.target.value),rows:3,placeholder:"Catatan tambahan untuk klien (opsional)...",className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#0A84FF] placeholder-[#48484A]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white",children:"Saksi-saksi"}),(0,Vn.jsxs)("button",{type:"button",onClick:()=>{p(e=>(0,Mt.A)((0,Mt.A)({},e),{},{witnesses:[...e.witnesses,{name:"",position:"",organization:""}]}))},className:"flex items-center gap-1 text-sm text-[#0A84FF] hover:text-[#0A84FF]/80",children:[(0,Vn.jsx)(Pi,{size:16}),"Tambah Saksi"]})]}),(0,Vn.jsx)("div",{className:"space-y-3",children:u.witnesses.map((e,t)=>(0,Vn.jsx)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,Vn.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,Vn.jsx)("input",{type:"text",value:e.name,onChange:e=>m(t,"name",e.target.value),placeholder:"Nama Saksi",className:"bg-[#2C2C2E] border border-[#38383A] text-white rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#0A84FF] placeholder-[#48484A]"}),(0,Vn.jsx)("input",{type:"text",value:e.position,onChange:e=>m(t,"position",e.target.value),placeholder:"Jabatan",className:"bg-[#2C2C2E] border border-[#38383A] text-white rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#0A84FF] placeholder-[#48484A]"}),(0,Vn.jsx)("input",{type:"text",value:e.organization,onChange:e=>m(t,"organization",e.target.value),placeholder:"Organisasi",className:"bg-[#2C2C2E] border border-[#38383A] text-white rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#0A84FF] placeholder-[#48484A]"})]}),u.witnesses.length>1&&(0,Vn.jsx)("button",{type:"button",onClick:()=>(e=>{u.witnesses.length>1&&p(t=>(0,Mt.A)((0,Mt.A)({},t),{},{witnesses:t.witnesses.filter((t,r)=>r!==e)}))})(t),className:"p-2 text-[#FF3B30] hover:bg-[#FF3B30]/10 rounded transition-colors",children:(0,Vn.jsx)(ja.A,{size:16})})]})},t))})]}),(0,Vn.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-[#38383A]",children:[(0,Vn.jsxs)("button",{type:"submit",disabled:i,className:"flex items-center gap-2 bg-[#0A84FF] text-white px-6 py-2.5 rounded-lg hover:bg-[#0A84FF]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Vn.jsx)(gE,{size:16}),i?"Menyimpan...":"Simpan BA"]}),(0,Vn.jsx)("button",{type:"button",onClick:o,className:"bg-[#48484A] text-white px-6 py-2.5 rounded-lg hover:bg-[#48484A]/80 transition-colors",children:"Batal"})]})]})})]})},NI=(0,Qn.A)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),AI=e=>{var t;let{beritaAcara:r,project:n,onPrint:s,onDownload:o,onClose:i}=e;const l=(0,a.useRef)(),c=WD(r.submittedAt||r.createdAt),d="PT Nusantara Construction",u="Jl. Industri No. 123, Jakarta 12345";return(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsx)("div",{className:"sticky top-0 z-10 bg-[#1C1C1E] p-4 rounded-lg shadow-2xl border border-[#38383A] print:hidden",children:(0,Vn.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[i&&(0,Vn.jsxs)("button",{onClick:i,className:"flex items-center gap-2 bg-[#48484A] text-white px-5 py-2.5 rounded-lg hover:bg-[#48484A]/80 transition-colors",children:[(0,Vn.jsx)(Aa,{size:18}),(0,Vn.jsx)("span",{className:"font-medium",children:"Tutup Dokumen"})]}),(0,Vn.jsxs)("button",{onClick:s,className:"flex items-center gap-2 bg-[#0A84FF] text-white px-5 py-2.5 rounded-lg hover:bg-[#0A84FF]/90 transition-colors shadow-lg",children:[(0,Vn.jsx)(ki,{size:18}),(0,Vn.jsx)("span",{className:"font-medium",children:"Print Dokumen"})]}),(0,Vn.jsxs)("button",{onClick:o,className:"flex items-center gap-2 bg-[#30D158] text-white px-5 py-2.5 rounded-lg hover:bg-[#30D158]/90 transition-colors shadow-lg",children:[(0,Vn.jsx)(Ai,{size:18}),(0,Vn.jsx)("span",{className:"font-medium",children:"Download PDF"})]}),(0,Vn.jsxs)("div",{className:"flex-1 min-w-[200px] text-[#8E8E93] text-sm",children:["\ud83d\udca1 Tekan ",(0,Vn.jsx)("kbd",{className:"px-2 py-1 bg-[#2C2C2E] rounded text-white text-xs",children:"Ctrl+P"})," untuk mencetak"]})]})}),(0,Vn.jsx)("div",{ref:l,id:"handover-document",className:"bg-white text-black rounded-lg shadow-2xl print:shadow-none print:rounded-none overflow-hidden",style:{fontFamily:"Times New Roman, serif"},children:(0,Vn.jsxs)("div",{className:"p-8 sm:p-12 print:p-16",children:[(0,Vn.jsxs)("div",{className:"text-center border-b-2 border-black pb-4 mb-6",children:[(0,Vn.jsx)("h1",{className:"text-2xl font-bold uppercase",children:d}),(0,Vn.jsx)("p",{className:"text-sm mt-1",children:u}),(0,Vn.jsxs)("p",{className:"text-sm",children:["Telp: ","+62 21 1234 5678"]})]}),(0,Vn.jsxs)("div",{className:"text-center mb-6",children:[(0,Vn.jsx)("h2",{className:"text-xl font-bold uppercase underline",children:"BERITA ACARA SERAH TERIMA PEKERJAAN"}),(0,Vn.jsxs)("p",{className:"text-sm mt-2",children:["Nomor: ",r.baNumber]})]}),(0,Vn.jsx)("div",{className:"mb-6 text-justify leading-relaxed",children:(0,Vn.jsxs)("p",{className:"indent-8",children:["Pada hari ini, ",(0,Vn.jsx)("strong",{children:c}),", yang bertanda tangan di bawah ini:"]})}),(0,Vn.jsxs)("div",{className:"mb-6",children:[(0,Vn.jsx)("h3",{className:"font-bold mb-2",children:"PIHAK PERTAMA (Kontraktor):"}),(0,Vn.jsx)("table",{className:"w-full text-sm",children:(0,Vn.jsxs)("tbody",{children:[(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"w-32 py-1",children:"Nama"}),(0,Vn.jsx)("td",{className:"w-8",children:":"}),(0,Vn.jsx)("td",{children:r.submittedBy||d})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1",children:"Jabatan"}),(0,Vn.jsx)("td",{children:":"}),(0,Vn.jsx)("td",{children:"Project Manager"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1",children:"Perusahaan"}),(0,Vn.jsx)("td",{children:":"}),(0,Vn.jsx)("td",{children:d})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1",children:"Alamat"}),(0,Vn.jsx)("td",{children:":"}),(0,Vn.jsx)("td",{children:u})]})]})}),(0,Vn.jsxs)("p",{className:"mt-2 text-sm",children:["Dalam hal ini bertindak untuk dan atas nama Pihak Pertama, selanjutnya disebut sebagai ",(0,Vn.jsx)("strong",{children:"PIHAK PERTAMA"}),"."]})]}),(0,Vn.jsxs)("div",{className:"mb-6",children:[(0,Vn.jsx)("h3",{className:"font-bold mb-2",children:"PIHAK KEDUA (Pemberi Kerja/Klien):"}),(0,Vn.jsx)("table",{className:"w-full text-sm",children:(0,Vn.jsxs)("tbody",{children:[(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"w-32 py-1",children:"Nama"}),(0,Vn.jsx)("td",{className:"w-8",children:":"}),(0,Vn.jsx)("td",{children:r.clientRepresentative||"[Nama Klien]"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1",children:"Jabatan"}),(0,Vn.jsx)("td",{children:":"}),(0,Vn.jsx)("td",{children:"Perwakilan Klien"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1",children:"Proyek"}),(0,Vn.jsx)("td",{children:":"}),(0,Vn.jsx)("td",{children:(null===n||void 0===n?void 0:n.name)||"[Nama Proyek]"})]}),(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"py-1",children:"Lokasi"}),(0,Vn.jsx)("td",{children:":"}),(0,Vn.jsx)("td",{children:r.workLocation||("string"===typeof(null===n||void 0===n?void 0:n.location)?n.location:null!==n&&void 0!==n&&null!==(t=n.location)&&void 0!==t&&t.address?"".concat(n.location.address).concat(n.location.city?", "+n.location.city:"").concat(n.location.province?", "+n.location.province:""):"[Lokasi Proyek]")})]})]})}),(0,Vn.jsxs)("p",{className:"mt-2 text-sm",children:["Dalam hal ini bertindak untuk dan atas nama Pihak Kedua, selanjutnya disebut sebagai ",(0,Vn.jsx)("strong",{children:"PIHAK KEDUA"}),"."]})]}),(0,Vn.jsxs)("div",{className:"mb-6",children:[(0,Vn.jsx)("p",{className:"text-justify leading-relaxed mb-3",children:'PIHAK PERTAMA dan PIHAK KEDUA secara bersama-sama disebut sebagai "Para Pihak" dengan ini menyatakan bahwa:'}),(0,Vn.jsxs)("ol",{className:"list-decimal ml-6 space-y-2 text-justify",children:[(0,Vn.jsxs)("li",{children:["PIHAK PERTAMA telah menyelesaikan pekerjaan ",(0,Vn.jsx)("strong",{children:"partial"===r.baType?"Sebagian":"provisional"===r.baType?"Sementara":"Akhir"})," untuk:",(0,Vn.jsxs)("div",{className:"mt-2 ml-4",children:[(0,Vn.jsx)("p",{children:(0,Vn.jsx)("strong",{children:"Deskripsi Pekerjaan:"})}),(0,Vn.jsx)("p",{className:"whitespace-pre-line ml-4",children:r.workDescription})]})]}),(0,Vn.jsxs)("li",{children:["Tingkat penyelesaian pekerjaan adalah ",(0,Vn.jsxs)("strong",{children:[r.completionPercentage,"%"]})," dengan tanggal penyelesaian ",(0,Vn.jsx)("strong",{children:WD(r.completionDate)}),"."]}),r.contractReference&&(0,Vn.jsxs)("li",{children:["Pekerjaan dilaksanakan berdasarkan Kontrak Nomor: ",(0,Vn.jsx)("strong",{children:r.contractReference}),"."]}),(0,Vn.jsx)("li",{children:"PIHAK PERTAMA telah menyerahkan hasil pekerjaan tersebut kepada PIHAK KEDUA dalam kondisi baik dan sesuai dengan spesifikasi yang telah disepakati."}),(0,Vn.jsx)("li",{children:"PIHAK KEDUA telah memeriksa dan menerima hasil pekerjaan yang diserahkan oleh PIHAK PERTAMA."}),r.paymentAmount&&(0,Vn.jsxs)("li",{children:["Nilai pembayaran progress yang disetujui adalah ",(0,Vn.jsx)("strong",{children:UD(r.paymentAmount)}),"."]}),r.clientNotes&&(0,Vn.jsxs)("li",{children:["Catatan dari PIHAK KEDUA:",(0,Vn.jsx)("p",{className:"whitespace-pre-line ml-4 mt-1",children:r.clientNotes})]})]})]}),(0,Vn.jsx)("div",{className:"mb-8 text-justify",children:(0,Vn.jsx)("p",{className:"leading-relaxed",children:"Demikian Berita Acara Serah Terima ini dibuat dengan sebenarnya dalam rangkap 2 (dua) bermaterai cukup, masing-masing mempunyai kekuatan hukum yang sama, untuk dapat dipergunakan sebagaimana mestinya."})}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("p",{className:"font-bold mb-16",children:"PIHAK PERTAMA"}),r.submittedAt&&(0,Vn.jsx)("div",{className:"border-2 border-dashed border-gray-400 h-24 mb-2 flex items-center justify-center",children:r.contractorSignature?(0,Vn.jsx)("img",{src:r.contractorSignature,alt:"Contractor Signature",className:"max-h-20"}):(0,Vn.jsx)("span",{className:"text-gray-400 text-sm",children:"[Tanda Tangan Digital]"})}),(0,Vn.jsxs)("div",{className:"border-t-2 border-black pt-1",children:[(0,Vn.jsx)("p",{className:"font-bold",children:r.submittedBy||d}),(0,Vn.jsx)("p",{className:"text-sm",children:"Project Manager"}),r.submittedAt&&(0,Vn.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Ditandatangani: ",WD(r.submittedAt)]})]})]}),(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("p",{className:"font-bold mb-16",children:"PIHAK KEDUA"}),r.clientSignDate&&(0,Vn.jsx)("div",{className:"border-2 border-dashed border-gray-400 h-24 mb-2 flex items-center justify-center",children:r.clientSignature?(0,Vn.jsx)("img",{src:r.clientSignature,alt:"Client Signature",className:"max-h-20"}):(0,Vn.jsx)("span",{className:"text-gray-400 text-sm",children:"[Tanda Tangan Digital]"})}),(0,Vn.jsxs)("div",{className:"border-t-2 border-black pt-1",children:[(0,Vn.jsx)("p",{className:"font-bold",children:r.clientRepresentative||"[Nama Klien]"}),(0,Vn.jsx)("p",{className:"text-sm",children:"Perwakilan Klien"}),r.clientSignDate&&(0,Vn.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Ditandatangani: ",WD(r.clientSignDate)]})]})]})]}),r.witnesses&&r.witnesses.length>0&&(0,Vn.jsxs)("div",{className:"mb-8",children:[(0,Vn.jsx)("h3",{className:"font-bold text-center mb-4",children:"PARA SAKSI:"}),(0,Vn.jsx)("div",{className:"grid ".concat(r.witnesses.length>2?"grid-cols-3":"grid-cols-2"," gap-6"),children:r.witnesses.map((e,t)=>(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsxs)("p",{className:"font-bold mb-1",children:["Saksi ",t+1]}),e.signature&&(0,Vn.jsx)("div",{className:"border-2 border-dashed border-gray-400 h-20 mb-2 flex items-center justify-center",children:e.signature?(0,Vn.jsx)("img",{src:e.signature,alt:"Witness ".concat(t+1," Signature"),className:"max-h-16"}):(0,Vn.jsx)("span",{className:"text-gray-400 text-xs",children:"[Tanda Tangan]"})}),(0,Vn.jsxs)("div",{className:"border-t-2 border-black pt-1 mt-12",children:[(0,Vn.jsx)("p",{className:"font-bold text-sm",children:e.name}),(0,Vn.jsx)("p",{className:"text-xs",children:e.position}),e.organization&&(0,Vn.jsx)("p",{className:"text-xs text-gray-600",children:e.organization})]})]},t))})]}),(0,Vn.jsxs)("div",{className:"text-center text-xs text-gray-600 mt-8 pt-4 border-t",children:[(0,Vn.jsx)("p",{children:"Dokumen ini dibuat secara elektronik dan sah tanpa memerlukan tanda tangan basah"}),(0,Vn.jsxs)("p",{children:["Generated on ",WD(new Date)," by Nusantara Construction Management System"]})]})]})})]})},kI=e=>{let{beritaAcara:t,project:r,onEdit:n,onBack:s}=e;const[o,i]=(0,a.useState)(!1),l=hI(t.status),c=gI(t.baType);return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("button",{onClick:s,className:"p-2 text-[#8E8E93] hover:text-white hover:bg-[#48484A] rounded transition-colors",children:(0,Vn.jsx)(Aa,{size:20})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)("h3",{className:"text-xl font-semibold text-white",children:t.baNumber}),(0,Vn.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:l.bgColor,color:l.color},children:l.label}),(0,Vn.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-[#48484A] text-[#8E8E93]",children:c.label})]}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mt-1",children:(null===r||void 0===r?void 0:r.name)||"Detail Berita Acara"})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:["draft"===t.status&&(0,Vn.jsxs)("button",{onClick:n,className:"flex items-center gap-2 bg-[#0A84FF] text-white px-4 py-2 rounded-lg hover:bg-[#0A84FF]/90 transition-colors",children:[(0,Vn.jsx)(rD,{size:16}),"Edit BA"]}),["submitted","client_review","approved","rejected"].includes(t.status)&&(0,Vn.jsxs)("button",{onClick:()=>i(!o),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ".concat(o?"bg-[#48484A] text-white hover:bg-[#48484A]/80":"bg-[#30D158] text-white hover:bg-[#30D158]/90"),children:[(0,Vn.jsx)(qT,{size:16}),o?"Sembunyikan Dokumen":"Lihat Berita Acara Formal"]})]})]}),o&&(0,Vn.jsx)("div",{className:"animate-slideDown",children:(0,Vn.jsx)(AI,{beritaAcara:t,project:r,onPrint:()=>{window.print()},onDownload:()=>{alert("Fitur download PDF akan segera tersedia")},onClose:()=>i(!1)})}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Vn.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] p-6",children:[(0,Vn.jsxs)("h4",{className:"text-base font-semibold text-white mb-3 flex items-center gap-2",children:[(0,Vn.jsx)(di,{size:16}),"Deskripsi Pekerjaan"]}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] whitespace-pre-line",children:t.workDescription})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] p-6",children:[(0,Vn.jsxs)("h4",{className:"text-base font-semibold text-white mb-4 flex items-center gap-2",children:[(0,Vn.jsx)(NI,{size:16}),"Detail Progress"]}),(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,Vn.jsx)("span",{className:"text-[#8E8E93]",children:"Persentase Penyelesaian"}),(0,Vn.jsxs)("span",{className:"text-white font-mono",children:[t.completionPercentage,"%"]})]}),(0,Vn.jsx)("div",{className:"w-full bg-[#48484A] rounded-full h-2",children:(0,Vn.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:"".concat(t.completionPercentage,"%"),backgroundColor:l.color}})})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 text-[#8E8E93] text-sm mb-1",children:[(0,Vn.jsx)(io,{size:14}),"Tanggal Penyelesaian"]}),(0,Vn.jsx)("div",{className:"text-white font-medium",children:WD(t.completionDate)})]}),t.milestone&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-[#8E8E93] text-sm mb-1",children:"Milestone Terkait"}),(0,Vn.jsx)("div",{className:"text-white font-medium",children:t.milestone.title||t.milestone.name})]})]})]})]}),t.clientNotes&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] p-6",children:[(0,Vn.jsx)("h4",{className:"text-base font-semibold text-white mb-3",children:"Catatan untuk Klien"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] whitespace-pre-line",children:t.clientNotes})]}),t.witnesses&&t.witnesses.length>0&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] p-6",children:[(0,Vn.jsxs)("h4",{className:"text-base font-semibold text-white mb-4 flex items-center gap-2",children:[(0,Vn.jsx)(ra,{size:16}),"Saksi-saksi"]}),(0,Vn.jsx)("div",{className:"space-y-3",children:t.witnesses.map((e,t)=>(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,Vn.jsx)("div",{className:"text-sm text-[#8E8E93] mt-1",children:e.position}),e.organization&&(0,Vn.jsx)("div",{className:"text-xs text-[#98989D] mt-1",children:e.organization})]},t))})]})]}),(0,Vn.jsxs)("div",{className:"space-y-6",children:[t.submittedAt&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] p-6",children:[(0,Vn.jsx)("h4",{className:"text-base font-semibold text-white mb-4",children:"Informasi Pengajuan"}),(0,Vn.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-[#8E8E93] mb-1",children:"Diajukan Tanggal"}),(0,Vn.jsx)("div",{className:"text-white",children:WD(t.submittedAt)})]}),t.submittedBy&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-[#8E8E93] mb-1",children:"Diajukan Oleh"}),(0,Vn.jsx)("div",{className:"text-white",children:t.submittedBy})]})]})]}),t.approvedAt&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] p-6",children:[(0,Vn.jsxs)("h4",{className:"text-base font-semibold text-white mb-4 flex items-center gap-2",children:[(0,Vn.jsx)(Ea.A,{size:16,className:"text-[#30D158]"}),"Informasi Persetujuan"]}),(0,Vn.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-[#8E8E93] mb-1",children:"Disetujui Tanggal"}),(0,Vn.jsx)("div",{className:"text-white",children:WD(t.approvedAt)})]}),t.approvedBy&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-[#8E8E93] mb-1",children:"Disetujui Oleh"}),(0,Vn.jsx)("div",{className:"text-white",children:t.approvedBy})]}),t.clientApprovalNotes&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-[#8E8E93] mb-1",children:"Catatan Persetujuan"}),(0,Vn.jsx)("div",{className:"text-white",children:t.clientApprovalNotes})]})]})]}),"rejected"===t.status&&t.rejectionReason&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#FF3B30] p-6",children:[(0,Vn.jsx)("h4",{className:"text-base font-semibold text-[#FF3B30] mb-3",children:"Alasan Penolakan"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] text-sm",children:t.rejectionReason})]}),t.paymentAuthorized&&t.paymentAmount&&(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#30D158] p-6",children:[(0,Vn.jsxs)("h4",{className:"text-base font-semibold text-white mb-4 flex items-center gap-2",children:[(0,Vn.jsx)(xa,{size:16,className:"text-[#30D158]"}),"Informasi Pembayaran"]}),(0,Vn.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-[#8E8E93] mb-1",children:"Jumlah Pembayaran"}),(0,Vn.jsx)("div",{className:"text-lg font-bold text-[#30D158]",children:UD(t.paymentAmount)})]}),t.paymentDueDate&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-[#8E8E93] mb-1",children:"Jatuh Tempo"}),(0,Vn.jsx)("div",{className:"text-white",children:WD(t.paymentDueDate)})]})]})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#38383A] p-6",children:[(0,Vn.jsx)("h4",{className:"text-base font-semibold text-white mb-4",children:"Informasi Dokumen"}),(0,Vn.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-[#8E8E93] mb-1",children:"Dibuat Tanggal"}),(0,Vn.jsx)("div",{className:"text-white",children:WD(t.createdAt)})]}),t.updatedAt&&t.updatedAt!==t.createdAt&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-[#8E8E93] mb-1",children:"Terakhir Diubah"}),(0,Vn.jsx)("div",{className:"text-white",children:WD(t.updatedAt)})]})]})]})]})]}),(0,Vn.jsx)("div",{className:"flex gap-3",children:(0,Vn.jsx)("button",{onClick:s,className:"bg-[#48484A] text-white px-6 py-2.5 rounded-lg hover:bg-[#48484A]/80 transition-colors",children:"Kembali ke Daftar"})})]})},CI=(0,Qn.A)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),FI=e=>{var t,r;let{beritaAcara:n,project:s,onSubmit:o,onCancel:i}=e;const[l,c]=(0,a.useState)(1),[d,u]=(0,a.useState)({clientRepresentative:"",workLocation:n.workLocation||("string"===typeof(null===s||void 0===s?void 0:s.location)?s.location:(null===s||void 0===s||null===(t=s.location)||void 0===t?void 0:t.address)||(null===s||void 0===s||null===(r=s.location)||void 0===r?void 0:r.fullAddress)||""),contractReference:n.contractReference||"",contractorName:localStorage.getItem("username")||"",notes:n.notes||""}),p=(e,t)=>{u(r=>(0,Mt.A)((0,Mt.A)({},r),{},{[e]:t}))};return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#0A84FF] mb-6 overflow-hidden animate-slideDown",children:[(0,Vn.jsxs)("div",{className:"bg-gradient-to-r from-[#0A84FF]/10 to-transparent border-b border-[#38383A] px-6 py-4 flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#0A84FF]/20 flex items-center justify-center",children:(0,Vn.jsx)(di,{size:20,className:"text-[#0A84FF]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Submit Berita Acara"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:n.baNumber})]})]}),(0,Vn.jsx)("button",{onClick:i,className:"text-[#8E8E93] hover:text-white transition-colors p-2 hover:bg-[#38383A] rounded",title:"Batal",children:(0,Vn.jsx)(ja.A,{size:20})})]}),(0,Vn.jsx)("div",{className:"px-6 py-4 border-b border-[#38383A] bg-[#1C1C1E]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 ".concat(l>=1?"text-[#0A84FF]":"text-[#48484A]"),children:[(0,Vn.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(l>=1?"bg-[#0A84FF]":"bg-[#48484A]"),children:(0,Vn.jsx)(di,{size:16,className:"text-white"})}),(0,Vn.jsx)("span",{className:"text-sm font-medium",children:"Data Serah Terima"})]}),(0,Vn.jsx)("div",{className:"flex-1 h-0.5 mx-4 ".concat(l>=2?"bg-[#0A84FF]":"bg-[#48484A]")}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2 ".concat(l>=2?"text-[#0A84FF]":"text-[#48484A]"),children:[(0,Vn.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(l>=2?"bg-[#0A84FF]":"bg-[#48484A]"),children:(0,Vn.jsx)(CI,{size:16,className:"text-white"})}),(0,Vn.jsx)("span",{className:"text-sm font-medium",children:"Tanda Tangan"})]})]})}),(0,Vn.jsxs)("div",{className:"px-6 py-6",children:[1===l&&(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsx)("div",{className:"bg-[#0A84FF]/10 border border-[#0A84FF]/30 rounded-lg p-4 mb-6",children:(0,Vn.jsxs)("div",{className:"flex gap-3",children:[(0,Vn.jsx)(di,{className:"text-[#0A84FF] flex-shrink-0",size:20}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-white font-medium mb-1",children:"Form Berita Acara Serah Terima"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Lengkapi data serah terima sebelum submit. Data ini akan digunakan untuk generate dokumen formal."})]})]})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Nama Perwakilan Klien ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"text",value:d.clientRepresentative,onChange:e=>p("clientRepresentative",e.target.value),placeholder:"Nama lengkap perwakilan klien",className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#0A84FF] placeholder-[#48484A]"}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mt-1",children:"Nama yang akan menandatangani sebagai perwakilan klien"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Lokasi Pekerjaan ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"text",value:d.workLocation,onChange:e=>p("workLocation",e.target.value),placeholder:"Lokasi lengkap pekerjaan",className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#0A84FF] placeholder-[#48484A]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Nomor Kontrak/Referensi"}),(0,Vn.jsx)("input",{type:"text",value:d.contractReference,onChange:e=>p("contractReference",e.target.value),placeholder:"Nomor kontrak atau referensi dokumen",className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#0A84FF] placeholder-[#48484A]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Catatan Tambahan"}),(0,Vn.jsx)("textarea",{value:d.notes,onChange:e=>p("notes",e.target.value),rows:3,placeholder:"Catatan tambahan untuk dokumen serah terima...",className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#0A84FF] placeholder-[#48484A]"})]}),(0,Vn.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Vn.jsx)("button",{onClick:i,className:"flex-1 bg-[#48484A] text-white px-4 py-2.5 rounded-lg hover:bg-[#48484A]/80 transition-colors",children:"Batal"}),(0,Vn.jsx)("button",{onClick:()=>{d.clientRepresentative.trim()?d.workLocation.trim()?c(2):alert("Lokasi pekerjaan harus diisi"):alert("Nama perwakilan klien harus diisi")},className:"flex-1 bg-[#0A84FF] text-white px-4 py-2.5 rounded-lg hover:bg-[#0A84FF]/90 transition-colors",children:"Lanjut ke Tanda Tangan"})]})]}),2===l&&(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsx)("div",{className:"bg-[#30D158]/10 border border-[#30D158]/30 rounded-lg p-4 mb-6",children:(0,Vn.jsxs)("div",{className:"flex gap-3",children:[(0,Vn.jsx)(Ea.A,{className:"text-[#30D158] flex-shrink-0",size:20}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-white font-medium mb-1",children:"Konfirmasi Submit"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Masukkan nama Anda sebagai perwakilan kontraktor untuk melengkapi dokumen serah terima."})]})]})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-3",children:["Nama Kontraktor ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"text",value:d.contractorName,onChange:e=>p("contractorName",e.target.value),placeholder:"Nama lengkap kontraktor",className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#0A84FF] placeholder-[#48484A]"}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mt-1",children:"Nama yang akan tercatat sebagai perwakilan kontraktor"})]}),(0,Vn.jsx)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Vn.jsx)(ra,{size:16,className:"text-[#8E8E93] mt-0.5"}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium text-white mb-1",children:"Yang Bertanda Tangan:"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:d.contractorName||"Belum diisi"}),(0,Vn.jsx)("p",{className:"text-xs text-[#98989D] mt-1",children:"Jabatan: Project Manager / Site Manager"})]})]})}),(0,Vn.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Vn.jsx)("button",{onClick:()=>c(1),className:"flex-1 bg-[#48484A] text-white px-4 py-2.5 rounded-lg hover:bg-[#48484A]/80 transition-colors",children:"Kembali"}),(0,Vn.jsxs)("button",{onClick:()=>{if(console.log("\ud83d\udcdd SubmitBAModal - handleSubmit called"),console.log("Current form data:",d),!d.contractorName.trim())return console.warn("\u26a0\ufe0f Missing contractor name"),void alert("Nama kontraktor harus diisi");console.log("\u2705 Validation passed, calling onSubmit..."),o((0,Mt.A)((0,Mt.A)({},d),{},{contractorSignature:"Signed by: ".concat(d.contractorName),submittedBy:d.contractorName||localStorage.getItem("username")||"current_user"}))},disabled:!d.contractorName.trim(),className:"flex-1 flex items-center justify-center gap-2 bg-[#30D158] text-white px-4 py-2.5 rounded-lg hover:bg-[#30D158]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Vn.jsx)(Ea.A,{size:16}),"Submit Berita Acara"]})]})]})]})]})},SI=e=>{let{projectId:t,project:r,activeBA:n,onBAChange:s}=e;const[o,i]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),{baList:d,loading:u,error:p,deleteBA:h,refreshData:m}=((e,t)=>{const[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null),c=(0,a.useCallback)(async()=>{if(e){o(!0),l(null);try{const t=await fetch("/api/projects/".concat(e,"/berita-acara"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!t.ok)throw new Error("Failed to load Berita Acara data");{const e=await t.json();n(e.data||[])}}catch(t){l(t.message),console.error("Error fetching Berita Acara:",t)}finally{o(!1)}}},[e]),d=(0,a.useCallback)(async r=>{try{if((await fetch("/api/projects/".concat(e,"/berita-acara/").concat(r,"/submit"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({submittedBy:localStorage.getItem("username")||"current_user"})})).ok)return await c(),t&&t(),{success:!0,message:"Berita Acara berhasil diajukan untuk review!"};throw new Error("Failed to submit BA")}catch(i){return console.error("Error submitting BA:",i),{success:!1,message:"Gagal mengajukan Berita Acara"}}},[e,c,t]),u=(0,a.useCallback)(async r=>{if(!window.confirm("Yakin ingin menghapus Berita Acara ini?"))return{success:!1,cancelled:!0};try{if((await fetch("/api/projects/".concat(e,"/berita-acara/").concat(r),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok)return await c(),t&&t(),{success:!0,message:"Berita Acara berhasil dihapus"};throw new Error("Failed to delete BA")}catch(i){return console.error("Error deleting BA:",i),{success:!1,message:"Gagal menghapus Berita Acara"}}},[e,c,t]),p=(0,a.useCallback)(()=>{c()},[c]);return(0,a.useEffect)(()=>{c()},[c]),{baList:r,loading:s,error:i,fetchBeritaAcaraList:c,submitBA:d,deleteBA:u,refreshData:p}})(t,s),{viewMode:f,selectedBA:x,handleCreateBA:g,handleEditBA:b,handleViewBA:y,resetToList:v,switchToEdit:j}=(()=>{const[e,t]=(0,a.useState)("list"),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(!1);return{viewMode:e,selectedBA:r,showCreateForm:s,handleCreateBA:(0,a.useCallback)(()=>{n(null),t("form"),o(!0)},[]),handleEditBA:(0,a.useCallback)(e=>{n(e),t("form"),o(!0)},[]),handleViewBA:(0,a.useCallback)(e=>{n(e),t("view")},[]),resetToList:(0,a.useCallback)(()=>{t("list"),n(null),o(!1)},[]),switchToEdit:(0,a.useCallback)(()=>{t("form"),o(!0)},[])}})(),w=(e=>(0,a.useMemo)(()=>Array.isArray(e)&&0!==e.length?{total:e.length,pending:e.filter(e=>["draft","submitted","client_review"].includes(e.status)).length,approved:e.filter(e=>"approved"===e.status).length,paymentReady:e.filter(e=>"approved"===e.status&&e.paymentAuthorized).length,draft:e.filter(e=>"draft"===e.status).length,rejected:e.filter(e=>"rejected"===e.status).length}:{total:0,pending:0,approved:0,paymentReady:0,draft:0,rejected:0},[e]))(d),N=()=>{m(),v()};return u?(0,Vn.jsx)(vI,{}):p?(0,Vn.jsx)(jI,{error:p}):"form"===f?(0,Vn.jsx)(wI,{projectId:t,project:r,beritaAcara:x,onSave:N,onCancel:v}):"view"===f?(0,Vn.jsx)(kI,{beritaAcara:x,project:r,onEdit:j,onBack:v}):(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)(iI,{onCreateBA:g}),(0,Vn.jsx)(oI,{statistics:w}),(0,Vn.jsx)(yI,{baList:d,onView:y,onEdit:b,onSubmit:e=>{console.log("\ud83d\ude80 handleSubmitBA called with baId:",e);const t=d.find(t=>t.id===e);console.log("\ud83d\udcc4 Found BA:",t),t?(c(t),i(!0),console.log("\u2705 Submit modal opened")):console.error("\u274c BA not found in list")},onDelete:async e=>{const t=await h(e);t.cancelled||alert(t.message)},onApprove:async e=>{if(window.confirm("Apakah Anda yakin ingin menyetujui Berita Acara ini?\n\nBA yang disetujui akan dapat digunakan untuk membuat Progress Payment."))try{await As(t,e),alert("Berita Acara berhasil disetujui!"),m(),s&&s()}catch(p){var r,n;console.error("Error approving BA:",p),alert("Gagal menyetujui Berita Acara: "+((null===(r=p.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||p.message))}},onReject:async e=>{const r=window.prompt("Alasan penolakan Berita Acara:\n\n(Masukkan alasan mengapa BA ini ditolak)");if(null!==r)if(r.trim())try{await ks(t,e,{reason:r.trim()}),alert("Berita Acara berhasil ditolak!"),m(),s&&s()}catch(p){var n,a;console.error("Error rejecting BA:",p),alert("Gagal menolak Berita Acara: "+((null===(n=p.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||p.message))}else alert("Alasan penolakan harus diisi!")},onCreateBA:g}),o&&l&&(0,Vn.jsx)(FI,{beritaAcara:l,project:r,onSubmit:async e=>{console.log("\ud83c\udfaf handleConfirmSubmit called with data:",e),console.log("\ud83d\udccb BA to submit:",l);try{console.log("1\ufe0f\u20e3 Updating BA with handover data..."),await ws(t,l.id,{clientRepresentative:e.clientRepresentative,workLocation:e.workLocation,contractReference:e.contractReference,contractorSignature:e.contractorSignature,notes:e.notes}),console.log("\u2705 BA updated successfully"),console.log("2\ufe0f\u20e3 Submitting BA...");const r=await Ns(t,l.id,{submittedBy:e.submittedBy});console.log("\u2705 BA submitted successfully:",r),alert("Berita Acara berhasil disubmit dengan dokumen serah terima!"),i(!1),c(null),m(),s&&s()}catch(p){var r;console.error("\u274c Error submitting BA:",p),console.error("Error details:",{message:p.message,response:null===(r=p.response)||void 0===r?void 0:r.data,stack:p.stack}),alert("Gagal submit Berita Acara: "+(p.message||"Unknown error"))}},onCancel:()=>{i(!1),c(null)}})]})},EI=e=>{let{summary:t}=e;const r=[{label:"Total Payments",value:t.total||0,subValue:VD(t.totalAmount),fullValue:UD(t.totalAmount),description:"Total pembayaran",icon:di,gradient:"from-[#0A84FF]/10 to-[#0A84FF]/5",borderColor:"border-[#0A84FF]/30",iconBg:"bg-[#0A84FF]/20",iconColor:"text-[#0A84FF]",valueColor:"text-white",subValueColor:"text-[#0A84FF]"},{label:"Paid",value:t.paid||0,subValue:VD(t.paidAmount),fullValue:UD(t.paidAmount),description:"".concat(t.total>0?Math.round(t.paid/t.total*100):0,"% dari total"),icon:Ea.A,gradient:"from-[#30D158]/10 to-[#30D158]/5",borderColor:"border-[#30D158]/30",iconBg:"bg-[#30D158]/20",iconColor:"text-[#30D158]",valueColor:"text-white",subValueColor:"text-[#30D158]"},{label:"Approved",value:t.approved||0,subValue:VD(t.approvedAmount||0),fullValue:UD(t.approvedAmount||0),description:"".concat(t.total>0?Math.round(t.approved/t.total*100):0,"% dari total"),icon:ui,gradient:"from-[#BF5AF2]/10 to-[#BF5AF2]/5",borderColor:"border-[#BF5AF2]/30",iconBg:"bg-[#BF5AF2]/20",iconColor:"text-[#BF5AF2]",valueColor:"text-white",subValueColor:"text-[#BF5AF2]"},{label:"Pending",value:t.pending||0,subValue:VD(t.pendingAmount),fullValue:UD(t.pendingAmount),description:"".concat(t.total>0?Math.round(t.pending/t.total*100):0,"% dari total"),icon:Sa,gradient:"from-[#FFD60A]/10 to-[#FFD60A]/5",borderColor:"border-[#FFD60A]/30",iconBg:"bg-[#FFD60A]/20",iconColor:"text-[#FFD60A]",valueColor:"text-white",subValueColor:"text-[#FFD60A]"}];return(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:r.map((e,t)=>{const r=e.icon;return(0,Vn.jsxs)("div",{className:"bg-gradient-to-br ".concat(e.gradient," border ").concat(e.borderColor," rounded-xl p-4 hover:scale-[1.02] transition-all duration-200 cursor-pointer"),title:e.fullValue,children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Vn.jsx)("div",{className:"".concat(e.iconBg," rounded-lg p-2"),children:(0,Vn.jsx)(r,{size:18,className:e.iconColor})}),(0,Vn.jsx)("span",{className:"text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:e.label})]}),(0,Vn.jsx)("div",{className:"mb-2",children:(0,Vn.jsx)("p",{className:"text-3xl font-bold ".concat(e.valueColor," leading-none"),children:e.value})}),(0,Vn.jsx)("div",{className:"mb-1",children:(0,Vn.jsx)("p",{className:"text-base font-semibold ".concat(e.subValueColor),children:e.subValue})}),(0,Vn.jsx)("div",{className:"pt-2 border-t border-white/10",children:(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:e.description})})]},t)})})},PI=e=>{let{hasApprovedBA:t}=e;return t?null:(0,Vn.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"flex items-start",children:[(0,Vn.jsx)(ti,{className:"h-5 w-5 text-amber-500 mr-2 mt-0.5"}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h4",{className:"text-sm font-medium text-amber-800",children:"Berita Acara Diperlukan"}),(0,Vn.jsx)("p",{className:"text-sm text-amber-700 mt-1",children:'Untuk membuat Progress Payment, diperlukan Berita Acara yang sudah disetujui. Silakan buat dan setujui Berita Acara terlebih dahulu di tab "Berita Acara".'})]})]})})},DI=e=>{let{payments:t,onViewPayment:r,onApprovePayment:n,onCreatePayment:a,canCreate:s=!0}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg overflow-hidden",children:[(0,Vn.jsxs)("div",{className:"px-4 py-3 border-b border-[#38383A] bg-[#1C1C1E] flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-base font-semibold text-white",children:"Daftar Progress Payments"}),(0,Vn.jsxs)("p",{className:"text-xs text-[#8E8E93] mt-0.5",children:[t.length," pembayaran terdaftar"]})]}),s&&a&&(0,Vn.jsxs)("button",{onClick:a,className:"flex items-center gap-2 px-3 py-1.5 bg-[#30D158] text-white text-sm rounded-lg hover:bg-[#30D158]/90 transition-colors font-medium",children:[(0,Vn.jsx)(Pi,{size:16}),(0,Vn.jsx)("span",{children:"Buat Pembayaran"})]})]}),(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"min-w-full divide-y divide-[#38383A]",children:[(0,Vn.jsx)("thead",{className:"bg-[#1C1C1E]",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Payment Info"}),(0,Vn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Berita Acara"}),(0,Vn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Amount"}),(0,Vn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Due Date"}),(0,Vn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Invoice"}),(0,Vn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-[#8E8E93] uppercase tracking-wider",children:"Actions"})]})}),(0,Vn.jsx)("tbody",{className:"bg-[#2C2C2E] divide-y divide-[#38383A]",children:t.map(e=>{var t;return(0,Vn.jsxs)("tr",{className:"hover:bg-[#38383A]/30 transition-colors",children:[(0,Vn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#0A84FF]/20 flex items-center justify-center flex-shrink-0",children:(0,Vn.jsx)(di,{size:14,className:"text-[#0A84FF]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"text-xs font-medium text-white",children:["Payment #",e.paymentNumber]}),(0,Vn.jsx)("div",{className:"text-xs text-[#8E8E93]",children:WD(e.createdAt)})]})]})}),(0,Vn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-xs font-medium text-white",children:(null===(t=e.beritaAcara)||void 0===t?void 0:t.baNumber)||"N/A"}),(0,Vn.jsxs)("div",{className:"text-xs text-[#8E8E93]",children:[e.percentage,"% selesai"]})]})}),(0,Vn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-xs font-medium text-white",children:UD(e.netAmount)}),(0,Vn.jsxs)("div",{className:"text-xs text-[#8E8E93]",children:["Gross: ",UD(e.amount)]})]})}),(0,Vn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5 text-[#8E8E93]",children:[(0,Vn.jsx)(io,{size:12}),(0,Vn.jsx)("span",{className:"text-xs",children:WD(e.dueDate)})]})}),(0,Vn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"text-xs font-medium text-white",children:e.invoiceNumber||"N/A"}),(0,Vn.jsx)("div",{className:"text-xs text-[#8E8E93]",children:e.invoiceDate?WD(e.invoiceDate):"-"})]})}),(0,Vn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:(0,Vn.jsxs)("div",{className:"flex gap-1.5",children:[(0,Vn.jsx)("button",{onClick:()=>r(e),className:"p-1.5 text-[#0A84FF] hover:bg-[#0A84FF]/10 rounded-lg transition-colors",title:"View Details",children:(0,Vn.jsx)(la,{size:14})}),"pending_approval"===e.status&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("button",{onClick:()=>n(e.id,"approved"),className:"p-1.5 text-[#30D158] hover:bg-[#30D158]/10 rounded-lg transition-colors",title:"Approve Payment",children:(0,Vn.jsx)(Ea.A,{size:14})}),(0,Vn.jsx)("button",{onClick:()=>{const t=window.prompt("Alasan penolakan pembayaran:\n\n(Masukkan alasan mengapa pembayaran ini ditolak)");null!==t&&t.trim()&&n(e.id,"rejected",t.trim())},className:"p-1.5 text-[#FF3B30] hover:bg-[#FF3B30]/10 rounded-lg transition-colors",title:"Reject Payment",children:(0,Vn.jsx)($D,{size:14})})]})]})})]},e.id)})})]})})]})},OI=e=>{let{hasApprovedBA:t,onCreatePayment:r}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-12 text-center",children:[(0,Vn.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-[#0A84FF]/10 mb-4",children:(0,Vn.jsx)(ii,{className:"h-8 w-8 text-[#0A84FF]"})}),(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Belum Ada Progress Payment"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] mb-6 max-w-md mx-auto",children:t?"Buat progress payment pertama berdasarkan Berita Acara yang sudah disetujui.":"Buat dan setujui Berita Acara terlebih dahulu untuk membuat pembayaran progress."}),t&&r&&(0,Vn.jsxs)("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2 bg-[#30D158] text-white text-sm font-medium rounded-lg hover:bg-[#30D158]/90 transition-colors",children:[(0,Vn.jsx)(Pi,{size:16}),(0,Vn.jsx)("span",{children:"Buat Pembayaran Pertama"})]}),!t&&(0,Vn.jsx)("p",{className:"text-xs text-[#FF9500] mt-4",children:'\ud83d\udca1 Tip: Approve Berita Acara di tab "Berita Acara" untuk membuat pembayaran'})]})},TI=()=>(0,Vn.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,Vn.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading Progress Payments..."})]}),II=e=>{let{error:t}=e;return(0,Vn.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)(Vo.A,{className:"h-5 w-5 text-red-500 mr-2"}),(0,Vn.jsxs)("span",{className:"text-red-700",children:["Error: ",t]})]})})},MI=e=>{let{onClose:t,onSubmit:r,projectId:n}=e;const[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)([]),[c,d]=(0,a.useState)({beritaAcaraId:"",amount:"",percentage:"",dueDate:"",description:"",notes:""}),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)({});(0,a.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/projects/".concat(n,"/berita-acara?status=approved"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const t=await e.json();l(t.data||[])}}catch(e){console.error("Error fetching BA:",e)}})()},[n]);const f=(e,t)=>{d(r=>(0,Mt.A)((0,Mt.A)({},r),{},{[e]:t})),h[e]&&m(t=>(0,Mt.A)((0,Mt.A)({},t),{},{[e]:""}))};return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#0A84FF] mb-6 overflow-hidden animate-slideDown",children:[(0,Vn.jsxs)("div",{className:"bg-gradient-to-r from-[#0A84FF]/10 to-transparent border-b border-[#38383A] px-6 py-4 flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#0A84FF]/20 flex items-center justify-center",children:(0,Vn.jsx)(xa,{size:20,className:"text-[#0A84FF]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Buat Progress Payment Baru"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Isi form di bawah untuk membuat pembayaran progress"})]})]}),(0,Vn.jsx)("button",{onClick:t,className:"text-[#8E8E93] hover:text-white transition-colors p-2 hover:bg-[#38383A] rounded",children:(0,Vn.jsx)(ja.A,{size:20})})]}),(0,Vn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return c.beritaAcaraId||(e.beritaAcaraId="Pilih Berita Acara"),(!c.amount||c.amount<=0)&&(e.amount="Jumlah harus lebih dari 0"),(!c.percentage||c.percentage<=0)&&(e.percentage="Persentase harus lebih dari 0"),c.dueDate||(e.dueDate="Tanggal jatuh tempo harus diisi"),m(e),0===Object.keys(e).length})()){o(!0);try{const e={beritaAcaraId:String(c.beritaAcaraId),amount:parseFloat(c.amount),percentage:parseFloat(c.percentage),dueDate:c.dueDate,notes:c.notes||"",taxAmount:0,retentionAmount:0};console.log("\ud83d\udce4 Submitting payment data:",e),await r(e)}catch(t){console.error("\u274c Submit error:",t),alert("Gagal membuat pembayaran: "+t.message)}finally{o(!1)}}},className:"p-6 space-y-5",children:[(0,Vn.jsx)("div",{className:"bg-[#0A84FF]/10 border border-[#0A84FF]/30 rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"flex gap-3",children:[(0,Vn.jsx)(Vo.A,{className:"text-[#0A84FF] flex-shrink-0",size:20}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-white font-medium mb-1",children:"Informasi Pembayaran Progress"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Pilih Berita Acara yang sudah disetujui untuk membuat pembayaran. Jumlah dan persentase akan otomatis disesuaikan."})]})]})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Pilih Berita Acara ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsxs)("select",{value:c.beritaAcaraId,onChange:e=>(e=>{const t=i.find(t=>t.id===parseInt(e));p(t),d(r=>(0,Mt.A)((0,Mt.A)({},r),{},{beritaAcaraId:String(e),description:t?"Pembayaran Progress ".concat(t.completionPercentage,"% - ").concat(t.baNumber):"",percentage:t?String(t.completionPercentage):""}))})(e.target.value),className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"",children:"-- Pilih Berita Acara --"}),i.map(e=>(0,Vn.jsxs)("option",{value:e.id,children:[e.baNumber," - ",e.completionPercentage,"% (",WD(e.completionDate),")"]},e.id))]}),h.beritaAcaraId&&(0,Vn.jsx)("p",{className:"text-[#FF3B30] text-sm mt-1",children:h.beritaAcaraId})]}),u&&(0,Vn.jsx)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Vn.jsx)(di,{size:20,className:"text-[#0A84FF] mt-0.5"}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h4",{className:"text-white font-medium mb-2",children:u.baNumber}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-[#8E8E93]",children:"Progress:"}),(0,Vn.jsxs)("span",{className:"text-white ml-2",children:[u.completionPercentage,"%"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-[#8E8E93]",children:"Tanggal:"}),(0,Vn.jsx)("span",{className:"text-white ml-2",children:WD(u.completionDate)})]})]}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] text-sm mt-2",children:u.workDescription})]})]})}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Jumlah Pembayaran ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#8E8E93]",children:"Rp"}),(0,Vn.jsx)("input",{type:"number",value:c.amount,onChange:e=>f("amount",e.target.value),placeholder:"0",className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg pl-10 pr-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),h.amount&&(0,Vn.jsx)("p",{className:"text-[#FF3B30] text-sm mt-1",children:h.amount})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Persentase Pembayaran ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("input",{type:"number",value:c.percentage,onChange:e=>f("percentage",e.target.value),placeholder:"0",min:"0",max:"100",className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"}),(0,Vn.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#8E8E93]",children:"%"})]}),h.percentage&&(0,Vn.jsx)("p",{className:"text-[#FF3B30] text-sm mt-1",children:h.percentage})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Tanggal Jatuh Tempo ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"date",value:c.dueDate,onChange:e=>f("dueDate",e.target.value),className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"}),h.dueDate&&(0,Vn.jsx)("p",{className:"text-[#FF3B30] text-sm mt-1",children:h.dueDate})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Deskripsi"}),(0,Vn.jsx)("input",{type:"text",value:c.description,onChange:e=>f("description",e.target.value),placeholder:"Deskripsi pembayaran",className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Catatan Tambahan"}),(0,Vn.jsx)("textarea",{value:c.notes,onChange:e=>f("notes",e.target.value),rows:3,placeholder:"Catatan atau informasi tambahan...",className:"w-full bg-[#1C1C1E] border border-[#38383A] text-white rounded-lg px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-[#38383A]",children:[(0,Vn.jsx)("button",{type:"button",onClick:t,className:"flex-1 bg-[#48484A] text-white px-4 py-2.5 rounded-lg hover:bg-[#48484A]/80 transition-colors font-medium",children:"Batal"}),(0,Vn.jsx)("button",{type:"submit",disabled:s,className:"flex-1 flex items-center justify-center gap-2 bg-[#30D158] text-white px-4 py-2.5 rounded-lg hover:bg-[#30D158]/90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:s?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Menyimpan..."]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(Ea.A,{size:18}),"Buat Pembayaran"]})})]})]})]})},_I=e=>{let{payment:t,onClose:r}=e;return t?(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg overflow-hidden animate-slideDown",children:[(0,Vn.jsxs)("div",{className:"sticky top-0 z-10 bg-[#1C1C1E] border-b border-[#38383A] px-6 py-4 flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-[#0A84FF] to-[#0066CC] flex items-center justify-center",children:(0,Vn.jsx)(ii,{size:20,className:"text-white"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Payment Details"}),(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93]",children:["Payment #",t.paymentNumber]})]})]}),(0,Vn.jsx)("button",{onClick:r,className:"p-2 text-[#8E8E93] hover:text-white hover:bg-[#38383A] rounded-lg transition-colors",children:(0,Vn.jsx)(ja.A,{size:20})})]}),(0,Vn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Vn.jsx)(ii,{size:18,className:"text-[#0A84FF]"}),(0,Vn.jsx)("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Invoice Information"})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Invoice Number"}),(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:t.invoiceNumber||"N/A"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Invoice Date"}),(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:t.invoiceDate?WD(t.invoiceDate):"N/A"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Invoice Status"}),(0,Vn.jsx)("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs font-semibold rounded-full ".concat("paid"===t.status||"approved"===t.status?"bg-[#30D158]/20 text-[#30D158]":"rejected"===t.status?"bg-[#FF3B30]/20 text-[#FF3B30]":"processing"===t.status?"bg-[#FF9F0A]/20 text-[#FF9F0A]":"bg-[#8E8E93]/20 text-[#8E8E93]"),children:"paid"===t.status?"Paid":"approved"===t.status?"Approved":"rejected"===t.status?"Rejected":"processing"===t.status?"Pending":"Draft"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Due Date"}),(0,Vn.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium text-white",children:[(0,Vn.jsx)(io,{size:14,className:"text-[#8E8E93]"}),WD(t.dueDate)]})]})]})]}),(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Vn.jsx)(xa,{size:18,className:"text-[#30D158]"}),(0,Vn.jsx)("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Payment Amount"})]}),(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center pb-3 border-b border-[#38383A]",children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Gross Amount"}),(0,Vn.jsx)("span",{className:"text-base font-semibold text-white",children:UD(t.amount)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Tax Amount"}),(0,Vn.jsxs)("span",{className:"text-sm text-[#FF453A]",children:["- ",UD(t.taxAmount||0)]})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Retention Amount"}),(0,Vn.jsxs)("span",{className:"text-sm text-[#FF9F0A]",children:["- ",UD(t.retentionAmount||0)]})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-[#38383A]",children:[(0,Vn.jsx)("span",{className:"text-base font-semibold text-white",children:"Net Amount"}),(0,Vn.jsx)("span",{className:"text-xl font-bold text-[#30D158]",children:UD(t.netAmount)})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center pt-2",children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Percentage"}),(0,Vn.jsxs)("span",{className:"text-sm font-medium text-[#0A84FF]",children:[t.percentage,"%"]})]})]})]}),t.beritaAcara&&(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Vn.jsx)(di,{size:18,className:"text-[#BF5AF2]"}),(0,Vn.jsx)("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Berita Acara"})]}),(0,Vn.jsxs)("div",{className:"space-y-2",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"BA Number"}),(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:t.beritaAcara.baNumber})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"BA Type"}),(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:t.beritaAcara.baType})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Work Description"}),(0,Vn.jsx)("p",{className:"text-sm text-white",children:t.beritaAcara.workDescription||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Completion"}),(0,Vn.jsxs)("p",{className:"text-sm font-medium text-white",children:[t.beritaAcara.completionPercentage,"%"]})]})]})]}),(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] rounded-lg p-4 border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Vn.jsx)(Sa,{size:18,className:"text-[#8E8E93]"}),(0,Vn.jsx)("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Additional Information"})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Payment Method"}),(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:t.paymentMethod||"N/A"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Bank Account"}),(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:t.bankAccount||"N/A"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Reference Number"}),(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:t.referenceNumber||"N/A"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Created At"}),(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:WD(t.createdAt)})]})]}),t.notes&&(0,Vn.jsxs)("div",{className:"mt-4",children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Notes"}),(0,Vn.jsx)("p",{className:"text-sm text-white bg-[#2C2C2E] p-3 rounded-lg",children:t.notes})]})]})]})]}):null},RI=e=>{var t,r,n,a,s;let{invoice:o,onApprove:i,onReject:l,onEdit:c,onPrint:d}=e;return(0,Vn.jsxs)("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vn.jsx)("h2",{className:"text-xl font-semibold",children:"Detail Invoice"}),(0,Vn.jsxs)("div",{className:"flex space-x-2",children:[(0,Vn.jsx)("button",{className:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-md text-sm",onClick:c,children:"Edit"}),(0,Vn.jsx)("button",{className:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-md text-sm",onClick:d,children:"Print"}),(0,Vn.jsx)("button",{className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm",onClick:i,children:"Approve"}),(0,Vn.jsx)("button",{className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm",onClick:l,children:"Reject"})]})]}),(0,Vn.jsx)("div",{className:"mb-4",children:(0,Vn.jsx)("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:"Waiting for Approval"})}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"font-medium",children:"Invoice Information"}),(0,Vn.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-gray-500",children:"Invoice Number:"}),(0,Vn.jsx)("span",{children:(null===o||void 0===o?void 0:o.number)||"INV-00001"})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-gray-500",children:"Date:"}),(0,Vn.jsx)("span",{children:(null===o||void 0===o?void 0:o.date)||"15/10/2025"})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-gray-500",children:"Due Date:"}),(0,Vn.jsx)("span",{children:(null===o||void 0===o?void 0:o.dueDate)||"15/11/2025"})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-gray-500",children:"Total:"}),(0,Vn.jsxs)("span",{className:"font-semibold",children:["Rp ",(null===o||void 0===o||null===(t=o.total)||void 0===t?void 0:t.toLocaleString())||"100,000,000"]})]})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"font-medium",children:"Client Information"}),(0,Vn.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-gray-500",children:"Name:"}),(0,Vn.jsx)("span",{children:(null===o||void 0===o||null===(r=o.client)||void 0===r?void 0:r.name)||"PT. Client"})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-gray-500",children:"Address:"}),(0,Vn.jsx)("span",{children:(null===o||void 0===o||null===(n=o.client)||void 0===n?void 0:n.address)||"Jakarta"})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-gray-500",children:"Contact:"}),(0,Vn.jsx)("span",{children:(null===o||void 0===o||null===(a=o.client)||void 0===a?void 0:a.contact)||"John Doe"})]}),(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsx)("span",{className:"text-gray-500",children:"Email:"}),(0,Vn.jsx)("span",{children:(null===o||void 0===o||null===(s=o.client)||void 0===s?void 0:s.email)||"client@example.com"})]})]})]})]})]})},BI="draft",LI="generated",zI="approved",UI="invoice_sent",WI="sent",VI="paid",HI="overdue",KI="cancelled",qI={[BI]:{color:"bg-[#8E8E93]/20 text-[#8E8E93]",label:"Draft",icon:ii},[LI]:{color:"bg-[#0A84FF]/20 text-[#0A84FF]",label:"Generated",icon:ii},[zI]:{color:"bg-[#0A84FF]/20 text-[#0A84FF]",label:"Approved",icon:Ea.A},[UI]:{color:"bg-[#FF9F0A]/20 text-[#FF9F0A]",label:"Sent",icon:jo},[WI]:{color:"bg-[#FF9F0A]/20 text-[#FF9F0A]",label:"Sent",icon:jo},[VI]:{color:"bg-[#30D158]/20 text-[#30D158]",label:"Paid",icon:Ea.A},[HI]:{color:"bg-[#FF3B30]/20 text-[#FF3B30]",label:"Overdue",icon:io},[KI]:{color:"bg-[#8E8E93]/20 text-[#8E8E93]",label:"Cancelled",icon:$D}},GI=[{value:"all",label:"Semua Status"},{value:BI,label:"Draft"},{value:LI,label:"Generated"},{value:WI,label:"Sent"},{value:VI,label:"Paid"},{value:HI,label:"Overdue"}],YI=[{value:"courier",label:"Kurir",icon:iO,requiresService:!0,requiresTracking:!1},{value:"post",label:"Pos",icon:vo,requiresService:!1,requiresTracking:!1},{value:"hand_delivery",label:"Hand Delivery",icon:Xo,requiresService:!1,requiresTracking:!1},{value:"other",label:"Lainnya",icon:Xo,requiresService:!1,requiresTracking:!1}],$I=[{id:"default-bca",accountCode:"1101.01",accountName:"Bank BCA"},{id:"default-mandiri",accountCode:"1101.02",accountName:"Bank Mandiri"},{id:"default-bri",accountCode:"1101.03",accountName:"Bank BRI"},{id:"default-bni",accountCode:"1101.04",accountName:"Bank BNI"},{id:"default-cimb",accountCode:"1101.05",accountName:"CIMB Niaga"},{id:"default-permata",accountCode:"1101.06",accountName:"Permata"},{id:"default-danamon",accountCode:"1101.07",accountName:"Danamon"},{id:"default-btn",accountCode:"1101.08",accountName:"BTN"}],JI=["BCA","Mandiri","BRI","BNI","CIMB Niaga","Permata","Danamon","BTN","Other"],XI=[{key:"total",label:"Total Invoice",icon:ii,color:"bg-[#0A84FF]/20 text-[#0A84FF]",amountKey:"totalAmount"},{key:"draft",label:"Draft",icon:ii,color:"bg-[#8E8E93]/20 text-[#8E8E93]",amountKey:"draftAmount"},{key:"sent",label:"Sent / Awaiting",icon:jo,color:"bg-[#FF9F0A]/20 text-[#FF9F0A]",amountKey:"sentAmount"},{key:"paid",label:"Paid",icon:Ea.A,color:"bg-[#30D158]/20 text-[#30D158]",amountKey:"paidAmount"},{key:"overdue",label:"Overdue",icon:io,color:"bg-[#FF3B30]/20 text-[#FF3B30]",amountKey:"overdueAmount"}],QI=(e,t,r)=>{const n=(0,a.useMemo)(()=>(e=>e.filter(e=>e.invoiceNumber).map(e=>{let t=e.invoiceStatus||"draft";return e.invoiceStatus||("approved"!==e.status&&"payment_approved"!==e.status||(t="generated"),("invoice_sent"===e.status||e.invoiceSentAt||e.invoiceSent)&&(t="invoice_sent"),"paid"===e.status&&(t="paid"),new Date(e.dueDate)<new Date&&"paid"!==e.status&&("approved"===e.status||"invoice_sent"===e.status)&&(t="overdue")),{id:e.id,invoiceNumber:e.invoiceNumber||"INV-".concat(e.paymentNumber),invoiceDate:e.invoiceDate||e.createdAt,dueDate:e.dueDate,amount:e.amount,netAmount:e.netAmount,taxAmount:e.taxAmount,retentionAmount:e.retentionAmount,status:t,paymentStatus:e.status,paymentTerms:e.paymentTerms||30,beritaAcara:e.beritaAcara,notes:e.notes,invoiceSentAt:e.invoiceSentAt,paidAt:e.paidAt}}))(e||[]),[e]),s=(0,a.useMemo)(()=>((e,t,r)=>e.filter(e=>{var n,a,s;const o=""===t||(null===(n=e.invoiceNumber)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))||(null===(a=e.beritaAcara)||void 0===a||null===(s=a.baNumber)||void 0===s?void 0:s.toLowerCase().includes(t.toLowerCase())),i="all"===r||e.status===r;return o&&i}))(n,t,r),[n,t,r]),o=(0,a.useMemo)(()=>(e=>{const t={total:e.length,draft:e.filter(e=>e.status===BI).length,generated:e.filter(e=>e.status===LI).length,sent:e.filter(e=>e.status===WI||e.status===UI).length,paid:e.filter(e=>e.status===VI).length,overdue:e.filter(e=>e.status===HI).length,totalAmount:e.reduce((e,t)=>e+parseFloat(t.netAmount||0),0),draftAmount:e.filter(e=>e.status===BI).reduce((e,t)=>e+parseFloat(t.netAmount||0),0),sentAmount:e.filter(e=>e.status===WI||e.status===UI||e.status===HI).reduce((e,t)=>e+parseFloat(t.netAmount||0),0),paidAmount:e.filter(e=>e.status===VI).reduce((e,t)=>e+parseFloat(t.netAmount||0),0),overdueAmount:e.filter(e=>e.status===HI).reduce((e,t)=>e+parseFloat(t.netAmount||0),0)};return t})(n),[n]);return{invoices:n,filteredInvoices:s,statistics:o}},ZI="/api",eM=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/json";const r={};if(t&&"multipart/form-data"!==t&&(r["Content-Type"]=t),e){const e=localStorage.getItem("token");e&&(r.Authorization="Bearer ".concat(e))}return r},tM=async()=>{try{const e=await fetch("".concat(ZI,"/chart-of-accounts?account_type=ASSET&is_active=true"),{headers:eM()});if(!e.ok)throw new Error("Failed to fetch bank accounts");const t=await e.json();if(t.success&&t.data){return{success:!0,data:t.data.filter(e=>{var t,r;const n=(null===(t=e.accountName)||void 0===t?void 0:t.toLowerCase())||"",a=e.accountCode||"",s=(null===(r=e.accountSubType)||void 0===r?void 0:r.toLowerCase())||"";if("ASSET"!==e.accountType)return!1;const o=n.includes("bank")||n.includes("cash")||n.includes("kas"),i=s.includes("cash")||s.includes("bank"),l=a.startsWith("110")&&a.length>=4;return(o||i)&&l})}}return{success:!1,data:[]}}catch(e){return console.error("Error fetching bank accounts:",e),{success:!1,error:e.message,data:[]}}},rM=(e,t)=>{const[r,n]=(0,a.useState)(null),s=async(e,r)=>{if(t)try{await t(e.id,"rejected",r),n(null),alert("Invoice ".concat(e.invoiceNumber," ditolak.\nAlasan: ").concat(r))}catch(a){alert("Gagal menolak invoice: "+a.message)}};return{selectedInvoice:r,handleViewInvoice:e=>{n(e)},handleCloseDetail:()=>{n(null)},handleApproveInvoice:async e=>{if(t)try{await t(e.id,"approved"),n(null),alert("Invoice ".concat(e.invoiceNumber," berhasil disetujui!"))}catch(r){alert("Gagal menyetujui invoice: "+r.message)}},handleRejectInvoice:s,handleRejectWithPrompt:e=>{const t=window.prompt("\u26a0\ufe0f Reject Payment\n\nAlasan penolakan pembayaran:\n(Invoice akan dibatalkan)","");t&&t.trim()&&s(e,t.trim())},handleDownloadPDF:async t=>{try{const n=await(async(e,t,r)=>{try{const n=await fetch("".concat(ZI,"/projects/").concat(e,"/progress-payments/").concat(t,"/invoice/pdf"),{headers:eM()});if(!n.ok)throw new Error("Failed to generate PDF");const a=await n.blob(),s=window.URL.createObjectURL(a),o=document.createElement("a");return o.href=s,o.download="Invoice-".concat(r,".pdf"),document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(s),document.body.removeChild(o),{success:!0}}catch(n){return console.error("Error downloading PDF:",n),{success:!1,error:n.message}}})(e,t.id,t.invoiceNumber);if(!n.success)throw new Error(n.error);{const e=(r=t.invoiceNumber,"\u2705 Invoice ".concat(r," berhasil didownload!\n\nSilahkan cetak dan tambahkan:\n\u2022 Tanda tangan basah\n\u2022 Stempel perusahaan\n\u2022 Materai (jika diperlukan)"));alert(e)}}catch(n){console.error("Error downloading PDF:",n),alert("\u274c Gagal mendownload PDF invoice: "+n.message)}var r},handleSendEmail:(e,t)=>{const r=window.prompt("\ud83d\udce7 Kirim Invoice via Email\n\nMasukkan email penerima:",(null===t||void 0===t?void 0:t.clientEmail)||"");r&&alert("\ud83d\udce7 Kirim Invoice Digital\n\n"+"Invoice: ".concat(e.invoiceNumber,"\n")+"Ke: ".concat(r,"\n\n")+'\u26a0\ufe0f Fitur ini akan segera tersedia.\n\nUntuk saat ini, gunakan:\n1. Download PDF\n2. Cetak & tambahkan TTD + Stempel\n3. Kirim hardcopy ke klien\n4. Klik "Tandai Terkirim"')}}},nM=(e,t)=>{const[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)({recipientName:"",sentDate:(new Date).toISOString().split("T")[0],deliveryMethod:"courier",courierService:"",trackingNumber:"",deliveryNotes:"",evidenceFile:null}),u=()=>{n(!1),o(null),d({recipientName:"",sentDate:(new Date).toISOString().split("T")[0],deliveryMethod:"courier",courierService:"",trackingNumber:"",deliveryNotes:"",evidenceFile:null})};return{showMarkSentForm:r,invoiceForAction:s,markSentData:c,loading:i,initializeMarkSent:e=>{var t;o(e),d({recipientName:(null===(t=e.beritaAcara)||void 0===t?void 0:t.baNumber)||"",sentDate:(new Date).toISOString().split("T")[0],deliveryMethod:"courier",courierService:"",trackingNumber:"",deliveryNotes:"",evidenceFile:null}),n(!0),setTimeout(()=>{var e;null===(e=document.getElementById("mark-sent-form"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},100)},closeMarkSentForm:u,updateMarkSentData:e=>{d(t=>(0,Mt.A)((0,Mt.A)({},t),e))},submitMarkAsSent:async()=>{try{l(!0);const r=(e=>{var t;const r=[];(!e.recipientName||e.recipientName.trim().length<3)&&r.push("Nama penerima minimal 3 karakter"),e.sentDate?new Date(e.sentDate)>new Date&&r.push("Tanggal kirim tidak boleh lebih dari hari ini"):r.push("Tanggal kirim wajib diisi");return"courier"!==e.deliveryMethod||null!==(t=e.courierService)&&void 0!==t&&t.trim()||r.push("Nama kurir wajib diisi untuk pengiriman via kurir"),{isValid:0===r.length,errors:r}})(c);if(!r.isValid)return alert("\u274c "+r.errors.join("\n")),{success:!1};const n=await(async(e,t,r)=>{try{const n=new FormData;n.append("recipientName",r.recipientName),n.append("sentDate",r.sentDate),n.append("deliveryMethod",r.deliveryMethod),r.deliveryNotes&&n.append("deliveryNotes",r.deliveryNotes),"courier"===r.deliveryMethod&&(n.append("courierService",r.courierService),r.trackingNumber&&n.append("trackingNumber",r.trackingNumber)),r.evidenceFile&&n.append("delivery_evidence",r.evidenceFile);const a=await fetch("".concat(ZI,"/projects/").concat(e,"/progress-payments/").concat(t,"/mark-sent"),{method:"PATCH",headers:eM(!0,"multipart/form-data"),body:n});if(!a.ok){const e=await a.json();throw new Error(e.error||"Failed to mark invoice as sent")}const s=await a.json();return{success:!0,data:s.data,message:s.message}}catch(n){return console.error("Error marking as sent:",n),{success:!1,error:n.message}}})(e,s.id,c);if(n.success){const e=((e,t)=>"\u2705 ".concat(e.message,"\n\nInvoice: ").concat(e.data.invoiceNumber,"\nDiterima: ").concat(t.recipientName,"\nTanggal: ").concat(new Date(t.sentDate).toLocaleDateString("id-ID")))(n,c);return alert(e),u(),t&&await t(),{success:!0}}throw new Error(n.error)}catch(r){return console.error("Error marking as sent:",r),alert("\u274c Gagal menandai invoice sebagai terkirim: "+r.message),{success:!1,error:r.message}}finally{l(!1)}}}},aM=(e,t)=>{const[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)({paidAmount:"",paidDate:(new Date).toISOString().split("T")[0],bankName:"",paymentReference:"",paymentNotes:"",evidenceFile:null}),u=()=>{n(!1),o(null),d({paidAmount:"",paidDate:(new Date).toISOString().split("T")[0],bankName:"",paymentReference:"",paymentNotes:"",evidenceFile:null})};return{showConfirmPaymentForm:r,invoiceForAction:s,confirmPaymentData:c,loading:i,initializePaymentConfirmation:e=>{o(e),d({paidAmount:e.netAmount,paidDate:(new Date).toISOString().split("T")[0],bankName:"",paymentReference:"",paymentNotes:"",evidenceFile:null}),n(!0),setTimeout(()=>{var e;null===(e=document.getElementById("confirm-payment-form"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},100)},closePaymentForm:u,updatePaymentData:e=>{d(t=>(0,Mt.A)((0,Mt.A)({},t),e))},submitPaymentConfirmation:async()=>{try{l(!0);const r=(e=>{var t;const r=[];(!e.paidAmount||parseFloat(e.paidAmount)<=0)&&r.push("Jumlah pembayaran harus diisi dan lebih dari 0"),e.paidDate?new Date(e.paidDate)>new Date&&r.push("Tanggal pembayaran tidak boleh lebih dari hari ini"):r.push("Tanggal pembayaran wajib diisi");return null!==(t=e.bankName)&&void 0!==t&&t.trim()||r.push("Bank penerima wajib dipilih"),e.evidenceFile||r.push("Bukti transfer wajib diupload"),{isValid:0===r.length,errors:r}})(c,null===s||void 0===s||s.netAmount);if(!r.isValid)return alert("\u274c "+r.errors.join("\n")),{success:!1};console.log("\ud83d\udce4 Submitting payment confirmation:",{paidAmount:c.paidAmount,paidDate:c.paidDate,bank:c.bankName,hasEvidence:!!c.evidenceFile});const n=await(async(e,t,r)=>{try{const n=new FormData;n.append("paidAmount",r.paidAmount),n.append("paidDate",r.paidDate),n.append("bank",r.bankName),r.paymentReference&&n.append("paymentReference",r.paymentReference),r.paymentNotes&&n.append("paymentNotes",r.paymentNotes),r.evidenceFile&&n.append("payment_evidence",r.evidenceFile);const a=await fetch("".concat(ZI,"/projects/").concat(e,"/progress-payments/").concat(t,"/confirm-payment"),{method:"PATCH",headers:eM(!0,"multipart/form-data"),body:n});if(!a.ok){const e=await a.json();throw new Error(e.error||"Failed to confirm payment")}const s=await a.json();return{success:!0,data:s.data,message:s.message}}catch(n){return console.error("Error confirming payment:",n),{success:!1,error:n.message}}})(e,s.id,c);if(n.success){const e=((e,t)=>"\u2705 ".concat(e.message,"\n\nInvoice: ").concat(e.data.invoiceNumber,"\nJumlah: Rp ").concat(parseFloat(t.paidAmount).toLocaleString("id-ID"),"\nBank: ").concat(t.bankName,"\nTanggal: ").concat(new Date(t.paidDate).toLocaleDateString("id-ID")))(n,c);return alert(e),u(),t&&await t(),{success:!0}}throw new Error(n.error)}catch(r){return console.error("Error confirming payment:",r),alert("\u274c Gagal konfirmasi pembayaran: "+r.message),{success:!1,error:r.message}}finally{l(!1)}}}},sM=e=>{let{statistics:t}=e;return(0,Vn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:XI.map(e=>{const r=e.icon;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-3",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 rounded-lg ".concat(e.color.split(" ")[0],"/20 flex items-center justify-center"),children:(0,Vn.jsx)(r,{size:16,className:e.color.split(" ")[1]})}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:e.label})]}),(0,Vn.jsx)("p",{className:"text-xl font-bold text-white",children:t[e.key]}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mt-1",children:VD(t[e.amountKey])})]},e.key)})})},oM=e=>{let{searchTerm:t,setSearchTerm:r,statusFilter:n,setStatusFilter:a}=e;return(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-3",children:(0,Vn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Vn.jsxs)("div",{className:"flex-1 relative",children:[(0,Vn.jsx)(uE.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#636366]"}),(0,Vn.jsx)("input",{type:"text",placeholder:"Cari invoice atau BA...",value:t,onChange:e=>r(e.target.value),className:"w-full bg-[#1C1C1E] text-white text-sm border border-[#38383A] rounded-lg pl-9 pr-3 py-2 placeholder-[#636366] focus:outline-none focus:ring-1 focus:ring-[#0A84FF]"})]}),(0,Vn.jsx)("select",{value:n,onChange:e=>a(e.target.value),className:"bg-[#1C1C1E] text-white text-sm border border-[#38383A] rounded-lg px-3 py-2 focus:outline-none focus:ring-1 focus:ring-[#0A84FF] min-w-[140px]",children:GI.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))})]})})},iM=e=>{let{status:t}=e;const r=qI[t]||qI.generated,{color:n,label:a}=r;return(0,Vn.jsx)("span",{className:"inline-flex px-2.5 py-1 text-xs font-semibold rounded-full ".concat(n),children:a})},lM=e=>{let{invoice:t,onView:r,onDownloadPDF:n,onMarkAsSent:a,onConfirmPayment:s,onSendEmail:o,onApprove:i,onReject:l}=e;const{status:c}=t;return(0,Vn.jsxs)("div",{className:"flex gap-1.5 flex-shrink-0",children:[(0,Vn.jsx)("button",{onClick:()=>r(t),className:"p-2 text-[#0A84FF] hover:bg-[#0A84FF]/10 rounded-lg transition-colors",title:"Lihat Detail Invoice",children:(0,Vn.jsx)(la,{size:16})}),c!==BI&&(0,Vn.jsx)("button",{onClick:()=>n(t),className:"p-2 text-[#30D158] hover:bg-[#30D158]/10 rounded-lg transition-colors",title:"Download & Cetak PDF",children:(0,Vn.jsx)(ki,{size:16})}),c===LI&&(0,Vn.jsx)("button",{onClick:()=>a(t),className:"p-2 text-[#FF9F0A] hover:bg-[#FF9F0A]/10 rounded-lg transition-colors",title:"Tandai Terkirim (Hardcopy)",children:(0,Vn.jsx)(jo,{size:16})}),c===UI&&(0,Vn.jsx)("button",{onClick:()=>s(t),className:"p-2 text-[#30D158] hover:bg-[#30D158]/10 rounded-lg transition-colors",title:"Konfirmasi Pembayaran Diterima",children:(0,Vn.jsx)(Ea.A,{size:16})}),(c===LI||c===UI)&&(0,Vn.jsx)("button",{onClick:()=>o(t),className:"p-2 text-[#8E8E93] hover:bg-[#8E8E93]/10 rounded-lg transition-colors",title:"Kirim via Email (Opsional)",children:(0,Vn.jsx)(vo,{size:16})}),c===BI&&(0,Vn.jsxs)("div",{className:"flex gap-2",children:[(0,Vn.jsxs)("button",{onClick:()=>i(t),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium bg-[#30D158] text-white rounded-lg hover:bg-[#30D158]/90 transition-colors",title:"Approve Payment to Generate Invoice",children:[(0,Vn.jsx)(Ea.A,{size:14}),(0,Vn.jsx)("span",{children:"Approve"})]}),(0,Vn.jsxs)("button",{onClick:()=>l(t),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium bg-[#FF3B30] text-white rounded-lg hover:bg-[#FF3B30]/90 transition-colors",title:"Reject Payment",children:[(0,Vn.jsx)($D,{size:14}),(0,Vn.jsx)("span",{children:"Reject"})]})]})]})},cM=e=>{var t;let{invoice:r,onView:n,onDownloadPDF:a,onMarkAsSent:s,onConfirmPayment:o,onSendEmail:i,onApprove:l,onReject:c}=e;return(0,Vn.jsx)("div",{className:"p-4 hover:bg-[#38383A]/20 transition-colors",children:(0,Vn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,Vn.jsxs)("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[#FF453A]/20 flex items-center justify-center flex-shrink-0",children:(0,Vn.jsx)(ii,{size:20,className:"text-[#FF453A]"})}),(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[(0,Vn.jsx)("h4",{className:"text-sm font-semibold text-white truncate",children:r.invoiceNumber}),(0,Vn.jsx)(iM,{status:r.status})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 text-xs mb-2",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-[#8E8E93] mb-0.5",children:"Invoice Date"}),(0,Vn.jsx)("p",{className:"text-white",children:WD(r.invoiceDate)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-[#8E8E93] mb-0.5",children:"Due Date"}),(0,Vn.jsx)("p",{className:"text-white",children:WD(r.dueDate)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-[#8E8E93] mb-0.5",children:"Berita Acara"}),(0,Vn.jsx)("p",{className:"text-white truncate",children:(null===(t=r.beritaAcara)||void 0===t?void 0:t.baNumber)||"N/A"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-[#8E8E93] mb-0.5",children:"Amount"}),(0,Vn.jsx)("p",{className:"text-white font-semibold",children:UD(r.netAmount)})]})]}),r.notes&&(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] line-clamp-1",children:r.notes})]})]}),(0,Vn.jsx)(lM,{invoice:r,onView:n,onDownloadPDF:a,onMarkAsSent:s,onConfirmPayment:o,onSendEmail:i,onApprove:l,onReject:c})]})})},dM=e=>{let{invoices:t,onView:r,onDownloadPDF:n,onMarkAsSent:a,onConfirmPayment:s,onSendEmail:o,onApprove:i,onReject:l}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg overflow-hidden",children:[(0,Vn.jsx)("div",{className:"px-4 py-3 border-b border-[#38383A] bg-[#1C1C1E] flex items-center justify-between",children:(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-base font-semibold text-white",children:"Daftar Invoice"}),(0,Vn.jsxs)("p",{className:"text-xs text-[#8E8E93] mt-0.5",children:[t.length," invoice ditemukan"]})]})}),0===t.length?(0,Vn.jsxs)("div",{className:"p-8 text-center",children:[(0,Vn.jsx)(ii,{size:40,className:"text-[#8E8E93] mx-auto mb-3"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Tidak ada invoice ditemukan"})]}):(0,Vn.jsx)("div",{className:"divide-y divide-[#38383A]",children:t.map(e=>(0,Vn.jsx)(cM,{invoice:e,onView:r,onDownloadPDF:n,onMarkAsSent:a,onConfirmPayment:s,onSendEmail:o,onApprove:i,onReject:l},e.id))})]})},uM=e=>{let{invoice:t,formData:r,onUpdateData:n,onSubmit:a,onClose:s,loading:o=!1}=e;const i=(e,t)=>{n({[e]:t})};return(0,Vn.jsxs)("div",{id:"mark-sent-form",className:"mt-6 bg-[#2C2C2E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-[#FF9F0A]/20 rounded-lg",children:(0,Vn.jsx)(jo,{className:"text-[#FF9F0A]",size:20})}),(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Tandai Invoice Terkirim"})]}),(0,Vn.jsx)("button",{onClick:s,className:"p-2 text-[#8E8E93] hover:bg-[#8E8E93]/10 rounded-lg transition-colors",disabled:o,children:(0,Vn.jsx)(ja.A,{size:20})})]}),(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-4 mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Vn.jsx)(ii,{size:16,className:"text-[#0A84FF]"}),(0,Vn.jsxs)("p",{className:"text-sm text-white",children:["Invoice: ",(0,Vn.jsx)("span",{className:"font-semibold",children:null===t||void 0===t?void 0:t.invoiceNumber})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)(xa,{size:16,className:"text-[#30D158]"}),(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93]",children:["Amount: ",UD(null===t||void 0===t?void 0:t.netAmount)]})]})]}),(0,Vn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a()},className:"space-y-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Diterima Oleh *"}),(0,Vn.jsx)("input",{type:"text",value:r.recipientName,onChange:e=>i("recipientName",e.target.value),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:border-[#0A84FF]",required:!0,minLength:3,placeholder:"Nama penerima",disabled:o})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Tanggal Kirim *"}),(0,Vn.jsx)("input",{type:"date",value:r.sentDate,onChange:e=>i("sentDate",e.target.value),max:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:border-[#0A84FF]",required:!0,disabled:o})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Metode Pengiriman *"}),(0,Vn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:YI.map(e=>{const t=e.icon;return(0,Vn.jsxs)("button",{type:"button",onClick:()=>(e=>{n({deliveryMethod:e})})(e.value),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(r.deliveryMethod===e.value?"bg-[#0A84FF] text-white":"bg-[#1C1C1E] text-[#8E8E93] hover:bg-[#38383A]"),disabled:o,children:[(0,Vn.jsx)(t,{size:16}),(0,Vn.jsx)("span",{children:e.label})]},e.value)})})]}),"courier"===r.deliveryMethod&&(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Nama Kurir *"}),(0,Vn.jsx)("input",{type:"text",value:r.courierService,onChange:e=>i("courierService",e.target.value),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:border-[#0A84FF]",required:!0,placeholder:"JNE, TIKI, dll",disabled:o})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"No. Resi"}),(0,Vn.jsx)("input",{type:"text",value:r.trackingNumber,onChange:e=>i("trackingNumber",e.target.value),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:border-[#0A84FF]",placeholder:"Optional",disabled:o})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Bukti Kirim (Optional)"}),(0,Vn.jsx)("input",{type:"file",accept:"image/*,.pdf",onChange:e=>{return t=e.target.files[0],void n({evidenceFile:t});var t},className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-[#0A84FF] file:text-white file:cursor-pointer",disabled:o}),r.evidenceFile&&(0,Vn.jsxs)("p",{className:"mt-2 text-xs text-[#30D158]",children:["\u2713 File selected: ",r.evidenceFile.name]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Catatan"}),(0,Vn.jsx)("textarea",{value:r.deliveryNotes,onChange:e=>i("deliveryNotes",e.target.value),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:border-[#0A84FF]",rows:3,placeholder:"Catatan tambahan...",disabled:o})]}),(0,Vn.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-[#38383A]",children:[(0,Vn.jsxs)("button",{type:"submit",disabled:o,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Vn.jsx)(jo,{size:18}),(0,Vn.jsx)("span",{children:o?"Memproses...":"Tandai Terkirim"})]}),(0,Vn.jsx)("button",{type:"button",onClick:s,disabled:o,className:"px-4 py-2 bg-[#8E8E93]/20 text-white rounded-lg hover:bg-[#8E8E93]/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Batal"})]})]})]})},pM=e=>{let{invoice:t,formData:r,bankAccounts:n,loadingBanks:a,onUpdateData:s,onSubmit:o,onClose:i,loading:l=!1}=e;const c=(e,t)=>{s({[e]:t})},d=parseFloat(r.paidAmount)===parseFloat(null===t||void 0===t?void 0:t.netAmount);return(0,Vn.jsxs)("div",{id:"confirm-payment-form",className:"mt-6 bg-[#2C2C2E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-[#30D158]/20 rounded-lg",children:(0,Vn.jsx)(xa,{className:"text-[#30D158]",size:20})}),(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Konfirmasi Pembayaran Diterima"})]}),(0,Vn.jsx)("button",{onClick:i,className:"p-2 text-[#8E8E93] hover:bg-[#8E8E93]/10 rounded-lg transition-colors",disabled:l,children:(0,Vn.jsx)(ja.A,{size:20})})]}),(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-4 mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Vn.jsx)(ii,{size:16,className:"text-[#0A84FF]"}),(0,Vn.jsxs)("p",{className:"text-sm text-white",children:["Invoice: ",(0,Vn.jsx)("span",{className:"font-semibold",children:null===t||void 0===t?void 0:t.invoiceNumber})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)(xa,{size:16,className:"text-[#FF9F0A]"}),(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93]",children:["Expected: ",(0,Vn.jsx)("span",{className:"font-semibold text-[#FF9F0A]",children:UD(null===t||void 0===t?void 0:t.netAmount)})]})]})]}),(0,Vn.jsxs)("div",{className:"bg-[#FF9F0A]/10 border border-[#FF9F0A]/30 rounded-lg p-3 mb-4 flex items-start gap-2",children:[(0,Vn.jsx)(Vo.A,{size:16,className:"text-[#FF9F0A] mt-0.5 flex-shrink-0"}),(0,Vn.jsx)("p",{className:"text-xs text-[#FF9F0A]",children:"Bukti transfer wajib diupload!"})]}),(0,Vn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o()},className:"space-y-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Jumlah Diterima *"}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#8E8E93]",children:"Rp"}),(0,Vn.jsx)("input",{type:"number",value:r.paidAmount,onChange:e=>c("paidAmount",e.target.value),className:"w-full pl-12 pr-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:border-[#0A84FF]",required:!0,step:"0.01",disabled:l}),d&&(0,Vn.jsx)(Ea.A,{size:20,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#30D158]"})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Tanggal Pembayaran *"}),(0,Vn.jsx)("input",{type:"date",value:r.paidDate,onChange:e=>c("paidDate",e.target.value),max:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:border-[#0A84FF]",required:!0,disabled:l})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-2 flex items-center gap-2",children:["Bank Penerima *",a&&(0,Vn.jsx)(Ho,{size:14,className:"animate-spin text-[#0A84FF]"})]}),(0,Vn.jsxs)("select",{value:r.bankName,onChange:e=>c("bankName",e.target.value),className:"w-full px-3 py-2 bg-[#1C1C1E] border rounded-lg text-white focus:outline-none focus:border-[#0A84FF] ".concat(r.bankName?"border-[#38383A]":"border-[#FF453A]"),required:!0,disabled:a||l,children:[(0,Vn.jsx)("option",{value:"",children:a?"Loading banks...":"-- Pilih Bank Penerima --"}),n.length>0?(0,Vn.jsxs)(Vn.Fragment,{children:[n.map(e=>(0,Vn.jsxs)("option",{value:e.accountName,children:[e.accountCode," - ",e.accountName]},e.id)),(0,Vn.jsx)("option",{disabled:!0,children:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"}),(0,Vn.jsx)("option",{value:"Other",children:"Lainnya (Manual Entry)"})]}):(0,Vn.jsx)(Vn.Fragment,{children:JI.map(e=>(0,Vn.jsx)("option",{value:e,children:e},e))})]}),!r.bankName&&(0,Vn.jsxs)("p",{className:"text-xs text-[#FF453A] mt-1 flex items-center gap-1",children:[(0,Vn.jsx)(Vo.A,{size:12}),(0,Vn.jsx)("span",{children:"Bank penerima wajib dipilih"})]}),n.length>0&&r.bankName&&(0,Vn.jsxs)("p",{className:"text-xs text-[#30D158] mt-1 flex items-center gap-1",children:[(0,Vn.jsx)(Ea.A,{size:12}),(0,Vn.jsxs)("span",{children:["Bank dipilih: ",r.bankName]})]}),n.length>0&&!r.bankName&&(0,Vn.jsxs)("p",{className:"text-xs text-[#8E8E93] mt-1",children:[n.length," bank tersedia dari Chart of Accounts"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Referensi Transfer"}),(0,Vn.jsx)("input",{type:"text",value:r.paymentReference,onChange:e=>c("paymentReference",e.target.value),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:border-[#0A84FF]",placeholder:"TRF123456",disabled:l})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Bukti Transfer * ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"(WAJIB)"})]}),(0,Vn.jsx)("input",{type:"file",accept:"image/*,.pdf",onChange:e=>{return t=e.target.files[0],void s({evidenceFile:t});var t},className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-[#30D158] file:text-white file:cursor-pointer",required:!0,disabled:l}),r.evidenceFile&&(0,Vn.jsxs)("p",{className:"mt-2 text-xs text-[#30D158]",children:["\u2713 File selected: ",r.evidenceFile.name]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Catatan"}),(0,Vn.jsx)("textarea",{value:r.paymentNotes,onChange:e=>c("paymentNotes",e.target.value),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:border-[#0A84FF]",rows:3,placeholder:"Catatan pembayaran...",disabled:l})]}),(0,Vn.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-[#38383A]",children:[(0,Vn.jsxs)("button",{type:"submit",disabled:l,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-[#30D158] text-white rounded-lg hover:bg-[#30D158]/90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Vn.jsx)(Ea.A,{size:18}),(0,Vn.jsx)("span",{children:l?"Memproses...":"Konfirmasi Pembayaran"})]}),(0,Vn.jsx)("button",{type:"button",onClick:i,disabled:l,className:"px-4 py-2 bg-[#8E8E93]/20 text-white rounded-lg hover:bg-[#8E8E93]/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Batal"})]})]})]})},hM=e=>{let{projectId:t,payments:r,project:n,onApprovePayment:s,onRefresh:o}=e;const{searchTerm:i,setSearchTerm:l,statusFilter:c,setStatusFilter:d}=(()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)("all");return{searchTerm:e,setSearchTerm:t,statusFilter:r,setStatusFilter:n,resetFilters:()=>{t(""),n("all")}}})(),{invoices:u,filteredInvoices:p,statistics:h}=QI(r,i,c),{bankAccounts:m,loadingBankAccounts:f}=(()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{n(!0),o(null);const e=await tM();if(!e.success)throw new Error(e.error||"Failed to fetch bank accounts");console.log("\u2713 Fetched bank accounts from COA:",e.data.length),t(e.data)}catch(s){console.error("Error fetching bank accounts:",s),o(s.message),t($I)}finally{n(!1)}})()},[]),{bankAccounts:e,loadingBankAccounts:r,error:s,refetch:()=>{(async()=>{try{n(!0),o(null);const e=await tM();if(!e.success)throw new Error(e.error||"Failed to fetch bank accounts");t(e.data)}catch(s){console.error("Error fetching bank accounts:",s),o(s.message),t($I)}finally{n(!1)}})()}}})(),{selectedInvoice:x,handleViewInvoice:g,handleCloseDetail:b,handleApproveInvoice:y,handleRejectWithPrompt:v,handleDownloadPDF:j,handleSendEmail:w}=rM(t,s),{showMarkSentForm:N,invoiceForAction:A,markSentData:k,loading:C,initializeMarkSent:F,closeMarkSentForm:S,updateMarkSentData:E,submitMarkAsSent:P}=nM(t,o),{showConfirmPaymentForm:D,invoiceForAction:O,confirmPaymentData:T,loading:I,initializePaymentConfirmation:M,closePaymentForm:_,updatePaymentData:R,submitPaymentConfirmation:B}=aM(t,o);return(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsx)(sM,{statistics:h}),(0,Vn.jsx)(oM,{searchTerm:i,setSearchTerm:l,statusFilter:c,setStatusFilter:d}),(0,Vn.jsx)(dM,{invoices:p,onView:g,onDownloadPDF:j,onMarkAsSent:e=>{F(e)},onConfirmPayment:e=>{M(e)},onSendEmail:e=>{w(e,n)},onApprove:y,onReject:v}),x&&(0,Vn.jsx)("div",{className:"mt-6",children:(0,Vn.jsx)(RI,{invoice:x,onClose:b,projectInfo:n,onApprove:y,onReject:(e,t)=>{s&&(s(e.id,"rejected",t),b(),alert("Invoice ".concat(e.invoiceNumber," ditolak.\nAlasan: ").concat(t)))},canApprove:!0})}),N&&A&&(0,Vn.jsx)(uM,{invoice:A,formData:k,onUpdateData:E,onSubmit:P,onClose:S,loading:C}),D&&O&&(0,Vn.jsx)(pM,{invoice:O,formData:T,bankAccounts:m,loadingBanks:f,onUpdateData:R,onSubmit:B,onClose:_,loading:I})]})},mM=(0,Qn.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),fM=()=>{const[e,t]=(0,a.useState)(!1);return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg overflow-hidden",children:[(0,Vn.jsxs)("button",{onClick:()=>t(!e),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-[#38383A]/30 transition-colors",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)(jD,{size:18,className:"text-[#0A84FF]"}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-white",children:"Payment & Invoice Workflow Guide"})]}),e?(0,Vn.jsx)(mM,{size:18,className:"text-[#8E8E93]"}):(0,Vn.jsx)(na.A,{size:18,className:"text-[#8E8E93]"})]}),e&&(0,Vn.jsxs)("div",{className:"px-4 py-4 border-t border-[#38383A]",children:[(0,Vn.jsx)("div",{className:"space-y-3",children:[{number:1,title:"Work Completion",description:"Milestone pekerjaan selesai 100%",status:"completed"},{number:2,title:"Create Berita Acara (BA)",description:"Dokumentasi penyelesaian pekerjaan",status:"completed"},{number:3,title:"BA Approval",description:"Client/PM approve BA",status:"completed"},{number:4,title:"Create Progress Payment",description:"Kontraktor buat request pembayaran",status:"current",highlight:!0},{number:5,title:"Payment Approval",description:"Client/Finance approve payment",status:"pending"},{number:6,title:"Generate Invoice",description:"System auto-generate invoice",status:"pending"},{number:7,title:"Send Invoice",description:"Kirim invoice ke client",status:"pending"},{number:8,title:"Payment Received",description:"Client transfer pembayaran",status:"pending"},{number:9,title:"Mark as Paid",description:"Update status payment",status:"pending"}].map((e,t)=>(0,Vn.jsxs)("div",{className:"\n                  flex items-start gap-3 p-3 rounded-lg transition-colors\n                  ".concat(e.highlight?"bg-[#0A84FF]/10 border border-[#0A84FF]/30":"bg-[#1C1C1E]","\n                "),children:[(0,Vn.jsx)("div",{className:"\n                  flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold\n                  ".concat("completed"===e.status?"bg-[#30D158] text-white":"current"===e.status?"bg-[#0A84FF] text-white":"bg-[#48484A] text-[#8E8E93]","\n                "),children:"completed"===e.status?(0,Vn.jsx)(Ea.A,{size:14}):e.number}),(0,Vn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Vn.jsx)("h4",{className:"\n                      text-sm font-medium\n                      ".concat(e.highlight?"text-[#0A84FF]":"completed"===e.status?"text-[#30D158]":"text-white","\n                    "),children:e.title}),e.highlight&&(0,Vn.jsx)("span",{className:"px-2 py-0.5 bg-[#0A84FF] text-white text-xs rounded-full",children:"Anda di sini"})]}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93]",children:e.description})]})]},e.number))}),(0,Vn.jsx)("div",{className:"mt-4 p-3 bg-[#FF9500]/10 border border-[#FF9500]/30 rounded-lg",children:(0,Vn.jsxs)("p",{className:"text-xs text-[#FF9500] leading-relaxed",children:[(0,Vn.jsx)("strong",{children:"\ud83d\udca1 Catatan Penting:"})," Invoice akan di-generate otomatis setelah Progress Payment disetujui. Anda tidak perlu membuat invoice secara manual."]})})]})]})},xM=e=>{let{projectId:t,project:r,onPaymentChange:n}=e;const[s,o]=(0,a.useState)("payments"),{payments:i,summary:l,loading:c,error:d,createPayment:u,approvePayment:p,refreshPayments:h}=((e,t)=>{const[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null),[c,d]=(0,a.useState)({total:0,totalAmount:0,paid:0,paidAmount:0,approved:0,approvedAmount:0,pending:0,pendingAmount:0}),u=(0,a.useCallback)(async()=>{if(e){o(!0),l(null);try{const t=await fetch("/api/projects/".concat(e,"/progress-payments"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!t.ok)throw new Error("Failed to load Progress Payments");{const e=await t.json();n(e.data||[]),d(e.stats||{total:0,totalAmount:0,paid:0,paidAmount:0,approved:0,approvedAmount:0,pending:0,pendingAmount:0})}}catch(t){l(t.message),console.error("Error fetching progress payments:",t)}finally{o(!1)}}},[e]),p=(0,a.useCallback)(async r=>{console.log("\ud83d\udcdd Creating payment with data:",r);try{const n=await fetch("/api/projects/".concat(e,"/progress-payments"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(r)}),a=await n.json();if(console.log("\ud83d\udcec Server response:",a),n.ok)return await u(),t&&t(),{success:!0,message:"Progress Payment berhasil dibuat"};{let e="Gagal membuat Progress Payment";throw a.details?e=Array.isArray(a.details)?a.details.join(", "):String(a.details):a.error&&(e=a.error),new Error(e)}}catch(i){return console.error("\u274c Error creating progress payment:",i),{success:!1,message:i.message}}},[e,u,t]),h=(0,a.useCallback)(async function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"approved",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("approved"===n&&!a&&!window.confirm("Yakin ingin menyetujui pembayaran ini?"))return{success:!1,cancelled:!0};try{const s="".concat("/api","/projects/").concat(e,"/progress-payments/").concat(r,"/status"),o={status:"rejected"===n?"rejected":"approved"};"rejected"===n&&a&&(o.reason=a);const i=await fetch(s,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(o)});if(i.ok)return await u(),t&&t(),{success:!0,message:"rejected"===n?"Pembayaran berhasil ditolak":"Pembayaran berhasil disetujui"};{const e=await i.json().catch(()=>({}));throw new Error(e.error||"Gagal ".concat("rejected"===n?"menolak":"menyetujui"," pembayaran"))}}catch(i){return console.error("Error approving/rejecting payment:",i),{success:!1,message:i.message||"Gagal ".concat("rejected"===n?"menolak":"menyetujui"," pembayaran")}}},[e,u,t]);return(0,a.useEffect)(()=>{u()},[u]),{payments:r,summary:c,loading:s,error:i,createPayment:p,approvePayment:h,refreshPayments:u}})(t,n),{beritaAcaraList:m}=(e=>{const[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),o=(0,a.useCallback)(async()=>{if(e){s(!0);try{const t=await fetch("/api/projects/".concat(e,"/berita-acara?status=approved"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok){const e=await t.json();r(e.data||[])}}catch(t){console.error("Error fetching approved BA:",t)}finally{s(!1)}}},[e]);return(0,a.useEffect)(()=>{o()},[o]),{beritaAcaraList:t,loading:n,refreshBA:o}})(t),{showCreateForm:f,selectedPayment:x,openCreateForm:g,closeCreateForm:b,openPaymentDetail:y,closePaymentDetail:v}=(()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(null);return{showCreateForm:e,selectedPayment:r,openCreateForm:()=>t(!0),closeCreateForm:()=>t(!1),openPaymentDetail:e=>n(e),closePaymentDetail:()=>n(null)}})(),j=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"approved",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const n=await p(e,t,r);n.success&&!n.cancelled?alert(n.message):n.success||n.cancelled||alert(n.message)};if(c)return(0,Vn.jsx)(TI,{});if(d)return(0,Vn.jsx)(II,{error:d});const w=m.length>0,N=[{id:"payments",label:"Progress Payments",icon:xa,description:"Manajemen pembayaran progress"},{id:"invoices",label:"Invoice Management",icon:ii,description:"Manajemen invoice dan tagihan"}];return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Progress Payments"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mt-1",children:"Manajemen pembayaran bertahap berdasarkan Berita Acara"})]})}),(0,Vn.jsx)("div",{className:"flex gap-2 border-b border-[#38383A]",children:N.map(e=>{const t=e.icon,r=s===e.id;return(0,Vn.jsxs)("button",{onClick:()=>o(e.id),className:"\n                  flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors relative\n                  ".concat(r?"text-[#0A84FF] border-b-2 border-[#0A84FF]":"text-[#8E8E93] hover:text-white","\n                "),children:[(0,Vn.jsx)(t,{size:18}),(0,Vn.jsx)("span",{children:e.label})]},e.id)})})]}),"payments"===s&&(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)(fM,{}),(0,Vn.jsx)(EI,{summary:l}),f&&(0,Vn.jsx)(MI,{projectId:t,onClose:b,onSubmit:async e=>{const t=await u(e);t.success?(alert(t.message),b()):alert(t.message)}}),x&&(0,Vn.jsx)(_I,{payment:x,onClose:v}),(0,Vn.jsx)(PI,{hasApprovedBA:w}),0===i.length?(0,Vn.jsx)(OI,{hasApprovedBA:w,onCreatePayment:w?g:null}):(0,Vn.jsx)(DI,{payments:i,onViewPayment:y,onApprovePayment:j,onCreatePayment:g,canCreate:w})]}),"invoices"===s&&(0,Vn.jsx)(hM,{projectId:t,payments:i,project:r,onApprovePayment:j,onRefresh:h})]})},gM=()=>{const{id:e}=ne(),[t,r]=(0,a.useState)("overview"),{project:n,loading:s,error:o,fetchProject:i}=(e=>{const[t,r]=(0,a.useState)(null),[n,s]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null),l=(0,a.useCallback)(async function(){try{s(!0),i(null),console.log("=== FETCH PROJECT ==="),console.log("Project ID from params:",e);const t=await rs(e);console.log("Project API Response:",t);const n=t.data;console.log("Project Data:",n),r(n)}catch(t){console.error("Error fetching project:",t),i("Gagal memuat detail proyek")}finally{s(!1)}},[e]);return(0,a.useEffect)(()=>{e&&l()},[e,l]),{project:t,setProject:r,loading:n,error:o,fetchProject:l}})(e),{workflowData:l}=(e=>{const[t,r]=(0,a.useState)({rabStatus:null,approvalStatus:null,purchaseOrders:[],budgetSummary:null,currentStage:"planning"});return(0,a.useMemo)(()=>{var t,n,a,s,o,i,l,c,d,u,p,h,m,f,x,g;if(!e)return;console.log("=== useWorkflowData: Processing project ===",{projectId:e.id,hasRabItems:!!e.rabItems,rabItemsCount:(null===(t=e.rabItems)||void 0===t?void 0:t.length)||0,hasBudgetSummary:!!e.budgetSummary,hasPurchaseOrders:!!e.purchaseOrders,purchaseOrdersCount:(null===(n=e.purchaseOrders)||void 0===n?void 0:n.length)||0,hasMilestonesList:!!e.milestonesList,milestonesListCount:(null===(a=e.milestonesList)||void 0===a?void 0:a.length)||0,hasMilestones:!!e.milestones,milestonesCount:(null===(s=e.milestones)||void 0===s?void 0:s.length)||0,milestonesSample:(null===(o=e.milestonesList)||void 0===o?void 0:o[0])||(null===(i=e.milestones)||void 0===i?void 0:i[0])||"No milestones"});const b={rabStatus:{pendingApproval:(null===(l=e.rabItems)||void 0===l?void 0:l.filter(e=>"pending"===e.status).length)||0,approved:(null===(c=e.rabItems)||void 0===c?void 0:c.some(e=>"approved"===e.status))||!1,data:e.rabItems||[]},approvalStatus:e.approvalStatus||{pending:(null===(d=e.rabItems)||void 0===d?void 0:d.filter(e=>"pending"===e.status).length)||0,approved:(null===(u=e.rabItems)||void 0===u?void 0:u.filter(e=>"approved"===e.status).length)||0,rejected:(null===(p=e.rabItems)||void 0===p?void 0:p.filter(e=>"rejected"===e.status).length)||0},purchaseOrders:e.purchaseOrders||[],deliveryReceipts:e.deliveryReceipts||[],budgetSummary:e.budgetSummary||{totalBudget:parseFloat(e.budget||e.totalBudget)||0,approvedAmount:(null===(h=e.rabItems)||void 0===h?void 0:h.reduce((e,t)=>"approved"===t.status||!0===t.isApproved?e+(parseFloat(t.totalPrice||t.amount)||0):e,0))||0,committedAmount:(null===(m=e.purchaseOrders)||void 0===m?void 0:m.reduce((e,t)=>"approved"===t.status||"received"===t.status?e+(parseFloat(t.totalAmount)||0):e,0))||0,actualSpent:(null===(f=e.budgetSummary)||void 0===f?void 0:f.actualSpent)||0},currentStage:e.currentStage||tD(e),milestones:{pending:(e.milestonesList||e.milestones||[]).filter(e=>"pending"===e.status).length||0,data:e.milestonesList||e.milestones||[]},beritaAcara:e.beritaAcara||[],beritaAcaraStatus:{pending:(null===(x=e.beritaAcara)||void 0===x?void 0:x.filter(e=>"pending"===e.status).length)||0},progressPayments:{pending:(null===(g=e.progressPayments)||void 0===g?void 0:g.filter(e=>"pending"===e.status).length)||0,data:e.progressPayments||[]}};console.log("=== useWorkflowData: Enhanced data ===",{rabItemsCount:b.rabStatus.data.length,approvedAmount:b.budgetSummary.approvedAmount,committedAmount:b.budgetSummary.committedAmount,actualSpent:b.budgetSummary.actualSpent,purchaseOrdersCount:b.purchaseOrders.length,deliveryReceiptsCount:b.deliveryReceipts.length,pendingApprovals:b.approvalStatus.pending,milestonesDataCount:b.milestones.data.length,milestonesData:b.milestones.data.map(e=>({id:e.id,title:e.title,status:e.status,progress:e.progress}))}),r(b)},[e]),{workflowData:t,setWorkflowData:r}})(n);(0,a.useMemo)(()=>(e=>{var t,r,n,a,s,o;return[{id:"overview",label:"Ringkasan Proyek",icon:ga,description:"Informasi umum dan status proyek"},{id:"rab-workflow",label:"RAB & BOQ",icon:li,description:"Rencana Anggaran Biaya dan Bill of Quantity",badge:(null===(t=e.rabStatus)||void 0===t?void 0:t.pendingApproval)||0},{id:"approval-status",label:"Status Approval",icon:Ea.A,description:"Tracking dan manajemen approval workflow",badge:(null===(r=e.approvalStatus)||void 0===r?void 0:r.pending)||0},{id:"purchase-orders",label:"Purchase Orders",icon:Jo,description:"Manajemen Purchase Order dan procurement",badge:(null===(n=e.purchaseOrders)||void 0===n?void 0:n.filter(e=>"pending"===e.status).length)||0},{id:"budget-monitoring",label:"Budget Monitoring",icon:ba,description:"Real-time budget tracking dan cost control"},{id:"team",label:"Tim Proyek",icon:ma,description:"Manajemen tim dan manpower"},{id:"documents",label:"Dokumen",icon:di,description:"File dan dokumen proyek"},{id:"reports",label:"Reports",icon:ba,description:"Generate laporan proyek"},{id:"milestones",label:"Milestone",icon:io,description:"Project milestones dan timeline",badge:(null===(a=e.milestones)||void 0===a?void 0:a.pending)||0},{id:"berita-acara",label:"Berita Acara",icon:di,description:"Manajemen Berita Acara dan handover",badge:(null===(s=e.beritaAcara)||void 0===s?void 0:s.pending)||0},{id:"progress-payments",label:"Progress Payments",icon:xa,description:"Pembayaran bertahap berdasarkan BA",badge:(null===(o=e.progressPayments)||void 0===o?void 0:o.pending)||0}]})(l),[l]);return s?(0,Vn.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Vn.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0A84FF]"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Memuat detail proyek..."})]})}):o?(0,Vn.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)(ti,{className:"h-12 w-12 text-[#FF3B30] mx-auto mb-4"}),(0,Vn.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] mb-4",children:o}),(0,Vn.jsx)("button",{onClick:()=>i(),className:"bg-[#0A84FF] text-white px-4 py-2 rounded-lg hover:bg-[#0A84FF]/90",children:"Coba Lagi"})]})}):n?(0,Vn.jsxs)("div",{className:"min-h-screen bg-[#1C1C1E]",children:[(0,Vn.jsx)("div",{className:"border-b border-[#38383A] bg-[#2C2C2E]",children:(0,Vn.jsx)("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-3",children:(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,Vn.jsx)(De,{to:"/",className:"text-[#8E8E93] hover:text-[#0A84FF] flex items-center transition-colors",children:(0,Vn.jsx)(pa,{className:"w-4 h-4"})}),(0,Vn.jsx)(va,{className:"w-4 h-4 text-[#636366]"}),(0,Vn.jsx)(De,{to:"/projects",className:"text-[#8E8E93] hover:text-[#0A84FF] transition-colors",children:"Proyek"}),(0,Vn.jsx)(va,{className:"w-4 h-4 text-[#636366]"}),(0,Vn.jsx)("span",{className:"text-white font-medium truncate max-w-md",children:(null===n||void 0===n?void 0:n.name)||"Detail Proyek"})]})})}),(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-6",children:[(0,Vn.jsx)(vD,{project:n,onStatusUpdate:async t=>{try{console.log("Status update:",t);const r=await ss(e,{status:t.status,status_notes:t.notes});if(!r.success)throw new Error(r.error||"Failed to update status");window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:"success",message:"Status proyek berhasil diupdate",duration:3e3}})),await i()}catch(o){console.error("Failed to update status:",o),window.dispatchEvent(new CustomEvent("show-notification",{detail:{type:"error",message:o.message||"Gagal mengupdate status proyek",duration:5e3}}))}}}),(0,Vn.jsx)(kD,{activeTab:t,onTabChange:r}),(0,Vn.jsxs)("div",{children:["overview"===t&&n&&(0,Vn.jsx)(bD,{project:n,workflowData:l}),"rab-workflow"===t&&n&&(0,Vn.jsx)(rO,{projectId:e,project:n,onDataChange:i}),"purchase-orders"===t&&n&&(0,Vn.jsx)(xO,{projectId:e,project:n,onDataChange:i}),"work-orders"===t&&n&&(0,Vn.jsx)(aT,{projectId:e,project:n,onDataChange:i}),"budget-monitoring"===t&&n&&(0,Vn.jsx)(tT,{projectId:e,project:n,onDataChange:i}),"milestones"===t&&n&&(0,Vn.jsx)(RT,{projectId:e,project:n,onUpdate:i,onMilestoneComplete:e=>{if("completed"===e.status){confirm('Milestone "'.concat(e.title,'" telah selesai. Apakah Anda ingin membuat Berita Acara untuk milestone ini?'))&&r("berita-acara")}}}),"berita-acara"===t&&n&&(0,Vn.jsx)(SI,{projectId:e,project:n,onBAChange:()=>{console.log("BA changed, refreshing workflow data"),i()}}),"progress-payments"===t&&n&&(0,Vn.jsx)(xM,{projectId:e,project:n,onPaymentChange:()=>{console.log("Payment changed, refreshing project data"),i()}}),"team"===t&&n&&(0,Vn.jsx)(KT,{projectId:e,project:n,onUpdate:i}),"documents"===t&&n&&(0,Vn.jsx)(sI,{projectId:e,project:n,onUpdate:i}),"reports"===t&&n&&(0,Vn.jsx)(nT,{projectId:e,project:n})]})]})]}):(0,Vn.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)(ga,{className:"h-12 w-12 text-[#636366] mx-auto mb-4"}),(0,Vn.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Proyek Tidak Ditemukan"}),(0,Vn.jsxs)("p",{className:"text-[#8E8E93] mb-4",children:["Proyek dengan ID ",e," tidak ditemukan."]}),(0,Vn.jsx)(De,{to:"/projects",className:"bg-[#0A84FF] text-white px-4 py-2 rounded-lg hover:bg-[#0A84FF]/90",children:"Kembali ke Daftar Proyek"})]})})},bM=e=>{let{loading:t,error:r}=e;return t?(0,Vn.jsx)("div",{className:"min-h-screen bg-[#000000] flex items-center justify-center",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0A84FF] mx-auto mb-4"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Memuat data proyek..."})]})}):r?(0,Vn.jsx)("div",{className:"min-h-screen bg-[#000000] flex items-center justify-center p-4",children:(0,Vn.jsxs)("div",{className:"text-center max-w-md",children:[(0,Vn.jsx)("div",{className:"w-16 h-16 rounded-full bg-[#FF3B30]/10 flex items-center justify-center mx-auto mb-4",children:(0,Vn.jsx)(ti,{className:"h-8 w-8 text-[#FF3B30]"})}),(0,Vn.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Terjadi Kesalahan"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] mb-6",children:r}),(0,Vn.jsxs)(De,{to:"/admin/projects",className:"inline-flex items-center px-4 py-2.5 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-colors font-medium",children:[(0,Vn.jsx)(Aa,{className:"w-4 h-4 mr-2"}),"Kembali ke Daftar Proyek"]})]})}):null},yM=e=>{let{projectId:t,projectName:r}=e;return(0,Vn.jsxs)("div",{className:"mb-8",children:[(0,Vn.jsx)("div",{className:"flex items-center gap-4 mb-6",children:(0,Vn.jsxs)(De,{to:"/admin/projects/".concat(t),style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"inline-flex items-center px-4 py-2.5 rounded-lg text-sm font-medium text-white hover:bg-[#2C2C2E] transition-colors",children:[(0,Vn.jsx)(Aa,{className:"w-4 h-4 mr-2"}),"Kembali"]})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Edit Proyek"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:r})]})]})},vM=e=>{let{type:t,message:r}=e;return r?"success"===t?(0,Vn.jsx)("div",{style:{backgroundColor:"#30D158",opacity:.1,border:"1px solid rgba(48, 209, 88, 0.3)"},className:"mb-6 rounded-lg p-4 relative",children:(0,Vn.jsxs)("div",{style:{backgroundColor:"transparent",opacity:1},className:"flex items-center absolute inset-0 p-4",children:[(0,Vn.jsx)(Ea.A,{className:"w-5 h-5 text-[#30D158] mr-3 flex-shrink-0"}),(0,Vn.jsx)("p",{className:"text-sm font-medium text-[#30D158]",children:r})]})}):"error"===t?(0,Vn.jsx)("div",{style:{backgroundColor:"#FF3B30",opacity:.1,border:"1px solid rgba(255, 59, 48, 0.3)"},className:"mb-6 rounded-lg p-4 relative",children:(0,Vn.jsxs)("div",{style:{backgroundColor:"transparent",opacity:1},className:"flex items-center absolute inset-0 p-4",children:[(0,Vn.jsx)(ti,{className:"w-5 h-5 text-[#FF3B30] mr-3 flex-shrink-0"}),(0,Vn.jsx)("p",{className:"text-sm font-medium text-[#FF3B30]",children:r})]})}):null:null},jM=e=>{let{formData:t,handleInputChange:r,handleSubsidiaryChange:n,subsidiaries:a,loadingSubsidiaries:s,saving:o}=e;return(0,Vn.jsxs)("div",{style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"rounded-xl p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[#0A84FF]/10 flex items-center justify-center",children:(0,Vn.jsx)(di,{className:"w-5 h-5 text-[#0A84FF]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Informasi Dasar"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Data utama proyek"})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:["Nama Proyek ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"text",value:t.name,onChange:e=>r("name",e.target.value),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366]",placeholder:"Masukkan nama proyek",required:!0,disabled:o})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:["Perusahaan Klien ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)("input",{type:"text",value:t.client.company,onChange:e=>r("client.company",e.target.value),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366]",placeholder:"Nama perusahaan klien",required:!0,disabled:o})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:["Anak Perusahaan Pelaksana ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsxs)("select",{value:t.subsidiary.id,onChange:e=>n(e.target.value),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all",required:!0,disabled:o||s,children:[(0,Vn.jsx)("option",{value:"",style:{backgroundColor:"#2C2C2E",color:"white"},children:s?"Memuat...":"Pilih anak perusahaan"}),a.map(e=>(0,Vn.jsxs)("option",{value:e.id,style:{backgroundColor:"#2C2C2E",color:"white"},children:[e.code," - ",e.name]},e.id))]}),t.subsidiary.id&&(0,Vn.jsxs)("p",{className:"mt-2 text-sm text-[#8E8E93]",children:["Dilaksanakan oleh: ",(0,Vn.jsx)("span",{className:"font-medium text-[#0A84FF]",children:t.subsidiary.name})]})]}),(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Deskripsi Proyek"}),(0,Vn.jsx)("textarea",{value:t.description,onChange:e=>r("description",e.target.value),rows:4,style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366] resize-none",placeholder:"Deskripsi singkat tentang proyek",disabled:o})]})]})]})},wM=e=>{let{formData:t,handleInputChange:r,saving:n}=e;return(0,Vn.jsxs)("div",{style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"rounded-xl p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[#30D158]/10 flex items-center justify-center",children:(0,Vn.jsx)(ma,{className:"w-5 h-5 text-[#30D158]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Informasi Kontak Klien"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Data kontak PIC klien"})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Nama Kontak"}),(0,Vn.jsx)("input",{type:"text",value:t.client.contact,onChange:e=>r("client.contact",e.target.value),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366]",placeholder:"Nama lengkap contact person",disabled:n})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Nomor Telepon"}),(0,Vn.jsx)("input",{type:"tel",value:t.client.phone,onChange:e=>r("client.phone",e.target.value),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366]",placeholder:"Nomor telepon kontak",disabled:n})]}),(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Email"}),(0,Vn.jsx)("input",{type:"email",value:t.client.email,onChange:e=>r("client.email",e.target.value),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366]",placeholder:"Email kontak",disabled:n})]})]})]})},NM=e=>{let{formData:t,handleInputChange:r,saving:n}=e;return(0,Vn.jsxs)("div",{style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"rounded-xl p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[#FF9F0A]/10 flex items-center justify-center",children:(0,Vn.jsx)(bo,{className:"w-5 h-5 text-[#FF9F0A]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Lokasi Proyek"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Alamat lokasi proyek"})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Alamat"}),(0,Vn.jsx)("textarea",{value:t.location.address,onChange:e=>r("location.address",e.target.value),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366] resize-none",rows:3,placeholder:"Alamat lengkap lokasi proyek",disabled:n})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Kota"}),(0,Vn.jsx)("input",{type:"text",value:t.location.city,onChange:e=>r("location.city",e.target.value),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366]",placeholder:"Kota",disabled:n})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Provinsi"}),(0,Vn.jsx)("input",{type:"text",value:t.location.province,onChange:e=>r("location.province",e.target.value),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366]",placeholder:"Provinsi",disabled:n})]})]})]})},AM=e=>{let{formData:t,handleInputChange:r,saving:n}=e;return(0,Vn.jsxs)("div",{style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"rounded-xl p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[#32D74B]/10 flex items-center justify-center",children:(0,Vn.jsx)(xa,{className:"w-5 h-5 text-[#32D74B]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Informasi Keuangan"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Anggaran dan nilai kontrak"})]})]}),(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:["Nilai Kontrak ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)(JP,{value:t.budget.contractValue,onChange:e=>{r("budget.contractValue",e)},style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366]",placeholder:"0",required:!0,disabled:n}),(0,Vn.jsx)("p",{className:"mt-2 text-xs text-[#8E8E93]",children:"Nilai total kontrak proyek (dalam Rupiah)"})]})})]})},kM=e=>{let{formData:t,handleInputChange:r,saving:n}=e;return(0,Vn.jsxs)("div",{style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"rounded-xl p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[#BF5AF2]/10 flex items-center justify-center",children:(0,Vn.jsx)(VP,{className:"w-5 h-5 text-[#BF5AF2]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Timeline Proyek"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93]",children:"Jadwal waktu pelaksanaan"})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:["Tanggal Mulai ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)(HP,{value:t.timeline.startDate,onChange:e=>r("timeline.startDate",e),placeholderText:"Pilih tanggal mulai",required:!0,disabled:n})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:["Tanggal Selesai ",(0,Vn.jsx)("span",{className:"text-[#FF3B30]",children:"*"})]}),(0,Vn.jsx)(HP,{value:t.timeline.endDate,onChange:e=>r("timeline.endDate",e),placeholderText:"Pilih tanggal selesai",required:!0,disabled:n,minDate:t.timeline.startDate})]})]})]})},CM=e=>{let{formData:t,handleInputChange:r,saving:n}=e;return(0,Vn.jsxs)("div",{style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A"},className:"rounded-xl p-6",children:[(0,Vn.jsx)("h2",{className:"text-lg font-semibold text-white mb-6",children:"Status & Progress"}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Status Proyek"}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("select",{value:t.status,onChange:e=>r("status",e.target.value),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all appearance-none",disabled:n,children:[{value:"planning",label:"Perencanaan"},{value:"in_progress",label:"Sedang Berjalan"},{value:"on_hold",label:"Ditunda"},{value:"completed",label:"Selesai"},{value:"cancelled",label:"Dibatalkan"}].map(e=>(0,Vn.jsx)("option",{value:e.value,style:{backgroundColor:"#2C2C2E",color:"white"},children:e.label},e.value))}),(0,Vn.jsx)("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,Vn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((e=>{switch(e){case"planning":return"bg-blue-500";case"in_progress":return"bg-yellow-500";case"on_hold":return"bg-orange-500";case"completed":return"bg-green-500";case"cancelled":return"bg-red-500";default:return"bg-gray-500"}})(t.status))})})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Prioritas"}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("select",{value:t.priority,onChange:e=>r("priority",e.target.value),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all appearance-none",disabled:n,children:[{value:"low",label:"Rendah"},{value:"medium",label:"Sedang"},{value:"high",label:"Tinggi"},{value:"urgent",label:"Mendesak"}].map(e=>(0,Vn.jsx)("option",{value:e.value,style:{backgroundColor:"#2C2C2E",color:"white"},children:e.label},e.value))}),(0,Vn.jsx)("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,Vn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((e=>{switch(e){case"low":return"bg-blue-500";case"medium":return"bg-yellow-500";case"high":return"bg-orange-500";case"urgent":return"bg-red-500";default:return"bg-gray-500"}})(t.priority))})})]})]}),(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Progress Fisik (%)"}),(0,Vn.jsx)(QP,{value:t.progress,onChange:e=>r("progress",e),style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"white"},className:"w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-[#0A84FF] focus:border-[#0A84FF] outline-none transition-all placeholder-[#636366]",placeholder:"0",min:0,max:100,disabled:n}),t.progress>0&&(0,Vn.jsxs)("div",{className:"mt-4",children:[(0,Vn.jsx)("div",{className:"w-full bg-[#2C2C2E] rounded-full h-2.5",children:(0,Vn.jsx)("div",{className:"bg-[#30D158] h-2.5 rounded-full transition-all duration-500",style:{width:"".concat(t.progress,"%")}})}),(0,Vn.jsxs)("p",{className:"text-right text-xs text-[#8E8E93] mt-1",children:[t.progress,"% selesai"]})]})]})]})]})},FM=e=>{let{saving:t}=e;return(0,Vn.jsx)("div",{className:"flex justify-end",children:(0,Vn.jsx)("button",{type:"submit",style:{backgroundColor:t?"rgba(10, 132, 255, 0.6)":"#0A84FF"},className:"inline-flex items-center px-6 py-3 rounded-lg text-white font-medium hover:bg-[#0A84FF]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:t,children:t?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Menyimpan..."]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(gE,{className:"w-4 h-4 mr-2"}),"Simpan Perubahan"]})})})},SM=()=>{const{id:e}=ne(),{project:t,loading:r,saving:n,error:s,successMessage:o,subsidiaries:i,loadingSubsidiaries:l,formData:c,handleInputChange:d,handleSubsidiaryChange:u,handleSubmit:p}=(e=>{const t=re(),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(""),[u,p]=(0,a.useState)(""),[h,m]=(0,a.useState)([]),[f,x]=(0,a.useState)(!0),[g,b]=(0,a.useState)({name:"",description:"",client:{company:"",contact:"",phone:"",email:""},location:{address:"",city:"",province:""},timeline:{startDate:"",endDate:""},budget:{contractValue:0},status:"planning",priority:"medium",progress:0,subsidiary:{id:"",name:"",code:""}}),y=e=>{if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?"":t.toISOString().split("T")[0]},v=(0,a.useCallback)(async()=>{try{var t,r,a,s,i,l,c,u,p,h,m,f,x,g,v,j,w;o(!0);const N=await rs(e),A=N.data||N;n(A);const k=A.clientName||(null===(t=A.client)||void 0===t?void 0:t.company)||"",C=(null===(r=A.clientContact)||void 0===r?void 0:r.contact)||(null===(a=A.client)||void 0===a?void 0:a.contact)||(null===(s=A.clientContact)||void 0===s?void 0:s.contactPerson)||(null===(i=A.clientContact)||void 0===i?void 0:i.person)||"",F=(null===(l=A.clientContact)||void 0===l?void 0:l.phone)||(null===(c=A.client)||void 0===c?void 0:c.phone)||"",S=(null===(u=A.clientContact)||void 0===u?void 0:u.email)||(null===(p=A.client)||void 0===p?void 0:p.email)||"",E=(null===(h=A.budget)||void 0===h?void 0:h.contractValue)||(null===(m=A.budget)||void 0===m?void 0:m.total)||A.budget||0,P=(null===(f=A.timeline)||void 0===f?void 0:f.startDate)||A.startDate||"",D=(null===(x=A.timeline)||void 0===x?void 0:x.endDate)||A.endDate||"",O=(null===(g=A.progress)||void 0===g?void 0:g.percentage)||A.progress||0,T=A.subsidiary||A.subsidiaryInfo||{id:"",name:"",code:""};b({name:A.name||"",description:A.description||"",client:{company:k,contact:C,phone:F,email:S},location:{address:(null===(v=A.location)||void 0===v?void 0:v.address)||"",city:(null===(j=A.location)||void 0===j?void 0:j.city)||"",province:(null===(w=A.location)||void 0===w?void 0:w.province)||""},timeline:{startDate:y(P),endDate:y(D)},budget:{contractValue:Number(E)||0},status:A.status||"planning",priority:A.priority||"medium",progress:Number(O)||0,subsidiary:{id:T.id||"",name:T.name||"",code:T.code||""}}),d("")}catch(N){console.error("Error fetching project:",N),d("Gagal memuat data proyek. Silakan coba lagi.")}finally{o(!1)}},[e]),j=(0,a.useCallback)(async()=>{try{x(!0);const e=await Cs();e.success?m(e.data):console.error("Failed to fetch subsidiaries:",e.message)}catch(c){console.error("Error fetching subsidiaries:",c),m([])}finally{x(!1)}},[]);return(0,a.useEffect)(()=>{v(),j()},[v,j]),{project:r,loading:s,saving:i,error:c,successMessage:u,subsidiaries:h,loadingSubsidiaries:f,formData:g,handleInputChange:(e,t)=>{if(e.includes(".")){const[r,n]=e.split(".");b(e=>(0,Mt.A)((0,Mt.A)({},e),{},{[r]:(0,Mt.A)((0,Mt.A)({},e[r]),{},{[n]:t})}))}else b(r=>(0,Mt.A)((0,Mt.A)({},r),{},{[e]:t}))},handleSubsidiaryChange:e=>{const t=h.find(t=>t.id===e);b(t?e=>(0,Mt.A)((0,Mt.A)({},e),{},{subsidiary:{id:t.id,code:t.code,name:t.name}}):e=>(0,Mt.A)((0,Mt.A)({},e),{},{subsidiary:{id:"",name:"",code:""}}))},handleSubmit:async r=>{r.preventDefault(),l(!0),d(""),p("");try{const r={name:g.name.trim(),description:g.description.trim(),clientName:g.client.company.trim(),clientContact:{contact:g.client.contact.trim(),phone:g.client.phone.trim(),email:g.client.email.trim()},location:{address:g.location.address.trim(),city:g.location.city.trim(),province:g.location.province.trim()},budget:Number(g.budget.contractValue)||0,startDate:g.timeline.startDate,endDate:g.timeline.endDate,status:g.status,priority:g.priority,progress:Number(g.progress)||0,subsidiary:{id:g.subsidiary.id,code:g.subsidiary.code,name:g.subsidiary.name}},n=await as(e,r);if(!1===n.success)throw new Error(n.message||"Gagal memperbarui proyek");p("Proyek berhasil diperbarui!"),setTimeout(()=>{t("/admin/projects/".concat(e))},1500)}catch(s){var n,a;console.error("Error updating project:",s),d((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||s.message||"Gagal memperbarui proyek. Silakan coba lagi.")}finally{l(!1)}},setError:d,setSuccessMessage:p}})(e);return r||s&&!t?(0,Vn.jsx)(bM,{loading:r,error:s}):(0,Vn.jsx)("div",{className:"min-h-screen bg-[#000000]",children:(0,Vn.jsxs)("div",{className:"max-w-5xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,Vn.jsx)(yM,{projectId:e,projectName:null===t||void 0===t?void 0:t.name}),(0,Vn.jsx)(vM,{type:"success",message:o}),(0,Vn.jsx)(vM,{type:"error",message:s}),(0,Vn.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,Vn.jsx)(jM,{formData:c,handleInputChange:d,handleSubsidiaryChange:u,subsidiaries:i,loadingSubsidiaries:l,saving:n}),(0,Vn.jsx)(wM,{formData:c,handleInputChange:d,saving:n}),(0,Vn.jsx)(NM,{formData:c,handleInputChange:d,saving:n}),(0,Vn.jsx)(AM,{formData:c,handleInputChange:d,saving:n}),(0,Vn.jsx)(kM,{formData:c,handleInputChange:d,saving:n}),(0,Vn.jsx)(CM,{formData:c,handleInputChange:d,saving:n}),(0,Vn.jsx)(FM,{saving:n})]})]})})},EM=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),i=(0,a.useCallback)(async()=>{try{n(!0),o(null);const e=await Qa(),r=e.data||e;t(Array.isArray(r)?r:[])}catch(s){console.error("Error fetching data:",s),o(s.message||"Failed to fetch data"),t([])}finally{n(!1)}},[]),l=(0,a.useCallback)(()=>({total:e.length,active:e.filter(e=>"active"===e.status).length,inactive:e.filter(e=>"inactive"===e.status).length,departments:[...new Set(e.map(e=>e.department))].length}),[e]);return(0,a.useEffect)(()=>{i()},[i]),{employees:e,loading:r,error:s,setError:o,fetchData:i,handleDeleteEmployee:async e=>{if(window.confirm("Apakah Anda yakin ingin menghapus karyawan ini?"))try{await es(e),await i(),o(null)}catch(s){console.error("Error deleting employee:",s),o(s.message)}},stats:l()}},PM=["Construction","Engineering","Project Management","Finance","Human Resources","Safety & HSE","Quality Control","Administration"],DM=["Project Manager","Site Manager","Civil Engineer","Mechanical Engineer","Electrical Engineer","Architect","Quantity Surveyor","Safety Officer","Foreman","Site Supervisor","Admin Staff","HR Staff"],OM={employeeId:"",name:"",position:"",department:"",email:"",phone:"",joinDate:(new Date).toISOString().split("T")[0],birthDate:"",employmentType:"permanent",status:"active",salary:""},TM=e=>{switch(e){case"active":return"bg-[#30D158]/20 text-[#30D158] border-[#30D158]/30";case"inactive":default:return"bg-[#98989D]/20 text-[#98989D] border-[#98989D]/30";case"terminated":return"bg-[#FF453A]/20 text-[#FF453A] border-[#FF453A]/30"}},IM=e=>{switch(e){case"active":return"Aktif";case"inactive":return"Non-Aktif";case"terminated":return"Terminated";default:return e}},MM=e=>e||0===e?"Rp ".concat(parseInt(e).toLocaleString("id-ID")):"-",_M=e=>{const[t,r]=(0,a.useState)(OM),[n,s]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),d=(0,a.useCallback)(()=>{r(OM)},[]),u=(0,a.useCallback)(e=>{const{name:t,value:n}=e.target;r(e=>(0,Mt.A)((0,Mt.A)({},e),{},{[t]:n}))},[]);return{formData:t,setFormData:r,submitLoading:n,error:o,setError:i,isAddingInline:l,setIsAddingInline:c,resetForm:d,handleInputChange:u,handleSubmitEmployee:async r=>{r.preventDefault(),s(!0);try{const r=(0,Mt.A)((0,Mt.A)({},t),{},{salary:t.salary?parseFloat(t.salary):void 0}),n=await Za(r);if(!n.success)throw new Error(n.error||"Failed to create employee");e&&e(),d(),c(!1),i(null)}catch(o){console.error("Error creating employee:",o),i(o.message)}finally{s(!1)}}}},RM=e=>{const[t,r]=(0,a.useState)(""),[n,s]=(0,a.useState)(""),[o,i]=(0,a.useState)(""),[l,c]=(0,a.useState)(!1),d=(0,a.useCallback)(()=>{s(""),i("")},[]),u=(0,a.useMemo)(()=>e.filter(e=>{var r,a,s;const i=(null===(r=e.name)||void 0===r?void 0:r.toLowerCase().includes(t.toLowerCase()))||(null===(a=e.employeeId)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null===(s=e.position)||void 0===s?void 0:s.toLowerCase().includes(t.toLowerCase())),l=""===n||e.department===n,c=""===o||e.status===o;return i&&l&&c}),[e,t,n,o]),p=(0,a.useMemo)(()=>""!==n||""!==o,[n,o]);return{searchTerm:t,setSearchTerm:r,departmentFilter:n,setDepartmentFilter:s,statusFilter:o,setStatusFilter:i,showFilters:l,setShowFilters:c,filteredEmployees:u,resetFilters:d,hasActiveFilters:p}},BM=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(null);return{showDetailModal:e,selectedEmployee:r,openDetailModal:e=>{n(e),t(!0)},closeDetailModal:()=>{t(!1),n(null)}}},LM=e=>{let{onAddClick:t}=e;return(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl shadow-sm border border-[#38383A] p-6",children:(0,Vn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Manpower Management"}),(0,Vn.jsx)("p",{className:"text-[#98989D] mt-2",children:"Kelola data karyawan dan personil proyek"})]}),(0,Vn.jsxs)("button",{onClick:t,className:"flex items-center gap-2 px-6 py-3 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-all shadow-sm hover:shadow-md",children:[(0,Vn.jsx)(Pi,{className:"h-5 w-5"}),"Tambah Karyawan"]})]})})},zM=e=>{let{error:t,onDismiss:r}=e;return t?(0,Vn.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg flex items-center justify-between",children:[(0,Vn.jsx)("span",{children:t}),(0,Vn.jsx)("button",{onClick:r,className:"text-red-400 hover:text-red-300",children:(0,Vn.jsx)(ja.A,{className:"h-4 w-4"})})]}):null},UM=(0,Qn.A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),WM=e=>{let{stats:t}=e;const{total:r,active:n,inactive:a,departments:s}=t;return(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-6 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Total Karyawan"}),(0,Vn.jsx)("p",{className:"text-3xl font-bold text-white",children:r})]}),(0,Vn.jsx)("div",{className:"w-14 h-14 bg-[#0A84FF]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(ma,{className:"h-7 w-7 text-[#0A84FF]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-6 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Aktif"}),(0,Vn.jsx)("p",{className:"text-3xl font-bold text-[#30D158]",children:n})]}),(0,Vn.jsx)("div",{className:"w-14 h-14 bg-[#30D158]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(UM,{className:"h-7 w-7 text-[#30D158]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-6 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Non-Aktif"}),(0,Vn.jsx)("p",{className:"text-3xl font-bold text-[#98989D]",children:a})]}),(0,Vn.jsx)("div",{className:"w-14 h-14 bg-[#98989D]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(ma,{className:"h-7 w-7 text-[#98989D]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-6 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Departemen"}),(0,Vn.jsx)("p",{className:"text-3xl font-bold text-[#0A84FF]",children:s})]}),(0,Vn.jsx)("div",{className:"w-14 h-14 bg-[#0A84FF]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(io,{className:"h-7 w-7 text-[#0A84FF]"})})]})})]})},VM=e=>{let{searchTerm:t,setSearchTerm:r,departmentFilter:n,setDepartmentFilter:a,statusFilter:s,setStatusFilter:o,showFilters:i,setShowFilters:l,hasActiveFilters:c,resetFilters:d}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-xl shadow-sm border border-[#38383A] p-6",children:[(0,Vn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Vn.jsxs)("div",{className:"flex-1 relative",children:[(0,Vn.jsx)(uE.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-[#636366]"}),(0,Vn.jsx)("input",{type:"text",placeholder:"Cari nama, ID, atau posisi karyawan...",value:t,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent"})]}),(0,Vn.jsxs)("button",{onClick:()=>l(!i),className:"flex items-center gap-2 px-4 py-3 border border-[#38383A] rounded-lg hover:bg-[#38383A]/30 transition-colors text-white",children:[(0,Vn.jsx)(bP,{className:"h-5 w-5"}),"Filter"]})]}),i&&(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 pt-4 border-t border-[#38383A]",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Departemen"}),(0,Vn.jsxs)("select",{value:n,onChange:e=>a(e.target.value),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"",children:"Semua Departemen"}),PM.map(e=>(0,Vn.jsx)("option",{value:e,children:e},e))]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-[#98989D] mb-2",children:"Status"}),(0,Vn.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"",children:"Semua Status"}),(0,Vn.jsx)("option",{value:"active",children:"Aktif"}),(0,Vn.jsx)("option",{value:"inactive",children:"Non-Aktif"}),(0,Vn.jsx)("option",{value:"terminated",children:"Terminated"})]})]})]}),c&&(0,Vn.jsx)("div",{className:"mt-4 pt-4 border-t border-[#38383A]",children:(0,Vn.jsx)("button",{onClick:d,className:"text-sm text-[#0A84FF] hover:text-[#0A84FF]/80",children:"Reset Filter"})})]})},HM=e=>{let{employee:t,onViewDetail:r,onDelete:n}=e;return(0,Vn.jsxs)("tr",{className:"hover:bg-[#38383A]/30 transition-colors",children:[(0,Vn.jsxs)("td",{className:"px-3 py-3",children:[(0,Vn.jsx)("div",{className:"text-sm font-medium text-white",children:t.name}),(0,Vn.jsx)("div",{className:"text-xs text-[#636366] mt-0.5",children:t.employeeId})]}),(0,Vn.jsxs)("td",{className:"px-3 py-3",children:[(0,Vn.jsx)("div",{className:"text-sm text-white",children:t.position}),(0,Vn.jsx)("div",{className:"text-xs text-[#98989D] mt-0.5",children:t.department})]}),(0,Vn.jsxs)("td",{className:"px-3 py-3",children:[(0,Vn.jsx)("div",{className:"text-xs text-[#98989D]",children:t.email||"-"}),(0,Vn.jsx)("div",{className:"text-xs text-[#98989D] mt-0.5",children:t.phone||"-"})]}),(0,Vn.jsx)("td",{className:"px-3 py-3 text-center",children:(0,Vn.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full border ".concat(TM(t.status)),children:IM(t.status)})}),(0,Vn.jsx)("td",{className:"px-3 py-3",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Vn.jsx)("button",{onClick:()=>r(t),className:"p-1 text-[#0A84FF] hover:bg-[#0A84FF]/10 rounded transition-colors",title:"Lihat Detail",children:(0,Vn.jsx)(la,{className:"h-3.5 w-3.5"})}),(0,Vn.jsx)("button",{onClick:()=>n(t.id),className:"p-1 text-[#FF453A] hover:bg-[#FF453A]/10 rounded transition-colors",title:"Hapus",children:(0,Vn.jsx)(ca,{className:"h-3.5 w-3.5"})})]})})]})},KM=()=>(0,Vn.jsx)("tr",{children:(0,Vn.jsxs)("td",{colSpan:"5",className:"px-6 py-12 text-center",children:[(0,Vn.jsx)(ma,{className:"h-12 w-12 text-[#636366] mx-auto mb-3"}),(0,Vn.jsx)("p",{className:"text-[#98989D]",children:"Tidak ada data karyawan"}),(0,Vn.jsx)("p",{className:"text-sm text-[#636366] mt-1",children:"Silakan tambahkan karyawan baru"})]})}),qM=e=>{let{employees:t=[],isAddingInline:r=!1,onViewDetail:n,onDelete:a,formComponent:s}=e;return(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl shadow-sm border border-[#38383A] overflow-hidden",children:(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"w-full",children:[(0,Vn.jsx)("thead",{className:"bg-[#1C1C1E] border-b border-[#38383A]",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Karyawan"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Posisi & Dept"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Kontak"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-[#98989D] uppercase tracking-wider w-20",children:"Status"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-[#98989D] uppercase tracking-wider w-20",children:"Aksi"})]})}),(0,Vn.jsxs)("tbody",{className:"divide-y divide-[#38383A]",children:[r&&s,0!==t.length||r?t.map(e=>(0,Vn.jsx)(HM,{employee:e,onViewDetail:n,onDelete:a},e.id)):(0,Vn.jsx)(KM,{})]})]})})})},GM=e=>{let{formData:t,handleInputChange:r,handleSubmitEmployee:n,submitLoading:a,cancelForm:s}=e;const{employeeId:o,name:i,position:l,department:c,email:d,phone:u,status:p}=t,h=o&&i&&l&&c;return(0,Vn.jsxs)("tr",{className:"bg-[#1C1C1E]/50",children:[(0,Vn.jsxs)("td",{className:"px-3 py-3",children:[(0,Vn.jsx)("input",{type:"text",name:"employeeId",value:o,onChange:r,placeholder:"ID: EMP-001",required:!0,className:"w-full px-2 py-1 mb-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white placeholder-[#636366] focus:ring-1 focus:ring-[#0A84FF] focus:border-transparent"}),(0,Vn.jsx)("input",{type:"text",name:"name",value:i,onChange:r,placeholder:"Nama Lengkap *",required:!0,className:"w-full px-2 py-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white placeholder-[#636366] focus:ring-1 focus:ring-[#0A84FF] focus:border-transparent"})]}),(0,Vn.jsxs)("td",{className:"px-3 py-3",children:[(0,Vn.jsxs)("select",{name:"position",value:l,onChange:r,required:!0,className:"w-full px-2 py-1 mb-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white focus:ring-1 focus:ring-[#0A84FF] focus:border-transparent",children:[(0,Vn.jsx)("option",{value:"",children:"Pilih Posisi *"}),DM.map(e=>(0,Vn.jsx)("option",{value:e,children:e},e))]}),(0,Vn.jsxs)("select",{name:"department",value:c,onChange:r,required:!0,className:"w-full px-2 py-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white focus:ring-1 focus:ring-[#0A84FF] focus:border-transparent",children:[(0,Vn.jsx)("option",{value:"",children:"Pilih Dept *"}),PM.map(e=>(0,Vn.jsx)("option",{value:e,children:e},e))]})]}),(0,Vn.jsxs)("td",{className:"px-3 py-3",children:[(0,Vn.jsx)("input",{type:"email",name:"email",value:d,onChange:r,placeholder:"Email",className:"w-full px-2 py-1 mb-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white placeholder-[#636366] focus:ring-1 focus:ring-[#0A84FF] focus:border-transparent"}),(0,Vn.jsx)("input",{type:"tel",name:"phone",value:u,onChange:r,placeholder:"Telepon",className:"w-full px-2 py-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white placeholder-[#636366] focus:ring-1 focus:ring-[#0A84FF] focus:border-transparent"})]}),(0,Vn.jsx)("td",{className:"px-3 py-3",children:(0,Vn.jsxs)("select",{name:"status",value:p,onChange:r,className:"w-full px-2 py-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white focus:ring-1 focus:ring-[#0A84FF] focus:border-transparent",children:[(0,Vn.jsx)("option",{value:"active",children:"Aktif"}),(0,Vn.jsx)("option",{value:"inactive",children:"Non-Aktif"})]})}),(0,Vn.jsx)("td",{className:"px-3 py-3",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Vn.jsx)("button",{onClick:n,disabled:a||!h,className:"p-1 bg-[#30D158] text-white rounded hover:bg-[#30D158]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Simpan",children:a?(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}):(0,Vn.jsx)("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Vn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Vn.jsx)("button",{onClick:s,className:"p-1 bg-[#FF453A] text-white rounded hover:bg-[#FF453A]/90 transition-colors",title:"Batal",children:(0,Vn.jsx)(ja.A,{className:"h-3 w-3"})})]})})]})},YM=e=>{let{isOpen:t,employee:r,onClose:n}=e;return t&&r?(0,Vn.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"sticky top-0 bg-[#1C1C1E] border-b border-[#38383A] px-6 py-4 flex justify-between items-center",children:[(0,Vn.jsx)("h3",{className:"text-xl font-bold text-white",children:"Detail Karyawan"}),(0,Vn.jsx)("button",{onClick:n,className:"text-[#636366] hover:text-white",children:(0,Vn.jsx)(ja.A,{className:"h-6 w-6"})})]}),(0,Vn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Vn.jsxs)("div",{className:"flex items-start gap-4 pb-6 border-b border-[#38383A]",children:[(0,Vn.jsx)("div",{className:"w-20 h-20 bg-[#0A84FF]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(ma,{className:"h-10 w-10 text-[#0A84FF]"})}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h4",{className:"text-2xl font-bold text-white",children:r.name}),(0,Vn.jsx)("p",{className:"text-[#98989D] mt-1",children:r.position}),(0,Vn.jsx)("span",{className:"inline-block mt-2 px-3 py-1 text-xs font-medium rounded-full border ".concat(TM(r.status)),children:IM(r.status)})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-sm font-medium text-[#98989D]",children:"ID Karyawan"}),(0,Vn.jsx)("p",{className:"mt-1 text-white",children:r.employeeId})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-sm font-medium text-[#98989D]",children:"Departemen"}),(0,Vn.jsx)("p",{className:"mt-1 text-white",children:r.department})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-sm font-medium text-[#98989D]",children:"Email"}),(0,Vn.jsx)("p",{className:"mt-1 text-white",children:r.email||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-sm font-medium text-[#98989D]",children:"Telepon"}),(0,Vn.jsx)("p",{className:"mt-1 text-white",children:r.phone||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-sm font-medium text-[#98989D]",children:"Tanggal Bergabung"}),(0,Vn.jsx)("p",{className:"mt-1 text-white",children:(a=r.joinDate,a?new Date(a).toLocaleDateString("id-ID"):"-")})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-sm font-medium text-[#98989D]",children:"Tipe Pekerjaan"}),(0,Vn.jsx)("p",{className:"mt-1 text-white capitalize",children:r.employmentType||"-"})]}),(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"text-sm font-medium text-[#98989D]",children:"Gaji"}),(0,Vn.jsx)("p",{className:"mt-1 text-white",children:MM(r.salary)})]})]}),(0,Vn.jsx)("div",{className:"flex gap-3 pt-6 border-t border-[#38383A]",children:(0,Vn.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2.5 bg-[#38383A] text-white rounded-lg hover:bg-[#38383A]/70 transition-colors font-medium",children:"Tutup"})})]})]})}):null;var a},$M=()=>{const{employees:e,loading:t,error:r,setError:n,fetchData:a,handleDeleteEmployee:s,stats:o}=EM(),{formData:i,submitLoading:l,isAddingInline:c,setIsAddingInline:d,resetForm:u,handleInputChange:p,handleSubmitEmployee:h}=_M(a),{searchTerm:m,setSearchTerm:f,departmentFilter:x,setDepartmentFilter:g,statusFilter:b,setStatusFilter:y,showFilters:v,setShowFilters:j,filteredEmployees:w,resetFilters:N,hasActiveFilters:A}=RM(e),{showDetailModal:k,selectedEmployee:C,openDetailModal:F,closeDetailModal:S}=BM();return t?(0,Vn.jsx)("div",{className:"flex items-center justify-center h-screen bg-[#1C1C1E]",children:(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0A84FF]"})}):(0,Vn.jsx)("div",{className:"min-h-screen bg-[#1C1C1E] p-6",children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,Vn.jsx)(LM,{onAddClick:()=>{d(!0)}}),(0,Vn.jsx)(zM,{error:r,onDismiss:()=>n(null)}),(0,Vn.jsx)(WM,{stats:o}),(0,Vn.jsx)(VM,{searchTerm:m,setSearchTerm:f,departmentFilter:x,setDepartmentFilter:g,statusFilter:b,setStatusFilter:y,showFilters:v,setShowFilters:j,hasActiveFilters:A,resetFilters:N}),(0,Vn.jsx)(qM,{employees:w,isAddingInline:c,onViewDetail:F,onDelete:s,formComponent:(0,Vn.jsx)(GM,{formData:i,handleInputChange:p,handleSubmitEmployee:h,submitLoading:l,cancelForm:()=>{d(!1),u()}})}),(0,Vn.jsx)(YM,{isOpen:k,employee:C,onClose:S})]})})},JM=()=>(0,Vn.jsx)($M,{}),XM=e=>{let{count:t}=e;const{users:r}=(0,UE.B)();return(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:r.title}),(0,Vn.jsx)("p",{className:"text-gray-600",children:r.subtitle})]}),(0,Vn.jsx)("div",{className:"text-sm text-gray-500",children:r.userCount.replace("{count}",t)})]})},QM=[{value:"admin",label:"Administrator"},{value:"project_manager",label:"Manajer Proyek"},{value:"finance_manager",label:"Manajer Keuangan"},{value:"inventory_manager",label:"Manajer Inventaris"},{value:"hr_manager",label:"Manajer SDM"},{value:"supervisor",label:"Supervisor"}],ZM=e=>{let{searchTerm:t,roleFilter:r,onSearchChange:n,onRoleFilterChange:a}=e;const{users:s}=(0,UE.B)();return(0,Vn.jsx)(tP,{children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Vn.jsx)("div",{className:"relative",children:(0,Vn.jsx)("input",{type:"text",placeholder:s.searchPlaceholder,value:t,onChange:e=>n(e.target.value),className:"input-base w-80"})}),(0,Vn.jsxs)("select",{value:r,onChange:e=>a(e.target.value),className:"input-base w-48",children:[(0,Vn.jsx)("option",{value:"",children:s.allRoles}),QM.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Vn.jsx)(RE.Ay,{variant:"primary",size:"sm",icon:(0,Vn.jsx)(Pi,{}),children:s.newUser})]})})};var e_=r(2140);const t_=e=>{let{size:t="md",text:r="Memuat...",fullPage:n=!1}=e;const a=n?"fixed inset-0 bg-white bg-opacity-75 flex items-center justify-center z-50":"flex items-center justify-center py-12";return(0,Vn.jsx)("div",{className:a,children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[t]," border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto")}),r&&(0,Vn.jsx)("p",{className:"mt-4 text-sm text-gray-600",children:r})]})})},r_=e=>{let{users:t,loading:r,page:n,pagination:a,onPageChange:s,onEdit:o,onResetPassword:i,onToggleStatus:l}=e;const{users:c}=(0,UE.B)();return r?(0,Vn.jsx)(t_,{size:"lg"}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(e_.oo,{data:t,onEdit:o,onResetPassword:i,onToggleStatus:l}),0===t.length&&(0,Vn.jsx)(eP,{title:c.noResults.title,subtitle:c.noResults.subtitle}),a.count>0&&(0,Vn.jsx)(VE,{currentPage:n,totalPages:a.total,onPageChange:s,showInfo:!0,totalItems:a.count,itemsPerPage:20})]})},n_=e=>{var t,r,n,a,s,o,i,l;let{stats:c,serverCount:d}=e;const{users:u}=(0,UE.B)();return(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Vn.jsx)(ZE,{title:u.stats.totalUsers,value:null!==(t=null===c||void 0===c?void 0:c.total)&&void 0!==t?t:d,icon:ra,color:"blue"}),(0,Vn.jsx)(ZE,{title:u.stats.activeUsers,value:null!==(r=null===c||void 0===c?void 0:c.active)&&void 0!==r?r:"-",icon:UM,color:"green"}),(0,Vn.jsx)(ZE,{title:u.stats.administrators,value:null!==(n=null===c||void 0===c||null===(a=c.byRole)||void 0===a?void 0:a.admin)&&void 0!==n?n:"-",icon:La,color:"red"}),(0,Vn.jsx)(ZE,{title:u.stats.managers,value:((null===c||void 0===c||null===(s=c.byRole)||void 0===s?void 0:s.project_manager)||0)+((null===c||void 0===c||null===(o=c.byRole)||void 0===o?void 0:o.finance_manager)||0)+((null===c||void 0===c||null===(i=c.byRole)||void 0===i?void 0:i.inventory_manager)||0)+((null===c||void 0===c||null===(l=c.byRole)||void 0===l?void 0:l.hr_manager)||0),icon:ra,color:"purple"})]})},a_=()=>{const{users:e}=(0,UE.B)(),{users:t,loading:r,searchTerm:n,roleFilter:s,stats:o,page:i,serverPagination:l,setSearchTerm:c,setRoleFilter:d,setPage:u,handleEditUser:p,handleResetPassword:h,handleToggleStatus:m}=(()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(""),[i,l]=(0,a.useState)(""),[c]=(0,a.useState)("name"),[d]=(0,a.useState)("asc"),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(1),[f,x]=(0,a.useState)({current:1,total:1,count:0});(0,a.useEffect)(()=>{g()},[h,i,s,c,d]),(0,a.useEffect)(()=>{m(1)},[i,s,c,d]),(0,a.useEffect)(()=>{(async()=>{try{const e=await Sr.get("/users/stats/overview");p(e.data.data)}catch(Pr){}})()},[]);const g=async()=>{try{var e,r;n(!0);const a=await Sr.get("/users",{params:{q:s||void 0,role:i||void 0,sort:c,order:d,limit:20,page:h}}),o=(null===(e=a.data)||void 0===e?void 0:e.data)||[],l=(null===(r=a.data)||void 0===r?void 0:r.pagination)||{current:h,total:1,count:o.length};t(o),x({current:parseInt(l.current||1,10),total:parseInt(l.total||1,10),count:parseInt(l.count||o.length||0,10)})}catch(a){console.error("Error fetching users:",a),t([]),x({current:1,total:1,count:0})}finally{n(!1)}};return{users:e,loading:r,searchTerm:s,roleFilter:i,sortBy:c,sortOrder:d,stats:u,page:h,pageSize:20,serverPagination:f,setSearchTerm:o,setRoleFilter:l,setPage:m,handleEditUser:e=>{console.log("Edit user:",e)},handleResetPassword:e=>{console.log("Reset password:",e)},handleToggleStatus:e=>{console.log("Toggle status:",e)}}})();return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)(XM,{count:l.count}),(0,Vn.jsx)(ZM,{searchTerm:n,roleFilter:s,onSearchChange:c,onRoleFilterChange:d}),(0,Vn.jsx)(r_,{users:t,loading:r,page:i,pagination:l,onPageChange:u,onEdit:p,onResetPassword:h,onToggleStatus:m}),(0,Vn.jsx)(n_,{stats:o,serverCount:l.count})]})},s_={stockMovement:[{name:"Jan",stockIn:4e3,stockOut:2400,net:1600},{name:"Feb",stockIn:3e3,stockOut:1398,net:1602},{name:"Mar",stockIn:2e3,stockOut:9800,net:-7800},{name:"Apr",stockIn:2780,stockOut:3908,net:-1128},{name:"May",stockIn:1890,stockOut:4800,net:-2910},{name:"Jun",stockIn:2390,stockOut:3800,net:-1410},{name:"Jul",stockIn:3490,stockOut:4300,net:-810}],categoryDistribution:[{name:"Semen & Agregat",value:35,count:145},{name:"Besi & Baja",value:25,count:98},{name:"Safety Equipment",value:15,count:67},{name:"Alat Konstruksi",value:12,count:45},{name:"Cat & Finishing",value:8,count:34},{name:"Lainnya",value:5,count:23}],supplierPerformance:[{name:"PT Semen Indonesia",orders:24,onTime:22,rating:4.8},{name:"CV Baja Konstruksi",orders:18,onTime:16,rating:4.5},{name:"Safety Equipment Pro",orders:15,onTime:14,rating:4.6},{name:"Toko Alat Berat Jaya",orders:12,onTime:9,rating:3.8},{name:"Material Center",orders:20,onTime:18,rating:4.3}],warehouseUtilization:[{name:"Gudang A",capacity:1e3,used:750,utilization:75},{name:"Gudang B",capacity:800,used:640,utilization:80},{name:"Gudang C",capacity:600,used:420,utilization:70},{name:"Gudang D",capacity:1200,used:960,utilization:80},{name:"Gudang E",capacity:900,used:540,utilization:60}],purchaseOrderTrend:[{month:"Jan",orders:45,value:125e6},{month:"Feb",orders:52,value:145e6},{month:"Mar",orders:38,value:98e6},{month:"Apr",orders:61,value:178e6},{month:"May",orders:55,value:156e6},{month:"Jun",orders:67,value:189e6},{month:"Jul",orders:72,value:205e6}]},o_={primary:"#3B82F6",success:"#10B981",danger:"#EF4444",warning:"#F59E0B",info:"#0088FE",purple:"#8884D8",teal:"#00C49F",amber:"#FFBB28",orange:"#FF8042",navy:"#0F172A"},i_={backgroundColor:"#2C2C2E",borderColor:"#38383A",textColor:"#FFFFFF",secondaryTextColor:"#98989D",strokeDasharray:"3 3",borderRadius:"8px",tooltipStyles:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",borderRadius:"8px",color:"#FFFFFF"}},l_=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],c_=e=>{let{title:t,children:r,className:n=""}=e;return(0,Vn.jsxs)("div",{className:"p-6 rounded-lg shadow-lg ".concat(n),style:{backgroundColor:i_.backgroundColor,border:"1px solid ".concat(i_.borderColor)},children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold mb-4",style:{color:i_.textColor},children:t}),r]})},d_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{locale:r="id-ID",currency:n="IDR",minimumFractionDigits:a=0}=t;return new Intl.NumberFormat(r,{style:"currency",currency:n,minimumFractionDigits:a}).format(e)},u_=e=>new Intl.NumberFormat("id-ID").format(e),p_=e=>{let{data:t}=e;return(0,Vn.jsx)(Hl,{width:"100%",height:300,children:(0,Vn.jsxs)(uF,{data:t,children:[(0,Vn.jsx)(EF,{strokeDasharray:i_.strokeDasharray,stroke:i_.borderColor}),(0,Vn.jsx)(ZC,{dataKey:"name",stroke:i_.secondaryTextColor}),(0,Vn.jsx)(dF,{stroke:i_.secondaryTextColor}),(0,Vn.jsx)(qc,{formatter:e=>u_(e),contentStyle:i_.tooltipStyles}),(0,Vn.jsx)(vu,{wrapperStyle:{color:i_.secondaryTextColor}}),(0,Vn.jsx)(bC,{type:"monotone",dataKey:"stockIn",stackId:"1",stroke:o_.success,fill:o_.success,fillOpacity:.8,name:"Stock In"}),(0,Vn.jsx)(bC,{type:"monotone",dataKey:"stockOut",stackId:"1",stroke:o_.danger,fill:o_.danger,fillOpacity:.8,name:"Stock Out"})]})})},h_=e=>{let{data:t}=e;return(0,Vn.jsx)(Hl,{width:"100%",height:300,children:(0,Vn.jsxs)(PS,{children:[(0,Vn.jsx)(ES,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:r}=e;return"".concat(t," ").concat((100*r).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((e,t)=>(0,Vn.jsx)(Ij,{fill:l_[t%l_.length]},"cell-".concat(t)))}),(0,Vn.jsx)(qc,{formatter:(e,t)=>["".concat(e,"%"),t],contentStyle:i_.tooltipStyles})]})})};var m_=nC({chartName:"BarChart",GraphicalChild:aN,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ZC},{axisType:"yAxis",AxisComp:dF}],formatAxisMap:uN});const f_=e=>{let{data:t}=e;return(0,Vn.jsx)(Hl,{width:"100%",height:300,children:(0,Vn.jsxs)(m_,{data:t,children:[(0,Vn.jsx)(EF,{strokeDasharray:i_.strokeDasharray,stroke:i_.borderColor}),(0,Vn.jsx)(ZC,{dataKey:"name",angle:-45,textAnchor:"end",height:100,stroke:i_.secondaryTextColor}),(0,Vn.jsx)(dF,{stroke:i_.secondaryTextColor}),(0,Vn.jsx)(qc,{contentStyle:i_.tooltipStyles}),(0,Vn.jsx)(vu,{wrapperStyle:{color:i_.secondaryTextColor}}),(0,Vn.jsx)(aN,{dataKey:"orders",fill:o_.primary,name:"Total Orders"}),(0,Vn.jsx)(aN,{dataKey:"onTime",fill:o_.success,name:"On Time Delivery"})]})})},x_=e=>{let{data:t}=e;return(0,Vn.jsx)(Hl,{width:"100%",height:300,children:(0,Vn.jsxs)(m_,{data:t,layout:"horizontal",children:[(0,Vn.jsx)(EF,{strokeDasharray:i_.strokeDasharray,stroke:i_.borderColor}),(0,Vn.jsx)(ZC,{type:"number",domain:[0,100],stroke:i_.secondaryTextColor}),(0,Vn.jsx)(dF,{dataKey:"name",type:"category",width:80,stroke:i_.secondaryTextColor}),(0,Vn.jsx)(qc,{formatter:e=>"".concat(e,"%"),contentStyle:i_.tooltipStyles}),(0,Vn.jsx)(vu,{wrapperStyle:{color:i_.secondaryTextColor}}),(0,Vn.jsx)(aN,{dataKey:"utilization",fill:o_.purple,name:"Utilization %"})]})})},g_=e=>{let{data:t}=e;return(0,Vn.jsx)(Hl,{width:"100%",height:300,children:(0,Vn.jsxs)($O,{data:t,children:[(0,Vn.jsx)(EF,{strokeDasharray:i_.strokeDasharray,stroke:i_.borderColor}),(0,Vn.jsx)(ZC,{dataKey:"month",stroke:i_.secondaryTextColor}),(0,Vn.jsx)(dF,{yAxisId:"left",stroke:i_.secondaryTextColor}),(0,Vn.jsx)(dF,{yAxisId:"right",orientation:"right",stroke:i_.secondaryTextColor,tickFormatter:e=>d_(e,{minimumFractionDigits:0})}),(0,Vn.jsx)(qc,{formatter:(e,t)=>"value"===t?[d_(e,{minimumFractionDigits:0}),"Total Value"]:[e,"Total Orders"],contentStyle:i_.tooltipStyles}),(0,Vn.jsx)(vu,{wrapperStyle:{color:i_.secondaryTextColor}}),(0,Vn.jsx)(aN,{yAxisId:"left",dataKey:"orders",fill:o_.primary,name:"Orders Count"}),(0,Vn.jsx)(YO,{yAxisId:"right",type:"monotone",dataKey:"value",stroke:o_.danger,strokeWidth:3,name:"Total Value"})]})})},b_=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const[n,s]=(0,a.useState)(t),[o,i]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!r)return;(async()=>{i(!0),c(null);try{const t=await r(e);s(t)}catch(n){console.error("Error fetching ".concat(e," chart data:"),n),c(n.message||"Failed to load chart data"),s(t)}finally{i(!1)}})()},[e,t,r]),{data:n,loading:o,error:l}},y_=e=>{let{data:t={},fetchFn:r=null}=e;const{analytics:n}=(0,UE.B)(),{data:a}=b_("stockMovement",s_.stockMovement,r),{data:s}=b_("categoryDistribution",s_.categoryDistribution,r),{data:o}=b_("supplierPerformance",s_.supplierPerformance,r),{data:i}=b_("warehouseUtilization",s_.warehouseUtilization,r),{data:l}=b_("purchaseOrderTrend",s_.purchaseOrderTrend,r);return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Vn.jsx)(c_,{title:n.chartTitles.budgetAllocation,children:(0,Vn.jsx)(h_,{data:t.categoryDistribution||s})}),(0,Vn.jsx)(c_,{title:n.chartTitles.resourceUtilization,children:(0,Vn.jsx)(x_,{data:t.warehouseUtilization||i})})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Vn.jsx)(c_,{title:n.chartTitles.projectPerformance,children:(0,Vn.jsx)(f_,{data:t.supplierPerformance||o})}),(0,Vn.jsx)(c_,{title:n.chartTitles.timeline,children:(0,Vn.jsx)(g_,{data:t.purchaseOrderTrend||l})})]}),(0,Vn.jsx)(c_,{title:n.chartTitles.projectPerformance,children:(0,Vn.jsx)(p_,{data:t.stockMovement||a})})]})},v_=e=>{let{data:t,fetchFn:r}=e;return(0,Vn.jsx)(y_,{data:t,fetchFn:r})},j_=()=>{const{analytics:e}=(0,UE.B)();return(0,Vn.jsx)("div",{className:"min-h-screen py-8",style:{backgroundColor:"#1C1C1E"},children:(0,Vn.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Vn.jsxs)("div",{className:"rounded-lg shadow-lg p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsx)("h1",{className:"text-2xl font-bold mb-4",style:{color:"#FFFFFF"},children:e.title}),(0,Vn.jsx)("p",{className:"mb-6",style:{color:"#98989D"},children:e.subtitle}),(0,Vn.jsx)(v_,{})]})})})},w_=(0,Qn.A)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),N_=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)("all"),[i,l]=(0,a.useState)("all"),[c,d]=(0,a.useState)(""),[u,p]=(0,a.useState)([]),[h,m]=(0,a.useState)(1),[f,x]=(0,a.useState)(0);(0,a.useEffect)(()=>{g()},[s,i,h]);const g=async()=>{n(!0);try{const e=localStorage.getItem("token"),r="unread"===s,n=20*(h-1),a=await fetch("".concat(zn,"/notifications?limit=").concat(20,"&offset=").concat(n,"&unreadOnly=").concat(r),{headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){const e=await a.json();if(e.success&&e.data){let r=e.data.notifications||[];"all"!==i&&(r=r.filter(e=>e.notificationType===i)),c&&(r=r.filter(e=>{var t,r;return(null===(t=e.subject)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(r=e.message)||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase()))})),t(r),x(e.data.total||0)}}}catch(e){console.error("Error loading notifications:",e)}finally{n(!1)}},b=e=>new Date(e).toLocaleString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=Math.ceil(f/20);return(0,Vn.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,Vn.jsxs)("div",{className:"mb-6",children:[(0,Vn.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Notifications"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Manage all your notifications"})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg p-4 mb-6 space-y-4",children:[(0,Vn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Vn.jsxs)("div",{className:"flex-1 relative",children:[(0,Vn.jsx)(uE.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#8E8E93]",size:18}),(0,Vn.jsx)("input",{type:"text",placeholder:"Search notifications...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#1C1C1E] text-white rounded-lg border border-[#3A3A3C] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("button",{onClick:g,className:"px-4 py-2 bg-[#3A3A3C] text-white rounded-lg hover:bg-[#48484A] transition-colors flex items-center space-x-2",children:[(0,Vn.jsx)(Ho,{size:18}),(0,Vn.jsx)("span",{children:"Refresh"})]})]}),(0,Vn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)(bP,{size:18,className:"text-[#8E8E93]"}),(0,Vn.jsxs)("select",{value:s,onChange:e=>{o(e.target.value),m(1)},className:"px-3 py-2 bg-[#1C1C1E] text-white rounded-lg border border-[#3A3A3C] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"all",children:"All"}),(0,Vn.jsx)("option",{value:"unread",children:"Unread Only"}),(0,Vn.jsx)("option",{value:"read",children:"Read Only"})]})]}),(0,Vn.jsxs)("select",{value:i,onChange:e=>{l(e.target.value),m(1)},className:"px-3 py-2 bg-[#1C1C1E] text-white rounded-lg border border-[#3A3A3C] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"all",children:"All Types"}),(0,Vn.jsx)("option",{value:"approval_request",children:"Approval Requests"}),(0,Vn.jsx)("option",{value:"approved",children:"Approved"}),(0,Vn.jsx)("option",{value:"rejected",children:"Rejected"}),(0,Vn.jsx)("option",{value:"escalation",children:"Escalations"}),(0,Vn.jsx)("option",{value:"completed",children:"Completed"})]}),u.length>0&&(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 ml-auto",children:[(0,Vn.jsxs)("span",{className:"text-sm text-[#8E8E93]",children:[u.length," selected"]}),(0,Vn.jsxs)("button",{onClick:async()=>{if(0!==u.length&&window.confirm("Delete ".concat(u.length," selected notification(s)?")))try{const e=localStorage.getItem("token");await Promise.all(u.map(t=>fetch("".concat(zn,"/notifications/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}}))),g(),p([])}catch(e){console.error("Error deleting notifications:",e)}},className:"px-3 py-2 bg-[#FF3B30] text-white rounded-lg hover:bg-[#FF4D43] transition-colors flex items-center space-x-1",children:[(0,Vn.jsx)(ca,{size:16}),(0,Vn.jsx)("span",{children:"Delete"})]})]}),"unread"===s&&e.length>0&&(0,Vn.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("token");(await fetch("".concat(zn,"/notifications/read-all"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(e)}})).ok&&(g(),p([]))}catch(e){console.error("Error marking all as read:",e)}},className:"px-3 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#409CFF] transition-colors flex items-center space-x-1",children:[(0,Vn.jsx)(ia.A,{size:16}),(0,Vn.jsx)("span",{children:"Mark All Read"})]})]})]}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-lg overflow-hidden",children:r?(0,Vn.jsxs)("div",{className:"p-12 text-center",children:[(0,Vn.jsx)(Ho,{className:"animate-spin mx-auto text-[#0A84FF] mb-3",size:32}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Loading notifications..."})]}):0===e.length?(0,Vn.jsxs)("div",{className:"p-12 text-center",children:[(0,Vn.jsx)(oa,{size:48,className:"mx-auto text-[#3A3A3C] mb-3"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"No notifications found"}),(0,Vn.jsx)("p",{className:"text-xs text-[#636366] mt-1",children:"unread"===s?"All caught up!":"Try adjusting your filters"})]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"px-4 py-3 border-b border-[#3A3A3C] bg-[#1C1C1E]",children:(0,Vn.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Vn.jsx)("input",{type:"checkbox",checked:u.length===e.length&&e.length>0,onChange:()=>{u.length===e.length?p([]):p(e.map(e=>e.id))},className:"w-4 h-4 text-[#0A84FF] bg-[#2C2C2E] border-[#3A3A3C] rounded focus:ring-[#0A84FF]"}),(0,Vn.jsxs)("span",{className:"text-sm text-[#8E8E93]",children:["Select All (",e.length,")"]})]})}),(0,Vn.jsx)("div",{className:"divide-y divide-[#3A3A3C]",children:e.map(e=>{return(0,Vn.jsx)("div",{className:"p-4 hover:bg-[#1C1C1E] transition-colors ".concat("pending"===e.status?"bg-[#2C2C2E]":"bg-[#2C2C2E] opacity-75"),children:(0,Vn.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vn.jsx)("input",{type:"checkbox",checked:u.includes(e.id),onChange:()=>{return t=e.id,void p(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mt-1 w-4 h-4 text-[#0A84FF] bg-[#2C2C2E] border-[#3A3A3C] rounded focus:ring-[#0A84FF]"}),(0,Vn.jsx)("div",{className:"text-2xl flex-shrink-0",children:(t=e.notificationType,{approval_request:"\ud83d\udcdd",approved:"\u2705",rejected:"\u274c",escalation:"\u26a0\ufe0f",completed:"\ud83c\udf89",system:"\ud83d\udd14"}[t]||"\ud83d\udcec")}),(0,Vn.jsx)("div",{className:"flex-1 min-w-0",children:(0,Vn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:e.subject}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mt-1",children:e.message}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,Vn.jsx)("p",{className:"text-xs text-[#636366]",children:b(e.createdAt)}),"pending"===e.status&&(0,Vn.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-[#0A84FF] text-white rounded",children:"New"})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:["pending"===e.status?(0,Vn.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");(await fetch("".concat(zn,"/notifications/").concat(e,"/read"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}})).ok&&g()}catch(t){console.error("Error marking notification as read:",t)}})(e.id),className:"p-2 text-[#0A84FF] hover:bg-[#3A3A3C] rounded transition-colors",title:"Mark as read",children:(0,Vn.jsx)(la,{size:16})}):(0,Vn.jsx)("button",{className:"p-2 text-[#8E8E93] hover:bg-[#3A3A3C] rounded transition-colors",title:"Already read",children:(0,Vn.jsx)(w_,{size:16})}),(0,Vn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this notification?"))try{const t=localStorage.getItem("token");(await fetch("".concat(zn,"/notifications/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})).ok&&(g(),p(t=>t.filter(t=>t!==e)))}catch(t){console.error("Error deleting notification:",t)}})(e.id),className:"p-2 text-[#8E8E93] hover:text-[#FF3B30] hover:bg-[#3A3A3C] rounded transition-colors",title:"Delete",children:(0,Vn.jsx)(ca,{size:16})})]})]})})]})},e.id);var t})})]})}),y>1&&(0,Vn.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93]",children:["Showing ",20*(h-1)+1," to ",Math.min(20*h,f)," of ",f," notifications"]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)("button",{onClick:()=>m(e=>Math.max(1,e-1)),disabled:1===h,className:"px-4 py-2 bg-[#2C2C2E] text-white rounded-lg hover:bg-[#3A3A3C] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),(0,Vn.jsxs)("span",{className:"text-sm text-[#8E8E93]",children:["Page ",h," of ",y]}),(0,Vn.jsx)("button",{onClick:()=>m(e=>Math.min(y,e+1)),disabled:h===y,className:"px-4 py-2 bg-[#2C2C2E] text-white rounded-lg hover:bg-[#3A3A3C] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})},A_=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{c(),d()},[]);const c=async()=>{try{n(!0),l(null);const e=await Cs();e.success?t(e.data||[]):l(e.message||"Failed to fetch subsidiaries")}catch(i){console.error("Error fetching subsidiaries:",i),l("An error occurred while fetching subsidiaries")}finally{n(!1)}},d=async()=>{try{const r=await Ds();if(r.success){const n=r.data;var e,t;if(n.overview)o({total:n.overview.total,active:n.overview.active,totalEmployees:n.overview.totalEmployees,specializations:(null===(e=n.specializations)||void 0===e?void 0:e.length)||0});else o({total:n.total||0,active:n.active||0,totalEmployees:n.totalEmployees||0,specializations:(null===(t=n.bySpecialization)||void 0===t?void 0:t.length)||0})}}catch(i){console.error("Error fetching subsidiary statistics:",i)}};return{subsidiaries:e,loading:r,stats:s,error:i,fetchSubsidiaries:c,fetchStats:d,handleDeleteSubsidiary:async e=>{if(window.confirm("Apakah Anda yakin ingin menghapus anak usaha ini?"))try{n(!0);const t=await Ps(e);t.success?(await c(),await d()):alert("Gagal menghapus anak usaha: "+(t.message||"Unknown error"))}catch(i){console.error("Error deleting subsidiary:",i),alert("Gagal menghapus anak usaha")}finally{n(!1)}}}},k_=e=>{const[t,r]=(0,a.useState)(""),[n,s]=(0,a.useState)(""),[o,i]=(0,a.useState)(""),[l,c]=(0,a.useState)(!1),d=(0,a.useMemo)(()=>e.filter(e=>{const r=!t||e.name.toLowerCase().includes(t.toLowerCase())||e.code.toLowerCase().includes(t.toLowerCase()),a=!n||e.specialization===n,s=!o||e.status===o;return r&&a&&s}),[e,t,n,o]);return{searchTerm:t,setSearchTerm:r,specializationFilter:n,setSpecializationFilter:s,statusFilter:o,setStatusFilter:i,showFilters:l,setShowFilters:c,filteredSubsidiaries:d,resetFilters:()=>{r(""),s(""),i("")},hasActiveFilters:t||n||o}},C_=()=>{const e=re();return(0,Vn.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-8",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(ga,{className:"w-8 h-8",style:{color:"#0A84FF"}}),"Anak Usaha Nusantara Group"]}),(0,Vn.jsx)("p",{className:"mt-2",style:{color:"#98989D"},children:"Kelola anak usaha dan spesialisasi konstruksi"})]}),(0,Vn.jsxs)("button",{onClick:()=>e("/subsidiaries/create"),className:"flex items-center gap-2 px-6 py-3 rounded-lg transition-colors font-medium",style:{background:"linear-gradient(135deg, #0A84FF 0%, #0066CC 100%)",color:"#FFFFFF"},children:[(0,Vn.jsx)(Pi,{size:20}),"Tambah Anak Usaha"]})]})},F_=e=>{let{stats:t}=e;return t?(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Vn.jsx)("div",{className:"rounded-xl p-6 shadow-sm",style:{background:"linear-gradient(135deg, rgba(10, 132, 255, 0.2) 0%, rgba(10, 132, 255, 0.1) 100%)",border:"1px solid rgba(10, 132, 255, 0.3)"},children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Total Anak Usaha"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#FFFFFF"},children:t.total||0})]}),(0,Vn.jsx)(ga,{className:"w-8 h-8",style:{color:"#0A84FF"}})]})}),(0,Vn.jsx)("div",{className:"rounded-xl p-6 shadow-sm",style:{background:"linear-gradient(135deg, rgba(52, 199, 89, 0.2) 0%, rgba(52, 199, 89, 0.1) 100%)",border:"1px solid rgba(52, 199, 89, 0.3)"},children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Anak Usaha Aktif"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#FFFFFF"},children:t.active||0})]}),(0,Vn.jsx)(Wa,{className:"w-8 h-8",style:{color:"#34C759"}})]})}),(0,Vn.jsx)("div",{className:"rounded-xl p-6 shadow-sm",style:{background:"linear-gradient(135deg, rgba(255, 159, 10, 0.2) 0%, rgba(255, 159, 10, 0.1) 100%)",border:"1px solid rgba(255, 159, 10, 0.3)"},children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Total Karyawan"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#FFFFFF"},children:t.totalEmployees||0})]}),(0,Vn.jsx)(ma,{className:"w-8 h-8",style:{color:"#FF9F0A"}})]})}),(0,Vn.jsx)("div",{className:"rounded-xl p-6 shadow-sm",style:{background:"linear-gradient(135deg, rgba(191, 90, 242, 0.2) 0%, rgba(191, 90, 242, 0.1) 100%)",border:"1px solid rgba(191, 90, 242, 0.3)"},children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Spesialisasi"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",style:{color:"#FFFFFF"},children:t.specializations||0})]}),(0,Vn.jsx)(bo,{className:"w-8 h-8",style:{color:"#BF5AF2"}})]})})]}):null},S_=[{value:"",label:"Semua Spesialisasi"},{value:"residential",label:"Perumahan"},{value:"commercial",label:"Komersial"},{value:"industrial",label:"Industri"},{value:"infrastructure",label:"Infrastruktur"},{value:"renovation",label:"Renovasi"},{value:"interior",label:"Interior"},{value:"landscaping",label:"Lansekap"},{value:"general",label:"Umum"}],E_=[{value:"",label:"Semua Status"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],P_={residential:"Perumahan",commercial:"Komersial",industrial:"Industri",infrastructure:"Infrastruktur",renovation:"Renovasi",interior:"Interior",landscaping:"Lansekap",general:"Umum"},D_=e=>{let{searchTerm:t,setSearchTerm:r,specializationFilter:n,setSpecializationFilter:a,statusFilter:s,setStatusFilter:o,showFilters:i,setShowFilters:l,hasActiveFilters:c,resetFilters:d}=e;return(0,Vn.jsxs)("div",{className:"mb-8",children:[(0,Vn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[(0,Vn.jsxs)("div",{className:"relative w-full md:w-auto md:flex-1",children:[(0,Vn.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Cari anak usaha...",className:"w-full pl-10 pr-4 py-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:"#FFFFFF"}}),(0,Vn.jsx)(uE.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:"#98989D"},size:18})]}),(0,Vn.jsxs)("button",{onClick:()=>l(!i),className:"flex items-center gap-2 px-4 py-3 rounded-lg ".concat(i?"bg-blue-500/20 text-blue-400":""),style:{border:"1px solid #38383A",color:i?"#0A84FF":"#98989D",backgroundColor:i?"rgba(10, 132, 255, 0.1)":"#2C2C2E"},children:[(0,Vn.jsx)(bP,{size:18}),"Filter",c&&(0,Vn.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-500"})]})]}),i&&(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 p-4 rounded-lg",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Spesialisasi"}),(0,Vn.jsx)("select",{value:n,onChange:e=>a(e.target.value),className:"w-full px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},children:S_.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Status"}),(0,Vn.jsx)("select",{value:s,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},children:E_.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Vn.jsx)("div",{className:"flex items-end",children:(0,Vn.jsxs)("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors",style:{backgroundColor:"#38383A",color:"#FFFFFF"},children:[(0,Vn.jsx)(ja.A,{size:16}),"Reset Filter"]})})]})]})},O_=e=>{let{subsidiary:t,onDelete:r}=e;const n=re(),a=(e=>{switch(e){case"active":return{label:"Aktif",bgColor:"rgba(52, 199, 89, 0.2)",borderColor:"rgba(52, 199, 89, 0.4)",textColor:"#34C759",icon:"CheckCircle"};case"inactive":return{label:"Tidak Aktif",bgColor:"rgba(255, 69, 58, 0.2)",borderColor:"rgba(255, 69, 58, 0.4)",textColor:"#FF453A",icon:"XCircle"};default:return{label:"Tidak Diketahui",bgColor:"rgba(142, 142, 147, 0.2)",borderColor:"rgba(142, 142, 147, 0.4)",textColor:"#8E8E93",icon:"HelpCircle"}}})(t.status);return(0,Vn.jsx)("div",{className:"rounded-xl overflow-hidden shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-xl font-semibold",style:{color:"#FFFFFF"},children:t.name}),(0,Vn.jsx)("p",{className:"text-sm mt-1",style:{color:"#98989D"},children:t.code})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-full",style:{backgroundColor:a.bgColor,border:"1px solid ".concat(a.borderColor),color:a.textColor},children:["CheckCircle"===a.icon&&(0,Vn.jsx)(Ea.A,{size:14}),"XCircle"===a.icon&&(0,Vn.jsx)($D,{size:14}),(0,Vn.jsx)("span",{className:"text-xs font-medium",children:a.label})]})]}),(0,Vn.jsxs)("div",{className:"space-y-3 mb-6",children:[t.specialization&&(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)(bo,{size:16,style:{color:"#98989D"}}),(0,Vn.jsx)("span",{style:{color:"#FFFFFF"},children:P_[t.specialization]||t.specialization})]}),t.establishedYear&&(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)(io,{size:16,style:{color:"#98989D"}}),(0,Vn.jsx)("span",{style:{color:"#FFFFFF"},children:(o=t.establishedYear,o?"Est. ".concat(o):"-")})]}),void 0!==t.employeeCount&&(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)(ma,{size:16,style:{color:"#98989D"}}),(0,Vn.jsx)("span",{style:{color:"#FFFFFF"},children:(s=t.employeeCount,s||0===s?"".concat(s," karyawan"):"-")})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mt-6 pt-4",style:{borderTop:"1px solid #38383A"},children:[(0,Vn.jsxs)("button",{onClick:()=>n("/subsidiaries/".concat(t.id)),className:"flex items-center justify-center flex-1 gap-2 py-2 rounded-lg transition-colors",style:{backgroundColor:"#38383A",color:"#FFFFFF"},children:[(0,Vn.jsx)(la,{size:16}),"Detail"]}),(0,Vn.jsx)("button",{onClick:()=>n("/subsidiaries/".concat(t.id,"/edit")),className:"flex items-center justify-center gap-2 p-2 rounded-lg transition-colors",style:{backgroundColor:"#38383A",color:"#FFFFFF"},children:(0,Vn.jsx)(rD,{size:16})}),(0,Vn.jsx)("button",{onClick:()=>r(t.id),className:"flex items-center justify-center gap-2 p-2 rounded-lg transition-colors",style:{backgroundColor:"rgba(255, 69, 58, 0.2)",color:"#FF453A",border:"1px solid rgba(255, 69, 58, 0.3)"},children:(0,Vn.jsx)(ca,{size:16})})]})]})});var s,o},T_=e=>{let{subsidiaries:t,loading:r,onDelete:n}=e;return r?(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>(0,Vn.jsx)("div",{className:"h-48 rounded-lg animate-pulse",style:{backgroundColor:"#2C2C2E"}},t))}):0===t.length?(0,Vn.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center rounded-lg",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsx)("p",{className:"text-xl font-medium mb-2",style:{color:"#FFFFFF"},children:"Tidak ada anak usaha ditemukan"}),(0,Vn.jsx)("p",{style:{color:"#98989D"},children:"Tidak ada anak usaha yang sesuai dengan filter yang dipilih"})]}):(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,Vn.jsx)(O_,{subsidiary:e,onDelete:n},e.id))})},I_=()=>{const{subsidiaries:e,loading:t,stats:r,error:n,handleDeleteSubsidiary:a}=A_(),{searchTerm:s,setSearchTerm:o,specializationFilter:i,setSpecializationFilter:l,statusFilter:c,setStatusFilter:d,showFilters:u,setShowFilters:p,filteredSubsidiaries:h,resetFilters:m,hasActiveFilters:f}=k_(e);return(0,Vn.jsx)("div",{className:"min-h-screen",style:{backgroundColor:"#1C1C1E"},children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,Vn.jsx)(C_,{}),(0,Vn.jsx)(F_,{stats:r}),(0,Vn.jsx)(D_,{searchTerm:s,setSearchTerm:o,specializationFilter:i,setSpecializationFilter:l,statusFilter:c,setStatusFilter:d,showFilters:u,setShowFilters:p,resetFilters:m,hasActiveFilters:f}),n&&(0,Vn.jsx)("div",{className:"mb-6 p-4 rounded-lg text-red-300 bg-red-900/20 border border-red-900",children:n}),(0,Vn.jsx)(T_,{subsidiaries:h,loading:t,onDelete:a})]})})},M_=()=>(0,Vn.jsx)(I_,{}),__=[{value:"residential",label:"Perumahan"},{value:"commercial",label:"Komersial"},{value:"industrial",label:"Industri"},{value:"infrastructure",label:"Infrastruktur"},{value:"renovation",label:"Renovasi"},{value:"interior",label:"Interior"},{value:"landscaping",label:"Lansekap"},{value:"general",label:"Umum"}],R_={name:"",code:"",specialization:"",description:"",establishedYear:"",employeeCount:"",registrationNumber:"",taxNumber:"",status:"active",address:{street:"",city:"",province:"",postalCode:"",country:"Indonesia"},contactInfo:{phone:"",email:"",website:"",fax:""},legalInfo:{directorName:"",commissionerName:"",notaryName:"",notaryNumber:"",notaryDate:""},financialInfo:{paidUpCapital:"",authorizedCapital:"",bankName:"",bankAccount:""}},B_=()=>{const e=re(),[t,r]=(0,a.useState)(!1),[n,s]=(0,a.useState)(R_);return{formData:n,loading:t,handleChange:e=>{const{name:t,value:r}=e.target;if(t.includes(".")){const[e,n]=t.split(".");s(t=>(0,Mt.A)((0,Mt.A)({},t),{},{[e]:(0,Mt.A)((0,Mt.A)({},t[e]),{},{[n]:r})}))}else s(e=>(0,Mt.A)((0,Mt.A)({},e),{},{[t]:r}))},handleSubmit:async t=>{t.preventDefault();try{r(!0);const t=(e=>(0,Mt.A)((0,Mt.A)({},e),{},{employeeCount:e.employeeCount?parseInt(e.employeeCount):null,establishedYear:e.establishedYear?parseInt(e.establishedYear):null,financialInfo:(0,Mt.A)((0,Mt.A)({},e.financialInfo),{},{paidUpCapital:e.financialInfo.paidUpCapital?parseFloat(e.financialInfo.paidUpCapital):null,authorizedCapital:e.financialInfo.authorizedCapital?parseFloat(e.financialInfo.authorizedCapital):null})}))(n),a=await Ss(t);a.success?(alert("Anak usaha berhasil dibuat"),e("/subsidiaries")):alert("Gagal membuat anak usaha: "+(a.message||"Unknown error"))}catch(a){console.error("Error creating subsidiary:",a),alert("Gagal membuat anak usaha")}finally{r(!1)}}}},L_=()=>{const e=re();return(0,Vn.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,Vn.jsxs)("button",{onClick:()=>e("/subsidiaries"),className:"flex items-center gap-2 transition-colors",style:{color:"#98989D"},onMouseEnter:e=>e.currentTarget.style.color="#FFFFFF",onMouseLeave:e=>e.currentTarget.style.color="#98989D",children:[(0,Vn.jsx)(Aa,{size:20}),"Kembali"]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:"linear-gradient(135deg, #0A84FF 0%, #0066CC 100%)"},children:(0,Vn.jsx)(ga,{className:"w-6 h-6 text-white"})}),"Tambah Anak Usaha Baru"]}),(0,Vn.jsx)("p",{className:"mt-2",style:{color:"#98989D"},children:"Daftarkan anak usaha baru Nusantara Group"})]})]})},z_=e=>{let{formData:t,handleChange:r}=e;return(0,Vn.jsxs)("div",{className:"rounded-xl p-6 shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(di,{size:20}),"Informasi Dasar"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Nama Anak Usaha *"}),(0,Vn.jsx)("input",{type:"text",name:"name",value:t.name,onChange:r,required:!0,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"PT. Konstruksi Nusantara"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Kode Anak Usaha *"}),(0,Vn.jsx)("input",{type:"text",name:"code",value:t.code,onChange:r,required:!0,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"KN001"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Spesialisasi *"}),(0,Vn.jsxs)("select",{name:"specialization",value:t.specialization,onChange:r,required:!0,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},children:[(0,Vn.jsx)("option",{value:"",children:"Pilih Spesialisasi"}),__.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Status"}),(0,Vn.jsxs)("select",{name:"status",value:t.status,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},children:[(0,Vn.jsx)("option",{value:"active",children:"Aktif"}),(0,Vn.jsx)("option",{value:"inactive",children:"Tidak Aktif"})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Tahun Berdiri"}),(0,Vn.jsx)($P,{name:"establishedYear",value:t.establishedYear,onChange:e=>r({target:{name:"establishedYear",value:e}}),min:1900,max:(new Date).getFullYear(),className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"e.g. 2015"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Jumlah Karyawan"}),(0,Vn.jsx)($P,{name:"employeeCount",value:t.employeeCount,onChange:e=>r({target:{name:"employeeCount",value:e}}),min:0,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"e.g. 50"})]}),(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Deskripsi"}),(0,Vn.jsx)("textarea",{name:"description",value:t.description,onChange:r,rows:3,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"Deskripsi tentang anak usaha..."})]})]})]})},U_=e=>{let{formData:t,handleChange:r}=e;return(0,Vn.jsxs)("div",{className:"rounded-xl p-6 shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(bo,{size:20}),"Alamat"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Alamat Jalan"}),(0,Vn.jsx)("input",{type:"text",name:"address.street",value:t.address.street,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"Jl. Nusantara No. 123"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Kota"}),(0,Vn.jsx)("input",{type:"text",name:"address.city",value:t.address.city,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"Jakarta"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Provinsi"}),(0,Vn.jsx)("input",{type:"text",name:"address.province",value:t.address.province,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"DKI Jakarta"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Kode Pos"}),(0,Vn.jsx)("input",{type:"text",name:"address.postalCode",value:t.address.postalCode,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"12345"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Negara"}),(0,Vn.jsx)("input",{type:"text",name:"address.country",value:t.address.country,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"Indonesia"})]})]})]})},W_=e=>{let{formData:t,handleChange:r}=e;return(0,Vn.jsxs)("div",{className:"rounded-xl p-6 shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(yo,{size:20}),"Informasi Kontak"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"No. Telepon"}),(0,Vn.jsx)("input",{type:"tel",name:"contactInfo.phone",value:t.contactInfo.phone,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"+62 21 1234 5678"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Email"}),(0,Vn.jsx)("input",{type:"email",name:"contactInfo.email",value:t.contactInfo.email,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"info@konstruksinusantara.co.id"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Website"}),(0,Vn.jsx)("input",{type:"url",name:"contactInfo.website",value:t.contactInfo.website,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"https://konstruksinusantara.co.id"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Fax"}),(0,Vn.jsx)("input",{type:"text",name:"contactInfo.fax",value:t.contactInfo.fax,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"+62 21 1234 5679"})]})]})]})},V_=e=>{let{formData:t,handleChange:r}=e;return(0,Vn.jsxs)("div",{className:"rounded-xl p-6 shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(ma,{size:20}),"Informasi Legal"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Nomor Registrasi Perusahaan"}),(0,Vn.jsx)("input",{type:"text",name:"registrationNumber",value:t.registrationNumber,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"123.456.789-0.123.456"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"NPWP"}),(0,Vn.jsx)("input",{type:"text",name:"taxNumber",value:t.taxNumber,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"12.345.678.9-012.000"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Nama Direktur"}),(0,Vn.jsx)("input",{type:"text",name:"legalInfo.directorName",value:t.legalInfo.directorName,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"John Doe"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Nama Komisaris"}),(0,Vn.jsx)("input",{type:"text",name:"legalInfo.commissionerName",value:t.legalInfo.commissionerName,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"Jane Smith"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Nama Notaris"}),(0,Vn.jsx)("input",{type:"text",name:"legalInfo.notaryName",value:t.legalInfo.notaryName,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"Notaris Budi"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Nomor Akta Notaris"}),(0,Vn.jsx)("input",{type:"text",name:"legalInfo.notaryNumber",value:t.legalInfo.notaryNumber,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"123/NOT/2023"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Tanggal Akta Notaris"}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("input",{type:"date",name:"legalInfo.notaryDate",value:t.legalInfo.notaryDate,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"}}),(0,Vn.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,Vn.jsx)(VP,{})})]})]})]})]})},H_=e=>{let{formData:t,handleChange:r}=e;return(0,Vn.jsxs)("div",{className:"rounded-xl p-6 shadow-sm",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(Do,{size:20}),"Informasi Keuangan"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Modal Disetor (Rp)"}),(0,Vn.jsx)($P,{name:"financialInfo.paidUpCapital",value:t.financialInfo.paidUpCapital,onChange:e=>r({target:{name:"financialInfo.paidUpCapital",value:e}}),className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"e.g. 1000000000"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Modal Dasar (Rp)"}),(0,Vn.jsx)($P,{name:"financialInfo.authorizedCapital",value:t.financialInfo.authorizedCapital,onChange:e=>r({target:{name:"financialInfo.authorizedCapital",value:e}}),className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"e.g. 4000000000"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Nama Bank"}),(0,Vn.jsx)("input",{type:"text",name:"financialInfo.bankName",value:t.financialInfo.bankName,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"e.g. Bank Central Asia"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#98989D"},children:"Nomor Rekening Bank"}),(0,Vn.jsx)("input",{type:"text",name:"financialInfo.bankAccount",value:t.financialInfo.bankAccount,onChange:r,className:"w-full px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"#1C1C1E",border:"1px solid #38383A",color:"#FFFFFF"},placeholder:"e.g. 1234567890"})]})]})]})},K_=e=>{let{loading:t}=e;const r=re();return(0,Vn.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-6",children:[(0,Vn.jsx)("button",{type:"button",onClick:()=>r("/subsidiaries"),className:"px-6 py-3 rounded-lg transition-colors font-medium",style:{border:"1px solid #38383A",color:"#98989D",backgroundColor:"transparent"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#2C2C2E",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:"Batal"}),(0,Vn.jsxs)("button",{type:"submit",disabled:t,className:"flex items-center gap-2 px-6 py-3 rounded-lg transition-colors font-medium disabled:opacity-50",style:{background:"linear-gradient(135deg, #0A84FF 0%, #0066CC 100%)",color:"#FFFFFF"},children:[(0,Vn.jsx)(gE,{size:20}),t?"Menyimpan...":"Simpan Anak Usaha"]})]})},q_=()=>{const{formData:e,loading:t,handleChange:r,handleSubmit:n}=B_();return(0,Vn.jsx)("div",{className:"min-h-screen py-8",style:{backgroundColor:"#1C1C1E"},children:(0,Vn.jsxs)("div",{className:"max-w-4xl mx-auto px-6",children:[(0,Vn.jsx)(L_,{}),(0,Vn.jsxs)("form",{onSubmit:n,className:"space-y-8",children:[(0,Vn.jsx)(z_,{formData:e,handleChange:r}),(0,Vn.jsx)(U_,{formData:e,handleChange:r}),(0,Vn.jsx)(W_,{formData:e,handleChange:r}),(0,Vn.jsx)(V_,{formData:e,handleChange:r}),(0,Vn.jsx)(H_,{formData:e,handleChange:r}),(0,Vn.jsx)(K_,{loading:t})]})]})})},G_=()=>(0,Vn.jsx)(q_,{}),Y_=e=>{var t,r,n,a,s,o,i,l,c,d;let{subsidiary:u}=e;return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Nama Perusahaan"}),(0,Vn.jsx)("p",{className:"text-white text-base",children:u.name||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Kode Perusahaan"}),(0,Vn.jsx)("p",{className:"text-white font-mono text-base",children:u.code||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Status"}),(0,Vn.jsx)("div",{children:(e=>{const t={active:"bg-[#30D158]/20 text-[#30D158] border-[#30D158]/30",inactive:"bg-[#8E8E93]/20 text-[#8E8E93] border-[#8E8E93]/30",suspended:"bg-[#FF9F0A]/20 text-[#FF9F0A] border-[#FF9F0A]/30"};return(0,Vn.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ".concat(t[e]||t.active),children:{active:"Aktif",inactive:"Tidak Aktif",suspended:"Ditangguhkan"}[e]||e})})(u.status)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Spesialisasi"}),(0,Vn.jsx)("p",{className:"text-white text-base",children:(e=>({general:"General Construction",residential:"Residential",commercial:"Commercial",infrastructure:"Infrastructure",industrial:"Industrial"}[e]||e))(u.specialization)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Perusahaan Induk"}),(0,Vn.jsx)("p",{className:"text-white text-base",children:u.parentCompany||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Tahun Berdiri"}),(0,Vn.jsxs)("p",{className:"text-white text-base flex items-center",children:[(0,Vn.jsx)(io,{className:"h-4 w-4 mr-2 text-[#8E8E93]"}),u.establishedYear||"-"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Jumlah Karyawan"}),(0,Vn.jsxs)("p",{className:"text-white text-base flex items-center",children:[(0,Vn.jsx)(ma,{className:"h-4 w-4 mr-2 text-[#8E8E93]"}),u.employeeCount||"-"," karyawan"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Ukuran Perusahaan"}),(0,Vn.jsx)("p",{className:"text-white text-base",children:"small"===(null===(t=u.profileInfo)||void 0===t?void 0:t.companySize)?"Small (1-50 employees)":"medium"===(null===(r=u.profileInfo)||void 0===r?void 0:r.companySize)?"Medium (51-250 employees)":"large"===(null===(n=u.profileInfo)||void 0===n?void 0:n.companySize)?"Large (251+ employees)":"-"})]})]}),u.description&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Deskripsi"}),(0,Vn.jsx)("p",{className:"text-white text-base leading-relaxed whitespace-pre-wrap",children:u.description})]}),(null===(a=u.profileInfo)||void 0===a?void 0:a.businessDescription)&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Deskripsi Bisnis"}),(0,Vn.jsx)("p",{className:"text-white text-base leading-relaxed whitespace-pre-wrap",children:u.profileInfo.businessDescription})]}),(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[(0,Vn.jsx)(yo,{className:"h-5 w-5 mr-2"}),"Informasi Kontak"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Telepon"}),(0,Vn.jsxs)("p",{className:"text-white text-base flex items-center",children:[(0,Vn.jsx)(yo,{className:"h-4 w-4 mr-2 text-[#8E8E93]"}),(null===(s=u.contactInfo)||void 0===s?void 0:s.phone)||"-"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Email"}),(0,Vn.jsxs)("p",{className:"text-white text-base flex items-center",children:[(0,Vn.jsx)(vo,{className:"h-4 w-4 mr-2 text-[#8E8E93]"}),(null===(o=u.contactInfo)||void 0===o?void 0:o.email)||"-"]})]}),(null===(i=u.profileInfo)||void 0===i?void 0:i.website)&&(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Website"}),(0,Vn.jsxs)("a",{href:u.profileInfo.website,target:"_blank",rel:"noopener noreferrer",className:"text-[#0A84FF] text-base flex items-center hover:text-[#409CFF] transition-colors",children:[(0,Vn.jsx)(Do,{className:"h-4 w-4 mr-2"}),u.profileInfo.website,(0,Vn.jsx)(qE,{className:"h-3 w-3 ml-2"})]})]})]})]}),(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[(0,Vn.jsx)(bo,{className:"h-5 w-5 mr-2"}),"Alamat"]}),(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Alamat Lengkap"}),(0,Vn.jsx)("p",{className:"text-white text-base",children:(null===(l=u.address)||void 0===l?void 0:l.street)||"-"})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Kota"}),(0,Vn.jsx)("p",{className:"text-white text-base",children:(null===(c=u.address)||void 0===c?void 0:c.city)||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Negara"}),(0,Vn.jsx)("p",{className:"text-white text-base",children:(null===(d=u.address)||void 0===d?void 0:d.country)||"-"})]})]})]})]}),u.certification&&u.certification.length>0&&(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Sertifikasi"}),(0,Vn.jsx)("div",{className:"space-y-2",children:u.certification.map((e,t)=>(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)("div",{className:"w-2 h-2 bg-[#30D158] rounded-full"}),(0,Vn.jsx)("p",{className:"text-white text-base",children:e})]},t))})]})]})},$_=e=>{var t,r,n,a,s;let{subsidiary:o}=e;const i=e=>{const t={valid:"bg-[#30D158]/20 text-[#30D158] border-[#30D158]/30",expired:"bg-[#FF453A]/20 text-[#FF453A] border-[#FF453A]/30",pending:"bg-[#FF9F0A]/20 text-[#FF9F0A] border-[#FF9F0A]/30"},r={valid:Ea.A,expired:$D,pending:Sa}[e]||Ea.A;return(0,Vn.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ".concat(t[e]||t.valid),children:[(0,Vn.jsx)(r,{className:"h-3 w-3 mr-1"}),{valid:"Berlaku",expired:"Kadaluarsa",pending:"Pending"}[e]||e]})},l=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})}catch(t){return e}};return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[(0,Vn.jsx)(La,{className:"h-5 w-5 mr-2"}),"Informasi Legal Perusahaan"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Nomor Registrasi Perusahaan"}),(0,Vn.jsx)("p",{className:"text-white text-base font-mono",children:(null===(t=o.legalInfo)||void 0===t?void 0:t.companyRegistrationNumber)||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"NPWP"}),(0,Vn.jsx)("p",{className:"text-white text-base font-mono",children:(null===(r=o.legalInfo)||void 0===r?void 0:r.taxIdentificationNumber)||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Nomor Izin Usaha"}),(0,Vn.jsx)("p",{className:"text-white text-base font-mono",children:(null===(n=o.legalInfo)||void 0===n?void 0:n.businessLicenseNumber)||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Nomor Registrasi PPN"}),(0,Vn.jsx)("p",{className:"text-white text-base font-mono",children:(null===(a=o.legalInfo)||void 0===a?void 0:a.vatRegistrationNumber)||"-"})]})]})]}),(null===(s=o.legalInfo)||void 0===s?void 0:s.articlesOfIncorporation)&&(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[(0,Vn.jsx)(di,{className:"h-5 w-5 mr-2"}),"Akta Pendirian"]}),(0,Vn.jsx)("p",{className:"text-white text-base leading-relaxed whitespace-pre-wrap",children:o.legalInfo.articlesOfIncorporation})]}),o.permits&&o.permits.length>0&&(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Izin & Perizinan"}),(0,Vn.jsx)("div",{className:"space-y-4",children:o.permits.map((e,t)=>(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-4",children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h4",{className:"text-white font-semibold text-base",children:e.name||"Izin ".concat(t+1)}),e.number&&(0,Vn.jsxs)("p",{className:"text-[#8E8E93] text-sm font-mono mt-1",children:["No: ",e.number]})]}),i(e.status)]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Diterbitkan Oleh"}),(0,Vn.jsx)("p",{className:"text-white",children:e.issuedBy||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Tanggal Terbit"}),(0,Vn.jsx)("p",{className:"text-white",children:l(e.issuedDate)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs text-[#8E8E93] mb-1",children:"Tanggal Kadaluarsa"}),(0,Vn.jsx)("p",{className:"text-white",children:l(e.expiryDate)})]})]}),e.description&&(0,Vn.jsx)("div",{className:"mt-3 pt-3 border-t border-[#38383A]",children:(0,Vn.jsx)("p",{className:"text-[#98989D] text-sm",children:e.description})})]},t))})]}),(!o.legalInfo||0===Object.keys(o.legalInfo).length)&&(!o.permits||0===o.permits.length)&&(0,Vn.jsxs)("div",{className:"text-center py-12",children:[(0,Vn.jsx)(La,{className:"h-12 w-12 text-[#636366] mx-auto mb-4"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Belum ada informasi legal yang tersedia"})]})]})},J_=e=>{var t,r,n,a,s,o,i,l,c;let{subsidiary:d}=e;const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IDR";if(!e)return"-";try{return new Intl.NumberFormat("id-ID",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}catch(r){return"".concat(t," ").concat(e)}};return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[(0,Vn.jsx)(xa,{className:"h-5 w-5 mr-2"}),"Struktur Modal"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Modal Dasar"}),(0,Vn.jsx)("p",{className:"text-white text-2xl font-bold",children:u(null===(t=d.financialInfo)||void 0===t?void 0:t.authorizedCapital,null===(r=d.financialInfo)||void 0===r?void 0:r.currency)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Modal Disetor"}),(0,Vn.jsx)("p",{className:"text-white text-2xl font-bold",children:u(null===(n=d.financialInfo)||void 0===n?void 0:n.paidUpCapital,null===(a=d.financialInfo)||void 0===a?void 0:a.currency)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Mata Uang"}),(0,Vn.jsx)("p",{className:"text-white text-base",children:(p=null===(s=d.financialInfo)||void 0===s?void 0:s.currency,{IDR:"Indonesian Rupiah (IDR)",USD:"US Dollar (USD)",EUR:"Euro (EUR)"}[p]||p)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Akhir Tahun Fiskal"}),(0,Vn.jsxs)("p",{className:"text-white text-base flex items-center",children:[(0,Vn.jsx)(io,{className:"h-4 w-4 mr-2 text-[#8E8E93]"}),(null===(o=d.financialInfo)||void 0===o?void 0:o.fiscalYearEnd)||"-"]})]})]})]}),(null===(i=d.financialInfo)||void 0===i?void 0:i.authorizedCapital)&&(null===(l=d.financialInfo)||void 0===l?void 0:l.paidUpCapital)&&(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[(0,Vn.jsx)(ui,{className:"h-5 w-5 mr-2"}),"Utilisasi Modal"]}),(0,Vn.jsx)("div",{className:"space-y-4",children:(()=>{const e=parseFloat(d.financialInfo.authorizedCapital),t=parseFloat(d.financialInfo.paidUpCapital),r=e>0?(t/e*100).toFixed(1):0;return(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Vn.jsx)("span",{className:"text-sm text-[#8E8E93]",children:"Persentase Modal Disetor"}),(0,Vn.jsxs)("span",{className:"text-sm font-semibold text-white",children:[r,"%"]})]}),(0,Vn.jsx)("div",{className:"w-full bg-[#38383A] rounded-full h-3 overflow-hidden",children:(0,Vn.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(r>=80?"bg-[#30D158]":r>=50?"bg-[#0A84FF]":r>=25?"bg-[#FF9F0A]":"bg-[#FF453A]"),style:{width:"".concat(Math.min(r,100),"%")}})})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-[#38383A]",children:[(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Modal Belum Disetor"}),(0,Vn.jsx)("p",{className:"text-lg font-bold text-white",children:u(e-t,d.financialInfo.currency)})]}),(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-1",children:"Persentase Sisa"}),(0,Vn.jsxs)("p",{className:"text-lg font-bold text-white",children:[(100-r).toFixed(1),"%"]})]})]})]})})()})]}),(null===(c=d.profileInfo)||void 0===c?void 0:c.industryClassification)&&(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Klasifikasi Industri"}),(0,Vn.jsx)("p",{className:"text-white text-base",children:d.profileInfo.industryClassification})]}),(!d.financialInfo||!d.financialInfo.authorizedCapital&&!d.financialInfo.paidUpCapital)&&(0,Vn.jsxs)("div",{className:"text-center py-12",children:[(0,Vn.jsx)(xa,{className:"h-12 w-12 text-[#636366] mx-auto mb-4"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Belum ada informasi keuangan yang tersedia"})]})]});var p},X_=e=>{var t;let{subsidiary:r}=e;const n=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})}catch(t){return e}};return(0,Vn.jsxs)("div",{className:"space-y-6",children:[r.boardOfDirectors&&r.boardOfDirectors.length>0?(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[(0,Vn.jsx)(ma,{className:"h-5 w-5 mr-2"}),"Dewan Direksi"]}),(0,Vn.jsx)("div",{className:"space-y-4",children:r.boardOfDirectors.map((e,t)=>{return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-5",children:[(0,Vn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Vn.jsx)("div",{className:"w-12 h-12 bg-[#0A84FF]/20 rounded-full flex items-center justify-center flex-shrink-0",children:(0,Vn.jsx)(ra,{className:"h-6 w-6 text-[#0A84FF]"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h4",{className:"text-white font-semibold text-base",children:e.name||"-"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] text-sm mt-1",children:e.position||"-"})]})]}),(r=!1!==e.isActive,r?(0,Vn.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-[#30D158]/20 text-[#30D158] border border-[#30D158]/30",children:[(0,Vn.jsx)(Ea.A,{className:"h-3 w-3 mr-1"}),"Aktif"]}):(0,Vn.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-[#8E8E93]/20 text-[#8E8E93] border border-[#8E8E93]/30",children:[(0,Vn.jsx)($D,{className:"h-3 w-3 mr-1"}),"Tidak Aktif"]}))]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 pt-4 border-t border-[#38383A]",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-xs text-[#8E8E93] mb-1 flex items-center",children:[(0,Vn.jsx)(vo,{className:"h-3 w-3 mr-1"}),"Email"]}),(0,Vn.jsx)("p",{className:"text-white text-sm",children:e.email||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-xs text-[#8E8E93] mb-1 flex items-center",children:[(0,Vn.jsx)(yo,{className:"h-3 w-3 mr-1"}),"Telepon"]}),(0,Vn.jsx)("p",{className:"text-white text-sm",children:e.phone||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-xs text-[#8E8E93] mb-1 flex items-center",children:[(0,Vn.jsx)(io,{className:"h-3 w-3 mr-1"}),"Tanggal Penunjukan"]}),(0,Vn.jsx)("p",{className:"text-white text-sm",children:n(e.appointmentDate)})]}),e.endDate&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-xs text-[#8E8E93] mb-1 flex items-center",children:[(0,Vn.jsx)(io,{className:"h-3 w-3 mr-1"}),"Tanggal Berakhir"]}),(0,Vn.jsx)("p",{className:"text-white text-sm",children:n(e.endDate)})]})]})]},t);var r})})]}):(0,Vn.jsxs)("div",{className:"text-center py-12 bg-[#1C1C1E] border border-[#38383A] rounded-lg",children:[(0,Vn.jsx)(ma,{className:"h-12 w-12 text-[#636366] mx-auto mb-4"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Belum ada data dewan direksi"})]}),(null===(t=r.profileInfo)||void 0===t?void 0:t.socialMedia)&&Object.keys(r.profileInfo.socialMedia).length>0&&(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Media Sosial"}),(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(r.profileInfo.socialMedia).map(e=>{let[t,r]=e;return(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2 capitalize",children:t}),(0,Vn.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-[#0A84FF] text-sm hover:text-[#409CFF] transition-colors break-all",children:r})]},t)})})]}),r.attachments&&r.attachments.length>0&&(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Dokumen Lampiran"}),(0,Vn.jsx)("div",{className:"space-y-2",children:r.attachments.map((e,t)=>(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#2C2C2E] border border-[#38383A] rounded-lg hover:bg-[#38383A] transition-colors",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"w-10 h-10 bg-[#0A84FF]/20 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,Vn.jsx)("svg",{className:"h-5 w-5 text-[#0A84FF]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Vn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-white text-sm font-medium",children:e.name||"Document ".concat(t+1)}),e.type&&(0,Vn.jsx)("p",{className:"text-[#8E8E93] text-xs mt-0.5",children:e.type})]})]}),e.url&&(0,Vn.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-[#0A84FF] text-sm hover:text-[#409CFF] transition-colors",children:"Download"})]},t))})]})]})},Q_=()=>{const{id:e}=ne(),t=re(),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null),[c,d]=(0,a.useState)("basic");(0,a.useEffect)(()=>{u()},[e]);const u=async()=>{try{o(!0),l(null);const t=await Fs(e);t.success?n(t.data):l(t.error||"Failed to load subsidiary")}catch(t){console.error("Error fetching subsidiary:",t),l("Gagal memuat data subsidiary")}finally{o(!1)}},p=()=>{t("/subsidiaries")},h=[{id:"basic",label:"Informasi Dasar",icon:ga},{id:"legal",label:"Informasi Legal",icon:La},{id:"financial",label:"Informasi Keuangan",icon:xa},{id:"governance",label:"Tata Kelola",icon:ma}];return s?(0,Vn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#1C1C1E]",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0A84FF] mx-auto mb-4"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Memuat data subsidiary..."})]})}):i||!r?(0,Vn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#1C1C1E]",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)(ga,{className:"h-16 w-16 text-[#636366] mx-auto mb-4"}),(0,Vn.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Subsidiary Tidak Ditemukan"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] mb-6",children:i||"Data subsidiary yang Anda cari tidak tersedia."}),(0,Vn.jsx)("button",{onClick:p,className:"bg-[#0A84FF] text-white px-4 py-2 rounded-lg hover:bg-[#0A84FF]/90 transition-colors",children:"Kembali ke Daftar"})]})}):(0,Vn.jsx)("div",{className:"min-h-screen bg-[#1C1C1E] py-8",children:(0,Vn.jsxs)("div",{className:"max-w-6xl mx-auto px-6 space-y-6",children:[(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-6",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Vn.jsx)("button",{onClick:p,className:"p-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg hover:bg-[#38383A] transition-colors",title:"Kembali",children:(0,Vn.jsx)(Aa,{className:"h-5 w-5 text-white"})}),(0,Vn.jsxs)("div",{className:"w-16 h-16 bg-[#1C1C1E] border border-[#38383A] rounded-lg overflow-hidden flex items-center justify-center",children:[r.logo?(0,Vn.jsx)("img",{src:"".concat(window.location.origin,"/uploads/").concat(r.logo),alt:"".concat(r.name," logo"),className:"w-full h-full object-contain",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Vn.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xl font-bold text-[#0A84FF]",style:{display:r.logo?"none":"flex"},children:r.name.substring(0,2).toUpperCase()})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h1",{className:"text-2xl font-bold text-white",children:r.name}),(0,Vn.jsxs)("p",{className:"text-sm text-[#8E8E93] mt-1",children:["Kode: ",(0,Vn.jsx)("span",{className:"font-mono text-[#0A84FF]",children:r.code})]})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsxs)("button",{onClick:()=>{t("/subsidiaries/".concat(e,"/edit"))},className:"flex items-center px-4 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-colors",children:[(0,Vn.jsx)(rD,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,Vn.jsxs)("button",{onClick:async()=>{if(window.confirm("Apakah Anda yakin ingin menghapus subsidiary ini?"))try{(await Ps(e)).success?t("/subsidiaries"):alert("Gagal menghapus subsidiary")}catch(r){console.error("Error deleting subsidiary:",r),alert("Terjadi kesalahan saat menghapus subsidiary")}},className:"flex items-center px-4 py-2 bg-[#FF453A] text-white rounded-lg hover:bg-[#FF453A]/90 transition-colors",children:[(0,Vn.jsx)(ca,{className:"h-4 w-4 mr-2"}),"Hapus"]})]})]})}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg",children:[(0,Vn.jsx)("div",{className:"border-b border-[#38383A] px-6",children:(0,Vn.jsx)("nav",{className:"flex space-x-8",children:h.map(e=>{const t=e.icon,r=c===e.id;return(0,Vn.jsxs)("button",{onClick:()=>d(e.id),className:"flex items-center py-4 px-2 border-b-2 font-medium text-sm transition-colors duration-150 ".concat(r?"border-[#0A84FF] text-[#0A84FF]":"border-transparent text-[#8E8E93] hover:text-white"),children:[(0,Vn.jsx)(t,{className:"w-4 h-4 mr-2"}),e.label]},e.id)})})}),(0,Vn.jsx)("div",{className:"p-6",children:(()=>{if(!r)return null;switch(c){case"basic":default:return(0,Vn.jsx)(Y_,{subsidiary:r});case"legal":return(0,Vn.jsx)($_,{subsidiary:r});case"financial":return(0,Vn.jsx)(J_,{subsidiary:r});case"governance":return(0,Vn.jsx)(X_,{subsidiary:r})}})()})]})]})})},Z_=()=>{const{id:e}=ne(),t=re(),r=Boolean(e),[n,s]=(0,a.useState)(r),[o,i]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null);return{isEditing:r,loading:n,saving:o,error:l,fetchSubsidiary:async()=>{if(!r)return null;try{s(!0),c(null);const t=await Fs(e);if(t.success)return(e=>{var t,r,n,a,s,o;return(0,Mt.A)((0,Mt.A)({},e),{},{establishedYear:(null===(t=e.establishedYear)||void 0===t?void 0:t.toString())||"",employeeCount:(null===(r=e.employeeCount)||void 0===r?void 0:r.toString())||"",financialInfo:(0,Mt.A)((0,Mt.A)({},e.financialInfo),{},{authorizedCapital:(null===(n=e.financialInfo)||void 0===n||null===(a=n.authorizedCapital)||void 0===a?void 0:a.toString())||"",paidUpCapital:(null===(s=e.financialInfo)||void 0===s||null===(o=s.paidUpCapital)||void 0===o?void 0:o.toString())||""})})})(t.data);throw new Error(t.message||"Failed to fetch subsidiary")}catch(t){throw console.error("Error fetching subsidiary:",t),c("Gagal memuat data anak usaha"),t}finally{s(!1)}},saveSubsidiary:async t=>{try{i(!0),c(null);const n=(e=>(0,Mt.A)((0,Mt.A)({},e),{},{establishedYear:e.establishedYear?parseInt(e.establishedYear):null,employeeCount:e.employeeCount?parseInt(e.employeeCount):null,financialInfo:(0,Mt.A)((0,Mt.A)({},e.financialInfo),{},{authorizedCapital:e.financialInfo.authorizedCapital?parseFloat(e.financialInfo.authorizedCapital):null,paidUpCapital:e.financialInfo.paidUpCapital?parseFloat(e.financialInfo.paidUpCapital):null})}))(t);let a;if(a=r?await Es(e,n):await Ss(n),a.success)return a.data;throw new Error(a.message||"Failed to save subsidiary")}catch(n){throw console.error("Error saving subsidiary:",n),c(r?"Gagal memperbarui data anak usaha":"Gagal membuat anak usaha baru"),n}finally{i(!1)}},deleteSubsidiary:async()=>{if(r)try{i(!0),c(null);const t=await Ps(e);if(t.success)return t.data;throw new Error(t.message||"Failed to delete subsidiary")}catch(t){throw console.error("Error deleting subsidiary:",t),c("Gagal menghapus anak usaha"),t}finally{i(!1)}},navigateToList:()=>{t("/subsidiaries")},navigateToDetail:e=>{t("/subsidiaries/".concat(e))},clearError:()=>c(null)}},eR={tabs:[{id:"basic",label:"Informasi Dasar",icon:"Building"},{id:"legal",label:"Informasi Legal",icon:"Shield"},{id:"financial",label:"Informasi Keuangan",icon:"DollarSign"},{id:"governance",label:"Tata Kelola",icon:"Users"}],specializations:[{value:"general",label:"General Construction"},{value:"residential",label:"Residential"},{value:"commercial",label:"Commercial"},{value:"infrastructure",label:"Infrastructure"},{value:"industrial",label:"Industrial"}],statuses:[{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"},{value:"suspended",label:"Ditangguhkan"}],currencies:[{value:"IDR",label:"Indonesian Rupiah (IDR)"},{value:"USD",label:"US Dollar (USD)"},{value:"EUR",label:"Euro (EUR)"}],companySizes:[{value:"small",label:"Small (1-50 employees)"},{value:"medium",label:"Medium (51-250 employees)"},{value:"large",label:"Large (251+ employees)"}],countries:[{value:"Indonesia",label:"Indonesia"},{value:"Malaysia",label:"Malaysia"},{value:"Singapore",label:"Singapore"},{value:"Thailand",label:"Thailand"}]},tR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const[t,r]=(0,a.useState)(e||{name:"",code:"",description:"",specialization:"general",status:"active",parentCompany:"PT Nusantara Construction Group",establishedYear:"",employeeCount:"",contactInfo:{phone:"",email:""},address:{street:"",city:"",country:"Indonesia"},certification:[],boardOfDirectors:[],legalInfo:{companyRegistrationNumber:"",taxIdentificationNumber:"",businessLicenseNumber:"",articlesOfIncorporation:"",vatRegistrationNumber:""},permits:[],financialInfo:{authorizedCapital:"",paidUpCapital:"",currency:"IDR",fiscalYearEnd:""},profileInfo:{website:"",socialMedia:{},companySize:"",industryClassification:"",businessDescription:""},attachments:[]});return{formData:t,updateField:(e,t)=>{r(r=>((e,t,r)=>{const n=t.split("."),a=(0,Mt.A)({},e);let s=a;for(let o=0;o<n.length-1;o++){const e=n[o];s[e]=(0,Mt.A)({},s[e]),s=s[e]}return s[n[n.length-1]]=r,a})(r,e,t))},getFieldValue:e=>((e,t)=>{const r=t.split(".");let n=e;for(const a of r){if(!n||"object"!==typeof n||!(a in n))return;n=n[a]}return n})(t,e),addItemToArray:(e,t)=>{r(r=>((e,t,r)=>{const n=t.split("."),a=(0,Mt.A)({},e);let s=a;for(let i=0;i<n.length-1;i++){const e=n[i];s[e]=(0,Mt.A)({},s[e]),s=s[e]}const o=n[n.length-1];return s[o]=[...s[o]||[],r],a})(r,e,t))},removeItemFromArray:(e,t)=>{r(r=>((e,t,r)=>{const n=t.split("."),a=(0,Mt.A)({},e);let s=a;for(let i=0;i<n.length-1;i++){const e=n[i];s[e]=(0,Mt.A)({},s[e]),s=s[e]}const o=n[n.length-1];return s[o]=(s[o]||[]).filter((e,t)=>t!==r),a})(r,e,t))},updateItemInArray:(e,t,n)=>{r(r=>((e,t,r,n)=>{const a=t.split("."),s=(0,Mt.A)({},e);let o=s;for(let l=0;l<a.length-1;l++){const e=a[l];o[e]=(0,Mt.A)({},o[e]),o=o[e]}const i=a[a.length-1];return o[i]=(o[i]||[]).map((e,t)=>t===r?(0,Mt.A)((0,Mt.A)({},e),n):e),s})(r,e,t,n))},resetForm:()=>{r({name:"",code:"",description:"",specialization:"general",status:"active",parentCompany:"PT Nusantara Construction Group",establishedYear:"",employeeCount:"",contactInfo:{phone:"",email:""},address:{street:"",city:"",country:"Indonesia"},certification:[],boardOfDirectors:[],legalInfo:{companyRegistrationNumber:"",taxIdentificationNumber:"",businessLicenseNumber:"",articlesOfIncorporation:"",vatRegistrationNumber:""},permits:[],financialInfo:{authorizedCapital:"",paidUpCapital:"",currency:"IDR",fiscalYearEnd:""},profileInfo:{website:"",socialMedia:{},companySize:"",industryClassification:"",businessDescription:""},attachments:[]})},loadFormData:e=>{r(e)}}},rR={required:{name:"Nama perusahaan wajib diisi",code:"Kode perusahaan wajib diisi"},format:{email:"Format email tidak valid",website:"Format website tidak valid (harus dimulai dengan http:// atau https://)",phone:"Format nomor telepon tidak valid"},length:{code:{min:2,max:10,message:"Kode harus antara 2-10 karakter"},name:{max:100,message:"Nama tidak boleh lebih dari 100 karakter"}},range:{establishedYear:{min:1900,max:(new Date).getFullYear(),message:"Tahun harus antara 1900-".concat((new Date).getFullYear())},employeeCount:{min:0,message:"Jumlah karyawan tidak boleh negatif"}}},nR=function(e,t){const[r,n]=e.includes(".")?e.split("."):[null,e];if(rR.required[n]&&(null===t||void 0===t||!t.toString().trim()))return rR.required[n];if(null===t||void 0===t||!t.toString().trim())return null;switch(n){case"email":if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return rR.format.email;break;case"website":if(!/^https?:\/\/.+\..+/.test(t))return rR.format.website;break;case"phone":if(!/^[\d\s\-\+\(\)]+$/.test(t))return rR.format.phone}if(rR.length[n]){const e=rR.length[n];if(e.min&&t.length<e.min)return e.message;if(e.max&&t.length>e.max)return e.message}if(rR.range[n]){const e=rR.range[n],r=parseInt(t);if(isNaN(r))return"".concat(n," harus berupa angka");if(void 0!==e.min&&r<e.min)return e.message;if(void 0!==e.max&&r>e.max)return e.message}return null},aR=e=>{const[t,r]=(0,a.useState)({}),[n,s]=(0,a.useState)({});return{errors:t,touched:n,validateForm:()=>{const t=(e=>{var t,r;const n={};if(Object.keys(rR.required).forEach(t=>{const r=nR(t,e[t],e);r&&(n[t]=r)}),null!==(t=e.contactInfo)&&void 0!==t&&t.email){const t=nR("email",e.contactInfo.email,e);t&&(n.email=t)}if(null!==(r=e.profileInfo)&&void 0!==r&&r.website){const t=nR("website",e.profileInfo.website,e);t&&(n.website=t)}if(e.establishedYear){const t=nR("establishedYear",e.establishedYear,e);t&&(n.establishedYear=t)}if(e.employeeCount){const t=nR("employeeCount",e.employeeCount,e);t&&(n.employeeCount=t)}return{isValid:0===Object.keys(n).length,errors:n}})(e);return r(t.errors),t.isValid},validateSingleField:(t,n)=>{const a=nR(t,n,e);return r(e=>(0,Mt.A)((0,Mt.A)({},e),{},{[t]:a})),!a},clearFieldError:e=>{r(t=>{const r=(0,Mt.A)({},t);return delete r[e],r})},clearAllErrors:()=>{r({}),s({})},markFieldAsTouched:e=>{s(t=>(0,Mt.A)((0,Mt.A)({},t),{},{[e]:!0}))},getFieldError:e=>t[e],hasFieldError:e=>Boolean(t[e]),isFieldTouched:e=>Boolean(n[e]),hasErrors:()=>Object.keys(t).length>0}},sR=e=>{let{isEditing:t,onSave:r,onCancel:n,saving:a=!1,hasChanges:s=!1,subsidiaryName:o=""}=e;return(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Vn.jsxs)("button",{onClick:n,className:"flex items-center px-3 py-2 text-[#8E8E93] hover:text-white transition-colors duration-150",children:[(0,Vn.jsx)(Aa,{className:"w-4 h-4 mr-2"}),"Kembali"]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h1",{className:"text-2xl font-bold text-white",children:t?"Edit Anak Usaha":"Tambah Anak Usaha Baru"}),t&&o&&(0,Vn.jsx)("p",{className:"text-[#8E8E93] mt-1",children:o})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsxs)(RE.Ay,{variant:"secondary",onClick:n,disabled:a,className:"flex items-center",children:[(0,Vn.jsx)(ja.A,{className:"w-4 h-4 mr-2"}),"Batal"]}),(0,Vn.jsxs)(RE.Ay,{variant:"primary",onClick:r,disabled:a,className:"flex items-center",children:[(0,Vn.jsx)(gE,{className:"w-4 h-4 mr-2"}),a?"Menyimpan...":"Simpan"]})]})]})},oR=e=>{let{activeTab:t,onTabChange:r,hasErrors:n={}}=e;return(0,Vn.jsx)("div",{className:"border-b border-[#38383A] mb-6",children:(0,Vn.jsx)("nav",{className:"flex space-x-8",children:eR.tabs.map(e=>{const a=(s=e.icon,{Building:ga,Shield:La,DollarSign:xa,Users:ma}[s]||ga);var s;const o=t===e.id,i=(l=e.id,Object.keys(n).filter(e=>{switch(l){case"basic":return["name","code","email","phone","establishedYear","employeeCount"].includes(e);case"legal":return["companyRegistrationNumber","taxIdentificationNumber"].includes(e);case"financial":return["authorizedCapital","paidUpCapital"].includes(e);default:return!1}}).length>0?"error":"default");var l;return(0,Vn.jsxs)("button",{onClick:()=>r(e.id),className:"flex items-center py-4 px-2 border-b-2 font-medium text-sm transition-colors duration-150 ".concat(o?"border-[#0A84FF] text-[#0A84FF]":"error"===i?"border-transparent text-[#FF453A] hover:text-[#FF453A]/80":"border-transparent text-[#8E8E93] hover:text-white"),children:[(0,Vn.jsx)(a,{className:"w-4 h-4 mr-2 ".concat("error"===i?"text-[#FF453A]":"")}),e.label,"error"===i&&(0,Vn.jsx)("div",{className:"w-2 h-2 bg-[#FF453A] rounded-full ml-2"})]},e.id)})})})},iR=e=>{let{title:t,icon:r,children:n,className:a=""}=e;return(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border border-[#38383A] rounded-lg p-6 ".concat(a),children:[t&&(0,Vn.jsxs)("div",{className:"flex items-center mb-6",children:[r&&(0,Vn.jsx)(r,{className:"w-5 h-5 text-[#0A84FF] mr-3"}),(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white",children:t})]}),n]})},lR=e=>{let{children:t,className:r=""}=e;return(0,Vn.jsx)("div",{className:"space-y-4 ".concat(r),children:t})},cR=e=>{let{message:t,type:r="error"}=e;if(!t)return null;return(0,Vn.jsxs)("div",{className:"flex items-center mt-1 px-2 py-1 rounded text-xs border ".concat((()=>{switch(r){case"error":default:return"text-[#FF453A] bg-[#FF453A]/10 border-[#FF453A]/30";case"warning":return"text-[#FF9F0A] bg-[#FF9F0A]/10 border-[#FF9F0A]/30";case"success":return"text-[#30D158] bg-[#30D158]/10 border-[#30D158]/30"}})()),children:[(0,Vn.jsx)(ti,{className:"w-3 h-3 mr-1 flex-shrink-0"}),(0,Vn.jsx)("span",{children:t})]})},dR=e=>{var t,r,n,s,o;let{formData:i,updateField:l,errors:c={},onFieldBlur:d}=e;const[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(null),[f,x]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null);return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)(iR,{title:"Logo Anak Usaha",icon:ST,children:(0,Vn.jsx)(lR,{children:(0,Vn.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,Vn.jsx)("div",{className:"flex-shrink-0",children:(0,Vn.jsxs)("div",{className:"w-32 h-32 bg-[#1C1C1E] border border-[#38383A] rounded-lg overflow-hidden flex items-center justify-center",children:[h?(0,Vn.jsx)("img",{src:h,alt:"Preview",className:"w-full h-full object-contain"}):i.logo?(0,Vn.jsx)("img",{src:"".concat(window.location.origin,"/uploads/").concat(i.logo),alt:"Current logo",className:"w-full h-full object-contain",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Vn.jsx)("div",{className:"w-full h-full flex items-center justify-center text-3xl font-bold text-[#0A84FF]",style:{display:h||i.logo?"none":"flex"},children:i.name?i.name.substring(0,2).toUpperCase():"AU"})]})}),(0,Vn.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Upload Logo"}),(0,Vn.jsx)("p",{className:"text-xs text-[#8E8E93] mb-3",children:"Format: JPG, PNG, SVG, WebP. Maksimal 2MB."}),(0,Vn.jsx)("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/svg+xml,image/webp",onChange:e=>{const t=e.target.files[0];if(t){if(!["image/jpeg","image/jpg","image/png","image/svg+xml","image/webp"].includes(t.type))return void b("Format file tidak valid. Gunakan JPG, PNG, SVG, atau WebP.");if(t.size>2097152)return void b("Ukuran file maksimal 2MB.");p(t),b(null);const e=new FileReader;e.onloadend=()=>{m(e.result)},e.readAsDataURL(t)}},className:"hidden",id:"logo-upload"}),!u&&(0,Vn.jsxs)("label",{htmlFor:"logo-upload",className:"inline-flex items-center px-4 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-colors cursor-pointer",children:[(0,Vn.jsx)(qD,{className:"h-4 w-4 mr-2"}),"Pilih File"]}),u&&(0,Vn.jsxs)("div",{className:"space-y-2",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-[#8E8E93]",children:[(0,Vn.jsx)(ST,{className:"h-4 w-4"}),(0,Vn.jsx)("span",{children:u.name}),(0,Vn.jsxs)("span",{children:["(",(u.size/1024).toFixed(1)," KB)"]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)("button",{type:"button",onClick:async()=>{if(!u||!i.id)return;x(!0),b(null);const e=new FormData;e.append("logo",u);try{const t=localStorage.getItem("token"),r=await Sr.post("".concat(zn,"/subsidiaries/").concat(i.id,"/logo"),e,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"multipart/form-data"}});r.data.success&&(l("logo",r.data.data.logo),p(null),m(null),alert("Logo berhasil diunggah!"))}catch(n){var t,r;console.error("Upload error:",n),b((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Gagal mengunggah logo")}finally{x(!1)}},disabled:f||!i.id,className:"inline-flex items-center px-4 py-2 bg-[#30D158] text-white rounded-lg hover:bg-[#30D158]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Mengunggah..."]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(qD,{className:"h-4 w-4 mr-2"}),"Upload"]})}),(0,Vn.jsxs)("button",{type:"button",onClick:()=>{p(null),m(null),b(null)},className:"inline-flex items-center px-4 py-2 bg-[#8E8E93] text-white rounded-lg hover:bg-[#8E8E93]/90 transition-colors",children:[(0,Vn.jsx)(ja.A,{className:"h-4 w-4 mr-2"}),"Batal"]})]})]}),!i.id&&(0,Vn.jsx)("p",{className:"text-xs text-[#FF9F0A] mt-2",children:"Simpan data dasar terlebih dahulu sebelum mengunggah logo."})]}),g&&(0,Vn.jsx)("div",{className:"p-3 bg-[#FF453A]/10 border border-[#FF453A] rounded-lg",children:(0,Vn.jsx)("p",{className:"text-sm text-[#FF453A]",children:g})}),i.logo&&!u&&(0,Vn.jsxs)("button",{type:"button",onClick:async()=>{if(i.id&&i.logo&&window.confirm("Hapus logo ini?"))try{const e=localStorage.getItem("token");(await Sr.delete("".concat(zn,"/subsidiaries/").concat(i.id,"/logo"),{headers:{Authorization:"Bearer ".concat(e)}})).data.success&&(l("logo",null),alert("Logo berhasil dihapus!"))}catch(r){var e,t;console.error("Delete error:",r),alert((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Gagal menghapus logo")}},className:"inline-flex items-center px-4 py-2 bg-[#FF453A] text-white rounded-lg hover:bg-[#FF453A]/90 transition-colors",children:[(0,Vn.jsx)(ja.A,{className:"h-4 w-4 mr-2"}),"Hapus Logo"]})]})]})})}),(0,Vn.jsx)(iR,{title:"Informasi Perusahaan",icon:ga,children:(0,Vn.jsxs)(lR,{children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Nama Anak Usaha *"}),(0,Vn.jsx)("input",{type:"text",value:i.name||"",onChange:e=>l("name",e.target.value),onBlur:()=>null===d||void 0===d?void 0:d("name"),placeholder:"PT Anak Usaha",className:"w-full px-3 py-2 bg-[#1C1C1E] border rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] ".concat(c.name?"border-[#FF453A]":"border-[#38383A]")}),c.name&&(0,Vn.jsx)(cR,{message:c.name})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Kode Anak Usaha *"}),(0,Vn.jsx)("input",{type:"text",value:i.code||"",onChange:e=>l("code",e.target.value.toUpperCase()),onBlur:()=>null===d||void 0===d?void 0:d("code"),placeholder:"SUB001",className:"w-full px-3 py-2 bg-[#1C1C1E] border rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] ".concat(c.code?"border-[#FF453A]":"border-[#38383A]")}),c.code&&(0,Vn.jsx)(cR,{message:c.code})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Deskripsi"}),(0,Vn.jsx)("textarea",{value:i.description||"",onChange:e=>l("description",e.target.value),placeholder:"Deskripsi singkat tentang anak usaha",rows:3,className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Spesialisasi"}),(0,Vn.jsx)("select",{value:i.specialization||"general",onChange:e=>l("specialization",e.target.value),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:eR.specializations.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Status"}),(0,Vn.jsx)("select",{value:i.status||"active",onChange:e=>l("status",e.target.value),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:eR.statuses.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Perusahaan Induk"}),(0,Vn.jsx)("input",{type:"text",value:i.parentCompany||"",onChange:e=>l("parentCompany",e.target.value),placeholder:"PT Nusantara Construction Group",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Tahun Didirikan"}),(0,Vn.jsx)("input",{type:"number",value:i.establishedYear||"",onChange:e=>l("establishedYear",e.target.value),onBlur:()=>null===d||void 0===d?void 0:d("establishedYear"),placeholder:"2020",min:"1900",max:(new Date).getFullYear(),className:"w-full px-3 py-2 bg-[#1C1C1E] border rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] ".concat(c.establishedYear?"border-[#FF453A]":"border-[#38383A]")}),c.establishedYear&&(0,Vn.jsx)(cR,{message:c.establishedYear})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Jumlah Karyawan"}),(0,Vn.jsx)("input",{type:"number",value:i.employeeCount||"",onChange:e=>l("employeeCount",e.target.value),onBlur:()=>null===d||void 0===d?void 0:d("employeeCount"),placeholder:"100",min:"0",className:"w-full px-3 py-2 bg-[#1C1C1E] border rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] ".concat(c.employeeCount?"border-[#FF453A]":"border-[#38383A]")}),c.employeeCount&&(0,Vn.jsx)(cR,{message:c.employeeCount})]})]})]})}),(0,Vn.jsx)(iR,{title:"Informasi Kontak",icon:vo,children:(0,Vn.jsx)(lR,{children:(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Email"}),(0,Vn.jsx)("input",{type:"email",value:(null===(t=i.contactInfo)||void 0===t?void 0:t.email)||"",onChange:e=>l("contactInfo.email",e.target.value),onBlur:()=>null===d||void 0===d?void 0:d("email"),placeholder:"contact@subsidiary.com",className:"w-full px-3 py-2 bg-[#1C1C1E] border rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] ".concat(c.email?"border-[#FF453A]":"border-[#38383A]")}),c.email&&(0,Vn.jsx)(cR,{message:c.email})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Nomor Telepon"}),(0,Vn.jsx)("input",{type:"tel",value:(null===(r=i.contactInfo)||void 0===r?void 0:r.phone)||"",onChange:e=>l("contactInfo.phone",e.target.value),onBlur:()=>null===d||void 0===d?void 0:d("phone"),placeholder:"+62 21 1234 5678",className:"w-full px-3 py-2 bg-[#1C1C1E] border rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] ".concat(c.phone?"border-[#FF453A]":"border-[#38383A]")}),c.phone&&(0,Vn.jsx)(cR,{message:c.phone})]})]})})}),(0,Vn.jsx)(iR,{title:"Alamat",icon:bo,children:(0,Vn.jsxs)(lR,{children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Alamat Lengkap"}),(0,Vn.jsx)("textarea",{value:(null===(n=i.address)||void 0===n?void 0:n.street)||"",onChange:e=>l("address.street",e.target.value),placeholder:"Jl. Contoh No. 123, Kelurahan, Kecamatan",rows:3,className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Kota"}),(0,Vn.jsx)("input",{type:"text",value:(null===(s=i.address)||void 0===s?void 0:s.city)||"",onChange:e=>l("address.city",e.target.value),placeholder:"Jakarta",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Negara"}),(0,Vn.jsx)("select",{value:(null===(o=i.address)||void 0===o?void 0:o.country)||"Indonesia",onChange:e=>l("address.country",e.target.value),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:eR.countries.map(e=>(0,Vn.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})]})})]})},uR=e=>{var t,r,n,a,s,o,i,l,c,d,u,p,h,m,f;let{formData:x,updateField:g,errors:b,onFieldBlur:y}=e;const v=(e,t)=>{g("legalInfo",(0,Mt.A)((0,Mt.A)({},x.legalInfo),{},{[e]:t}))},j=(e,t,r)=>{const n=[...x.permits||[]];n[e]=(0,Mt.A)((0,Mt.A)({},n[e]),{},{[t]:r}),g("permits",n)};return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)(iR,{icon:La,title:"Informasi Legal Perusahaan",description:"Dokumen legal dan registrasi perusahaan",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)(lR,{label:"Nomor Registrasi Perusahaan",htmlFor:"companyRegistrationNumber",error:null===(t=b.legalInfo)||void 0===t?void 0:t.companyRegistrationNumber,children:[(0,Vn.jsx)("input",{type:"text",id:"companyRegistrationNumber",value:(null===(r=x.legalInfo)||void 0===r?void 0:r.companyRegistrationNumber)||"",onChange:e=>v("companyRegistrationNumber",e.target.value),onBlur:()=>null===y||void 0===y?void 0:y("legalInfo.companyRegistrationNumber"),placeholder:"AHU-1234567.AH.01.01.YYYY",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] font-mono"}),(0,Vn.jsx)(cR,{error:null===(n=b.legalInfo)||void 0===n?void 0:n.companyRegistrationNumber})]}),(0,Vn.jsxs)(lR,{label:"NPWP (Nomor Pokok Wajib Pajak)",htmlFor:"taxIdentificationNumber",error:null===(a=b.legalInfo)||void 0===a?void 0:a.taxIdentificationNumber,children:[(0,Vn.jsx)("input",{type:"text",id:"taxIdentificationNumber",value:(null===(s=x.legalInfo)||void 0===s?void 0:s.taxIdentificationNumber)||"",onChange:e=>v("taxIdentificationNumber",e.target.value),onBlur:()=>null===y||void 0===y?void 0:y("legalInfo.taxIdentificationNumber"),placeholder:"01.123.456.7-890.000",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] font-mono"}),(0,Vn.jsx)(cR,{error:null===(o=b.legalInfo)||void 0===o?void 0:o.taxIdentificationNumber})]}),(0,Vn.jsxs)(lR,{label:"Nomor Izin Usaha (NIB)",htmlFor:"businessLicenseNumber",error:null===(i=b.legalInfo)||void 0===i?void 0:i.businessLicenseNumber,children:[(0,Vn.jsx)("input",{type:"text",id:"businessLicenseNumber",value:(null===(l=x.legalInfo)||void 0===l?void 0:l.businessLicenseNumber)||"",onChange:e=>v("businessLicenseNumber",e.target.value),onBlur:()=>null===y||void 0===y?void 0:y("legalInfo.businessLicenseNumber"),placeholder:"NIB-1234567890123456",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] font-mono"}),(0,Vn.jsx)(cR,{error:null===(c=b.legalInfo)||void 0===c?void 0:c.businessLicenseNumber})]}),(0,Vn.jsxs)(lR,{label:"Nomor Registrasi PPN (PKP)",htmlFor:"vatRegistrationNumber",error:null===(d=b.legalInfo)||void 0===d?void 0:d.vatRegistrationNumber,children:[(0,Vn.jsx)("input",{type:"text",id:"vatRegistrationNumber",value:(null===(u=x.legalInfo)||void 0===u?void 0:u.vatRegistrationNumber)||"",onChange:e=>v("vatRegistrationNumber",e.target.value),onBlur:()=>null===y||void 0===y?void 0:y("legalInfo.vatRegistrationNumber"),placeholder:"PKP-01234567890",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] font-mono"}),(0,Vn.jsx)(cR,{error:null===(p=b.legalInfo)||void 0===p?void 0:p.vatRegistrationNumber})]})]}),(0,Vn.jsx)("div",{className:"mt-6",children:(0,Vn.jsxs)(lR,{label:"Akta Pendirian",htmlFor:"articlesOfIncorporation",error:null===(h=b.legalInfo)||void 0===h?void 0:h.articlesOfIncorporation,hint:"Detail lengkap akta pendirian perusahaan",children:[(0,Vn.jsx)("textarea",{id:"articlesOfIncorporation",value:(null===(m=x.legalInfo)||void 0===m?void 0:m.articlesOfIncorporation)||"",onChange:e=>v("articlesOfIncorporation",e.target.value),onBlur:()=>null===y||void 0===y?void 0:y("legalInfo.articlesOfIncorporation"),placeholder:"Akta Pendirian Perusahaan No. ... tanggal ..., dibuat di hadapan Notaris ...",rows:"4",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] resize-none"}),(0,Vn.jsx)(cR,{error:null===(f=b.legalInfo)||void 0===f?void 0:f.articlesOfIncorporation})]})})]}),(0,Vn.jsx)(iR,{icon:di,title:"Izin & Perizinan",description:"Daftar izin dan lisensi yang dimiliki perusahaan",children:(0,Vn.jsxs)("div",{className:"space-y-4",children:[(x.permits||[]).map((e,t)=>(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-4 space-y-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsxs)("h4",{className:"text-sm font-semibold text-white",children:["Izin #",t+1]}),(0,Vn.jsx)("button",{type:"button",onClick:()=>(e=>{const t=x.permits.filter((t,r)=>r!==e);g("permits",t)})(t),className:"p-1 text-[#FF453A] hover:bg-[#FF453A]/10 rounded transition-colors",title:"Hapus izin",children:(0,Vn.jsx)(ca,{className:"h-4 w-4"})})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Nama Izin *"}),(0,Vn.jsx)("input",{type:"text",value:e.name||"",onChange:e=>j(t,"name",e.target.value),placeholder:"Izin Usaha Konstruksi",className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Nomor Izin"}),(0,Vn.jsx)("input",{type:"text",value:e.number||"",onChange:e=>j(t,"number",e.target.value),placeholder:"IUK-123456",className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] font-mono"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Status *"}),(0,Vn.jsxs)("select",{value:e.status||"valid",onChange:e=>j(t,"status",e.target.value),className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"valid",children:"Berlaku"}),(0,Vn.jsx)("option",{value:"expired",children:"Kadaluarsa"}),(0,Vn.jsx)("option",{value:"pending",children:"Pending"})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Diterbitkan Oleh"}),(0,Vn.jsx)("input",{type:"text",value:e.issuedBy||"",onChange:e=>j(t,"issuedBy",e.target.value),placeholder:"LPJK",className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Tanggal Terbit"}),(0,Vn.jsx)("input",{type:"date",value:e.issuedDate||"",onChange:e=>j(t,"issuedDate",e.target.value),className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Tanggal Kadaluarsa"}),(0,Vn.jsx)("input",{type:"date",value:e.expiryDate||"",onChange:e=>j(t,"expiryDate",e.target.value),className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Deskripsi"}),(0,Vn.jsx)("textarea",{value:e.description||"",onChange:e=>j(t,"description",e.target.value),placeholder:"Deskripsi singkat tentang izin ini",rows:"2",className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] resize-none"})]})]})]},t)),(0,Vn.jsxs)("button",{type:"button",onClick:()=>{g("permits",[...x.permits||[],{name:"",number:"",status:"valid",issuedBy:"",issuedDate:"",expiryDate:"",description:""}])},className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-[#1C1C1E] border-2 border-dashed border-[#38383A] rounded-lg text-[#8E8E93] hover:border-[#0A84FF] hover:text-[#0A84FF] transition-colors",children:[(0,Vn.jsx)(Pi,{className:"h-4 w-4"}),(0,Vn.jsx)("span",{children:"Tambah Izin"})]})]})})]})},pR=e=>{var t,r,n,a,s,o,i,l,c,d,u,p,h,m,f,x,g,b,y,v;let{formData:j,updateField:w,errors:N,onFieldBlur:A}=e;const k=(e,t)=>{w("financialInfo",(0,Mt.A)((0,Mt.A)({},j.financialInfo),{},{[e]:t}))},C=(e,t)=>{w("profileInfo",(0,Mt.A)((0,Mt.A)({},j.profileInfo),{},{[e]:t}))},F=()=>{var e,t;const r=parseFloat(null===(e=j.financialInfo)||void 0===e?void 0:e.authorizedCapital)||0,n=parseFloat(null===(t=j.financialInfo)||void 0===t?void 0:t.paidUpCapital)||0;return r>0?(n/r*100).toFixed(1):0},S=e=>e?new Intl.NumberFormat("id-ID").format(e):"",E=e=>e.replace(/\D/g,"");return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)(iR,{icon:xa,title:"Struktur Modal",description:"Informasi modal dasar dan modal disetor perusahaan",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsxs)(lR,{label:"Modal Dasar",htmlFor:"authorizedCapital",error:null===(t=N.financialInfo)||void 0===t?void 0:t.authorizedCapital,hint:"Dalam Rupiah (IDR)",children:[(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#636366]",children:"Rp"}),(0,Vn.jsx)("input",{type:"text",id:"authorizedCapital",value:S((null===(r=j.financialInfo)||void 0===r?void 0:r.authorizedCapital)||""),onChange:e=>k("authorizedCapital",E(e.target.value)),onBlur:()=>null===A||void 0===A?void 0:A("financialInfo.authorizedCapital"),placeholder:"10.000.000.000",className:"w-full pl-10 pr-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsx)(cR,{error:null===(n=N.financialInfo)||void 0===n?void 0:n.authorizedCapital})]}),(0,Vn.jsxs)(lR,{label:"Modal Disetor",htmlFor:"paidUpCapital",error:null===(a=N.financialInfo)||void 0===a?void 0:a.paidUpCapital,hint:"Dalam Rupiah (IDR)",children:[(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#636366]",children:"Rp"}),(0,Vn.jsx)("input",{type:"text",id:"paidUpCapital",value:S((null===(s=j.financialInfo)||void 0===s?void 0:s.paidUpCapital)||""),onChange:e=>k("paidUpCapital",E(e.target.value)),onBlur:()=>null===A||void 0===A?void 0:A("financialInfo.paidUpCapital"),placeholder:"2.500.000.000",className:"w-full pl-10 pr-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsx)(cR,{error:null===(o=N.financialInfo)||void 0===o?void 0:o.paidUpCapital})]}),(0,Vn.jsxs)(lR,{label:"Mata Uang",htmlFor:"currency",error:null===(i=N.financialInfo)||void 0===i?void 0:i.currency,children:[(0,Vn.jsxs)("select",{id:"currency",value:(null===(l=j.financialInfo)||void 0===l?void 0:l.currency)||"IDR",onChange:e=>k("currency",e.target.value),onBlur:()=>null===A||void 0===A?void 0:A("financialInfo.currency"),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"IDR",children:"Indonesian Rupiah (IDR)"}),(0,Vn.jsx)("option",{value:"USD",children:"US Dollar (USD)"}),(0,Vn.jsx)("option",{value:"EUR",children:"Euro (EUR)"}),(0,Vn.jsx)("option",{value:"SGD",children:"Singapore Dollar (SGD)"})]}),(0,Vn.jsx)(cR,{error:null===(c=N.financialInfo)||void 0===c?void 0:c.currency})]}),(0,Vn.jsxs)(lR,{label:"Akhir Tahun Fiskal",htmlFor:"fiscalYearEnd",error:null===(d=N.financialInfo)||void 0===d?void 0:d.fiscalYearEnd,hint:"Contoh: 31 Desember",children:[(0,Vn.jsx)("input",{type:"text",id:"fiscalYearEnd",value:(null===(u=j.financialInfo)||void 0===u?void 0:u.fiscalYearEnd)||"",onChange:e=>k("fiscalYearEnd",e.target.value),onBlur:()=>null===A||void 0===A?void 0:A("financialInfo.fiscalYearEnd"),placeholder:"31 Desember",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"}),(0,Vn.jsx)(cR,{error:null===(p=N.financialInfo)||void 0===p?void 0:p.fiscalYearEnd})]})]}),(null===(h=j.financialInfo)||void 0===h?void 0:h.authorizedCapital)&&(null===(m=j.financialInfo)||void 0===m?void 0:m.paidUpCapital)&&(0,Vn.jsxs)("div",{className:"mt-6 p-4 bg-[#1C1C1E] border border-[#38383A] rounded-lg",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,Vn.jsx)(ui,{className:"h-4 w-4 text-[#0A84FF]"}),(0,Vn.jsx)("h4",{className:"text-sm font-semibold text-white",children:"Utilisasi Modal"})]}),(0,Vn.jsxs)("div",{className:"space-y-2",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Vn.jsx)("span",{className:"text-[#8E8E93]",children:"Persentase Modal Disetor"}),(0,Vn.jsxs)("span",{className:"text-white font-semibold",children:[F(),"%"]})]}),(0,Vn.jsx)("div",{className:"w-full bg-[#38383A] rounded-full h-2 overflow-hidden",children:(0,Vn.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(F()>=80?"bg-[#30D158]":F()>=50?"bg-[#0A84FF]":F()>=25?"bg-[#FF9F0A]":"bg-[#FF453A]"),style:{width:"".concat(Math.min(F(),100),"%")}})}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,Vn.jsxs)("span",{className:"text-[#636366]",children:["Sisa: Rp ",S((parseFloat(j.financialInfo.authorizedCapital)||0)-(parseFloat(j.financialInfo.paidUpCapital)||0))]}),(0,Vn.jsxs)("span",{className:"text-[#636366]",children:[(100-F()).toFixed(1),"% belum disetor"]})]})]})]})]}),(0,Vn.jsxs)(iR,{icon:xa,title:"Klasifikasi Industri",description:"Kategori dan klasifikasi bisnis perusahaan",children:[(0,Vn.jsxs)(lR,{label:"Klasifikasi Industri",htmlFor:"industryClassification",error:null===(f=N.profileInfo)||void 0===f?void 0:f.industryClassification,hint:"Contoh: F41001 - Konstruksi Gedung Untuk Tempat Tinggal",children:[(0,Vn.jsx)("input",{type:"text",id:"industryClassification",value:(null===(x=j.profileInfo)||void 0===x?void 0:x.industryClassification)||"",onChange:e=>C("industryClassification",e.target.value),onBlur:()=>null===A||void 0===A?void 0:A("profileInfo.industryClassification"),placeholder:"F41001 - Konstruksi Gedung Untuk Tempat Tinggal",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"}),(0,Vn.jsx)(cR,{error:null===(g=N.profileInfo)||void 0===g?void 0:g.industryClassification})]}),(0,Vn.jsxs)(lR,{label:"Deskripsi Bisnis",htmlFor:"businessDescription",error:null===(b=N.profileInfo)||void 0===b?void 0:b.businessDescription,hint:"Deskripsi detail tentang fokus bisnis dan layanan perusahaan",children:[(0,Vn.jsx)("textarea",{id:"businessDescription",value:(null===(y=j.profileInfo)||void 0===y?void 0:y.businessDescription)||"",onChange:e=>C("businessDescription",e.target.value),onBlur:()=>null===A||void 0===A?void 0:A("profileInfo.businessDescription"),placeholder:"Perusahaan konstruksi yang berfokus pada pembangunan gedung perkantoran modern, pusat perbelanjaan, dan fasilitas komersial lainnya...",rows:"4",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] resize-none"}),(0,Vn.jsx)(cR,{error:null===(v=N.profileInfo)||void 0===v?void 0:v.businessDescription})]})]})]})};var hR=r(816);const mR=e=>{var t,r,n,a,s,o,i,l,c,d,u,p,h,m,f,x,g,b;let{formData:y,updateField:v,errors:j,onFieldBlur:w}=e;const N=(e,t,r)=>{const n=[...y.boardOfDirectors||[]];n[e]=(0,Mt.A)((0,Mt.A)({},n[e]),{},{[t]:r}),v("boardOfDirectors",n)},A=(e,t)=>{var r;const n=(null===(r=y.profileInfo)||void 0===r?void 0:r.socialMedia)||{};if(""===t.trim()){const{[e]:t}=n,r=(0,go.A)(n,[e].map(hR.A));v("profileInfo",(0,Mt.A)((0,Mt.A)({},y.profileInfo),{},{socialMedia:r}))}else v("profileInfo",(0,Mt.A)((0,Mt.A)({},y.profileInfo),{},{socialMedia:(0,Mt.A)((0,Mt.A)({},n),{},{[e]:t})}))},k=(e,t)=>{v("profileInfo",(0,Mt.A)((0,Mt.A)({},y.profileInfo),{},{[e]:t}))};return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsx)(iR,{icon:ma,title:"Dewan Direksi",description:"Struktur kepemimpinan dan manajemen perusahaan",children:(0,Vn.jsxs)("div",{className:"space-y-4",children:[(y.boardOfDirectors||[]).map((e,t)=>(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] border border-[#38383A] rounded-lg p-4 space-y-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)("div",{className:"w-8 h-8 bg-[#0A84FF]/20 rounded-full flex items-center justify-center",children:(0,Vn.jsx)(ra,{className:"h-4 w-4 text-[#0A84FF]"})}),(0,Vn.jsxs)("h4",{className:"text-sm font-semibold text-white",children:["Direktur #",t+1]})]}),(0,Vn.jsx)("button",{type:"button",onClick:()=>(e=>{const t=y.boardOfDirectors.filter((t,r)=>r!==e);v("boardOfDirectors",t)})(t),className:"p-1 text-[#FF453A] hover:bg-[#FF453A]/10 rounded transition-colors",title:"Hapus direktur",children:(0,Vn.jsx)(ca,{className:"h-4 w-4"})})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Nama Lengkap *"}),(0,Vn.jsx)("input",{type:"text",value:e.name||"",onChange:e=>N(t,"name",e.target.value),placeholder:"Budi Santoso, S.T., M.T.",className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Posisi/Jabatan *"}),(0,Vn.jsx)("input",{type:"text",value:e.position||"",onChange:e=>N(t,"position",e.target.value),placeholder:"Direktur Utama",className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Email"}),(0,Vn.jsx)("input",{type:"email",value:e.email||"",onChange:e=>N(t,"email",e.target.value),placeholder:"budi.santoso@company.com",className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Telepon"}),(0,Vn.jsx)("input",{type:"tel",value:e.phone||"",onChange:e=>N(t,"phone",e.target.value),placeholder:"+62-812-3456-7890",className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Tanggal Penunjukan"}),(0,Vn.jsx)("input",{type:"date",value:e.appointmentDate||"",onChange:e=>N(t,"appointmentDate",e.target.value),className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#8E8E93] mb-2",children:"Tanggal Berakhir"}),(0,Vn.jsx)("input",{type:"date",value:e.endDate||"",onChange:e=>N(t,"endDate",e.target.value),className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsx)("div",{className:"md:col-span-2",children:(0,Vn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,Vn.jsx)("input",{type:"checkbox",checked:!1!==e.isActive,onChange:e=>N(t,"isActive",e.target.checked),className:"w-4 h-4 rounded border-[#38383A] bg-[#2C2C2E] text-[#0A84FF] focus:ring-2 focus:ring-[#0A84FF] focus:ring-offset-0"}),(0,Vn.jsx)("span",{className:"text-sm text-white",children:"Status Aktif"})]})})]})]},t)),(0,Vn.jsxs)("button",{type:"button",onClick:()=>{v("boardOfDirectors",[...y.boardOfDirectors||[],{name:"",position:"",email:"",phone:"",appointmentDate:"",endDate:"",isActive:!0}])},className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-[#1C1C1E] border-2 border-dashed border-[#38383A] rounded-lg text-[#8E8E93] hover:border-[#0A84FF] hover:text-[#0A84FF] transition-colors",children:[(0,Vn.jsx)(Pi,{className:"h-4 w-4"}),(0,Vn.jsx)("span",{children:"Tambah Direktur"})]})]})}),(0,Vn.jsx)(iR,{icon:Do,title:"Profil Perusahaan",description:"Website dan informasi tambahan perusahaan",children:(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)(lR,{label:"Website Perusahaan",htmlFor:"website",error:null===(t=j.profileInfo)||void 0===t?void 0:t.website,hint:"URL lengkap website perusahaan",children:[(0,Vn.jsx)("input",{type:"url",id:"website",value:(null===(r=y.profileInfo)||void 0===r?void 0:r.website)||"",onChange:e=>k("website",e.target.value),onBlur:()=>null===w||void 0===w?void 0:w("profileInfo.website"),placeholder:"https://company.co.id",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"}),(0,Vn.jsx)(cR,{error:null===(n=j.profileInfo)||void 0===n?void 0:n.website})]}),(0,Vn.jsxs)(lR,{label:"Ukuran Perusahaan",htmlFor:"companySize",error:null===(a=j.profileInfo)||void 0===a?void 0:a.companySize,children:[(0,Vn.jsxs)("select",{id:"companySize",value:(null===(s=y.profileInfo)||void 0===s?void 0:s.companySize)||"",onChange:e=>k("companySize",e.target.value),onBlur:()=>null===w||void 0===w?void 0:w("profileInfo.companySize"),className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"",children:"Pilih ukuran perusahaan"}),(0,Vn.jsx)("option",{value:"small",children:"Small (1-50 karyawan)"}),(0,Vn.jsx)("option",{value:"medium",children:"Medium (51-250 karyawan)"}),(0,Vn.jsx)("option",{value:"large",children:"Large (251+ karyawan)"})]}),(0,Vn.jsx)(cR,{error:null===(o=j.profileInfo)||void 0===o?void 0:o.companySize})]})]})}),(0,Vn.jsx)(iR,{icon:Do,title:"Media Sosial",description:"Akun media sosial resmi perusahaan",children:(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vn.jsx)(lR,{label:"LinkedIn",htmlFor:"linkedin",children:(0,Vn.jsx)("input",{type:"url",id:"linkedin",value:(null===(i=y.profileInfo)||void 0===i||null===(l=i.socialMedia)||void 0===l?void 0:l.linkedin)||"",onChange:e=>A("linkedin",e.target.value),placeholder:"https://linkedin.com/company/...",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})}),(0,Vn.jsx)(lR,{label:"Facebook",htmlFor:"facebook",children:(0,Vn.jsx)("input",{type:"url",id:"facebook",value:(null===(c=y.profileInfo)||void 0===c||null===(d=c.socialMedia)||void 0===d?void 0:d.facebook)||"",onChange:e=>A("facebook",e.target.value),placeholder:"https://facebook.com/...",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})}),(0,Vn.jsx)(lR,{label:"Instagram",htmlFor:"instagram",children:(0,Vn.jsx)("input",{type:"url",id:"instagram",value:(null===(u=y.profileInfo)||void 0===u||null===(p=u.socialMedia)||void 0===p?void 0:p.instagram)||"",onChange:e=>A("instagram",e.target.value),placeholder:"https://instagram.com/...",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})}),(0,Vn.jsx)(lR,{label:"YouTube",htmlFor:"youtube",children:(0,Vn.jsx)("input",{type:"url",id:"youtube",value:(null===(h=y.profileInfo)||void 0===h||null===(m=h.socialMedia)||void 0===m?void 0:m.youtube)||"",onChange:e=>A("youtube",e.target.value),placeholder:"https://youtube.com/@...",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})}),(0,Vn.jsx)(lR,{label:"Twitter/X",htmlFor:"twitter",children:(0,Vn.jsx)("input",{type:"url",id:"twitter",value:(null===(f=y.profileInfo)||void 0===f||null===(x=f.socialMedia)||void 0===x?void 0:x.twitter)||"",onChange:e=>A("twitter",e.target.value),placeholder:"https://twitter.com/...",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})}),(0,Vn.jsx)(lR,{label:"TikTok",htmlFor:"tiktok",children:(0,Vn.jsx)("input",{type:"url",id:"tiktok",value:(null===(g=y.profileInfo)||void 0===g||null===(b=g.socialMedia)||void 0===b?void 0:b.tiktok)||"",onChange:e=>A("tiktok",e.target.value),placeholder:"https://tiktok.com/@...",className:"w-full px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:outline-none focus:ring-2 focus:ring-[#0A84FF]"})})]})})]})},fR=()=>(0,Vn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Vn.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0A84FF]"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Memuat data anak usaha..."})]})}),xR=()=>{const{isEditing:e,loading:t,saving:r,error:n,fetchSubsidiary:s,saveSubsidiary:o,navigateToList:i,clearError:l}=Z_(),{formData:c,updateField:d,loadFormData:u}=tR(),{errors:p,validateForm:h,validateSingleField:m,markFieldAsTouched:f,clearAllErrors:x}=aR(c),{activeTab:g,setActiveTab:b}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"basic";const t=ee(),[r,n]=(0,a.useState)(e);(0,a.useEffect)(()=>{const e=t.hash.replace("#","");e&&["basic","legal","financial","governance"].includes(e)&&n(e)},[t.hash]);const s=e=>{n(e),window.history.replaceState(null,null,"#".concat(e))};return{activeTab:r,setActiveTab:s,goToNextTab:()=>{const e=["basic","legal","financial","governance"],t=e.indexOf(r);t<e.length-1&&s(e[t+1])},goToPreviousTab:()=>{const e=["basic","legal","financial","governance"],t=e.indexOf(r);t>0&&s(e[t-1])},isFirstTab:()=>"basic"===r,isLastTab:()=>"governance"===r}}(),[y,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{if(e)try{const e=await s();e&&u(e)}catch(t){console.error("Failed to load subsidiary data:",t)}})()},[e]),(0,a.useEffect)(()=>{v(!0)},[c]),(0,a.useEffect)(()=>{n&&l()},[c]);const j=e=>{f(e),m(e,c[e]||"")};return t?(0,Vn.jsx)(fR,{}):(0,Vn.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[(0,Vn.jsx)(sR,{isEditing:e,onSave:async()=>{if(!h()){const e=Object.keys(p);return void(e.includes("name")||e.includes("code")||e.includes("email")||e.includes("phone")?b("basic"):e.some(e=>e.includes("legal"))?b("legal"):e.some(e=>e.includes("financial"))&&b("financial"))}try{await o(c),i()}catch(e){console.error("Failed to save subsidiary:",e)}},onCancel:()=>{y?window.confirm("Ada perubahan yang belum disimpan. Yakin ingin keluar?")&&i():i()},saving:r,hasChanges:y,subsidiaryName:c.name}),n&&(0,Vn.jsx)("div",{className:"bg-[#FF453A]/10 border border-[#FF453A]/30 rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"flex",children:[(0,Vn.jsx)("div",{className:"flex-shrink-0",children:(0,Vn.jsx)("svg",{className:"h-5 w-5 text-[#FF453A]",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Vn.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Vn.jsxs)("div",{className:"ml-3",children:[(0,Vn.jsx)("h3",{className:"text-sm font-medium text-[#FF453A]",children:"Error"}),(0,Vn.jsx)("div",{className:"mt-2 text-sm text-[#FF453A]",children:(0,Vn.jsx)("p",{children:n})})]})]})}),(0,Vn.jsx)(oR,{activeTab:g,onTabChange:b,hasErrors:p}),(()=>{const e={formData:c,updateField:d,errors:p,onFieldBlur:j};switch(g){case"basic":default:return(0,Vn.jsx)(dR,(0,Mt.A)({},e));case"legal":return(0,Vn.jsx)(uR,(0,Mt.A)({},e));case"financial":return(0,Vn.jsx)(pR,(0,Mt.A)({},e));case"governance":return(0,Vn.jsx)(mR,(0,Mt.A)({},e))}})()]})},gR=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)({}),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{o(!0);try{const{workflows:e,currentUser:r}=await(async()=>new Promise(e=>{setTimeout(()=>{e({workflows:[{id:"wf-001",title:"Purchase Order #12345",description:"Approval needed for equipment purchase",status:"pending",type:"Purchase Order",assignedTo:"1",requester:{name:"Sarah Johnson"},history:[{action:"created",user:"Sarah Johnson",timestamp:"2025-10-10T14:30:00Z"}]},{id:"wf-002",title:"Material Requisition #54321",description:"Urgent concrete materials needed for Site B",status:"pending",type:"Material Requisition",assignedTo:"1",requester:{name:"Mike Thompson"},history:[{action:"created",user:"Mike Thompson",timestamp:"2025-10-12T09:15:00Z"}]},{id:"wf-003",title:"Contractor Agreement #789",description:"Plumbing subcontractor agreement for Phase 2",status:"approved",type:"Contract",assignedTo:"2",requester:{name:"Lisa Wong"},history:[{action:"created",user:"Lisa Wong",timestamp:"2025-10-05T11:20:00Z"},{action:"approved",user:"John Davis",timestamp:"2025-10-06T15:45:00Z"}]},{id:"wf-004",title:"Change Order #456",description:"Additional electrical work for office area",status:"rejected",type:"Change Order",assignedTo:"3",requester:{name:"Robert Chen"},history:[{action:"created",user:"Robert Chen",timestamp:"2025-10-02T13:10:00Z"},{action:"rejected",user:"Emily Parker",timestamp:"2025-10-03T10:30:00Z"}]}],currentUser:{id:"1",name:"Alex Martinez",role:"Project Manager"}})},300)}))();t(e),n(r)}catch(e){console.error("Error loading approval data:",e),l(e.message||"Failed to load approval data")}finally{o(!1)}})()},[]);return{workflows:e,user:r,loading:s,error:i,handleApprove:async e=>{try{await(async e=>new Promise(t=>{setTimeout(()=>{t({success:!0,workflowId:e})},200)}))(e),t(t=>t.map(t=>t.id===e?(0,Mt.A)((0,Mt.A)({},t),{},{status:"approved",history:[...t.history||[],{action:"approved",user:r.name,timestamp:(new Date).toISOString()}]}):t))}catch(n){console.error("Error approving workflow:",n),l(n.message||"Failed to approve workflow")}},handleReject:async e=>{try{await(async e=>new Promise(t=>{setTimeout(()=>{t({success:!0,workflowId:e})},200)}))(e),t(t=>t.map(t=>t.id===e?(0,Mt.A)((0,Mt.A)({},t),{},{status:"rejected",history:[...t.history||[],{action:"rejected",user:r.name,timestamp:(new Date).toISOString()}]}):t))}catch(n){console.error("Error rejecting workflow:",n),l(n.message||"Failed to reject workflow")}},handleDelegate:async e=>{try{await(async e=>new Promise(t=>{setTimeout(()=>{t({success:!0,workflowId:e})},200)}))(e),t(t=>t.map(t=>t.id===e?(0,Mt.A)((0,Mt.A)({},t),{},{status:"delegated",history:[...t.history||[],{action:"delegated",user:r.name,timestamp:(new Date).toISOString()}]}):t))}catch(n){console.error("Error delegating workflow:",n),l(n.message||"Failed to delegate workflow")}}}},bR=e=>{let{workflows:t=[]}=e;const{approvals:r}=(0,UE.B)();return(0,Vn.jsx)("div",{className:"approval-stats",children:(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vn.jsxs)("div",{className:"stat-card bg-blue-50 p-4 rounded-lg",children:[(0,Vn.jsx)("h3",{className:"text-blue-600",children:r.stats.pending}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",children:t.filter(e=>"pending"===e.status).length})]}),(0,Vn.jsxs)("div",{className:"stat-card bg-green-50 p-4 rounded-lg",children:[(0,Vn.jsx)("h3",{className:"text-green-600",children:r.stats.approved}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",children:t.filter(e=>"approved"===e.status).length})]}),(0,Vn.jsxs)("div",{className:"stat-card bg-red-50 p-4 rounded-lg",children:[(0,Vn.jsx)("h3",{className:"text-red-600",children:r.stats.rejected}),(0,Vn.jsx)("p",{className:"text-2xl font-bold",children:t.filter(e=>"rejected"===e.status).length})]})]})})},yR=e=>{var t;let{workflow:r,onApprove:n,onReject:a,onDelegate:s}=e;const{approvals:o}=(0,UE.B)();return(0,Vn.jsx)("div",{className:"workflow-card border p-4 rounded-lg",children:(0,Vn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h4",{className:"font-semibold",children:r.title}),(0,Vn.jsx)("p",{className:"text-sm text-gray-600",children:r.description}),(0,Vn.jsxs)("div",{className:"mt-2",children:[(0,Vn.jsx)("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:r.type}),(0,Vn.jsxs)("span",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded ml-2",children:[o.workflowList.requestedBy,": ",(null===(t=r.requester)||void 0===t?void 0:t.name)||o.workflowList.unknown]})]})]}),(0,Vn.jsxs)("div",{className:"flex space-x-2",children:[(0,Vn.jsx)("button",{onClick:()=>n(r.id),className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:o.actions.approve}),(0,Vn.jsx)("button",{onClick:()=>a(r.id),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:o.actions.reject}),(0,Vn.jsx)("button",{onClick:()=>s(r.id),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:o.actions.delegate})]})]})})},vR=e=>{let{workflows:t=[],user:r={},onApprove:n,onReject:a,onDelegate:s}=e;const{approvals:o}=(0,UE.B)(),i=t.filter(e=>e.assignedTo===r.id&&"pending"===e.status);return(0,Vn.jsxs)("div",{className:"approval-list mt-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold mb-3",children:o.workflowList.title}),i.length>0?(0,Vn.jsx)("div",{className:"space-y-4",children:i.map((e,t)=>(0,Vn.jsx)(yR,{workflow:e,onApprove:n,onReject:a,onDelegate:s},e.id||t))}):(0,Vn.jsx)("div",{className:"empty-state text-center py-8 bg-gray-50 rounded-lg",children:(0,Vn.jsx)("p",{className:"text-gray-500",children:o.workflowList.emptyState})})]})},jR=e=>{let{workflows:t=[]}=e;const{approvals:r}=(0,UE.B)(),n=t.filter(e=>e.history&&e.history.length>0).flatMap(e=>e.history.map((t,r)=>(0,Mt.A)((0,Mt.A)({},t),{},{workflowTitle:e.title,id:"".concat(e.id,"-").concat(r)}))).sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)).slice(0,5);return(0,Vn.jsxs)("div",{className:"approval-history mt-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold mb-3",children:r.activityHistory.title}),(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Vn.jsx)("thead",{className:"bg-gray-50",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.activityHistory.headers.workflow}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.activityHistory.headers.date}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.activityHistory.headers.action}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.activityHistory.headers.user})]})}),(0,Vn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.workflowTitle}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.timestamp).toLocaleString()}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Vn.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("approved"===e.action?"bg-green-100 text-green-800":"rejected"===e.action?"bg-red-100 text-red-800":"delegated"===e.action?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:r.activityHistory.actions[e.action]||e.action})}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.user})]},e.id))})]})})]})},wR=()=>{const{approvals:e}=(0,UE.B)(),{workflows:t,user:r,handleApprove:n,handleReject:a,handleDelegate:s}=gR();return(0,Vn.jsxs)("div",{className:"approval-dashboard",children:[(0,Vn.jsxs)("div",{className:"approval-header",children:[(0,Vn.jsx)("h2",{children:e.title}),(0,Vn.jsx)("p",{className:"text-gray-500",children:e.subtitle})]}),(0,Vn.jsx)(bR,{workflows:t}),(0,Vn.jsx)(vR,{workflows:t,user:r,onApprove:n,onReject:a,onDelegate:s}),(0,Vn.jsx)(jR,{workflows:t})]})};function NR(){return NR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NR.apply(null,arguments)}var AR=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(Pr){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),kR=Math.abs,CR=String.fromCharCode,FR=Object.assign;function SR(e){return e.trim()}function ER(e,t,r){return e.replace(t,r)}function PR(e,t){return e.indexOf(t)}function DR(e,t){return 0|e.charCodeAt(t)}function OR(e,t,r){return e.slice(t,r)}function TR(e){return e.length}function IR(e){return e.length}function MR(e,t){return t.push(e),e}var _R=1,RR=1,BR=0,LR=0,zR=0,UR="";function WR(e,t,r,n,a,s,o){return{value:e,root:t,parent:r,type:n,props:a,children:s,line:_R,column:RR,length:o,return:""}}function VR(e,t){return FR(WR("",null,null,"",null,null,0),e,{length:-e.length},t)}function HR(){return zR=LR>0?DR(UR,--LR):0,RR--,10===zR&&(RR=1,_R--),zR}function KR(){return zR=LR<BR?DR(UR,LR++):0,RR++,10===zR&&(RR=1,_R++),zR}function qR(){return DR(UR,LR)}function GR(){return LR}function YR(e,t){return OR(UR,e,t)}function $R(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JR(e){return _R=RR=1,BR=TR(UR=e),LR=0,[]}function XR(e){return UR="",e}function QR(e){return SR(YR(LR-1,tB(91===e?e+2:40===e?e+1:e)))}function ZR(e){for(;(zR=qR())&&zR<33;)KR();return $R(e)>2||$R(zR)>3?"":" "}function eB(e,t){for(;--t&&KR()&&!(zR<48||zR>102||zR>57&&zR<65||zR>70&&zR<97););return YR(e,GR()+(t<6&&32==qR()&&32==KR()))}function tB(e){for(;KR();)switch(zR){case e:return LR;case 34:case 39:34!==e&&39!==e&&tB(zR);break;case 40:41===e&&tB(e);break;case 92:KR()}return LR}function rB(e,t){for(;KR()&&e+zR!==57&&(e+zR!==84||47!==qR()););return"/*"+YR(t,LR-1)+"*"+CR(47===e?e:KR())}function nB(e){for(;!$R(qR());)KR();return YR(e,LR)}var aB="-ms-",sB="-moz-",oB="-webkit-",iB="comm",lB="rule",cB="decl",dB="@keyframes";function uB(e,t){for(var r="",n=IR(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function pB(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case cB:return e.return=e.return||e.value;case iB:return"";case dB:return e.return=e.value+"{"+uB(e.children,n)+"}";case lB:e.value=e.props.join(",")}return TR(r=uB(e.children,n))?e.return=e.value+"{"+r+"}":""}function hB(e){return function(t){t.root||(t=t.return)&&e(t)}}function mB(e){return XR(fB("",null,null,null,[""],e=JR(e),0,[0],e))}function fB(e,t,r,n,a,s,o,i,l){for(var c=0,d=0,u=o,p=0,h=0,m=0,f=1,x=1,g=1,b=0,y="",v=a,j=s,w=n,N=y;x;)switch(m=b,b=KR()){case 40:if(108!=m&&58==DR(N,u-1)){-1!=PR(N+=ER(QR(b),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:N+=QR(b);break;case 9:case 10:case 13:case 32:N+=ZR(m);break;case 92:N+=eB(GR()-1,7);continue;case 47:switch(qR()){case 42:case 47:MR(gB(rB(KR(),GR()),t,r),l);break;default:N+="/"}break;case 123*f:i[c++]=TR(N)*g;case 125*f:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+d:-1==g&&(N=ER(N,/\f/g,"")),h>0&&TR(N)-u&&MR(h>32?bB(N+";",n,r,u-1):bB(ER(N," ","")+";",n,r,u-2),l);break;case 59:N+=";";default:if(MR(w=xB(N,t,r,c,d,a,i,y,v=[],j=[],u),s),123===b)if(0===d)fB(N,t,w,w,v,s,u,i,j);else switch(99===p&&110===DR(N,3)?100:p){case 100:case 108:case 109:case 115:fB(e,w,w,n&&MR(xB(e,w,w,0,0,a,i,y,a,v=[],u),j),a,j,u,i,n?v:j);break;default:fB(N,w,w,w,[""],j,0,i,j)}}c=d=h=0,f=g=1,y=N="",u=o;break;case 58:u=1+TR(N),h=m;default:if(f<1)if(123==b)--f;else if(125==b&&0==f++&&125==HR())continue;switch(N+=CR(b),b*f){case 38:g=d>0?1:(N+="\f",-1);break;case 44:i[c++]=(TR(N)-1)*g,g=1;break;case 64:45===qR()&&(N+=QR(KR())),p=qR(),d=u=TR(y=N+=nB(GR())),b++;break;case 45:45===m&&2==TR(N)&&(f=0)}}return s}function xB(e,t,r,n,a,s,o,i,l,c,d){for(var u=a-1,p=0===a?s:[""],h=IR(p),m=0,f=0,x=0;m<n;++m)for(var g=0,b=OR(e,u+1,u=kR(f=o[m])),y=e;g<h;++g)(y=SR(f>0?p[g]+" "+b:ER(b,/&\f/g,p[g])))&&(l[x++]=y);return WR(e,t,r,0===a?lB:i,l,c,d)}function gB(e,t,r){return WR(e,t,r,iB,CR(zR),OR(e,2,-2),0)}function bB(e,t,r,n){return WR(e,t,r,cB,OR(e,0,n),OR(e,n+1,-1),n)}var yB=function(e,t,r){for(var n=0,a=0;n=a,a=qR(),38===n&&12===a&&(t[r]=1),!$R(a);)KR();return YR(e,LR)},vB=function(e,t){return XR(function(e,t){var r=-1,n=44;do{switch($R(n)){case 0:38===n&&12===qR()&&(t[r]=1),e[r]+=yB(LR-1,t,r);break;case 2:e[r]+=QR(n);break;case 4:if(44===n){e[++r]=58===qR()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=CR(n)}}while(n=KR());return e}(JR(e),t))},jB=new WeakMap,wB=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||jB.get(r))&&!n){jB.set(e,!0);for(var a=[],s=vB(t,a),o=r.props,i=0,l=0;i<s.length;i++)for(var c=0;c<o.length;c++,l++)e.props[l]=a[i]?s[i].replace(/&\f/g,o[c]):o[c]+" "+s[i]}}},NB=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function AB(e,t){switch(function(e,t){return 45^DR(e,0)?(((t<<2^DR(e,0))<<2^DR(e,1))<<2^DR(e,2))<<2^DR(e,3):0}(e,t)){case 5103:return oB+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return oB+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return oB+e+sB+e+aB+e+e;case 6828:case 4268:return oB+e+aB+e+e;case 6165:return oB+e+aB+"flex-"+e+e;case 5187:return oB+e+ER(e,/(\w+).+(:[^]+)/,oB+"box-$1$2"+aB+"flex-$1$2")+e;case 5443:return oB+e+aB+"flex-item-"+ER(e,/flex-|-self/,"")+e;case 4675:return oB+e+aB+"flex-line-pack"+ER(e,/align-content|flex-|-self/,"")+e;case 5548:return oB+e+aB+ER(e,"shrink","negative")+e;case 5292:return oB+e+aB+ER(e,"basis","preferred-size")+e;case 6060:return oB+"box-"+ER(e,"-grow","")+oB+e+aB+ER(e,"grow","positive")+e;case 4554:return oB+ER(e,/([^-])(transform)/g,"$1"+oB+"$2")+e;case 6187:return ER(ER(ER(e,/(zoom-|grab)/,oB+"$1"),/(image-set)/,oB+"$1"),e,"")+e;case 5495:case 3959:return ER(e,/(image-set\([^]*)/,oB+"$1$`$1");case 4968:return ER(ER(e,/(.+:)(flex-)?(.*)/,oB+"box-pack:$3"+aB+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+oB+e+e;case 4095:case 3583:case 4068:case 2532:return ER(e,/(.+)-inline(.+)/,oB+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(TR(e)-1-t>6)switch(DR(e,t+1)){case 109:if(45!==DR(e,t+4))break;case 102:return ER(e,/(.+:)(.+)-([^]+)/,"$1"+oB+"$2-$3$1"+sB+(108==DR(e,t+3)?"$3":"$2-$3"))+e;case 115:return~PR(e,"stretch")?AB(ER(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==DR(e,t+1))break;case 6444:switch(DR(e,TR(e)-3-(~PR(e,"!important")&&10))){case 107:return ER(e,":",":"+oB)+e;case 101:return ER(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+oB+(45===DR(e,14)?"inline-":"")+"box$3$1"+oB+"$2$3$1"+aB+"$2box$3")+e}break;case 5936:switch(DR(e,t+11)){case 114:return oB+e+aB+ER(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return oB+e+aB+ER(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return oB+e+aB+ER(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return oB+e+aB+e+e}return e}var kB=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case cB:e.return=AB(e.value,e.length);break;case dB:return uB([VR(e,{value:ER(e.value,"@","@"+oB)})],n);case lB:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uB([VR(e,{props:[ER(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return uB([VR(e,{props:[ER(t,/:(plac\w+)/,":"+oB+"input-$1")]}),VR(e,{props:[ER(t,/:(plac\w+)/,":-moz-$1")]}),VR(e,{props:[ER(t,/:(plac\w+)/,aB+"input-$1")]})],n)}return""})}}],CB=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var n,a,s=e.stylisPlugins||kB,o={},i=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)o[t[r]]=!0;i.push(e)});var l,c=[wB,NB],d=[pB,hB(function(e){l.insert(e)})],u=function(e){var t=IR(e);return function(r,n,a,s){for(var o="",i=0;i<t;i++)o+=e[i](r,n,a,s)||"";return o}}(c.concat(s,d));a=function(e,t,r,n){l=r,function(e){uB(mB(e),u)}(e?e+"{"+t.styles+"}":t.styles),n&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new AR({key:t,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return p.sheet.hydrate(i),p};function FB(e,t,r){var n="";return r.split(" ").forEach(function(r){void 0!==e[r]?t.push(e[r]+";"):r&&(n+=r+" ")}),n}var SB=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},EB=function(e,t,r){SB(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+n:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}};var PB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function DB(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}var OB=/[A-Z]|^ms/g,TB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,IB=function(e){return 45===e.charCodeAt(1)},MB=function(e){return null!=e&&"boolean"!==typeof e},_B=DB(function(e){return IB(e)?e:e.replace(OB,"-$&").toLowerCase()}),RB=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(TB,function(e,t,r){return LB={name:t,styles:r,next:LB},t})}return 1===PB[e]||IB(e)||"number"!==typeof t||0===t?t:t+"px"};function BB(e,t,r){if(null==r)return"";var n=r;if(void 0!==n.__emotion_styles)return n;switch(typeof r){case"boolean":return"";case"object":var a=r;if(1===a.anim)return LB={name:a.name,styles:a.styles,next:LB},a.name;var s=r;if(void 0!==s.styles){var o=s.next;if(void 0!==o)for(;void 0!==o;)LB={name:o.name,styles:o.styles,next:LB},o=o.next;return s.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=BB(e,t,r[a])+";";else for(var s in r){var o=r[s];if("object"!==typeof o){var i=o;null!=t&&void 0!==t[i]?n+=s+"{"+t[i]+"}":MB(i)&&(n+=_B(s)+":"+RB(s,i)+";")}else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var l=BB(e,t,o);switch(s){case"animation":case"animationName":n+=_B(s)+":"+l+";";break;default:n+=s+"{"+l+"}"}}else for(var c=0;c<o.length;c++)MB(o[c])&&(n+=_B(s)+":"+RB(s,o[c])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=LB,l=r(e);return LB=i,BB(e,t,l)}}var c=r;if(null==t)return c;var d=t[c];return void 0!==d?d:c}var LB,zB=/label:\s*([^\s;{]+)\s*(;|$)/g;function UB(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,a="";LB=void 0;var s=e[0];null==s||void 0===s.raw?(n=!1,a+=BB(r,t,s)):a+=s[0];for(var o=1;o<e.length;o++){if(a+=BB(r,t,e[o]),n)a+=s[o]}zB.lastIndex=0;for(var i,l="";null!==(i=zB.exec(a));)l+="-"+i[1];var c=function(e){for(var t,r=0,n=0,a=e.length;a>=4;++n,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(a){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}(a)+l;return{name:c,styles:a,next:LB}}var WB=!!s.useInsertionEffect&&s.useInsertionEffect,VB=WB||function(e){return e()},HB=WB||a.useLayoutEffect,KB=a.createContext("undefined"!==typeof HTMLElement?CB({key:"css"}):null),qB=(KB.Provider,function(e){return(0,a.forwardRef)(function(t,r){var n=(0,a.useContext)(KB);return e(t,n,r)})}),GB=a.createContext({});var YB={}.hasOwnProperty,$B="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",JB=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return SB(t,r,n),VB(function(){return EB(t,r,n)}),null},XB=qB(function(e,t,r){var n=e.css;"string"===typeof n&&void 0!==t.registered[n]&&(n=t.registered[n]);var s=e[$B],o=[n],i="";"string"===typeof e.className?i=FB(t.registered,o,e.className):null!=e.className&&(i=e.className+" ");var l=UB(o,void 0,a.useContext(GB));i+=t.key+"-"+l.name;var c={};for(var d in e)YB.call(e,d)&&"css"!==d&&d!==$B&&(c[d]=e[d]);return c.className=i,r&&(c.ref=r),a.createElement(a.Fragment,null,a.createElement(JB,{cache:t,serialized:l,isStringTag:"string"===typeof s}),a.createElement(s,c))}),QB=XB,ZB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,eL=DB(function(e){return ZB.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),tL=function(e){return"theme"!==e},rL=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?eL:tL},nL=function(e,t,r){var n;if(t){var a=t.shouldForwardProp;n=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!==typeof n&&r&&(n=e.__emotion_forwardProp),n},aL=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return SB(t,r,n),VB(function(){return EB(t,r,n)}),null},sL=function e(t,r){var n,s,o=t.__emotion_real===t,i=o&&t.__emotion_base||t;void 0!==r&&(n=r.label,s=r.target);var l=nL(t,r,o),c=l||rL(i),d=!c("as");return function(){var u=arguments,p=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==n&&p.push("label:"+n+";"),null==u[0]||void 0===u[0].raw)p.push.apply(p,u);else{var h=u[0];p.push(h[0]);for(var m=u.length,f=1;f<m;f++)p.push(u[f],h[f])}var x=qB(function(e,t,r){var n=d&&e.as||i,o="",u=[],h=e;if(null==e.theme){for(var m in h={},e)h[m]=e[m];h.theme=a.useContext(GB)}"string"===typeof e.className?o=FB(t.registered,u,e.className):null!=e.className&&(o=e.className+" ");var f=UB(p.concat(u),t.registered,h);o+=t.key+"-"+f.name,void 0!==s&&(o+=" "+s);var x=d&&void 0===l?rL(n):c,g={};for(var b in e)d&&"as"===b||x(b)&&(g[b]=e[b]);return g.className=o,r&&(g.ref=r),a.createElement(a.Fragment,null,a.createElement(aL,{cache:t,serialized:f,isStringTag:"string"===typeof n}),a.createElement(n,g))});return x.displayName=void 0!==n?n:"Styled("+("string"===typeof i?i:i.displayName||i.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=i,x.__emotion_styles=p,x.__emotion_forwardProp=l,Object.defineProperty(x,"toString",{value:function(){return"."+s}}),x.withComponent=function(t,n){return e(t,NR({},r,n,{shouldForwardProp:nL(x,n,!0)})).apply(void 0,p)},x}}.bind(null);function oL(e,t){return sL(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){sL[e]=sL(e)});const iL=[];function lL(e){return iL[0]=e,UB(iL)}function cL(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach(e=>t.searchParams.append("args[]",e)),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function dL(e){if("string"!==typeof e)throw new Error(cL(7));return e.charAt(0).toUpperCase()+e.slice(1)}var uL=r(191);function pL(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function hL(e){if(a.isValidElement(e)||(0,uL.Hy)(e)||!pL(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=hL(e[r])}),t}function mL(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const n=r.clone?(0,Mt.A)({},e):e;return pL(e)&&pL(t)&&Object.keys(t).forEach(s=>{a.isValidElement(t[s])||(0,uL.Hy)(t[s])?n[s]=t[s]:pL(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&pL(e[s])?n[s]=mL(e[s],t[s],r):r.clone?n[s]=pL(t[s])?hL(t[s]):t[s]:n[s]=t[s]}),n}const fL=function(e,t){return t?mL(e,t,{clone:!1}):e};function xL(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{var r,n;const a=/min-width:\s*([0-9.]+)/;return+((null===(r=e.match(a))||void 0===r?void 0:r[1])||0)-+((null===(n=t.match(a))||void 0===n?void 0:n[1])||0)});return r.length?r.reduce((e,r)=>{const n=t[r];return delete e[r],e[r]=n,e},(0,Mt.A)({},t)):t}const gL={xs:0,sm:600,md:900,lg:1200,xl:1536},bL={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(gL[e],"px)")},yL={containerQueries:e=>({up:t=>{let r="number"===typeof t?t:gL[t]||t;return"number"===typeof r&&(r="".concat(r,"px")),e?"@container ".concat(e," (min-width:").concat(r,")"):"@container (min-width:".concat(r,")")}})};function vL(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const e=n.breakpoints||bL;return t.reduce((n,a,s)=>(n[e.up(e.keys[s])]=r(t[s]),n),{})}if("object"===typeof t){const e=n.breakpoints||bL;return Object.keys(t).reduce((a,s)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some(e=>t.startsWith("@".concat(e)))||!!t.match(/^@\d/))}(e.keys,s)){const e=function(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,a]=r,s=Number.isNaN(+n)?n||0:+n;return e.containerQueries(a).up(s)}(n.containerQueries?n:yL,s);e&&(a[e]=r(t[s],s))}else if(Object.keys(e.values||gL).includes(s)){a[e.up(s)]=r(t[s],s)}else{const e=s;a[e]=t[e]}return a},{})}return r(t)}function jL(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce((e,r)=>(e[t.up(r)]={},e),{}))||{}}function wL(e,t){return e.reduce((e,t)=>{const r=e[t];return(!r||0===Object.keys(r).length)&&delete e[t],e},t)}function NL(e){let{values:t,breakpoints:r,base:n}=e;const a=n||function(e,t){if("object"!==typeof e)return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((t,n)=>{n<e.length&&(r[t]=!0)}):n.forEach(t=>{null!=e[t]&&(r[t]=!0)}),r}(t,r),s=Object.keys(a);if(0===s.length)return t;let o;return s.reduce((e,r,n)=>(Array.isArray(t)?(e[r]=null!=t[n]?t[n]:t[o],o=n):"object"===typeof t?(e[r]=null!=t[r]?t[r]:t[o],o=r):e[r]=t,e),{})}function AL(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&r){const r="vars.".concat(t).split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=r)return r}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function kL(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return n="function"===typeof e?e(r):Array.isArray(e)?e[r]||a:AL(e,r)||a,t&&(n=t(n,a,e)),n}const CL=function(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:a}=e,s=e=>{if(null==e[t])return null;const s=e[t],o=AL(e.theme,n)||{};return vL(e,s,e=>{let n=kL(o,a,e);return e===n&&"string"===typeof e&&(n=kL(o,a,"".concat(t).concat("default"===e?"":dL(e)),e)),!1===r?n:{[r]:n}})};return s.propTypes={},s.filterProps=[t],s};const FL={m:"margin",p:"padding"},SL={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},EL={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},PL=function(e){const t={};return r=>(void 0===t[r]&&(t[r]=e(r)),t[r])}(e=>{if(e.length>2){if(!EL[e])return[e];e=EL[e]}const[t,r]=e.split(""),n=FL[t],a=SL[r]||"";return Array.isArray(a)?a.map(e=>n+e):[n+a]}),DL=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],OL=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],TL=[...DL,...OL];function IL(e,t,r,n){var a;const s=null!==(a=AL(e,t,!0))&&void 0!==a?a:r;return"number"===typeof s||"string"===typeof s?e=>"string"===typeof e?e:"string"===typeof s?"calc(".concat(e," * ").concat(s,")"):s*e:Array.isArray(s)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const r=s[t];return e>=0?r:"number"===typeof r?-r:"-".concat(r)}:"function"===typeof s?s:()=>{}}function ML(e){return IL(e,"spacing",8)}function _L(e,t){return"string"===typeof t||null==t?t:e(t)}function RL(e,t,r,n){if(!t.includes(r))return null;const a=function(e,t){return r=>e.reduce((e,n)=>(e[n]=_L(t,r),e),{})}(PL(r),n);return vL(e,e[r],a)}function BL(e,t){const r=ML(e.theme);return Object.keys(e).map(n=>RL(e,t,n,r)).reduce(fL,{})}function LL(e){return BL(e,DL)}function zL(e){return BL(e,OL)}function UL(e){return BL(e,TL)}LL.propTypes={},LL.filterProps=DL,zL.propTypes={},zL.filterProps=OL,UL.propTypes={},UL.filterProps=TL;const WL=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.reduce((e,t)=>(t.filterProps.forEach(r=>{e[r]=t}),e),{}),a=e=>Object.keys(e).reduce((t,r)=>n[r]?fL(t,n[r](e)):t,{});return a.propTypes={},a.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),a};function VL(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function HL(e,t){return CL({prop:e,themeKey:"borders",transform:t})}const KL=HL("border",VL),qL=HL("borderTop",VL),GL=HL("borderRight",VL),YL=HL("borderBottom",VL),$L=HL("borderLeft",VL),JL=HL("borderColor"),XL=HL("borderTopColor"),QL=HL("borderRightColor"),ZL=HL("borderBottomColor"),ez=HL("borderLeftColor"),tz=HL("outline",VL),rz=HL("outlineColor"),nz=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=IL(e.theme,"shape.borderRadius",4),r=e=>({borderRadius:_L(t,e)});return vL(e,e.borderRadius,r)}return null};nz.propTypes={},nz.filterProps=["borderRadius"];WL(KL,qL,GL,YL,$L,JL,XL,QL,ZL,ez,nz,tz,rz);const az=e=>{if(void 0!==e.gap&&null!==e.gap){const t=IL(e.theme,"spacing",8),r=e=>({gap:_L(t,e)});return vL(e,e.gap,r)}return null};az.propTypes={},az.filterProps=["gap"];const sz=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=IL(e.theme,"spacing",8),r=e=>({columnGap:_L(t,e)});return vL(e,e.columnGap,r)}return null};sz.propTypes={},sz.filterProps=["columnGap"];const oz=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=IL(e.theme,"spacing",8),r=e=>({rowGap:_L(t,e)});return vL(e,e.rowGap,r)}return null};oz.propTypes={},oz.filterProps=["rowGap"];WL(az,sz,oz,CL({prop:"gridColumn"}),CL({prop:"gridRow"}),CL({prop:"gridAutoFlow"}),CL({prop:"gridAutoColumns"}),CL({prop:"gridAutoRows"}),CL({prop:"gridTemplateColumns"}),CL({prop:"gridTemplateRows"}),CL({prop:"gridTemplateAreas"}),CL({prop:"gridArea"}));function iz(e,t){return"grey"===t?t:e}WL(CL({prop:"color",themeKey:"palette",transform:iz}),CL({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:iz}),CL({prop:"backgroundColor",themeKey:"palette",transform:iz}));function lz(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const cz=CL({prop:"width",transform:lz}),dz=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var r,n;const a=(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r||null===(r=r.values)||void 0===r?void 0:r[t])||gL[t];return a?"px"!==(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n?void 0:n.unit)?{maxWidth:"".concat(a).concat(e.theme.breakpoints.unit)}:{maxWidth:a}:{maxWidth:lz(t)}};return vL(e,e.maxWidth,t)}return null};dz.filterProps=["maxWidth"];const uz=CL({prop:"minWidth",transform:lz}),pz=CL({prop:"height",transform:lz}),hz=CL({prop:"maxHeight",transform:lz}),mz=CL({prop:"minHeight",transform:lz}),fz=(CL({prop:"size",cssProperty:"width",transform:lz}),CL({prop:"size",cssProperty:"height",transform:lz}),WL(cz,dz,uz,pz,hz,mz,CL({prop:"boxSizing"})),{border:{themeKey:"borders",transform:VL},borderTop:{themeKey:"borders",transform:VL},borderRight:{themeKey:"borders",transform:VL},borderBottom:{themeKey:"borders",transform:VL},borderLeft:{themeKey:"borders",transform:VL},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:VL},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:nz},color:{themeKey:"palette",transform:iz},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:iz},backgroundColor:{themeKey:"palette",transform:iz},p:{style:zL},pt:{style:zL},pr:{style:zL},pb:{style:zL},pl:{style:zL},px:{style:zL},py:{style:zL},padding:{style:zL},paddingTop:{style:zL},paddingRight:{style:zL},paddingBottom:{style:zL},paddingLeft:{style:zL},paddingX:{style:zL},paddingY:{style:zL},paddingInline:{style:zL},paddingInlineStart:{style:zL},paddingInlineEnd:{style:zL},paddingBlock:{style:zL},paddingBlockStart:{style:zL},paddingBlockEnd:{style:zL},m:{style:LL},mt:{style:LL},mr:{style:LL},mb:{style:LL},ml:{style:LL},mx:{style:LL},my:{style:LL},margin:{style:LL},marginTop:{style:LL},marginRight:{style:LL},marginBottom:{style:LL},marginLeft:{style:LL},marginX:{style:LL},marginY:{style:LL},marginInline:{style:LL},marginInlineStart:{style:LL},marginInlineEnd:{style:LL},marginBlock:{style:LL},marginBlockStart:{style:LL},marginBlockEnd:{style:LL},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:az},rowGap:{style:oz},columnGap:{style:sz},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:lz},maxWidth:{style:dz},minWidth:{transform:lz},height:{transform:lz},maxHeight:{transform:lz},minHeight:{transform:lz},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}),xz=fz;const gz=function(){function e(e,t,r,n){const a={[e]:t,theme:r},s=n[e];if(!s)return{[e]:t};const{cssProperty:o=e,themeKey:i,transform:l,style:c}=s;if(null==t)return null;if("typography"===i&&"inherit"===t)return{[e]:t};const d=AL(r,i)||{};if(c)return c(a);return vL(a,t,t=>{let r=kL(d,l,t);return t===r&&"string"===typeof t&&(r=kL(d,l,"".concat(e).concat("default"===t?"":dL(t)),t)),!1===o?r:{[o]:r}})}return function t(r){var n;const{sx:a,theme:s={},nested:o}=r||{};if(!a)return null;const i=null!==(n=s.unstable_sxConfig)&&void 0!==n?n:xz;function l(r){let n=r;if("function"===typeof r)n=r(s);else if("object"!==typeof r)return r;if(!n)return null;const a=jL(s.breakpoints),l=Object.keys(a);let c=a;return Object.keys(n).forEach(r=>{const a=function(e,t){return"function"===typeof e?e(t):e}(n[r],s);if(null!==a&&void 0!==a)if("object"===typeof a)if(i[r])c=fL(c,e(r,a,s,i));else{const e=vL({theme:s},a,e=>({[r]:e}));!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),a=new Set(n);return t.every(e=>a.size===Object.keys(e).length)}(e,a)?c=fL(c,e):c[r]=t({sx:a,theme:s,nested:!0})}else c=fL(c,e(r,a,s,i))}),!o&&s.modularCssLayers?{"@layer sx":xL(s,wL(l,c))}:xL(s,wL(l,c))}return Array.isArray(a)?a.map(l):l(a)}}();gz.filterProps=["sx"];const bz=gz,yz=["sx"];function vz(e){const{sx:t}=e,r=(0,go.A)(e,yz),{systemProps:n,otherProps:a}=(e=>{var t,r;const n={systemProps:{},otherProps:{}},a=null!==(t=null===e||void 0===e||null===(r=e.theme)||void 0===r?void 0:r.unstable_sxConfig)&&void 0!==t?t:xz;return Object.keys(e).forEach(t=>{a[t]?n.systemProps[t]=e[t]:n.otherProps[t]=e[t]}),n})(r);let s;return s=Array.isArray(t)?[n,...t]:"function"===typeof t?function(){const e=t(...arguments);return pL(e)?(0,Mt.A)((0,Mt.A)({},n),e):n}:(0,Mt.A)((0,Mt.A)({},n),t),(0,Mt.A)((0,Mt.A)({},a),{},{sx:s})}const jz=["values","unit","step"];function wz(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,a=(0,go.A)(e,jz),s=(e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>(0,Mt.A)((0,Mt.A)({},e),{},{[t.key]:t.val}),{})})(t),o=Object.keys(s);function i(e){const n="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(n).concat(r,")")}function l(e){const a="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(a-n/100).concat(r,")")}function c(e,a){const s=o.indexOf(a);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(r,") and ")+"(max-width:".concat((-1!==s&&"number"===typeof t[o[s]]?t[o[s]]:a)-n/100).concat(r,")")}return(0,Mt.A)({keys:o,values:s,up:i,down:l,between:c,only:function(e){return o.indexOf(e)+1<o.length?c(e,o[o.indexOf(e)+1]):i(e)},not:function(e){const t=o.indexOf(e);return 0===t?i(o[1]):t===o.length-1?l(o[t]):c(e,o[o.indexOf(e)+1]).replace("@media","@media not all and")},unit:r},a)}const Nz={borderRadius:4};function Az(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ML({spacing:e});if(e.mui)return e;const r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0===r.length?[1]:r).map(e=>{const r=t(e);return"number"===typeof r?"".concat(r,"px"):r}).join(" ")};return r.mui=!0,r}function kz(e,t){const r=this;if(r.vars){var n;if(null===(n=r.colorSchemes)||void 0===n||!n[e]||"function"!==typeof r.getColorSchemeSelector)return{};let a=r.getColorSchemeSelector(e);return"&"===a?t:((a.includes("data-")||a.includes("."))&&(a="*:where(".concat(a.replace(/\s*&$/,""),") &")),{[a]:t})}return r.palette.mode===e?t:{}}const Cz=["breakpoints","palette","spacing","shape"];const Fz=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:r={},spacing:n,shape:a={}}=e,s=(0,go.A)(e,Cz),o=wz(t),i=Az(n);let l=mL({breakpoints:o,direction:"ltr",components:{},palette:(0,Mt.A)({mode:"light"},r),spacing:i,shape:(0,Mt.A)((0,Mt.A)({},Nz),a)},s);l=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function r(r,n){r.up=function(){return t(e.breakpoints.up(...arguments),n)},r.down=function(){return t(e.breakpoints.down(...arguments),n)},r.between=function(){return t(e.breakpoints.between(...arguments),n)},r.only=function(){return t(e.breakpoints.only(...arguments),n)},r.not=function(){const r=t(e.breakpoints.not(...arguments),n);return r.includes("not all and")?r.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):r}}const n={},a=e=>(r(n,e),n);return r(a),(0,Mt.A)((0,Mt.A)({},e),{},{containerQueries:a})}(l),l.applyStyles=kz;for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];return l=d.reduce((e,t)=>mL(e,t),l),l.unstable_sxConfig=(0,Mt.A)((0,Mt.A)({},xz),null===s||void 0===s?void 0:s.unstable_sxConfig),l.unstable_sx=function(e){return bz({sx:e,theme:this})},l};const Sz=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=a.useContext(GB);return t&&(r=t,0!==Object.keys(r).length)?t:e;var r},Ez=Fz();const Pz=function(){return Sz(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ez)},Dz=["className","component"];const Oz=e=>e,Tz=(()=>{let e=Oz;return{configure(t){e=t},generate:t=>e(t),reset(){e=Oz}}})();const Iz=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,r))};function Mz(e){return Iz(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function _z(e){if(e.type)return e;if("#"===e.charAt(0))return _z(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let r=e.match(t);return r&&1===r[0].length&&(r=r.map(e=>e+e)),r?"rgb".concat(4===r.length?"a":"","(").concat(r.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(cL(9,e));let n,a=e.substring(t+1,e.length-1);if("color"===r){if(a=a.split(" "),n=a.shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(n))throw new Error(cL(10,n))}else a=a.split(",");return a=a.map(e=>parseFloat(e)),{type:r,values:a,colorSpace:n}}const Rz=(e,t)=>{try{return(e=>{const t=_z(e);return t.values.slice(0,3).map((e,r)=>t.type.includes("hsl")&&0!==r?"".concat(e,"%"):e).join(" ")})(e)}catch(r){return e}};function Bz(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.includes("rgb")?n=n.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),n=t.includes("color")?"".concat(r," ").concat(n.join(" ")):"".concat(n.join(", ")),"".concat(t,"(").concat(n,")")}function Lz(e){e=_z(e);const{values:t}=e,r=t[0],n=t[1]/100,a=t[2]/100,s=n*Math.min(a,1-a),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+r/30)%12;return a-s*Math.max(Math.min(t-3,9-t,1),-1)};let i="rgb";const l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(i+="a",l.push(t[3])),Bz({type:i,values:l})}function zz(e){let t="hsl"===(e=_z(e)).type||"hsla"===e.type?_z(Lz(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Uz(e,t){return e=_z(e),t=Mz(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Bz(e)}function Wz(e,t,r){try{return Uz(e,t)}catch(n){return e}}function Vz(e,t){if(e=_z(e),t=Mz(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return Bz(e)}function Hz(e,t,r){try{return Vz(e,t)}catch(n){return e}}function Kz(e,t){if(e=_z(e),t=Mz(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Bz(e)}function qz(e,t,r){try{return Kz(e,t)}catch(n){return e}}function Gz(e,t,r){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return zz(e)>.5?Vz(e,t):Kz(e,t)}(e,t)}catch(n){return e}}const Yz={black:"#000",white:"#fff"},$z={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Jz={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Xz={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Qz={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Zz={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},eU={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},tU={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},rU=["mode","contrastThreshold","tonalOffset"];function nU(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Yz.white,default:Yz.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const aU=nU();function sU(){return{text:{primary:Yz.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Yz.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const oU=sU();function iU(e,t,r,n){const a=n.light||n,s=n.dark||1.5*n;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=Kz(e.main,a):"dark"===t&&(e.dark=Vz(e.main,s)))}function lU(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,a=(0,go.A)(e,rU),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Zz[200],light:Zz[50],dark:Zz[400]}:{main:Zz[700],light:Zz[400],dark:Zz[800]}}(t),o=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Jz[200],light:Jz[50],dark:Jz[400]}:{main:Jz[500],light:Jz[300],dark:Jz[700]}}(t),i=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xz[500],light:Xz[300],dark:Xz[700]}:{main:Xz[700],light:Xz[400],dark:Xz[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:eU[400],light:eU[300],dark:eU[700]}:{main:eU[700],light:eU[500],dark:eU[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tU[400],light:tU[300],dark:tU[700]}:{main:tU[800],light:tU[500],dark:tU[900]}}(t),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Qz[400],light:Qz[300],dark:Qz[700]}:{main:"#ed6c02",light:Qz[500],dark:Qz[900]}}(t);function u(e){const t=function(e,t){const r=zz(e),n=zz(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}(e,oU.text.primary)>=r?oU.text.primary:aU.text.primary;return t}const p=e=>{let{color:t,name:r,mainShade:a=500,lightShade:s=300,darkShade:o=700}=e;if(t=(0,Mt.A)({},t),!t.main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error(cL(11,r?" (".concat(r,")"):"",a));if("string"!==typeof t.main)throw new Error(cL(12,r?" (".concat(r,")"):"",JSON.stringify(t.main)));return iU(t,"light",s,n),iU(t,"dark",o,n),t.contrastText||(t.contrastText=u(t.main)),t};let h;"light"===t?h=nU():"dark"===t&&(h=sU());return mL((0,Mt.A)({common:(0,Mt.A)({},Yz),mode:t,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:i,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:$z,contrastThreshold:r,getContrastText:u,augmentColor:p,tonalOffset:n},h),a)}function cU(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(!n.length)return"";const s=n[0];return"string"!==typeof s||s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(s):", var(--".concat(e?"".concat(e,"-"):"").concat(s).concat(t(...n.slice(1)),")")}return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return"var(--".concat(e?"".concat(e,"-"):"").concat(r).concat(t(...a),")")}}function dU(e){const t={};return Object.entries(e).forEach(e=>{const[r,n]=e;"object"===typeof n&&(t[r]="".concat(n.fontStyle?"".concat(n.fontStyle," "):"").concat(n.fontVariant?"".concat(n.fontVariant," "):"").concat(n.fontWeight?"".concat(n.fontWeight," "):"").concat(n.fontStretch?"".concat(n.fontStretch," "):"").concat(n.fontSize||"").concat(n.lineHeight?"/".concat(n.lineHeight," "):"").concat(n.fontFamily||""))}),t}const uU=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=e;t.forEach((e,s)=>{s===t.length-1?Array.isArray(a)?a[Number(e)]=r:a&&"object"===typeof a&&(a[e]=r):a&&"object"===typeof a&&(a[e]||(a[e]=n.includes(e)?[]:{}),a=a[e])})};function pU(e,t){const{prefix:r,shouldSkipGeneratingVar:n}=t||{},a={},s={},o={};return((e,t,r)=>{!function e(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(n).forEach(n=>{let[o,i]=n;(!r||r&&!r([...a,o]))&&void 0!==i&&null!==i&&("object"===typeof i&&Object.keys(i).length>0?e(i,[...a,o],Array.isArray(i)?[...s,o]:s):t([...a,o],i,s))})}(e)})(e,(e,t,i)=>{if(("string"===typeof t||"number"===typeof t)&&(!n||!n(e,t))){const n="--".concat(r?"".concat(r,"-"):"").concat(e.join("-")),l=((e,t)=>{if("number"===typeof t)return["lineHeight","fontWeight","opacity","zIndex"].some(t=>e.includes(t))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px");return t})(e,t);Object.assign(a,{[n]:l}),uU(s,e,"var(".concat(n,")"),i),uU(o,e,"var(".concat(n,", ").concat(l,")"),i)}},e=>"vars"===e[0]),{css:a,vars:s,varsWithDefaults:o}}const hU=["colorSchemes","components","defaultColorScheme"];const mU=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:r=x,disableCssColorScheme:n,colorSchemeSelector:a}=t,{colorSchemes:s={},components:o,defaultColorScheme:i="light"}=e,l=(0,go.A)(e,hU),{vars:c,css:d,varsWithDefaults:u}=pU(l,t);let p=u;const h={},{[i]:m}=s,f=(0,go.A)(s,[i].map(hR.A));if(Object.entries(f||{}).forEach(e=>{let[r,n]=e;const{vars:a,css:s,varsWithDefaults:o}=pU(n,t);p=mL(p,o),h[r]={css:s,vars:a}}),m){const{css:e,vars:r,varsWithDefaults:n}=pU(m,t);p=mL(p,n),h[i]={css:e,vars:r}}function x(t,r){let n=a;if("class"===a&&(n=".%s"),"data"===a&&(n="[data-%s]"),null!==a&&void 0!==a&&a.startsWith("data-")&&!a.includes("%s")&&(n="[".concat(a,'="%s"]')),t){if("media"===n){var o;if(e.defaultColorScheme===t)return":root";const n=(null===(o=s[t])||void 0===o||null===(o=o.palette)||void 0===o?void 0:o.mode)||t;return{["@media (prefers-color-scheme: ".concat(n,")")]:{":root":r}}}if(n)return e.defaultColorScheme===t?":root, ".concat(n.replace("%s",String(t))):n.replace("%s",String(t))}return":root"}return{vars:p,generateThemeVars:()=>{let e=(0,Mt.A)({},c);return Object.entries(h).forEach(t=>{let[,{vars:r}]=t;e=mL(e,r)}),e},generateStyleSheets:()=>{const t=[],a=e.defaultColorScheme||"light";function o(e,r){Object.keys(r).length&&t.push("string"===typeof e?{[e]:(0,Mt.A)({},r)}:e)}o(r(void 0,(0,Mt.A)({},d)),d);const{[a]:i}=h,l=(0,go.A)(h,[a].map(hR.A));if(i){var c;const{css:e}=i,t=null===(c=s[a])||void 0===c||null===(c=c.palette)||void 0===c?void 0:c.mode,l=!n&&t?(0,Mt.A)({colorScheme:t},e):(0,Mt.A)({},e);o(r(a,(0,Mt.A)({},l)),l)}return Object.entries(l).forEach(e=>{var t;let[a,{css:i}]=e;const l=null===(t=s[a])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,c=!n&&l?(0,Mt.A)({colorScheme:l},i):(0,Mt.A)({},i);o(r(a,(0,Mt.A)({},c)),c)}),t}}};function fU(e,t){return(0,Mt.A)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const xU=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function gU(e){return Math.round(1e5*e)/1e5}const bU={textTransform:"uppercase"},yU='"Roboto", "Helvetica", "Arial", sans-serif';function vU(e,t){const r="function"===typeof t?t(e):t,{fontFamily:n=yU,fontSize:a=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:i=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:u}=r,p=(0,go.A)(r,xU);const h=a/14,m=u||(e=>"".concat(e/c*h,"rem")),f=(e,t,r,a,s)=>(0,Mt.A)((0,Mt.A)((0,Mt.A)({fontFamily:n,fontWeight:e,fontSize:m(t),lineHeight:r},n===yU?{letterSpacing:"".concat(gU(a/t),"em")}:{}),s),d),x={h1:f(s,96,1.167,-1.5),h2:f(s,60,1.2,-.5),h3:f(o,48,1.167,0),h4:f(o,34,1.235,.25),h5:f(o,24,1.334,0),h6:f(i,20,1.6,.15),subtitle1:f(o,16,1.75,.15),subtitle2:f(i,14,1.57,.1),body1:f(o,16,1.5,.15),body2:f(o,14,1.43,.15),button:f(i,14,1.75,.4,bU),caption:f(o,12,1.66,.4),overline:f(o,12,2.66,1,bU),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return mL((0,Mt.A)({htmlFontSize:c,pxToRem:m,fontFamily:n,fontSize:a,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:i,fontWeightBold:l},x),p,{clone:!1})}function jU(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const wU=["none",jU(0,2,1,-1,0,1,1,0,0,1,3,0),jU(0,3,1,-2,0,2,2,0,0,1,5,0),jU(0,3,3,-2,0,3,4,0,0,1,8,0),jU(0,2,4,-1,0,4,5,0,0,1,10,0),jU(0,3,5,-1,0,5,8,0,0,1,14,0),jU(0,3,5,-1,0,6,10,0,0,1,18,0),jU(0,4,5,-2,0,7,10,1,0,2,16,1),jU(0,5,5,-3,0,8,10,1,0,3,14,2),jU(0,5,6,-3,0,9,12,1,0,3,16,2),jU(0,6,6,-3,0,10,14,1,0,4,18,3),jU(0,6,7,-4,0,11,15,1,0,4,20,3),jU(0,7,8,-4,0,12,17,2,0,5,22,4),jU(0,7,8,-4,0,13,19,2,0,5,24,4),jU(0,7,9,-4,0,14,21,2,0,5,26,4),jU(0,8,9,-5,0,15,22,2,0,6,28,5),jU(0,8,10,-5,0,16,24,2,0,6,30,5),jU(0,8,11,-5,0,17,26,2,0,6,32,5),jU(0,9,11,-5,0,18,28,2,0,7,34,6),jU(0,9,12,-6,0,19,29,2,0,7,36,6),jU(0,10,13,-6,0,20,31,3,0,8,38,7),jU(0,10,13,-6,0,21,33,3,0,8,40,7),jU(0,10,14,-6,0,22,35,3,0,8,42,7),jU(0,11,14,-7,0,23,36,3,0,9,44,8),jU(0,11,15,-7,0,24,38,3,0,9,46,8)],NU=["duration","easing","delay"],AU={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kU={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function CU(e){return"".concat(Math.round(e),"ms")}function FU(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function SU(e){const t=(0,Mt.A)((0,Mt.A)({},AU),e.easing),r=(0,Mt.A)((0,Mt.A)({},kU),e.duration);return(0,Mt.A)((0,Mt.A)({getAutoHeightDuration:FU,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:a=r.standard,easing:s=t.easeInOut,delay:o=0}=n;(0,go.A)(n,NU);return(Array.isArray(e)?e:[e]).map(e=>"".concat(e," ").concat("string"===typeof a?a:CU(a)," ").concat(s," ").concat("string"===typeof o?o:CU(o))).join(",")}},e),{},{easing:t,duration:r})}const EU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function PU(e){return pL(e)||"undefined"===typeof e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)}function DU(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,Mt.A)({},e);return function e(t){const r=Object.entries(t);for(let n=0;n<r.length;n++){const[a,s]=r[n];!PU(s)||a.startsWith("unstable_")?delete t[a]:pL(s)&&(t[a]=(0,Mt.A)({},s),e(t[a]))}}(t),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(t,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const OU=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function TU(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:r={},spacing:n,palette:a={},transitions:s={},typography:o={},shape:i}=e,l=(0,go.A)(e,OU);if(e.vars)throw new Error(cL(20));const c=lU(a),d=Fz(e);let u=mL(d,{mixins:fU(d.breakpoints,r),palette:c,shadows:wU.slice(),typography:vU(c,o),transitions:SU(s),zIndex:(0,Mt.A)({},EU)});u=mL(u,l);for(var p=arguments.length,h=new Array(p>1?p-1:0),m=1;m<p;m++)h[m-1]=arguments[m];return u=h.reduce((e,t)=>mL(e,t),u),u.unstable_sxConfig=(0,Mt.A)((0,Mt.A)({},xz),null===l||void 0===l?void 0:l.unstable_sxConfig),u.unstable_sx=function(e){return bz({sx:e,theme:this})},u.toRuntimeSource=DU,u}const IU=TU;function MU(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const _U=["palette","opacity","overlays"],RU=[...Array(25)].map((e,t)=>{if(0===t)return"none";const r=MU(t);return"linear-gradient(rgba(255 255 255 / ".concat(r,"), rgba(255 255 255 / ").concat(r,"))")});function BU(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function LU(e){return"dark"===e?RU:[]}function zU(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const UU=e=>[...[...Array(25)].map((t,r)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(r)),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],WU=e=>(t,r)=>{const n=e.rootSelector||":root",a=e.colorSchemeSelector;let s=a;if("class"===a&&(s=".%s"),"data"===a&&(s="[data-%s]"),null!==a&&void 0!==a&&a.startsWith("data-")&&!a.includes("%s")&&(s="[".concat(a,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const a={};return UU(e.cssVarPrefix).forEach(e=>{a[e]=r[e],delete r[e]}),"media"===s?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:a}}:s?{[s.replace("%s",t)]:a,["".concat(n,", ").concat(s.replace("%s",t))]:r}:{[n]:(0,Mt.A)((0,Mt.A)({},r),a)}}if(s&&"media"!==s)return"".concat(n,", ").concat(s.replace("%s",String(t)))}else if(t){if("media"===s)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[n]:r}};if(s)return s.replace("%s",String(t))}return n},VU=["palette"],HU=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function KU(e,t,r){!e[t]&&r&&(e[t]=r)}function qU(e){return e&&e.startsWith("hsl")?Lz(e):e}function GU(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=Rz(qU(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const YU=e=>{try{return e()}catch(t){}};function $U(e,t,r,n){var a,s,o;if(!t)return;t=!0===t?{}:t;const i="dark"===n?"dark":"light";var l;if(!r)return void(e[n]=function(e){const{palette:t={mode:"light"},opacity:r,overlays:n}=e,a=(0,go.A)(e,_U),s=lU(t);return(0,Mt.A)({palette:s,opacity:(0,Mt.A)((0,Mt.A)({},BU(s.mode)),r),overlays:n||LU(s.mode)},a)}((0,Mt.A)((0,Mt.A)({},t),{},{palette:(0,Mt.A)({mode:i},null===(l=t)||void 0===l?void 0:l.palette)})));const c=IU((0,Mt.A)((0,Mt.A)({},r),{},{palette:(0,Mt.A)({mode:i},null===(a=t)||void 0===a?void 0:a.palette)})),{palette:d}=c,u=(0,go.A)(c,VU);return e[n]=(0,Mt.A)((0,Mt.A)({},t),{},{palette:d,opacity:(0,Mt.A)((0,Mt.A)({},BU(i)),null===(s=t)||void 0===s?void 0:s.opacity),overlays:(null===(o=t)||void 0===o?void 0:o.overlays)||LU(i)}),u}function JU(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:n=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:s=zU,colorSchemeSelector:o=(t.light&&t.dark?"media":void 0),rootSelector:i=":root"}=e,l=(0,go.A)(e,HU),c=Object.keys(t)[0],d=r||(t.light&&"light"!==c?"light":c),u=function(){return cU(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(a),{[d]:p,light:h,dark:m}=t,f=(0,go.A)(t,[d,"light","dark"].map(hR.A)),x=(0,Mt.A)({},f);let g=p;if(("dark"===d&&!("dark"in t)||"light"===d&&!("light"in t))&&(g=!0),!g)throw new Error(cL(21,d));const b=$U(x,g,l,d);h&&!x.light&&$U(x,h,void 0,"light"),m&&!x.dark&&$U(x,m,void 0,"dark");let y=(0,Mt.A)((0,Mt.A)({defaultColorScheme:d},b),{},{cssVarPrefix:a,colorSchemeSelector:o,rootSelector:i,getCssVar:u,colorSchemes:x,font:(0,Mt.A)((0,Mt.A)({},dU(b.typography)),b.font),spacing:(v=l.spacing,"number"===typeof v?"".concat(v,"px"):"string"===typeof v||"function"===typeof v||Array.isArray(v)?v:"8px")});var v;Object.keys(y.colorSchemes).forEach(e=>{const t=y.colorSchemes[e].palette,r=e=>{const r=e.split("-"),n=r[1],a=r[2];return u(e,t[n][a])};if("light"===t.mode&&(KU(t.common,"background","#fff"),KU(t.common,"onBackground","#000")),"dark"===t.mode&&(KU(t.common,"background","#000"),KU(t.common,"onBackground","#fff")),function(e,t){t.forEach(t=>{e[t]||(e[t]={})})}(t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),"light"===t.mode){KU(t.Alert,"errorColor",Hz(t.error.light,.6)),KU(t.Alert,"infoColor",Hz(t.info.light,.6)),KU(t.Alert,"successColor",Hz(t.success.light,.6)),KU(t.Alert,"warningColor",Hz(t.warning.light,.6)),KU(t.Alert,"errorFilledBg",r("palette-error-main")),KU(t.Alert,"infoFilledBg",r("palette-info-main")),KU(t.Alert,"successFilledBg",r("palette-success-main")),KU(t.Alert,"warningFilledBg",r("palette-warning-main")),KU(t.Alert,"errorFilledColor",YU(()=>t.getContrastText(t.error.main))),KU(t.Alert,"infoFilledColor",YU(()=>t.getContrastText(t.info.main))),KU(t.Alert,"successFilledColor",YU(()=>t.getContrastText(t.success.main))),KU(t.Alert,"warningFilledColor",YU(()=>t.getContrastText(t.warning.main))),KU(t.Alert,"errorStandardBg",qz(t.error.light,.9)),KU(t.Alert,"infoStandardBg",qz(t.info.light,.9)),KU(t.Alert,"successStandardBg",qz(t.success.light,.9)),KU(t.Alert,"warningStandardBg",qz(t.warning.light,.9)),KU(t.Alert,"errorIconColor",r("palette-error-main")),KU(t.Alert,"infoIconColor",r("palette-info-main")),KU(t.Alert,"successIconColor",r("palette-success-main")),KU(t.Alert,"warningIconColor",r("palette-warning-main")),KU(t.AppBar,"defaultBg",r("palette-grey-100")),KU(t.Avatar,"defaultBg",r("palette-grey-400")),KU(t.Button,"inheritContainedBg",r("palette-grey-300")),KU(t.Button,"inheritContainedHoverBg",r("palette-grey-A100")),KU(t.Chip,"defaultBorder",r("palette-grey-400")),KU(t.Chip,"defaultAvatarColor",r("palette-grey-700")),KU(t.Chip,"defaultIconColor",r("palette-grey-700")),KU(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),KU(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),KU(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),KU(t.LinearProgress,"primaryBg",qz(t.primary.main,.62)),KU(t.LinearProgress,"secondaryBg",qz(t.secondary.main,.62)),KU(t.LinearProgress,"errorBg",qz(t.error.main,.62)),KU(t.LinearProgress,"infoBg",qz(t.info.main,.62)),KU(t.LinearProgress,"successBg",qz(t.success.main,.62)),KU(t.LinearProgress,"warningBg",qz(t.warning.main,.62)),KU(t.Skeleton,"bg","rgba(".concat(r("palette-text-primaryChannel")," / 0.11)")),KU(t.Slider,"primaryTrack",qz(t.primary.main,.62)),KU(t.Slider,"secondaryTrack",qz(t.secondary.main,.62)),KU(t.Slider,"errorTrack",qz(t.error.main,.62)),KU(t.Slider,"infoTrack",qz(t.info.main,.62)),KU(t.Slider,"successTrack",qz(t.success.main,.62)),KU(t.Slider,"warningTrack",qz(t.warning.main,.62));const e=Gz(t.background.default,.8);KU(t.SnackbarContent,"bg",e),KU(t.SnackbarContent,"color",YU(()=>t.getContrastText(e))),KU(t.SpeedDialAction,"fabHoverBg",Gz(t.background.paper,.15)),KU(t.StepConnector,"border",r("palette-grey-400")),KU(t.StepContent,"border",r("palette-grey-400")),KU(t.Switch,"defaultColor",r("palette-common-white")),KU(t.Switch,"defaultDisabledColor",r("palette-grey-100")),KU(t.Switch,"primaryDisabledColor",qz(t.primary.main,.62)),KU(t.Switch,"secondaryDisabledColor",qz(t.secondary.main,.62)),KU(t.Switch,"errorDisabledColor",qz(t.error.main,.62)),KU(t.Switch,"infoDisabledColor",qz(t.info.main,.62)),KU(t.Switch,"successDisabledColor",qz(t.success.main,.62)),KU(t.Switch,"warningDisabledColor",qz(t.warning.main,.62)),KU(t.TableCell,"border",qz(Wz(t.divider,1),.88)),KU(t.Tooltip,"bg",Wz(t.grey[700],.92))}if("dark"===t.mode){KU(t.Alert,"errorColor",qz(t.error.light,.6)),KU(t.Alert,"infoColor",qz(t.info.light,.6)),KU(t.Alert,"successColor",qz(t.success.light,.6)),KU(t.Alert,"warningColor",qz(t.warning.light,.6)),KU(t.Alert,"errorFilledBg",r("palette-error-dark")),KU(t.Alert,"infoFilledBg",r("palette-info-dark")),KU(t.Alert,"successFilledBg",r("palette-success-dark")),KU(t.Alert,"warningFilledBg",r("palette-warning-dark")),KU(t.Alert,"errorFilledColor",YU(()=>t.getContrastText(t.error.dark))),KU(t.Alert,"infoFilledColor",YU(()=>t.getContrastText(t.info.dark))),KU(t.Alert,"successFilledColor",YU(()=>t.getContrastText(t.success.dark))),KU(t.Alert,"warningFilledColor",YU(()=>t.getContrastText(t.warning.dark))),KU(t.Alert,"errorStandardBg",Hz(t.error.light,.9)),KU(t.Alert,"infoStandardBg",Hz(t.info.light,.9)),KU(t.Alert,"successStandardBg",Hz(t.success.light,.9)),KU(t.Alert,"warningStandardBg",Hz(t.warning.light,.9)),KU(t.Alert,"errorIconColor",r("palette-error-main")),KU(t.Alert,"infoIconColor",r("palette-info-main")),KU(t.Alert,"successIconColor",r("palette-success-main")),KU(t.Alert,"warningIconColor",r("palette-warning-main")),KU(t.AppBar,"defaultBg",r("palette-grey-900")),KU(t.AppBar,"darkBg",r("palette-background-paper")),KU(t.AppBar,"darkColor",r("palette-text-primary")),KU(t.Avatar,"defaultBg",r("palette-grey-600")),KU(t.Button,"inheritContainedBg",r("palette-grey-800")),KU(t.Button,"inheritContainedHoverBg",r("palette-grey-700")),KU(t.Chip,"defaultBorder",r("palette-grey-700")),KU(t.Chip,"defaultAvatarColor",r("palette-grey-300")),KU(t.Chip,"defaultIconColor",r("palette-grey-300")),KU(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),KU(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),KU(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),KU(t.LinearProgress,"primaryBg",Hz(t.primary.main,.5)),KU(t.LinearProgress,"secondaryBg",Hz(t.secondary.main,.5)),KU(t.LinearProgress,"errorBg",Hz(t.error.main,.5)),KU(t.LinearProgress,"infoBg",Hz(t.info.main,.5)),KU(t.LinearProgress,"successBg",Hz(t.success.main,.5)),KU(t.LinearProgress,"warningBg",Hz(t.warning.main,.5)),KU(t.Skeleton,"bg","rgba(".concat(r("palette-text-primaryChannel")," / 0.13)")),KU(t.Slider,"primaryTrack",Hz(t.primary.main,.5)),KU(t.Slider,"secondaryTrack",Hz(t.secondary.main,.5)),KU(t.Slider,"errorTrack",Hz(t.error.main,.5)),KU(t.Slider,"infoTrack",Hz(t.info.main,.5)),KU(t.Slider,"successTrack",Hz(t.success.main,.5)),KU(t.Slider,"warningTrack",Hz(t.warning.main,.5));const e=Gz(t.background.default,.98);KU(t.SnackbarContent,"bg",e),KU(t.SnackbarContent,"color",YU(()=>t.getContrastText(e))),KU(t.SpeedDialAction,"fabHoverBg",Gz(t.background.paper,.15)),KU(t.StepConnector,"border",r("palette-grey-600")),KU(t.StepContent,"border",r("palette-grey-600")),KU(t.Switch,"defaultColor",r("palette-grey-300")),KU(t.Switch,"defaultDisabledColor",r("palette-grey-600")),KU(t.Switch,"primaryDisabledColor",Hz(t.primary.main,.55)),KU(t.Switch,"secondaryDisabledColor",Hz(t.secondary.main,.55)),KU(t.Switch,"errorDisabledColor",Hz(t.error.main,.55)),KU(t.Switch,"infoDisabledColor",Hz(t.info.main,.55)),KU(t.Switch,"successDisabledColor",Hz(t.success.main,.55)),KU(t.Switch,"warningDisabledColor",Hz(t.warning.main,.55)),KU(t.TableCell,"border",Hz(Wz(t.divider,1),.68)),KU(t.Tooltip,"bg",Wz(t.grey[700],.92))}GU(t.background,"default"),GU(t.background,"paper"),GU(t.common,"background"),GU(t.common,"onBackground"),GU(t,"divider"),Object.keys(t).forEach(e=>{const r=t[e];r&&"object"===typeof r&&(r.main&&KU(t[e],"mainChannel",Rz(qU(r.main))),r.light&&KU(t[e],"lightChannel",Rz(qU(r.light))),r.dark&&KU(t[e],"darkChannel",Rz(qU(r.dark))),r.contrastText&&KU(t[e],"contrastTextChannel",Rz(qU(r.contrastText))),"text"===e&&(GU(t[e],"primary"),GU(t[e],"secondary")),"action"===e&&(r.active&&GU(t[e],"active"),r.selected&&GU(t[e],"selected")))})});for(var j=arguments.length,w=new Array(j>1?j-1:0),N=1;N<j;N++)w[N-1]=arguments[N];y=w.reduce((e,t)=>mL(e,t),y);const A={prefix:a,disableCssColorScheme:n,shouldSkipGeneratingVar:s,getSelector:WU(y)},{vars:k,generateThemeVars:C,generateStyleSheets:F}=mU(y,A);return y.vars=k,Object.entries(y.colorSchemes[y.defaultColorScheme]).forEach(e=>{let[t,r]=e;y[t]=r}),y.generateThemeVars=C,y.generateStyleSheets=F,y.generateSpacing=function(){return Az(l.spacing,ML(this))},y.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(o),y.spacing=y.generateSpacing(),y.shouldSkipGeneratingVar=s,y.unstable_sxConfig=(0,Mt.A)((0,Mt.A)({},xz),null===l||void 0===l?void 0:l.unstable_sxConfig),y.unstable_sx=function(e){return bz({sx:e,theme:this})},y.toRuntimeSource=DU,y}const XU=["palette","cssVariables","colorSchemes","defaultColorScheme"];function QU(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]=(0,Mt.A)((0,Mt.A)({},!0!==r&&r),{},{palette:lU((0,Mt.A)((0,Mt.A)({},!0===r?{}:r.palette),{},{mode:t}))}))}function ZU(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:r=!1,colorSchemes:n=(t?void 0:{light:!0}),defaultColorScheme:a=(null===t||void 0===t?void 0:t.mode)}=e,s=(0,go.A)(e,XU),o=a||"light",i=null===n||void 0===n?void 0:n[o],l=(0,Mt.A)((0,Mt.A)({},n),t?{[o]:(0,Mt.A)((0,Mt.A)({},"boolean"!==typeof i&&i),{},{palette:t})}:void 0);for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];if(!1===r){if(!("colorSchemes"in e))return IU(e,...d);let r=t;"palette"in e||l[o]&&(!0!==l[o]?r=l[o].palette:"dark"===o&&(r={mode:"dark"}));const n=IU((0,Mt.A)((0,Mt.A)({},e),{},{palette:r}),...d);return n.defaultColorScheme=o,n.colorSchemes=l,"light"===n.palette.mode&&(n.colorSchemes.light=(0,Mt.A)((0,Mt.A)({},!0!==l.light&&l.light),{},{palette:n.palette}),QU(n,"dark",l.dark)),"dark"===n.palette.mode&&(n.colorSchemes.dark=(0,Mt.A)((0,Mt.A)({},!0!==l.dark&&l.dark),{},{palette:n.palette}),QU(n,"light",l.light)),n}return t||"light"in l||"light"!==o||(l.light=!0),JU((0,Mt.A)((0,Mt.A)({},s),{},{colorSchemes:l,defaultColorScheme:o},"boolean"!==typeof r&&r),...d)}const eW="$$material",tW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function rW(e,t){const r=tW[t];return r?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(r):"".concat(Tz.generate(e),"-").concat(t)}function nW(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const n={};return t.forEach(t=>{n[t]=rW(e,t,r)}),n}const aW=nW("MuiBox",["root"]),sW=ZU(),oW=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:s}=e,o=oL("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(bz);return a.forwardRef(function(e,a){const i=Pz(r),l=vz(e),{className:c,component:d="div"}=l,u=(0,go.A)(l,Dz);return(0,Vn.jsx)(o,(0,Mt.A)({as:d,ref:a,className:Mi(c,s?s(n):n),theme:t&&i[t]||i},u))})}({themeId:eW,defaultTheme:sW,defaultClassName:aW.root,generateClassName:Tz.generate}),iW=oW,lW=()=>(0,Vn.jsx)(iW,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:(0,Vn.jsx)(wR,{})}),cW=(0,Qn.A)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),dW=(0,Qn.A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),uW=(0,Qn.A)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),pW=[{id:"profile",title:"Profil Pengguna",icon:ra,description:"Kelola informasi profil dan preferensi akun",status:"available",color:"#0A84FF",path:"/settings/profile",favorite:!1},{id:"security",title:"Keamanan",icon:La,description:"Pengaturan password, autentikasi dua faktor",status:"available",color:"#FF453A",path:"/settings/security",favorite:!0},{id:"notifications",title:"Notifikasi",icon:oa,description:"Atur preferensi notifikasi email dan push",status:"available",color:"#FF9F0A",path:"/settings/notifications",favorite:!0},{id:"localization",title:"Bahasa & Lokalisasi",icon:Do,description:"Pilih bahasa dan format regional",status:"coming-soon",color:"#30D158",path:"/settings/localization",favorite:!1},{id:"theme",title:"Tema & Tampilan",icon:cW,description:"Kustomisasi tema dan layout aplikasi",status:"coming-soon",color:"#BF5AF2",path:"/settings/theme",favorite:!1},{id:"database",title:"Database Management",icon:dW,description:"Kelola database, backup, restore, dan testing",status:"available",color:"#0A84FF",path:"/settings/database",favorite:!0},{id:"users",title:"User Management",icon:ma,description:"Kelola users, roles, dan permissions",status:"available",color:"#64D2FF",path:"/settings/users",favorite:!0},{id:"integrations",title:"Integrasi Sistem",icon:uW,description:"Konfigurasi API dan integrasi pihak ketiga",status:"coming-soon",color:"#FF9F0A",path:"/settings/integrations",favorite:!1}],hW="2.1.0",mW="Development",fW="10 September 2025",xW="Nusantara Group",gW=[{label:"Backup Data",icon:dW,disabled:!0},{label:"Audit Log",icon:La,disabled:!0},{label:"Diagnostik Sistem",icon:uW,disabled:!0}],bW=()=>{const[e,t]=(0,a.useState)(null),r=e=>pW.find(t=>t.id===e)||null;return{selectedSection:e,setSelectedSection:t,handleSectionClick:e=>{const n=r(e);n&&"available"===n.status&&t(e)},getSectionById:r}},yW=e=>{let{icon:t,title:r,subtitle:n}=e;return(0,Vn.jsxs)("div",{className:"mb-8",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,Vn.jsx)("div",{className:"p-3 rounded-lg",style:{backgroundColor:"rgba(10, 132, 255, 0.1)"},children:t}),(0,Vn.jsx)("h1",{className:"text-3xl font-bold",style:{color:"#FFFFFF"},children:r})]}),(0,Vn.jsx)("p",{style:{color:"#98989D"},children:n})]})},vW=()=>(0,Vn.jsxs)("div",{className:"rounded-xl p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsx)("h2",{className:"text-xl font-semibold mb-4",style:{color:"#FFFFFF"},children:"Aksi Cepat"}),(0,Vn.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:gW.map((e,t)=>{const r=e.icon;return(0,Vn.jsxs)("button",{disabled:e.disabled,className:"flex items-center justify-center gap-2 px-4 py-3 rounded-lg transition-colors text-sm font-medium",style:{backgroundColor:"transparent",border:"1px solid #38383A",color:"#636366",cursor:"not-allowed"},children:[(0,Vn.jsx)(r,{className:"h-4 w-4"}),e.label]},t)})})]}),jW=e=>{let{section:t,onSectionSelect:r}=e;re();const{title:n,description:a,path:s,icon:o,favorite:i}=t;return(0,Vn.jsxs)("div",{className:"rounded-xl p-6 hover:shadow-md transition-shadow",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#3A3A3C"},children:(0,Vn.jsx)(o,{className:"h-6 w-6 text-blue-400"})}),(0,Vn.jsx)("h2",{className:"text-xl font-semibold",style:{color:"#FFFFFF"},children:n})]}),i&&(0,Vn.jsx)(Ba,{className:"h-5 w-5 text-yellow-400 fill-current"})]}),(0,Vn.jsx)("p",{className:"mt-2 text-sm",style:{color:"#AEAEB2"},children:a}),(0,Vn.jsxs)("div",{className:"flex mt-4 justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center text-xs",style:{color:"#8E8E93"},children:[(0,Vn.jsx)(di,{className:"h-3 w-3 mr-1"}),(0,Vn.jsx)("span",{children:s.replace(/^\//,"")})]}),(0,Vn.jsx)("button",{className:"px-3 py-1 rounded-md text-sm transition-colors font-medium",style:{backgroundColor:"#0A84FF",color:"white"},onClick:()=>{r(t.id)},children:"Buka"})]})]})},wW=e=>{let{selectedSection:t,onSectionSelect:r}=e;return(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:pW.map((e,n)=>(0,Vn.jsx)("div",{className:"".concat(t===e.id?"ring-2 ring-blue-500 ring-opacity-50":""),children:(0,Vn.jsx)(jW,{section:e,onSectionSelect:r})},n))})},NW=()=>(0,Vn.jsxs)("div",{className:"rounded-xl p-6 mb-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Vn.jsx)(jD,{className:"h-5 w-5",style:{color:"#0A84FF"}}),(0,Vn.jsx)("h2",{className:"text-xl font-semibold",style:{color:"#FFFFFF"},children:"Informasi Sistem"})]}),(0,Vn.jsx)("div",{className:"h-px mb-4",style:{backgroundColor:"#38383A"}}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"Versi Aplikasi"}),(0,Vn.jsx)("p",{className:"text-lg font-bold",style:{color:"#FFFFFF"},children:hW})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"Lingkungan"}),(0,Vn.jsx)("p",{className:"text-lg font-bold",style:{color:"#FFFFFF"},children:mW})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"Terakhir Update"}),(0,Vn.jsx)("p",{className:"text-lg font-bold",style:{color:"#FFFFFF"},children:fW})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm mb-1",style:{color:"#98989D"},children:"Pengembang"}),(0,Vn.jsx)("p",{className:"text-lg font-bold",style:{color:"#FFFFFF"},children:xW})]})]})]}),AW=(0,Qn.A)("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]),kW=()=>(0,Vn.jsxs)("div",{className:"rounded-xl p-6 mb-8 flex items-start gap-4",style:{backgroundColor:"rgba(10, 132, 255, 0.1)",border:"1px solid rgba(10, 132, 255, 0.2)"},children:[(0,Vn.jsx)(AW,{className:"h-6 w-6 flex-shrink-0",style:{color:"#0A84FF"}}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold mb-2",style:{color:"#FFFFFF"},children:"Halaman Sedang Dalam Pengembangan"}),(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Fitur pengaturan sistem sedang dalam tahap pengembangan. Fitur-fitur di bawah ini akan segera tersedia dalam update mendatang."})]})]});function CW(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const n={};for(const a in e){const s=e[a];let o="",i=!0;for(let e=0;e<s.length;e+=1){const n=s[e];n&&(o+=(!0===i?"":" ")+t(n),i=!1,r&&r[n]&&(o+=" "+r[n]))}n[a]=o}return n}const FW=["variants"];function SW(e){const{variants:t}=e,r=(0,go.A)(e,FW),n={variants:t,style:lL(r),isProcessed:!0};return n.style===r||t&&t.forEach(e=>{"function"!==typeof e.style&&(e.style=lL(e.style))}),n}const EW=["variants"],PW=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],DW=Fz();function OW(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function TW(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}function IW(e){return e?(t,r)=>r[e]:null}function MW(e,t,r){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap(t=>MW(e,t,r));if(Array.isArray(null===n||void 0===n?void 0:n.variants)){let t;if(n.isProcessed)t=r?TW(n.style,r):n.style;else{const{variants:e}=n,a=(0,go.A)(n,EW);t=r?TW(lL(a),r):a}return _W(e,n.variants,[t],r)}return null!==n&&void 0!==n&&n.isProcessed?r?TW(lL(n.style),r):n.style:r?TW(lL(n),r):n}function _W(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;e:for(let o=0;o<t.length;o+=1){const i=t[o];if("function"===typeof i.props){if(null!==r&&void 0!==r||(r=(0,Mt.A)((0,Mt.A)((0,Mt.A)({},e),e.ownerState),{},{ownerState:e.ownerState})),!i.props(r))continue}else for(const t in i.props){var s;if(e[t]!==i.props[t]&&(null===(s=e.ownerState)||void 0===s?void 0:s[t])!==i.props[t])continue e}"function"===typeof i.style?(null!==r&&void 0!==r||(r=(0,Mt.A)((0,Mt.A)((0,Mt.A)({},e),e.ownerState),{},{ownerState:e.ownerState})),n.push(a?TW(lL(i.style(r)),a):i.style(r))):n.push(a?TW(lL(i.style),a):i.style)}return n}function RW(e,t){}function BW(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const LW=ZU();const zW=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},UW=e=>zW(e)&&"classes"!==e,WW=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:r=DW,rootShouldForwardProp:n=OW,slotShouldForwardProp:a=OW}=e;function s(e){!function(e,t,r){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?r:e.theme[t]||e.theme}(e,t,r)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,e=>e.filter(e=>e!==bz));const{name:r,slot:o,skipVariantsResolver:i,skipSx:l,overridesResolver:c=IW(BW(o))}=t,d=(0,go.A)(t,PW),u=r&&r.startsWith("Mui")||o?"components":"custom",p=void 0!==i?i:o&&"Root"!==o&&"root"!==o||!1,h=l||!1;let m=OW;"Root"===o||"root"===o?m=n:o?m=a:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const f=oL(e,(0,Mt.A)({shouldForwardProp:m,label:RW(r,o)},d)),x=e=>{if(e.__emotion_real===e)return e;if("function"===typeof e)return function(t){return MW(t,e,t.theme.modularCssLayers?u:void 0)};if(pL(e)){const t=SW(e);return function(e){return t.variants?MW(e,t,e.theme.modularCssLayers?u:void 0):e.theme.modularCssLayers?TW(t.style,u):t.style}}return e},g=function(){const t=[];for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];const i=a.map(x),l=[];if(t.push(s),r&&c&&l.push(function(e){var t;const n=null===(t=e.theme.components)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.styleOverrides;if(!n)return null;const a={};for(const r in n)a[r]=MW(e,n[r],e.theme.modularCssLayers?"theme":void 0);return c(e,a)}),r&&!p&&l.push(function(e){var t;const n=e.theme,a=null===n||void 0===n||null===(t=n.components)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.variants;return a?_W(e,a,[],e.theme.modularCssLayers?"theme":void 0):null}),h||l.push(bz),Array.isArray(i[0])){const e=i.shift(),r=new Array(t.length).fill(""),n=new Array(l.length).fill("");let a;a=[...r,...e,...n],a.raw=[...r,...e.raw,...n],t.unshift(a)}const d=[...t,...i,...l],u=f(...d);return e.muiName&&(u.muiName=e.muiName),u};return f.withConfig&&(g.withConfig=f.withConfig),g}}({themeId:eW,defaultTheme:LW,rootShouldForwardProp:UW}),VW=WW;function HW(e,t){const r=(0,Mt.A)({},t);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const a=n;if("components"===a||"slots"===a)r[a]=(0,Mt.A)((0,Mt.A)({},e[a]),r[a]);else if("componentsProps"===a||"slotProps"===a){const n=e[a],s=t[a];if(s)if(n){r[a]=(0,Mt.A)({},s);for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const t=e;r[a][t]=HW(n[t],s[t])}}else r[a]=s;else r[a]=n||{}}else void 0===r[a]&&(r[a]=e[a])}return r}const KW=a.createContext(void 0);function qW(e){let{props:t,name:r}=e;return function(e){const{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;const a=t.components[r];return a.defaultProps?HW(a.defaultProps,n):a.styleOverrides||a.variants?n:HW(a,n)}({props:t,name:r,theme:{components:a.useContext(KW)}})}function GW(e){return qW(e)}function YW(){const e=Pz(LW);return e[eW]||e}const $W={theme:void 0};const JW=function(e){let t,r;return function(n){let a=t;return void 0!==a&&n.theme===r||($W.theme=n.theme,a=SW(e($W)),t=a,r=n.theme),a}},XW=JW;function QW(e){return rW("MuiPaper",e)}nW("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ZW=["className","component","elevation","square","variant"],eV=VW("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,"elevation"===r.variant&&t["elevation".concat(r.elevation)]]}})(XW(e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:"1px solid ".concat((t.vars||t).palette.divider)}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}})),tV=a.forwardRef(function(e,t){var r;const n=GW({props:e,name:"MuiPaper"}),a=YW(),{className:s,component:o="div",elevation:i=1,square:l=!1,variant:c="elevation"}=n,d=(0,go.A)(n,ZW),u=(0,Mt.A)((0,Mt.A)({},n),{},{component:o,elevation:i,square:l,variant:c}),p=(e=>{const{square:t,elevation:r,variant:n,classes:a}=e;return CW({root:["root",n,!t&&"rounded","elevation"===n&&"elevation".concat(r)]},QW,a)})(u);return(0,Vn.jsx)(eV,(0,Mt.A)((0,Mt.A)({as:o,ownerState:u,className:Mi(p.root,s),ref:t},d),{},{style:(0,Mt.A)((0,Mt.A)({},"elevation"===c&&(0,Mt.A)((0,Mt.A)({"--Paper-shadow":(a.vars||a).shadows[i]},a.vars&&{"--Paper-overlay":null===(r=a.vars.overlays)||void 0===r?void 0:r[i]}),!a.vars&&"dark"===a.palette.mode&&{"--Paper-overlay":"linear-gradient(".concat(Uz("#fff",MU(i)),", ").concat(Uz("#fff",MU(i)),")")})),d.style)}))}),rV=tV;function nV(e){return rW("MuiCard",e)}nW("MuiCard",["root"]);const aV=["className","raised"],sV=VW(rV,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),oV=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiCard"}),{className:n,raised:a=!1}=r,s=(0,go.A)(r,aV),o=(0,Mt.A)((0,Mt.A)({},r),{},{raised:a}),i=(e=>{const{classes:t}=e;return CW({root:["root"]},nV,t)})(o);return(0,Vn.jsx)(sV,(0,Mt.A)({className:Mi(i.root,n),elevation:a?8:void 0,ref:t,ownerState:o},s))});function iV(e){return rW("MuiCardContent",e)}nW("MuiCardContent",["root"]);const lV=["className","component"],cV=VW("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),dV=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiCardContent"}),{className:n,component:a="div"}=r,s=(0,go.A)(r,lV),o=(0,Mt.A)((0,Mt.A)({},r),{},{component:a}),i=(e=>{const{classes:t}=e;return CW({root:["root"]},iV,t)})(o);return(0,Vn.jsx)(cV,(0,Mt.A)({as:a,className:Mi(i.root,n),ownerState:o,ref:t},s))});r(219);var uV=function(e,t){var r=arguments;if(null==t||!YB.call(t,"css"))return a.createElement.apply(void 0,r);var n=r.length,s=new Array(n);s[0]=QB,s[1]=function(e,t){var r={};for(var n in t)YB.call(t,n)&&(r[n]=t[n]);return r[$B]=e,r}(e,t);for(var o=2;o<n;o++)s[o]=r[o];return a.createElement.apply(null,s)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(uV||(uV={}));var pV=qB(function(e,t){var r=UB([e.styles],void 0,a.useContext(GB)),n=a.useRef();return HB(function(){var e=t.key+"-global",a=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,o=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),null!==o&&(s=!0,o.setAttribute("data-emotion",e),a.hydrate([o])),n.current=[a,s],function(){a.flush()}},[t]),HB(function(){var e=n.current,a=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&EB(t,r.next,!0),a.tags.length){var s=a.tags[a.tags.length-1].nextElementSibling;a.before=s,a.flush()}t.insert("",r,a,!1)}},[t,r.name]),null});function hV(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return UB(t)}function mV(){var e=hV.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function fV(e){const{styles:t,defaultTheme:r={}}=e,n="function"===typeof t?e=>{return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,Vn.jsx)(pV,{styles:n})}function xV(e){const t=lL(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles="@layer global{".concat(t.styles,"}")),t):e}const gV=function(e){let{styles:t,themeId:r,defaultTheme:n={}}=e;const a=Pz(n),s=r&&a[r]||a;let o="function"===typeof t?t(s):t;return s.modularCssLayers&&(o=Array.isArray(o)?o.map(e=>xV("function"===typeof e?e(s):e)):xV(o)),(0,Vn.jsx)(fV,{styles:o})};const bV=function(e){return(0,Vn.jsx)(gV,(0,Mt.A)((0,Mt.A)({},e),{},{defaultTheme:LW,themeId:eW}))};const yV=dL;function vV(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,r]=t;return r&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const r of t)if(!e.hasOwnProperty(r)||"string"!==typeof e[r])return!1;return!0}(r,e)}}function jV(e){return rW("MuiTypography",e)}const wV=nW("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),NV=["color"],AV=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],kV={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},CV=vz,FV=VW("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t["align".concat(yV(r.align))],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(XW(e=>{var t;let{theme:r}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(r.typography).filter(e=>{let[t,r]=e;return"inherit"!==t&&r&&"object"===typeof r}).map(e=>{let[t,r]=e;return{props:{variant:t},style:r}}),...Object.entries(r.palette).filter(vV()).map(e=>{let[t]=e;return{props:{color:t},style:{color:(r.vars||r).palette[t].main}}}),...Object.entries((null===(t=r.palette)||void 0===t?void 0:t.text)||{}).filter(e=>{let[,t]=e;return"string"===typeof t}).map(e=>{let[t]=e;return{props:{color:"text".concat(yV(t))},style:{color:(r.vars||r).palette.text[t]}}}),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}})),SV={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},EV=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiTypography"}),{color:n}=r,a=(0,go.A)(r,NV),s=!kV[n],o=CV((0,Mt.A)((0,Mt.A)({},a),s&&{color:n})),{align:i="inherit",className:l,component:c,gutterBottom:d=!1,noWrap:u=!1,paragraph:p=!1,variant:h="body1",variantMapping:m=SV}=o,f=(0,go.A)(o,AV),x=(0,Mt.A)((0,Mt.A)({},o),{},{align:i,color:n,className:l,component:c,gutterBottom:d,noWrap:u,paragraph:p,variant:h,variantMapping:m}),g=c||(p?"p":m[h]||SV[h])||"span",b=(e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:a,variant:s,classes:o}=e;return CW({root:["root",s,"inherit"!==e.align&&"align".concat(yV(t)),r&&"gutterBottom",n&&"noWrap",a&&"paragraph"]},jV,o)})(x);return(0,Vn.jsx)(FV,(0,Mt.A)((0,Mt.A)({as:g,ref:t,className:Mi(b.root,l)},f),{},{ownerState:x,style:(0,Mt.A)((0,Mt.A)({},"inherit"!==i&&{"--Typography-textAlign":i}),f.style)}))}),PV=EV;function DV(e){return rW("MuiSvgIcon",e)}nW("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const OV=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],TV=VW("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"inherit"!==r.color&&t["color".concat(yV(r.color))],t["fontSize".concat(yV(r.fontSize))]]}})(XW(e=>{var t,r,n,a,s,o,i,l,c,d,u,p,h,m,f;let{theme:x}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=x.transitions)||void 0===t||null===(r=t.create)||void 0===r?void 0:r.call(t,"fill",{duration:null===(n=(null!==(a=x.vars)&&void 0!==a?a:x).transitions)||void 0===n||null===(n=n.duration)||void 0===n?void 0:n.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(s=x.typography)||void 0===s||null===(o=s.pxToRem)||void 0===o?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(i=x.typography)||void 0===i||null===(l=i.pxToRem)||void 0===l?void 0:l.call(i,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=x.typography)||void 0===c||null===(d=c.pxToRem)||void 0===d?void 0:d.call(c,35))||"2.1875rem"}},...Object.entries((null!==(u=x.vars)&&void 0!==u?u:x).palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{var t,r;let[n]=e;return{props:{color:n},style:{color:null===(t=(null!==(r=x.vars)&&void 0!==r?r:x).palette)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.main}}}),{props:{color:"action"},style:{color:null===(p=(null!==(h=x.vars)&&void 0!==h?h:x).palette)||void 0===p||null===(p=p.action)||void 0===p?void 0:p.active}},{props:{color:"disabled"},style:{color:null===(m=(null!==(f=x.vars)&&void 0!==f?f:x).palette)||void 0===m||null===(m=m.action)||void 0===m?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),IV=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiSvgIcon"}),{children:n,className:s,color:o="inherit",component:i="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:u,viewBox:p="0 0 24 24"}=r,h=(0,go.A)(r,OV),m=a.isValidElement(n)&&"svg"===n.type,f=(0,Mt.A)((0,Mt.A)({},r),{},{color:o,component:i,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:p,hasSvgAsChild:m}),x={};d||(x.viewBox=p);const g=(e=>{const{color:t,fontSize:r,classes:n}=e;return CW({root:["root","inherit"!==t&&"color".concat(yV(t)),"fontSize".concat(yV(r))]},DV,n)})(f);return(0,Vn.jsxs)(TV,(0,Mt.A)((0,Mt.A)((0,Mt.A)((0,Mt.A)({as:i,className:Mi(g.root,s),focusable:"false",color:c,"aria-hidden":!u||void 0,role:u?"img":void 0,ref:t},x),h),m&&n.props),{},{ownerState:f,children:[m?n.props.children:n,u?(0,Vn.jsx)("title",{children:u}):null]}))});IV&&(IV.muiName="SvgIcon");const MV=IV;function _V(e,t){function r(r,n){return(0,Vn.jsx)(MV,(0,Mt.A)((0,Mt.A)({"data-testid":"".concat(t,"Icon"),ref:n},r),{},{children:e}))}return r.muiName=MV.muiName,a.memo(a.forwardRef(r))}const RV=_V((0,Vn.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function BV(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=a.useRef(void 0),s=a.useCallback(e=>{const r=t.map(t=>{if(null==t)return null;if("function"===typeof t){const r=t,n=r(e);return"function"===typeof n?n:()=>{r(null)}}return t.current=e,()=>{t.current=null}});return()=>{r.forEach(e=>null===e||void 0===e?void 0:e())}},t);return a.useMemo(()=>t.every(e=>null==e)?null:e=>{n.current&&(n.current(),n.current=void 0),null!=e&&(n.current=s(e))},t)}const LV=BV;function zV(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}const UV="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;const WV=function(e){const t=a.useRef(e);return UV(()=>{t.current=e}),a.useRef(function(){return(0,t.current)(...arguments)}).current},VV=WV;var HV=r(4467);const KV={};function qV(e,t){const r=a.useRef(KV);return r.current===KV&&(r.current=e(t)),r}class GV{static create(){return new GV}static use(){const e=qV(GV.create).current,[t,r]=a.useState(!1);return e.shouldMount=t,e.setShouldMount=r,a.useEffect(e.mountEffect,[t]),e}constructor(){(0,HV.A)(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())}),this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.start(...t)})}stop(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.stop(...t)})}pulsate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.pulsate(...t)})}}var YV=r(8587);function $V(e,t){return $V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$V(e,t)}function JV(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$V(e,t)}const XV=a.createContext(null);function QV(e,t){var r=Object.create(null);return e&&a.Children.map(e,function(e){return e}).forEach(function(e){r[e.key]=function(e){return t&&(0,a.isValidElement)(e)?t(e):e}(e)}),r}function ZV(e,t,r){return null!=r[t]?r[t]:e.props[t]}function eH(e,t,r){var n=QV(e.children),s=function(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,a=Object.create(null),s=[];for(var o in e)o in t?s.length&&(a[o]=s,s=[]):s.push(o);var i={};for(var l in t){if(a[l])for(n=0;n<a[l].length;n++){var c=a[l][n];i[a[l][n]]=r(c)}i[l]=r(l)}for(n=0;n<s.length;n++)i[s[n]]=r(s[n]);return i}(t,n);return Object.keys(s).forEach(function(o){var i=s[o];if((0,a.isValidElement)(i)){var l=o in t,c=o in n,d=t[o],u=(0,a.isValidElement)(d)&&!d.props.in;!c||l&&!u?c||!l||u?c&&l&&(0,a.isValidElement)(d)&&(s[o]=(0,a.cloneElement)(i,{onExited:r.bind(null,i),in:d.props.in,exit:ZV(i,"exit",e),enter:ZV(i,"enter",e)})):s[o]=(0,a.cloneElement)(i,{in:!1}):s[o]=(0,a.cloneElement)(i,{onExited:r.bind(null,i),in:!0,exit:ZV(i,"exit",e),enter:ZV(i,"enter",e)})}}),s}var tH=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},rH=function(e){function t(t,r){var n,a=(n=e.call(this,t,r)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));return n.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},n}JV(t,e);var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r,n,s=t.children,o=t.handleExited;return{children:t.firstRender?(r=e,n=o,QV(r.children,function(e){return(0,a.cloneElement)(e,{onExited:n.bind(null,e),in:!0,appear:ZV(e,"appear",r),enter:ZV(e,"enter",r),exit:ZV(e,"exit",r)})})):eH(e,s,o),firstRender:!1}},r.handleExited=function(e,t){var r=QV(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var r=NR({},t.children);return delete r[e.key],{children:r}}))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=(0,YV.A)(e,["component","childFactory"]),s=this.state.contextValue,o=tH(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?a.createElement(XV.Provider,{value:s},o):a.createElement(XV.Provider,{value:s},a.createElement(t,n,o))},t}(a.Component);rH.propTypes={},rH.defaultProps={component:"div",childFactory:function(e){return e}};const nH=rH,aH=[];class sH{constructor(){(0,HV.A)(this,"currentId",null),(0,HV.A)(this,"clear",()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)}),(0,HV.A)(this,"disposeEffect",()=>this.clear)}static create(){return new sH}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function oH(){const e=qV(sH.create).current;var t;return t=e.disposeEffect,a.useEffect(t,aH),e}const iH=function(e){const{className:t,classes:r,pulsate:n=!1,rippleX:s,rippleY:o,rippleSize:i,in:l,onExited:c,timeout:d}=e,[u,p]=a.useState(!1),h=Mi(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),m={width:i,height:i,top:-i/2+o,left:-i/2+s},f=Mi(r.child,u&&r.childLeaving,n&&r.childPulsate);return l||u||p(!0),a.useEffect(()=>{if(!l&&null!=c){const e=setTimeout(c,d);return()=>{clearTimeout(e)}}},[c,l,d]),(0,Vn.jsx)("span",{className:h,style:m,children:(0,Vn.jsx)("span",{className:f})})};const lH=nW("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),cH=["center","classes","className"];var dH,uH,pH,hH;const mH=mV(dH||(dH=Er(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"]))),fH=mV(uH||(uH=Er(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))),xH=mV(pH||(pH=Er(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))),gH=VW("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),bH=VW(iH,{name:"MuiTouchRipple",slot:"Ripple"})(hH||(hH=Er(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])),lH.rippleVisible,mH,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},lH.ripplePulsate,e=>{let{theme:t}=e;return t.transitions.duration.shorter},lH.child,lH.childLeaving,fH,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},lH.childPulsate,xH,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),yH=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiTouchRipple"}),{center:n=!1,classes:s={},className:o}=r,i=(0,go.A)(r,cH),[l,c]=a.useState([]),d=a.useRef(0),u=a.useRef(null);a.useEffect(()=>{u.current&&(u.current(),u.current=null)},[l]);const p=a.useRef(!1),h=oH(),m=a.useRef(null),f=a.useRef(null),x=a.useCallback(e=>{const{pulsate:t,rippleX:r,rippleY:n,rippleSize:a,cb:o}=e;c(e=>[...e,(0,Vn.jsx)(bH,{classes:{ripple:Mi(s.ripple,lH.ripple),rippleVisible:Mi(s.rippleVisible,lH.rippleVisible),ripplePulsate:Mi(s.ripplePulsate,lH.ripplePulsate),child:Mi(s.child,lH.child),childLeaving:Mi(s.childLeaving,lH.childLeaving),childPulsate:Mi(s.childPulsate,lH.childPulsate)},timeout:550,pulsate:t,rippleX:r,rippleY:n,rippleSize:a},d.current)]),d.current+=1,u.current=o},[s]),g=a.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:a=!1,center:s=n||t.pulsate,fakeElement:o=!1}=t;if("mousedown"===(null===e||void 0===e?void 0:e.type)&&p.current)return void(p.current=!1);"touchstart"===(null===e||void 0===e?void 0:e.type)&&(p.current=!0);const i=o?null:f.current,l=i?i.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,d,u;if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),d=Math.round(l.height/2);else{const{clientX:t,clientY:r}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),d=Math.round(r-l.top)}if(s)u=Math.sqrt((2*l.width**2+l.height**2)/3),u%2===0&&(u+=1);else{const e=2*Math.max(Math.abs((i?i.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((i?i.clientHeight:0)-d),d)+2;u=Math.sqrt(e**2+t**2)}null!==e&&void 0!==e&&e.touches?null===m.current&&(m.current=()=>{x({pulsate:a,rippleX:c,rippleY:d,rippleSize:u,cb:r})},h.start(80,()=>{m.current&&(m.current(),m.current=null)})):x({pulsate:a,rippleX:c,rippleY:d,rippleSize:u,cb:r})},[n,x,h]),b=a.useCallback(()=>{g({},{pulsate:!0})},[g]),y=a.useCallback((e,t)=>{if(h.clear(),"touchend"===(null===e||void 0===e?void 0:e.type)&&m.current)return m.current(),m.current=null,void h.start(0,()=>{y(e,t)});m.current=null,c(e=>e.length>0?e.slice(1):e),u.current=t},[h]);return a.useImperativeHandle(t,()=>({pulsate:b,start:g,stop:y}),[b,g,y]),(0,Vn.jsx)(gH,(0,Mt.A)((0,Mt.A)({className:Mi(lH.root,s.root,o),ref:f},i),{},{children:(0,Vn.jsx)(nH,{component:null,exit:!0,children:l})}))}),vH=yH;function jH(e){return rW("MuiButtonBase",e)}const wH=nW("MuiButtonBase",["root","disabled","focusVisible"]),NH=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],AH=VW("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(wH.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),kH=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiButtonBase"}),{action:n,centerRipple:s=!1,children:o,className:i,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:u=!1,focusRipple:p=!1,focusVisibleClassName:h,LinkComponent:m="a",onBlur:f,onClick:x,onContextMenu:g,onDragLeave:b,onFocus:y,onFocusVisible:v,onKeyDown:j,onKeyUp:w,onMouseDown:N,onMouseLeave:A,onMouseUp:k,onTouchEnd:C,onTouchMove:F,onTouchStart:S,tabIndex:E=0,TouchRippleProps:P,touchRippleRef:D,type:O}=r,T=(0,go.A)(r,NH),I=a.useRef(null),M=GV.use(),_=LV(M.ref,D),[R,B]=a.useState(!1);c&&R&&B(!1),a.useImperativeHandle(n,()=>({focusVisible:()=>{B(!0),I.current.focus()}}),[]);const L=M.shouldMount&&!d&&!c;function z(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return VV(n=>{t&&t(n);return r||M[e](n),!0})}a.useEffect(()=>{R&&p&&!d&&M.pulsate()},[d,p,R,M]);const U=z("start",N),W=z("stop",g),V=z("stop",b),H=z("stop",k),K=z("stop",e=>{R&&e.preventDefault(),A&&A(e)}),q=z("start",S),G=z("stop",C),Y=z("stop",F),$=z("stop",e=>{zV(e.target)||B(!1),f&&f(e)},!1),J=VV(e=>{I.current||(I.current=e.currentTarget),zV(e.target)&&(B(!0),v&&v(e)),y&&y(e)}),X=()=>{const e=I.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},Q=VV(e=>{p&&!e.repeat&&R&&" "===e.key&&M.stop(e,()=>{M.start(e)}),e.target===e.currentTarget&&X()&&" "===e.key&&e.preventDefault(),j&&j(e),e.target===e.currentTarget&&X()&&"Enter"===e.key&&!c&&(e.preventDefault(),x&&x(e))}),Z=VV(e=>{p&&" "===e.key&&R&&!e.defaultPrevented&&M.stop(e,()=>{M.pulsate(e)}),w&&w(e),x&&e.target===e.currentTarget&&X()&&" "===e.key&&!e.defaultPrevented&&x(e)});let ee=l;"button"===ee&&(T.href||T.to)&&(ee=m);const te={};"button"===ee?(te.type=void 0===O?"button":O,te.disabled=c):(T.href||T.to||(te.role="button"),c&&(te["aria-disabled"]=c));const re=LV(t,I),ne=(0,Mt.A)((0,Mt.A)({},r),{},{centerRipple:s,component:l,disabled:c,disableRipple:d,disableTouchRipple:u,focusRipple:p,tabIndex:E,focusVisible:R}),ae=(e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:a}=e,s=CW({root:["root",t&&"disabled",r&&"focusVisible"]},jH,a);return r&&n&&(s.root+=" ".concat(n)),s})(ne);return(0,Vn.jsxs)(AH,(0,Mt.A)((0,Mt.A)((0,Mt.A)({as:ee,className:Mi(ae.root,i),ownerState:ne,onBlur:$,onClick:x,onContextMenu:W,onFocus:J,onKeyDown:Q,onKeyUp:Z,onMouseDown:U,onMouseLeave:K,onMouseUp:H,onDragLeave:V,onTouchEnd:G,onTouchMove:Y,onTouchStart:q,ref:re,tabIndex:c?-1:E,type:O},te),T),{},{children:[o,L?(0,Vn.jsx)(vH,(0,Mt.A)({ref:_,center:s},P)):null]}))});function CH(e){return rW("MuiChip",e)}const FH=nW("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),SH=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],EH=VW("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,iconColor:a,clickable:s,onDelete:o,size:i,variant:l}=r;return[{["& .".concat(FH.avatar)]:t.avatar},{["& .".concat(FH.avatar)]:t["avatar".concat(yV(i))]},{["& .".concat(FH.avatar)]:t["avatarColor".concat(yV(n))]},{["& .".concat(FH.icon)]:t.icon},{["& .".concat(FH.icon)]:t["icon".concat(yV(i))]},{["& .".concat(FH.icon)]:t["iconColor".concat(yV(a))]},{["& .".concat(FH.deleteIcon)]:t.deleteIcon},{["& .".concat(FH.deleteIcon)]:t["deleteIcon".concat(yV(i))]},{["& .".concat(FH.deleteIcon)]:t["deleteIconColor".concat(yV(n))]},{["& .".concat(FH.deleteIcon)]:t["deleteIcon".concat(yV(l),"Color").concat(yV(n))]},t.root,t["size".concat(yV(i))],t["color".concat(yV(n))],s&&t.clickable,s&&"default"!==n&&t["clickableColor".concat(yV(n),")")],o&&t.deletable,o&&"default"!==n&&t["deletableColor".concat(yV(n))],t[l],t["".concat(l).concat(yV(n))]]}})(XW(e=>{let{theme:t}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(FH.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(FH.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},["& .".concat(FH.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(FH.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(FH.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(FH.icon)]:{marginLeft:5,marginRight:-6},["& .".concat(FH.deleteIcon)]:{WebkitTapHighlightColor:"transparent",color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.26)"):Uz(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.4)"):Uz(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,["& .".concat(FH.icon)]:{fontSize:18,marginLeft:4,marginRight:-4},["& .".concat(FH.deleteIcon)]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(vV(["contrastText"])).map(e=>{let[r]=e;return{props:{color:r},style:{backgroundColor:(t.vars||t).palette[r].main,color:(t.vars||t).palette[r].contrastText,["& .".concat(FH.deleteIcon)]:{color:t.vars?"rgba(".concat(t.vars.palette[r].contrastTextChannel," / 0.7)"):Uz(t.palette[r].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].contrastText}}}}}),{props:e=>e.iconColor===e.color,style:{["& .".concat(FH.icon)]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:r}}},{props:e=>e.iconColor===e.color&&"default"!==e.color,style:{["& .".concat(FH.icon)]:{color:"inherit"}}},{props:{onDelete:!0},style:{["&.".concat(FH.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):Uz(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(vV(["dark"])).map(e=>{let[r]=e;return{props:{color:r,onDelete:!0},style:{["&.".concat(FH.focusVisible)]:{background:(t.vars||t).palette[r].dark}}}}),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):Uz(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},["&.".concat(FH.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):Uz(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(vV(["dark"])).map(e=>{let[r]=e;return{props:{color:r,clickable:!0},style:{["&:hover, &.".concat(FH.focusVisible)]:{backgroundColor:(t.vars||t).palette[r].dark}}}}),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(FH.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(FH.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(FH.avatar)]:{marginLeft:4},["& .".concat(FH.avatarSmall)]:{marginLeft:2},["& .".concat(FH.icon)]:{marginLeft:4},["& .".concat(FH.iconSmall)]:{marginLeft:2},["& .".concat(FH.deleteIcon)]:{marginRight:5},["& .".concat(FH.deleteIconSmall)]:{marginRight:3}}},...Object.entries(t.palette).filter(vV()).map(e=>{let[r]=e;return{props:{variant:"outlined",color:r},style:{color:(t.vars||t).palette[r].main,border:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette[r].mainChannel," / 0.7)"):Uz(t.palette[r].main,.7)),["&.".concat(FH.clickable,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[r].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Uz(t.palette[r].main,t.palette.action.hoverOpacity)},["&.".concat(FH.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[r].mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):Uz(t.palette[r].main,t.palette.action.focusOpacity)},["& .".concat(FH.deleteIcon)]:{color:t.vars?"rgba(".concat(t.vars.palette[r].mainChannel," / 0.7)"):Uz(t.palette[r].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].main}}}}})]}})),PH=VW("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t["label".concat(yV(n))]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function DH(e){return"Backspace"===e.key||"Delete"===e.key}const OH=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiChip"}),{avatar:n,className:s,clickable:o,color:i="default",component:l,deleteIcon:c,disabled:d=!1,icon:u,label:p,onClick:h,onDelete:m,onKeyDown:f,onKeyUp:x,size:g="medium",variant:b="filled",tabIndex:y,skipFocusWhenDisabled:v=!1}=r,j=(0,go.A)(r,SH),w=a.useRef(null),N=LV(w,t),A=e=>{e.stopPropagation(),m&&m(e)},k=!(!1===o||!h)||o,C=k||m?kH:l||"div",F=(0,Mt.A)((0,Mt.A)({},r),{},{component:C,disabled:d,size:g,color:i,iconColor:a.isValidElement(u)&&u.props.color||i,onDelete:!!m,clickable:k,variant:b}),S=(e=>{const{classes:t,disabled:r,size:n,color:a,iconColor:s,onDelete:o,clickable:i,variant:l}=e;return CW({root:["root",l,r&&"disabled","size".concat(yV(n)),"color".concat(yV(a)),i&&"clickable",i&&"clickableColor".concat(yV(a)),o&&"deletable",o&&"deletableColor".concat(yV(a)),"".concat(l).concat(yV(a))],label:["label","label".concat(yV(n))],avatar:["avatar","avatar".concat(yV(n)),"avatarColor".concat(yV(a))],icon:["icon","icon".concat(yV(n)),"iconColor".concat(yV(s))],deleteIcon:["deleteIcon","deleteIcon".concat(yV(n)),"deleteIconColor".concat(yV(a)),"deleteIcon".concat(yV(l),"Color").concat(yV(a))]},CH,t)})(F),E=C===kH?(0,Mt.A)({component:l||"div",focusVisibleClassName:S.focusVisible},m&&{disableRipple:!0}):{};let P=null;m&&(P=c&&a.isValidElement(c)?a.cloneElement(c,{className:Mi(c.props.className,S.deleteIcon),onClick:A}):(0,Vn.jsx)(RV,{className:Mi(S.deleteIcon),onClick:A}));let D=null;n&&a.isValidElement(n)&&(D=a.cloneElement(n,{className:Mi(S.avatar,n.props.className)}));let O=null;return u&&a.isValidElement(u)&&(O=a.cloneElement(u,{className:Mi(S.icon,u.props.className)})),(0,Vn.jsxs)(EH,(0,Mt.A)((0,Mt.A)((0,Mt.A)({as:C,className:Mi(S.root,s),disabled:!(!k||!d)||void 0,onClick:h,onKeyDown:e=>{e.currentTarget===e.target&&DH(e)&&e.preventDefault(),f&&f(e)},onKeyUp:e=>{e.currentTarget===e.target&&m&&DH(e)&&m(e),x&&x(e)},ref:N,tabIndex:v&&d?-1:y,ownerState:F},E),j),{},{children:[D||O,(0,Vn.jsx)(PH,{className:Mi(S.label),ownerState:F,children:p}),P]}))}),TH=OH,IH=a.createContext();const MH=()=>{const e=a.useContext(IH);return null!==e&&void 0!==e&&e};const _H=function(e){return"string"===typeof e};const RH=function(e,t,r){return void 0===e||_H(e)?t:(0,Mt.A)((0,Mt.A)({},t),{},{ownerState:(0,Mt.A)((0,Mt.A)({},t.ownerState),r)})};function BH(e){var t;return parseInt(a.version,10)>=19?(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.ref)||null:(null===e||void 0===e?void 0:e.ref)||null}const LH=!1;var zH="unmounted",UH="exited",WH="entering",VH="entered",HH="exiting",KH=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var a,s=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?s?(a=UH,n.appearStatus=WH):a=VH:a=t.unmountOnExit||t.mountOnEnter?zH:UH,n.state={status:a},n.nextCallback=null,n}JV(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===zH?{status:UH}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==WH&&r!==VH&&(t=WH):r!==WH&&r!==VH||(t=HH)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===WH){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===UH&&this.setState({status:zH})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,a=this.props.nodeRef?[n]:[i.findDOMNode(this),n],s=a[0],o=a[1],l=this.getTimeouts(),c=n?l.appear:l.enter;!e&&!r||LH?this.safeSetState({status:VH},function(){t.props.onEntered(s)}):(this.props.onEnter(s,o),this.safeSetState({status:WH},function(){t.props.onEntering(s,o),t.onTransitionEnd(c,function(){t.safeSetState({status:VH},function(){t.props.onEntered(s,o)})})}))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!LH?(this.props.onExit(n),this.safeSetState({status:HH},function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:UH},function(){e.props.onExited(n)})})})):this.safeSetState({status:UH},function(){e.props.onExited(n)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],s=a[0],o=a[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===zH)return null;var t=this.props,r=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,YV.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(XV.Provider,{value:null},"function"===typeof r?r(e,n):a.cloneElement(a.Children.only(r),n))},t}(a.Component);function qH(){}KH.contextType=XV,KH.propTypes={},KH.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qH,onEntering:qH,onEntered:qH,onExit:qH,onExiting:qH,onExited:qH},KH.UNMOUNTED=zH,KH.EXITED=UH,KH.ENTERING=WH,KH.ENTERED=VH,KH.EXITING=HH;const GH=KH,YH=e=>e.scrollTop;function $H(e,t){var r,n;const{timeout:a,easing:s,style:o={}}=e;return{duration:null!==(r=o.transitionDuration)&&void 0!==r?r:"number"===typeof a?a:a[t.mode]||0,easing:null!==(n=o.transitionTimingFunction)&&void 0!==n?n:"object"===typeof s?s[t.mode]:s,delay:o.transitionDelay}}const JH=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function XH(e){return"scale(".concat(e,", ").concat(e**2,")")}const QH={entering:{opacity:1,transform:XH(1)},entered:{opacity:1,transform:"none"}},ZH="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),eK=a.forwardRef(function(e,t){const{addEndListener:r,appear:n=!0,children:s,easing:o,in:i,onEnter:l,onEntered:c,onEntering:d,onExit:u,onExited:p,onExiting:h,style:m,timeout:f="auto",TransitionComponent:x=GH}=e,g=(0,go.A)(e,JH),b=oH(),y=a.useRef(),v=YW(),j=a.useRef(null),w=LV(j,BH(s),t),N=e=>t=>{if(e){const r=j.current;void 0===t?e(r):e(r,t)}},A=N(d),k=N((e,t)=>{YH(e);const{duration:r,delay:n,easing:a}=$H({style:m,timeout:f,easing:o},{mode:"enter"});let s;"auto"===f?(s=v.transitions.getAutoHeightDuration(e.clientHeight),y.current=s):s=r,e.style.transition=[v.transitions.create("opacity",{duration:s,delay:n}),v.transitions.create("transform",{duration:ZH?s:.666*s,delay:n,easing:a})].join(","),l&&l(e,t)}),C=N(c),F=N(h),S=N(e=>{const{duration:t,delay:r,easing:n}=$H({style:m,timeout:f,easing:o},{mode:"exit"});let a;"auto"===f?(a=v.transitions.getAutoHeightDuration(e.clientHeight),y.current=a):a=t,e.style.transition=[v.transitions.create("opacity",{duration:a,delay:r}),v.transitions.create("transform",{duration:ZH?a:.666*a,delay:ZH?r:r||.333*a,easing:n})].join(","),e.style.opacity=0,e.style.transform=XH(.75),u&&u(e)}),E=N(p);return(0,Vn.jsx)(x,(0,Mt.A)((0,Mt.A)({appear:n,in:i,nodeRef:j,onEnter:k,onEntered:C,onEntering:A,onExit:S,onExited:E,onExiting:F,addEndListener:e=>{"auto"===f&&b.start(y.current||0,e),r&&r(j.current,e)},timeout:"auto"===f?null:f},g),{},{children:(e,t)=>a.cloneElement(s,(0,Mt.A)({style:(0,Mt.A)((0,Mt.A)((0,Mt.A)({opacity:0,transform:XH(.75),visibility:"exited"!==e||i?void 0:"hidden"},QH[e]),m),s.props.style),ref:w},t))}))});eK&&(eK.muiSupportAuto=!0);const tK=eK;function rK(e){return e&&e.ownerDocument||document}function nK(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function aK(e){return e instanceof nK(e).Element||e instanceof Element}function sK(e){return e instanceof nK(e).HTMLElement||e instanceof HTMLElement}function oK(e){return"undefined"!==typeof ShadowRoot&&(e instanceof nK(e).ShadowRoot||e instanceof ShadowRoot)}var iK=Math.max,lK=Math.min,cK=Math.round;function dK(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function uK(){return!/^((?!chrome|android).)*safari/i.test(dK())}function pK(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.getBoundingClientRect(),a=1,s=1;t&&sK(e)&&(a=e.offsetWidth>0&&cK(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&cK(n.height)/e.offsetHeight||1);var o=(aK(e)?nK(e):window).visualViewport,i=!uK()&&r,l=(n.left+(i&&o?o.offsetLeft:0))/a,c=(n.top+(i&&o?o.offsetTop:0))/s,d=n.width/a,u=n.height/s;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function hK(e){var t=nK(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function mK(e){return e?(e.nodeName||"").toLowerCase():null}function fK(e){return((aK(e)?e.ownerDocument:e.document)||window.document).documentElement}function xK(e){return pK(fK(e)).left+hK(e).scrollLeft}function gK(e){return nK(e).getComputedStyle(e)}function bK(e){var t=gK(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function yK(e,t,r){void 0===r&&(r=!1);var n=sK(t),a=sK(t)&&function(e){var t=e.getBoundingClientRect(),r=cK(t.width)/e.offsetWidth||1,n=cK(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),s=fK(t),o=pK(e,a,r),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&(("body"!==mK(t)||bK(s))&&(i=function(e){return e!==nK(e)&&sK(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:hK(e);var t}(t)),sK(t)?((l=pK(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=xK(s))),{x:o.left+i.scrollLeft-l.x,y:o.top+i.scrollTop-l.y,width:o.width,height:o.height}}function vK(e){var t=pK(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function jK(e){return"html"===mK(e)?e:e.assignedSlot||e.parentNode||(oK(e)?e.host:null)||fK(e)}function wK(e){return["html","body","#document"].indexOf(mK(e))>=0?e.ownerDocument.body:sK(e)&&bK(e)?e:wK(jK(e))}function NK(e,t){var r;void 0===t&&(t=[]);var n=wK(e),a=n===(null==(r=e.ownerDocument)?void 0:r.body),s=nK(n),o=a?[s].concat(s.visualViewport||[],bK(n)?n:[]):n,i=t.concat(o);return a?i:i.concat(NK(jK(o)))}function AK(e){return["table","td","th"].indexOf(mK(e))>=0}function kK(e){return sK(e)&&"fixed"!==gK(e).position?e.offsetParent:null}function CK(e){for(var t=nK(e),r=kK(e);r&&AK(r)&&"static"===gK(r).position;)r=kK(r);return r&&("html"===mK(r)||"body"===mK(r)&&"static"===gK(r).position)?t:r||function(e){var t=/firefox/i.test(dK());if(/Trident/i.test(dK())&&sK(e)&&"fixed"===gK(e).position)return null;var r=jK(e);for(oK(r)&&(r=r.host);sK(r)&&["html","body"].indexOf(mK(r))<0;){var n=gK(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var FK="top",SK="bottom",EK="right",PK="left",DK="auto",OK=[FK,SK,EK,PK],TK="start",IK="end",MK="viewport",_K="popper",RK=OK.reduce(function(e,t){return e.concat([t+"-"+TK,t+"-"+IK])},[]),BK=[].concat(OK,[DK]).reduce(function(e,t){return e.concat([t,t+"-"+TK,t+"-"+IK])},[]),LK=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function zK(e){var t=new Map,r=new Set,n=[];function a(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!r.has(e)){var n=t.get(e);n&&a(n)}}),n.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){r.has(e.name)||a(e)}),n}function UK(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}var WK={placement:"bottom",modifiers:[],strategy:"absolute"};function VK(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function HK(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,a=t.defaultOptions,s=void 0===a?WK:a;return function(e,t,r){void 0===r&&(r=s);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},WK,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],i=!1,l={state:a,setOptions:function(r){var i="function"===typeof r?r(a.options):r;c(),a.options=Object.assign({},s,a.options,i),a.scrollParents={reference:aK(e)?NK(e):e.contextElement?NK(e.contextElement):[],popper:NK(t)};var d=function(e){var t=zK(e);return LK.reduce(function(e,r){return e.concat(t.filter(function(e){return e.phase===r}))},[])}(function(e){var t=e.reduce(function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(n,a.options.modifiers)));return a.orderedModifiers=d.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,s=e.effect;if("function"===typeof s){var i=s({state:a,name:t,instance:l,options:n}),c=function(){};o.push(i||c)}}),l.update()},forceUpdate:function(){if(!i){var e=a.elements,t=e.reference,r=e.popper;if(VK(t,r)){a.rects={reference:yK(t,CK(r),"fixed"===a.options.strategy),popper:vK(r)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var s=a.orderedModifiers[n],o=s.fn,c=s.options,d=void 0===c?{}:c,u=s.name;"function"===typeof o&&(a=o({state:a,options:d,name:u,instance:l})||a)}else a.reset=!1,n=-1}}},update:UK(function(){return new Promise(function(e){l.forceUpdate(),e(a)})}),destroy:function(){c(),i=!0}};if(!VK(e,t))return l;function c(){o.forEach(function(e){return e()}),o=[]}return l.setOptions(r).then(function(e){!i&&r.onFirstUpdate&&r.onFirstUpdate(e)}),l}}var KK={passive:!0};function qK(e){return e.split("-")[0]}function GK(e){return e.split("-")[1]}function YK(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $K(e){var t,r=e.reference,n=e.element,a=e.placement,s=a?qK(a):null,o=a?GK(a):null,i=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(s){case FK:t={x:i,y:r.y-n.height};break;case SK:t={x:i,y:r.y+r.height};break;case EK:t={x:r.x+r.width,y:l};break;case PK:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var c=s?YK(s):null;if(null!=c){var d="y"===c?"height":"width";switch(o){case TK:t[c]=t[c]-(r[d]/2-n[d]/2);break;case IK:t[c]=t[c]+(r[d]/2-n[d]/2)}}return t}var JK={top:"auto",right:"auto",bottom:"auto",left:"auto"};function XK(e){var t,r=e.popper,n=e.popperRect,a=e.placement,s=e.variation,o=e.offsets,i=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,p=o.x,h=void 0===p?0:p,m=o.y,f=void 0===m?0:m,x="function"===typeof d?d({x:h,y:f}):{x:h,y:f};h=x.x,f=x.y;var g=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),y=PK,v=FK,j=window;if(c){var w=CK(r),N="clientHeight",A="clientWidth";if(w===nK(r)&&"static"!==gK(w=fK(r)).position&&"absolute"===i&&(N="scrollHeight",A="scrollWidth"),a===FK||(a===PK||a===EK)&&s===IK)v=SK,f-=(u&&w===j&&j.visualViewport?j.visualViewport.height:w[N])-n.height,f*=l?1:-1;if(a===PK||(a===FK||a===SK)&&s===IK)y=EK,h-=(u&&w===j&&j.visualViewport?j.visualViewport.width:w[A])-n.width,h*=l?1:-1}var k,C=Object.assign({position:i},c&&JK),F=!0===d?function(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:cK(r*a)/a||0,y:cK(n*a)/a||0}}({x:h,y:f},nK(r)):{x:h,y:f};return h=F.x,f=F.y,l?Object.assign({},C,((k={})[v]=b?"0":"",k[y]=g?"0":"",k.transform=(j.devicePixelRatio||1)<=1?"translate("+h+"px, "+f+"px)":"translate3d("+h+"px, "+f+"px, 0)",k)):Object.assign({},C,((t={})[v]=b?f+"px":"",t[y]=g?h+"px":"",t.transform="",t))}const QK={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},a=t.elements[e];sK(a)&&mK(a)&&(Object.assign(a.style,r),Object.keys(n).forEach(function(e){var t=n[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(e){var n=t.elements[e],a=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce(function(e,t){return e[t]="",e},{});sK(n)&&mK(n)&&(Object.assign(n.style,s),Object.keys(a).forEach(function(e){n.removeAttribute(e)}))})}},requires:["computeStyles"]};const ZK={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,a=r.offset,s=void 0===a?[0,0]:a,o=BK.reduce(function(e,r){return e[r]=function(e,t,r){var n=qK(e),a=[PK,FK].indexOf(n)>=0?-1:1,s="function"===typeof r?r(Object.assign({},t,{placement:e})):r,o=s[0],i=s[1];return o=o||0,i=(i||0)*a,[PK,EK].indexOf(n)>=0?{x:i,y:o}:{x:o,y:i}}(r,t.rects,s),e},{}),i=o[t.placement],l=i.x,c=i.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=o}};var eq={left:"right",right:"left",bottom:"top",top:"bottom"};function tq(e){return e.replace(/left|right|bottom|top/g,function(e){return eq[e]})}var rq={start:"end",end:"start"};function nq(e){return e.replace(/start|end/g,function(e){return rq[e]})}function aq(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&oK(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function sq(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oq(e,t,r){return t===MK?sq(function(e,t){var r=nK(e),n=fK(e),a=r.visualViewport,s=n.clientWidth,o=n.clientHeight,i=0,l=0;if(a){s=a.width,o=a.height;var c=uK();(c||!c&&"fixed"===t)&&(i=a.offsetLeft,l=a.offsetTop)}return{width:s,height:o,x:i+xK(e),y:l}}(e,r)):aK(t)?function(e,t){var r=pK(e,!1,"fixed"===t);return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}(t,r):sq(function(e){var t,r=fK(e),n=hK(e),a=null==(t=e.ownerDocument)?void 0:t.body,s=iK(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=iK(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),i=-n.scrollLeft+xK(e),l=-n.scrollTop;return"rtl"===gK(a||r).direction&&(i+=iK(r.clientWidth,a?a.clientWidth:0)-s),{width:s,height:o,x:i,y:l}}(fK(e)))}function iq(e,t,r,n){var a="clippingParents"===t?function(e){var t=NK(jK(e)),r=["absolute","fixed"].indexOf(gK(e).position)>=0&&sK(e)?CK(e):e;return aK(r)?t.filter(function(e){return aK(e)&&aq(e,r)&&"body"!==mK(e)}):[]}(e):[].concat(t),s=[].concat(a,[r]),o=s[0],i=s.reduce(function(t,r){var a=oq(e,r,n);return t.top=iK(a.top,t.top),t.right=lK(a.right,t.right),t.bottom=lK(a.bottom,t.bottom),t.left=iK(a.left,t.left),t},oq(e,o,n));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function lq(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function cq(e,t){return t.reduce(function(t,r){return t[r]=e,t},{})}function dq(e,t){void 0===t&&(t={});var r=t,n=r.placement,a=void 0===n?e.placement:n,s=r.strategy,o=void 0===s?e.strategy:s,i=r.boundary,l=void 0===i?"clippingParents":i,c=r.rootBoundary,d=void 0===c?MK:c,u=r.elementContext,p=void 0===u?_K:u,h=r.altBoundary,m=void 0!==h&&h,f=r.padding,x=void 0===f?0:f,g=lq("number"!==typeof x?x:cq(x,OK)),b=p===_K?"reference":_K,y=e.rects.popper,v=e.elements[m?b:p],j=iq(aK(v)?v:v.contextElement||fK(e.elements.popper),l,d,o),w=pK(e.elements.reference),N=$K({reference:w,element:y,strategy:"absolute",placement:a}),A=sq(Object.assign({},y,N)),k=p===_K?A:w,C={top:j.top-k.top+g.top,bottom:k.bottom-j.bottom+g.bottom,left:j.left-k.left+g.left,right:k.right-j.right+g.right},F=e.modifiersData.offset;if(p===_K&&F){var S=F[a];Object.keys(C).forEach(function(e){var t=[EK,SK].indexOf(e)>=0?1:-1,r=[FK,SK].indexOf(e)>=0?"y":"x";C[e]+=S[r]*t})}return C}const uq={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,s=void 0===a||a,o=r.altAxis,i=void 0===o||o,l=r.fallbackPlacements,c=r.padding,d=r.boundary,u=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,m=void 0===h||h,f=r.allowedAutoPlacements,x=t.options.placement,g=qK(x),b=l||(g===x||!m?[tq(x)]:function(e){if(qK(e)===DK)return[];var t=tq(e);return[nq(e),t,nq(t)]}(x)),y=[x].concat(b).reduce(function(e,r){return e.concat(qK(r)===DK?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,a=r.boundary,s=r.rootBoundary,o=r.padding,i=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?BK:l,d=GK(n),u=d?i?RK:RK.filter(function(e){return GK(e)===d}):OK,p=u.filter(function(e){return c.indexOf(e)>=0});0===p.length&&(p=u);var h=p.reduce(function(t,r){return t[r]=dq(e,{placement:r,boundary:a,rootBoundary:s,padding:o})[qK(r)],t},{});return Object.keys(h).sort(function(e,t){return h[e]-h[t]})}(t,{placement:r,boundary:d,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:f}):r)},[]),v=t.rects.reference,j=t.rects.popper,w=new Map,N=!0,A=y[0],k=0;k<y.length;k++){var C=y[k],F=qK(C),S=GK(C)===TK,E=[FK,SK].indexOf(F)>=0,P=E?"width":"height",D=dq(t,{placement:C,boundary:d,rootBoundary:u,altBoundary:p,padding:c}),O=E?S?EK:PK:S?SK:FK;v[P]>j[P]&&(O=tq(O));var T=tq(O),I=[];if(s&&I.push(D[F]<=0),i&&I.push(D[O]<=0,D[T]<=0),I.every(function(e){return e})){A=C,N=!1;break}w.set(C,I)}if(N)for(var M=function(e){var t=y.find(function(t){var r=w.get(t);if(r)return r.slice(0,e).every(function(e){return e})});if(t)return A=t,"break"},_=m?3:1;_>0;_--){if("break"===M(_))break}t.placement!==A&&(t.modifiersData[n]._skip=!0,t.placement=A,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function pq(e,t,r){return iK(e,lK(t,r))}const hq={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,s=void 0===a||a,o=r.altAxis,i=void 0!==o&&o,l=r.boundary,c=r.rootBoundary,d=r.altBoundary,u=r.padding,p=r.tether,h=void 0===p||p,m=r.tetherOffset,f=void 0===m?0:m,x=dq(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),g=qK(t.placement),b=GK(t.placement),y=!b,v=YK(g),j="x"===v?"y":"x",w=t.modifiersData.popperOffsets,N=t.rects.reference,A=t.rects.popper,k="function"===typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,C="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),F=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,S={x:0,y:0};if(w){if(s){var E,P="y"===v?FK:PK,D="y"===v?SK:EK,O="y"===v?"height":"width",T=w[v],I=T+x[P],M=T-x[D],_=h?-A[O]/2:0,R=b===TK?N[O]:A[O],B=b===TK?-A[O]:-N[O],L=t.elements.arrow,z=h&&L?vK(L):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=U[P],V=U[D],H=pq(0,N[O],z[O]),K=y?N[O]/2-_-H-W-C.mainAxis:R-H-W-C.mainAxis,q=y?-N[O]/2+_+H+V+C.mainAxis:B+H+V+C.mainAxis,G=t.elements.arrow&&CK(t.elements.arrow),Y=G?"y"===v?G.clientTop||0:G.clientLeft||0:0,$=null!=(E=null==F?void 0:F[v])?E:0,J=T+q-$,X=pq(h?lK(I,T+K-$-Y):I,T,h?iK(M,J):M);w[v]=X,S[v]=X-T}if(i){var Q,Z="x"===v?FK:PK,ee="x"===v?SK:EK,te=w[j],re="y"===j?"height":"width",ne=te+x[Z],ae=te-x[ee],se=-1!==[FK,PK].indexOf(g),oe=null!=(Q=null==F?void 0:F[j])?Q:0,ie=se?ne:te-N[re]-A[re]-oe+C.altAxis,le=se?te+N[re]+A[re]-oe-C.altAxis:ae,ce=h&&se?function(e,t,r){var n=pq(e,t,r);return n>r?r:n}(ie,te,le):pq(h?ie:ne,te,h?le:ae);w[j]=ce,S[j]=ce-te}t.modifiersData[n]=S}},requiresIfExists:["offset"]};const mq={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,a=e.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,i=qK(r.placement),l=YK(i),c=[PK,EK].indexOf(i)>=0?"height":"width";if(s&&o){var d=function(e,t){return lq("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:cq(e,OK))}(a.padding,r),u=vK(s),p="y"===l?FK:PK,h="y"===l?SK:EK,m=r.rects.reference[c]+r.rects.reference[l]-o[l]-r.rects.popper[c],f=o[l]-r.rects.reference[l],x=CK(s),g=x?"y"===l?x.clientHeight||0:x.clientWidth||0:0,b=m/2-f/2,y=d[p],v=g-u[c]-d[h],j=g/2-u[c]/2+b,w=pq(y,j,v),N=l;r.modifiersData[n]=((t={})[N]=w,t.centerOffset=w-j,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!==typeof n||(n=t.elements.popper.querySelector(n)))&&aq(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fq(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function xq(e){return[FK,EK,SK,PK].some(function(t){return e[t]>=0})}var gq=HK({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,s=void 0===a||a,o=n.resize,i=void 0===o||o,l=nK(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(e){e.addEventListener("scroll",r.update,KK)}),i&&l.addEventListener("resize",r.update,KK),function(){s&&c.forEach(function(e){e.removeEventListener("scroll",r.update,KK)}),i&&l.removeEventListener("resize",r.update,KK)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=$K({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=void 0===n||n,s=r.adaptive,o=void 0===s||s,i=r.roundOffsets,l=void 0===i||i,c={placement:qK(t.placement),variation:GK(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,XK(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,XK(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},QK,ZK,uq,hq,mq,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,o=dq(t,{elementContext:"reference"}),i=dq(t,{altBoundary:!0}),l=fq(o,n),c=fq(i,a,s),d=xq(l),u=xq(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]});const bq=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const r={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&"function"===typeof e[r]&&!t.includes(r)).forEach(t=>{r[t]=e[t]}),r};const yq=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(r=>{t[r]=e[r]}),t};const vq=function(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:a,className:s}=e;if(!t){const e=Mi(null===r||void 0===r?void 0:r.className,s,null===a||void 0===a?void 0:a.className,null===n||void 0===n?void 0:n.className),t=(0,Mt.A)((0,Mt.A)((0,Mt.A)({},null===r||void 0===r?void 0:r.style),null===a||void 0===a?void 0:a.style),null===n||void 0===n?void 0:n.style),o=(0,Mt.A)((0,Mt.A)((0,Mt.A)({},r),a),n);return e.length>0&&(o.className=e),Object.keys(t).length>0&&(o.style=t),{props:o,internalRef:void 0}}const o=bq((0,Mt.A)((0,Mt.A)({},a),n)),i=yq(n),l=yq(a),c=t(o),d=Mi(null===c||void 0===c?void 0:c.className,null===r||void 0===r?void 0:r.className,s,null===a||void 0===a?void 0:a.className,null===n||void 0===n?void 0:n.className),u=(0,Mt.A)((0,Mt.A)((0,Mt.A)((0,Mt.A)({},null===c||void 0===c?void 0:c.style),null===r||void 0===r?void 0:r.style),null===a||void 0===a?void 0:a.style),null===n||void 0===n?void 0:n.style),p=(0,Mt.A)((0,Mt.A)((0,Mt.A)((0,Mt.A)({},c),r),l),i);return d.length>0&&(p.className=d),Object.keys(u).length>0&&(p.style=u),{props:p,internalRef:c.ref}};const jq=function(e,t,r){return"function"===typeof e?e(t,r):e},wq=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const Nq=function(e){var t;const{elementType:r,externalSlotProps:n,ownerState:a,skipResolvingSlotProps:s=!1}=e,o=(0,go.A)(e,wq),i=s?{}:jq(n,a),{props:l,internalRef:c}=vq((0,Mt.A)((0,Mt.A)({},o),{},{externalSlotProps:i})),d=BV(c,null===i||void 0===i?void 0:i.ref,null===(t=e.additionalProps)||void 0===t?void 0:t.ref);return RH(r,(0,Mt.A)((0,Mt.A)({},l),{},{ref:d}),a)};function Aq(e,t){"function"===typeof e?e(t):e&&(e.current=t)}const kq=a.forwardRef(function(e,t){const{children:r,container:n,disablePortal:s=!1}=e,[o,l]=a.useState(null),c=BV(a.isValidElement(r)?BH(r):null,t);if(UV(()=>{s||l(function(e){return"function"===typeof e?e():e}(n)||document.body)},[n,s]),UV(()=>{if(o&&!s)return Aq(t,o),()=>{Aq(t,null)}},[t,o,s]),s){if(a.isValidElement(r)){const e={ref:c};return a.cloneElement(r,e)}return(0,Vn.jsx)(a.Fragment,{children:r})}return(0,Vn.jsx)(a.Fragment,{children:o?i.createPortal(r,o):o})});function Cq(e){return rW("MuiPopper",e)}nW("MuiPopper",["root"]);const Fq=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Sq=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Eq(e){return"function"===typeof e?e():e}function Pq(e){return void 0!==e.nodeType}const Dq={},Oq=a.forwardRef(function(e,t){var r;const{anchorEl:n,children:s,direction:o,disablePortal:i,modifiers:l,open:c,placement:d,popperOptions:u,popperRef:p,slotProps:h={},slots:m={},TransitionProps:f,ownerState:x}=e,g=(0,go.A)(e,Fq),b=a.useRef(null),y=BV(b,t),v=a.useRef(null),j=BV(v,p),w=a.useRef(j);UV(()=>{w.current=j},[j]),a.useImperativeHandle(p,()=>v.current,[]);const N=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(d,o),[A,k]=a.useState(N),[C,F]=a.useState(Eq(n));a.useEffect(()=>{v.current&&v.current.forceUpdate()}),a.useEffect(()=>{n&&F(Eq(n))},[n]),UV(()=>{if(!C||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:i}},{name:"flip",options:{altBoundary:i}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{k(e.placement)})(t)}}];null!=l&&(e=e.concat(l)),u&&null!=u.modifiers&&(e=e.concat(u.modifiers));const t=gq(C,b.current,(0,Mt.A)((0,Mt.A)({placement:N},u),{},{modifiers:e}));return w.current(t),()=>{t.destroy(),w.current(null)}},[C,i,l,c,u,N]);const S={placement:A};null!==f&&(S.TransitionProps=f);const E=(e=>{const{classes:t}=e;return CW({root:["root"]},Cq,t)})(e),P=null!==(r=m.root)&&void 0!==r?r:"div",D=Nq({elementType:P,externalSlotProps:h.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:E.root});return(0,Vn.jsx)(P,(0,Mt.A)((0,Mt.A)({},D),{},{children:"function"===typeof s?s(S):s}))}),Tq=a.forwardRef(function(e,t){const{anchorEl:r,children:n,container:s,direction:o="ltr",disablePortal:i=!1,keepMounted:l=!1,modifiers:c,open:d,placement:u="bottom",popperOptions:p=Dq,popperRef:h,style:m,transition:f=!1,slotProps:x={},slots:g={}}=e,b=(0,go.A)(e,Sq),[y,v]=a.useState(!0);if(!l&&!d&&(!f||y))return null;let j;if(s)j=s;else if(r){const e=Eq(r);j=e&&Pq(e)?rK(e).body:rK(null).body}const w=d||!l||f&&!y?void 0:"none",N=f?{in:d,onEnter:()=>{v(!1)},onExited:()=>{v(!0)}}:void 0;return(0,Vn.jsx)(kq,{disablePortal:i,container:j,children:(0,Vn.jsx)(Oq,(0,Mt.A)((0,Mt.A)({anchorEl:r,direction:o,disablePortal:i,modifiers:c,ref:t,open:f?!y:d,placement:u,popperOptions:p,popperRef:h,slotProps:x,slots:g},b),{},{style:(0,Mt.A)({position:"fixed",top:0,left:0,display:w},m),TransitionProps:N,children:n}))})}),Iq=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Mq=VW(Tq,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),_q=a.forwardRef(function(e,t){var r;const n=MH(),a=GW({props:e,name:"MuiPopper"}),{anchorEl:s,component:o,components:i,componentsProps:l,container:c,disablePortal:d,keepMounted:u,modifiers:p,open:h,placement:m,popperOptions:f,popperRef:x,transition:g,slots:b,slotProps:y}=a,v=(0,go.A)(a,Iq),j=null!==(r=null===b||void 0===b?void 0:b.root)&&void 0!==r?r:null===i||void 0===i?void 0:i.Root,w=(0,Mt.A)({anchorEl:s,container:c,disablePortal:d,keepMounted:u,modifiers:p,open:h,placement:m,popperOptions:f,popperRef:x,transition:g},v);return(0,Vn.jsx)(Mq,(0,Mt.A)((0,Mt.A)({as:o,direction:n?"rtl":"ltr",slots:{root:j},slotProps:null!==y&&void 0!==y?y:l},w),{},{ref:t}))});let Rq=0;const Bq=(0,Mt.A)({},s).useId;function Lq(e){if(void 0!==Bq){const t=Bq();return null!==e&&void 0!==e?e:t}return function(e){const[t,r]=a.useState(e),n=e||t;return a.useEffect(()=>{null==t&&(Rq+=1,r("mui-".concat(Rq)))},[t]),n}(e)}const zq=Lq;const Uq=function(e){let{controlled:t,default:r,name:n,state:s="value"}=e;const{current:o}=a.useRef(void 0!==t),[i,l]=a.useState(r);return[o?t:i,a.useCallback(e=>{o||l(e)},[])]};function Wq(e){return rW("MuiTooltip",e)}const Vq=nW("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Hq=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Kq(e){return Math.round(1e5*e)/1e5}const qq=VW(_q,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(XW(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInteractive},style:{pointerEvents:"auto"}},{props:e=>{let{open:t}=e;return!t},style:{pointerEvents:"none"}},{props:e=>{let{ownerState:t}=e;return t.arrow},style:{['&[data-popper-placement*="bottom"] .'.concat(Vq.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(Vq.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(Vq.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},['&[data-popper-placement*="left"] .'.concat(Vq.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(Vq.arrow)]:{left:0,marginLeft:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(Vq.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(Vq.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(Vq.arrow)]:{left:0,marginLeft:"-0.71em"}}}]}})),Gq=VW("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t["tooltipPlacement".concat(yV(r.placement.split("-")[0]))]]}})(XW(e=>{let{theme:t}=e;return{backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Uz(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[".".concat(Vq.popper,'[data-popper-placement*="left"] &')]:{transformOrigin:"right center"},[".".concat(Vq.popper,'[data-popper-placement*="right"] &')]:{transformOrigin:"left center"},[".".concat(Vq.popper,'[data-popper-placement*="top"] &')]:{transformOrigin:"center bottom",marginBottom:"14px"},[".".concat(Vq.popper,'[data-popper-placement*="bottom"] &')]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:e=>{let{ownerState:t}=e;return t.arrow},style:{position:"relative",margin:0}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat(Kq(16/14),"em"),fontWeight:t.typography.fontWeightRegular}},{props:e=>{let{ownerState:t}=e;return!t.isRtl},style:{[".".concat(Vq.popper,'[data-popper-placement*="left"] &')]:{marginRight:"14px"},[".".concat(Vq.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"14px"}}},{props:e=>{let{ownerState:t}=e;return!t.isRtl&&t.touch},style:{[".".concat(Vq.popper,'[data-popper-placement*="left"] &')]:{marginRight:"24px"},[".".concat(Vq.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"24px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl},style:{[".".concat(Vq.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"14px"},[".".concat(Vq.popper,'[data-popper-placement*="right"] &')]:{marginRight:"14px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl&&t.touch},style:{[".".concat(Vq.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"24px"},[".".concat(Vq.popper,'[data-popper-placement*="right"] &')]:{marginRight:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(Vq.popper,'[data-popper-placement*="top"] &')]:{marginBottom:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(Vq.popper,'[data-popper-placement*="bottom"] &')]:{marginTop:"24px"}}}]}})),Yq=VW("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(XW(e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Uz(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let $q=!1;const Jq=new sH;let Xq={x:0,y:0};function Qq(e,t){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];t&&t(r,...a),e(r,...a)}}const Zq=a.forwardRef(function(e,t){var r,n,s,o,i,l,c,d,u,p,h,m,f,x,g,b,y,v,j;const w=GW({props:e,name:"MuiTooltip"}),{arrow:N=!1,children:A,classes:k,components:C={},componentsProps:F={},describeChild:S=!1,disableFocusListener:E=!1,disableHoverListener:P=!1,disableInteractive:D=!1,disableTouchListener:O=!1,enterDelay:T=100,enterNextDelay:I=0,enterTouchDelay:M=700,followCursor:_=!1,id:R,leaveDelay:B=0,leaveTouchDelay:L=1500,onClose:z,onOpen:U,open:W,placement:V="bottom",PopperComponent:H,PopperProps:K={},slotProps:q={},slots:G={},title:Y,TransitionComponent:$=tK,TransitionProps:J}=w,X=(0,go.A)(w,Hq),Q=a.isValidElement(A)?A:(0,Vn.jsx)("span",{children:A}),Z=YW(),ee=MH(),[te,re]=a.useState(),[ne,ae]=a.useState(null),se=a.useRef(!1),oe=D||_,ie=oH(),le=oH(),ce=oH(),de=oH(),[ue,pe]=Uq({controlled:W,default:!1,name:"Tooltip",state:"open"});let he=ue;const me=zq(R),fe=a.useRef(),xe=VV(()=>{void 0!==fe.current&&(document.body.style.WebkitUserSelect=fe.current,fe.current=void 0),de.clear()});a.useEffect(()=>xe,[xe]);const ge=e=>{Jq.clear(),$q=!0,pe(!0),U&&!he&&U(e)},be=VV(e=>{Jq.start(800+B,()=>{$q=!1}),pe(!1),z&&he&&z(e),ie.start(Z.transitions.duration.shortest,()=>{se.current=!1})}),ye=e=>{se.current&&"touchstart"!==e.type||(te&&te.removeAttribute("title"),le.clear(),ce.clear(),T||$q&&I?le.start($q?I:T,()=>{ge(e)}):ge(e))},ve=e=>{le.clear(),ce.start(B,()=>{be(e)})},[,je]=a.useState(!1),we=e=>{zV(e.target)||(je(!1),ve(e))},Ne=e=>{te||re(e.currentTarget),zV(e.target)&&(je(!0),ye(e))},Ae=e=>{se.current=!0;const t=Q.props;t.onTouchStart&&t.onTouchStart(e)},ke=e=>{Ae(e),ce.clear(),ie.clear(),xe(),fe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",de.start(M,()=>{document.body.style.WebkitUserSelect=fe.current,ye(e)})},Ce=e=>{Q.props.onTouchEnd&&Q.props.onTouchEnd(e),xe(),ce.start(L,()=>{be(e)})};a.useEffect(()=>{if(he)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"===e.key&&be(e)}},[be,he]);const Fe=LV(BH(Q),re,t);Y||0===Y||(he=!1);const Se=a.useRef(),Ee={},Pe="string"===typeof Y;S?(Ee.title=he||!Pe||P?null:Y,Ee["aria-describedby"]=he?me:null):(Ee["aria-label"]=Pe?Y:null,Ee["aria-labelledby"]=he&&!Pe?me:null);const De=(0,Mt.A)((0,Mt.A)((0,Mt.A)((0,Mt.A)({},Ee),X),Q.props),{},{className:Mi(X.className,Q.props.className),onTouchStart:Ae,ref:Fe},_?{onMouseMove:e=>{const t=Q.props;t.onMouseMove&&t.onMouseMove(e),Xq={x:e.clientX,y:e.clientY},Se.current&&Se.current.update()}}:{});const Oe={};O||(De.onTouchStart=ke,De.onTouchEnd=Ce),P||(De.onMouseOver=Qq(ye,De.onMouseOver),De.onMouseLeave=Qq(ve,De.onMouseLeave),oe||(Oe.onMouseOver=ye,Oe.onMouseLeave=ve)),E||(De.onFocus=Qq(Ne,De.onFocus),De.onBlur=Qq(we,De.onBlur),oe||(Oe.onFocus=Ne,Oe.onBlur=we));const Te=a.useMemo(()=>{var e;let t=[{name:"arrow",enabled:Boolean(ne),options:{element:ne,padding:4}}];return null!==(e=K.popperOptions)&&void 0!==e&&e.modifiers&&(t=t.concat(K.popperOptions.modifiers)),(0,Mt.A)((0,Mt.A)({},K.popperOptions),{},{modifiers:t})},[ne,K]),Ie=(0,Mt.A)((0,Mt.A)({},w),{},{isRtl:ee,arrow:N,disableInteractive:oe,placement:V,PopperComponentProp:H,touch:se.current}),Me=(e=>{const{classes:t,disableInteractive:r,arrow:n,touch:a,placement:s}=e;return CW({popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",a&&"touch","tooltipPlacement".concat(yV(s.split("-")[0]))],arrow:["arrow"]},Wq,t)})(Ie),_e=null!==(r=null!==(n=G.popper)&&void 0!==n?n:C.Popper)&&void 0!==r?r:qq,Re=null!==(s=null!==(o=null!==(i=G.transition)&&void 0!==i?i:C.Transition)&&void 0!==o?o:$)&&void 0!==s?s:tK,Be=null!==(l=null!==(c=G.tooltip)&&void 0!==c?c:C.Tooltip)&&void 0!==l?l:Gq,Le=null!==(d=null!==(u=G.arrow)&&void 0!==u?u:C.Arrow)&&void 0!==d?d:Yq,ze=RH(_e,(0,Mt.A)((0,Mt.A)((0,Mt.A)({},K),null!==(p=q.popper)&&void 0!==p?p:F.popper),{},{className:Mi(Me.popper,null===K||void 0===K?void 0:K.className,null===(h=null!==(m=q.popper)&&void 0!==m?m:F.popper)||void 0===h?void 0:h.className)}),Ie),Ue=RH(Re,(0,Mt.A)((0,Mt.A)({},J),null!==(f=q.transition)&&void 0!==f?f:F.transition),Ie),We=RH(Be,(0,Mt.A)((0,Mt.A)({},null!==(x=q.tooltip)&&void 0!==x?x:F.tooltip),{},{className:Mi(Me.tooltip,null===(g=null!==(b=q.tooltip)&&void 0!==b?b:F.tooltip)||void 0===g?void 0:g.className)}),Ie),Ve=RH(Le,(0,Mt.A)((0,Mt.A)({},null!==(y=q.arrow)&&void 0!==y?y:F.arrow),{},{className:Mi(Me.arrow,null===(v=null!==(j=q.arrow)&&void 0!==j?j:F.arrow)||void 0===v?void 0:v.className)}),Ie);return(0,Vn.jsxs)(a.Fragment,{children:[a.cloneElement(Q,De),(0,Vn.jsx)(_e,(0,Mt.A)((0,Mt.A)((0,Mt.A)({as:null!==H&&void 0!==H?H:_q,placement:V,anchorEl:_?{getBoundingClientRect:()=>({top:Xq.y,left:Xq.x,right:Xq.x,bottom:Xq.y,width:0,height:0})}:te,popperRef:Se,open:!!te&&he,id:me,transition:!0},Oe),ze),{},{popperOptions:Te,children:e=>{let{TransitionProps:t}=e;return(0,Vn.jsx)(Re,(0,Mt.A)((0,Mt.A)((0,Mt.A)({timeout:Z.transitions.duration.shorter},t),Ue),{},{children:(0,Vn.jsxs)(Be,(0,Mt.A)((0,Mt.A)({},We),{},{children:[Y,N?(0,Vn.jsx)(Le,(0,Mt.A)((0,Mt.A)({},Ve),{},{ref:ae})):null]}))}))}}))]})}),eG=Zq;function tG(e){return rW("MuiIconButton",e)}const rG=nW("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),nG=["edge","children","className","color","disabled","disableFocusRipple","size"],aG=VW(kH,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"default"!==r.color&&t["color".concat(yV(r.color))],r.edge&&t["edge".concat(yV(r.edge))],t["size".concat(yV(r.size))]]}})(XW(e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Uz(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}}),XW(e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(vV()).map(e=>{let[r]=e;return{props:{color:r},style:{color:(t.vars||t).palette[r].main}}}),...Object.entries(t.palette).filter(vV()).map(e=>{let[r]=e;return{props:{color:r},style:{"--IconButton-hoverBg":t.vars?"rgba(".concat((t.vars||t).palette[r].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Uz((t.vars||t).palette[r].main,t.palette.action.hoverOpacity)}}}),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],["&.".concat(rG.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}}})),sG=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiIconButton"}),{edge:n=!1,children:a,className:s,color:o="default",disabled:i=!1,disableFocusRipple:l=!1,size:c="medium"}=r,d=(0,go.A)(r,nG),u=(0,Mt.A)((0,Mt.A)({},r),{},{edge:n,color:o,disabled:i,disableFocusRipple:l,size:c}),p=(e=>{const{classes:t,disabled:r,color:n,edge:a,size:s}=e;return CW({root:["root",r&&"disabled","default"!==n&&"color".concat(yV(n)),a&&"edge".concat(yV(a)),"size".concat(yV(s))]},tG,t)})(u);return(0,Vn.jsx)(aG,(0,Mt.A)((0,Mt.A)({className:Mi(p.root,s),centerRipple:!0,focusRipple:!l,disabled:i,ref:t},d),{},{ownerState:u,children:a}))}),oG=sG,iG=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],lG=["component","slots","slotProps"],cG=["component"];function dG(e,t){const{className:r,elementType:n,ownerState:a,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:i}=t,l=(0,go.A)(t,iG),{component:c,slots:d={[e]:void 0},slotProps:u={[e]:void 0}}=s,p=(0,go.A)(s,lG),h=d[e]||n,m=jq(u[e],a),f=vq((0,Mt.A)((0,Mt.A)({className:r},l),{},{externalForwardedProps:"root"===e?p:void 0,externalSlotProps:m})),{props:{component:x},internalRef:g}=f,b=(0,go.A)(f.props,cG),y=BV(g,null===m||void 0===m?void 0:m.ref,t.ref),v=o?o(b):{},j=(0,Mt.A)((0,Mt.A)({},a),v),w="root"===e?x||c:x,N=RH(h,(0,Mt.A)((0,Mt.A)((0,Mt.A)((0,Mt.A)((0,Mt.A)({},"root"===e&&!c&&!d[e]&&i),"root"!==e&&!d[e]&&i),b),w&&{as:w}),{},{ref:y}),j);return Object.keys(v).forEach(e=>{delete N[e]}),[h,N]}function uG(e){return rW("MuiAlert",e)}const pG=nW("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),hG=_V((0,Vn.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),mG=_V((0,Vn.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),fG=_V((0,Vn.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),xG=_V((0,Vn.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),gG=_V((0,Vn.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),bG=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],yG=VW(rV,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["".concat(r.variant).concat(yV(r.color||r.severity))]]}})(XW(e=>{let{theme:t}=e;const r="light"===t.palette.mode?Vz:Kz,n="light"===t.palette.mode?Kz:Vz;return(0,Mt.A)((0,Mt.A)({},t.typography.body2),{},{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(vV(["light"])).map(e=>{let[a]=e;return{props:{colorSeverity:a,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(a,"StandardBg")]:n(t.palette[a].light,.9),["& .".concat(pG.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}}}}),...Object.entries(t.palette).filter(vV(["light"])).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(n,"Color")]:r(t.palette[n].light,.6),border:"1px solid ".concat((t.vars||t).palette[n].light),["& .".concat(pG.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(n,"IconColor")]}:{color:t.palette[n].main}}}}),...Object.entries(t.palette).filter(vV(["dark"])).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"filled"},style:(0,Mt.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(r,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(r,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}})]})})),vG=VW("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),jG=VW("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),wG=VW("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),NG={success:(0,Vn.jsx)(hG,{fontSize:"inherit"}),warning:(0,Vn.jsx)(mG,{fontSize:"inherit"}),error:(0,Vn.jsx)(fG,{fontSize:"inherit"}),info:(0,Vn.jsx)(xG,{fontSize:"inherit"})},AG=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiAlert"}),{action:n,children:a,className:s,closeText:o="Close",color:i,components:l={},componentsProps:c={},icon:d,iconMapping:u=NG,onClose:p,role:h="alert",severity:m="success",slotProps:f={},slots:x={},variant:g="standard"}=r,b=(0,go.A)(r,bG),y=(0,Mt.A)((0,Mt.A)({},r),{},{color:i,severity:m,variant:g,colorSeverity:i||m}),v=(e=>{const{variant:t,color:r,severity:n,classes:a}=e;return CW({root:["root","color".concat(yV(r||n)),"".concat(t).concat(yV(r||n)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},uG,a)})(y),j={slots:(0,Mt.A)({closeButton:l.CloseButton,closeIcon:l.CloseIcon},x),slotProps:(0,Mt.A)((0,Mt.A)({},c),f)},[w,N]=dG("closeButton",{elementType:oG,externalForwardedProps:j,ownerState:y}),[A,k]=dG("closeIcon",{elementType:gG,externalForwardedProps:j,ownerState:y});return(0,Vn.jsxs)(yG,(0,Mt.A)((0,Mt.A)({role:h,elevation:0,ownerState:y,className:Mi(v.root,s),ref:t},b),{},{children:[!1!==d?(0,Vn.jsx)(vG,{ownerState:y,className:v.icon,children:d||u[m]||NG[m]}):null,(0,Vn.jsx)(jG,{ownerState:y,className:v.message,children:a}),null!=n?(0,Vn.jsx)(wG,{ownerState:y,className:v.action,children:n}):null,null==n&&p?(0,Vn.jsx)(wG,{ownerState:y,className:v.action,children:(0,Vn.jsx)(w,(0,Mt.A)((0,Mt.A)({size:"small","aria-label":o,title:o,color:"inherit",onClick:p},N),{},{children:(0,Vn.jsx)(A,(0,Mt.A)({fontSize:"small"},k))}))}):null]}))}),kG=AG;function CG(e){return rW("MuiCardHeader",e)}const FG=nW("MuiCardHeader",["root","avatar","action","content","title","subheader"]),SG=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],EG=VW("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,Mt.A)({["& .".concat(FG.title)]:t.title,["& .".concat(FG.subheader)]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),PG=VW("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),DG=VW("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),OG=VW("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto",[".".concat(wV.root,":where(& .").concat(FG.title,")")]:{display:"block"},[".".concat(wV.root,":where(& .").concat(FG.subheader,")")]:{display:"block"}}),TG=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiCardHeader"}),{action:n,avatar:a,className:s,component:o="div",disableTypography:i=!1,subheader:l,subheaderTypographyProps:c,title:d,titleTypographyProps:u}=r,p=(0,go.A)(r,SG),h=(0,Mt.A)((0,Mt.A)({},r),{},{component:o,disableTypography:i}),m=(e=>{const{classes:t}=e;return CW({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},CG,t)})(h);let f=d;null==f||f.type===PV||i||(f=(0,Vn.jsx)(PV,(0,Mt.A)((0,Mt.A)({variant:a?"body2":"h5",className:m.title,component:"span"},u),{},{children:f})));let x=l;return null==x||x.type===PV||i||(x=(0,Vn.jsx)(PV,(0,Mt.A)((0,Mt.A)({variant:a?"body2":"body1",className:m.subheader,color:"textSecondary",component:"span"},c),{},{children:x}))),(0,Vn.jsxs)(EG,(0,Mt.A)((0,Mt.A)({className:Mi(m.root,s),as:o,ref:t,ownerState:h},p),{},{children:[a&&(0,Vn.jsx)(PG,{className:m.avatar,ownerState:h,children:a}),(0,Vn.jsxs)(OG,{className:m.content,ownerState:h,children:[f,x]}),n&&(0,Vn.jsx)(DG,{className:m.action,ownerState:h,children:n})]}))});function IG(e){return rW("MuiCircularProgress",e)}nW("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const MG=["className","color","disableShrink","size","style","thickness","value","variant"];var _G,RG,BG,LG;const zG=44,UG=mV(_G||(_G=Er(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),WG=mV(RG||(RG=Er(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"]))),VG="string"!==typeof UG?hV(BG||(BG=Er(["\n        animation: "," 1.4s linear infinite;\n      "])),UG):null,HG="string"!==typeof WG?hV(LG||(LG=Er(["\n        animation: "," 1.4s ease-in-out infinite;\n      "])),WG):null,KG=VW("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["color".concat(yV(r.color))]]}})(XW(e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:VG||{animation:"".concat(UG," 1.4s linear infinite")}},...Object.entries(t.palette).filter(vV()).map(e=>{let[r]=e;return{props:{color:r},style:{color:(t.vars||t).palette[r].main}}})]}})),qG=VW("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),GG=VW("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t["circle".concat(yV(r.variant))],r.disableShrink&&t.circleDisableShrink]}})(XW(e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:HG||{animation:"".concat(WG," 1.4s ease-in-out infinite")}}]}})),YG=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiCircularProgress"}),{className:n,color:a="primary",disableShrink:s=!1,size:o=40,style:i,thickness:l=3.6,value:c=0,variant:d="indeterminate"}=r,u=(0,go.A)(r,MG),p=(0,Mt.A)((0,Mt.A)({},r),{},{color:a,disableShrink:s,size:o,thickness:l,value:c,variant:d}),h=(e=>{const{classes:t,variant:r,color:n,disableShrink:a}=e;return CW({root:["root",r,"color".concat(yV(n))],svg:["svg"],circle:["circle","circle".concat(yV(r)),a&&"circleDisableShrink"]},IG,t)})(p),m={},f={},x={};if("determinate"===d){const e=2*Math.PI*((zG-l)/2);m.strokeDasharray=e.toFixed(3),x["aria-valuenow"]=Math.round(c),m.strokeDashoffset="".concat(((100-c)/100*e).toFixed(3),"px"),f.transform="rotate(-90deg)"}return(0,Vn.jsx)(KG,(0,Mt.A)((0,Mt.A)((0,Mt.A)({className:Mi(h.root,n),style:(0,Mt.A)((0,Mt.A)({width:o,height:o},f),i),ownerState:p,ref:t,role:"progressbar"},x),u),{},{children:(0,Vn.jsx)(qG,{className:h.svg,ownerState:p,viewBox:"".concat(22," ").concat(22," ").concat(zG," ").concat(zG),children:(0,Vn.jsx)(GG,{className:h.circle,style:m,ownerState:p,cx:zG,cy:zG,r:(zG-l)/2,fill:"none",strokeWidth:l})})}))}),$G=YG;const JG=a.createContext();function XG(e){return rW("MuiGrid",e)}const QG=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ZG=nW("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>"spacing-xs-".concat(e)),...["column-reverse","column","row-reverse","row"].map(e=>"direction-xs-".concat(e)),...["nowrap","wrap-reverse","wrap"].map(e=>"wrap-xs-".concat(e)),...QG.map(e=>"grid-xs-".concat(e)),...QG.map(e=>"grid-sm-".concat(e)),...QG.map(e=>"grid-md-".concat(e)),...QG.map(e=>"grid-lg-".concat(e)),...QG.map(e=>"grid-xl-".concat(e))]),eY=ZG,tY=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function rY(e){let{breakpoints:t,values:r}=e,n="";Object.keys(r).forEach(e=>{""===n&&0!==r[e]&&(n=e)});const a=Object.keys(t).sort((e,r)=>t[e]-t[r]);return a.slice(0,a.indexOf(n))}const nY=VW("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:n,direction:a,item:s,spacing:o,wrap:i,zeroMinWidth:l,breakpoints:c}=r;let d=[];n&&(d=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[r["spacing-xs-".concat(String(e))]];const n=[];return t.forEach(t=>{const a=e[t];Number(a)>0&&n.push(r["spacing-".concat(t,"-").concat(String(a))])}),n}(o,c,t));const u=[];return c.forEach(e=>{const n=r[e];n&&u.push(t["grid-".concat(e,"-").concat(String(n))])}),[t.root,n&&t.container,s&&t.item,l&&t.zeroMinWidth,...d,"row"!==a&&t["direction-xs-".concat(String(a))],"wrap"!==i&&t["wrap-xs-".concat(String(i))],...u]}})(e=>{let{ownerState:t}=e;return(0,Mt.A)((0,Mt.A)((0,Mt.A)((0,Mt.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"}),t.item&&{margin:0}),t.zeroMinWidth&&{minWidth:0}),"wrap"!==t.wrap&&{flexWrap:t.wrap})},function(e){let{theme:t,ownerState:r}=e;return vL({theme:t},NL({values:r.direction,breakpoints:t.breakpoints.values}),e=>{const t={flexDirection:e};return e.startsWith("column")&&(t["& > .".concat(eY.item)]={maxWidth:"none"}),t})},function(e){let{theme:t,ownerState:r}=e;const{container:n,rowSpacing:a}=r;let s={};if(n&&0!==a){const e=NL({values:a,breakpoints:t.breakpoints.values});let r;"object"===typeof e&&(r=rY({breakpoints:t.breakpoints.values,values:e})),s=vL({theme:t},e,(e,n)=>{var a;const s=t.spacing(e);return"0px"!==s?{marginTop:t.spacing(-e),["& > .".concat(eY.item)]:{paddingTop:s}}:null!==(a=r)&&void 0!==a&&a.includes(n)?{}:{marginTop:0,["& > .".concat(eY.item)]:{paddingTop:0}}})}return s},function(e){let{theme:t,ownerState:r}=e;const{container:n,columnSpacing:a}=r;let s={};if(n&&0!==a){const e=NL({values:a,breakpoints:t.breakpoints.values});let r;"object"===typeof e&&(r=rY({breakpoints:t.breakpoints.values,values:e})),s=vL({theme:t},e,(e,n)=>{var a;const s=t.spacing(e);if("0px"!==s){const r=t.spacing(-e);return{width:"calc(100% + ".concat(s,")"),marginLeft:r,["& > .".concat(eY.item)]:{paddingLeft:s}}}return null!==(a=r)&&void 0!==a&&a.includes(n)?{}:{width:"100%",marginLeft:0,["& > .".concat(eY.item)]:{paddingLeft:0}}})}return s},function(e){let t,{theme:r,ownerState:n}=e;return r.breakpoints.keys.reduce((e,a)=>{let s={};if(n[a]&&(t=n[a]),!t)return e;if(!0===t)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=NL({values:n.columns,breakpoints:r.breakpoints.values}),i="object"===typeof o?o[a]:o;if(void 0===i||null===i)return e;const l="".concat(Math.round(t/i*1e8)/1e6,"%");let c={};if(n.container&&n.item&&0!==n.columnSpacing){const e=r.spacing(n.columnSpacing);if("0px"!==e){const t="calc(".concat(l," + ").concat(e,")");c={flexBasis:t,maxWidth:t}}}s=(0,Mt.A)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===r.breakpoints.values[a]?Object.assign(e,s):e[r.breakpoints.up(a)]=s,e},{})});const aY=e=>{const{classes:t,container:r,direction:n,item:a,spacing:s,wrap:o,zeroMinWidth:i,breakpoints:l}=e;let c=[];r&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const r=[];return t.forEach(t=>{const n=e[t];if(Number(n)>0){const e="spacing-".concat(t,"-").concat(String(n));r.push(e)}}),r}(s,l));const d=[];l.forEach(t=>{const r=e[t];r&&d.push("grid-".concat(t,"-").concat(String(r)))});return CW({root:["root",r&&"container",a&&"item",i&&"zeroMinWidth",...c,"row"!==n&&"direction-xs-".concat(String(n)),"wrap"!==o&&"wrap-xs-".concat(String(o)),...d]},XG,t)},sY=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiGrid"}),{breakpoints:n}=YW(),s=vz(r),{className:o,columns:i,columnSpacing:l,component:c="div",container:d=!1,direction:u="row",item:p=!1,rowSpacing:h,spacing:m=0,wrap:f="wrap",zeroMinWidth:x=!1}=s,g=(0,go.A)(s,tY),b=h||m,y=l||m,v=a.useContext(JG),j=d?i||12:v,w={},N=(0,Mt.A)({},g);n.keys.forEach(e=>{null!=g[e]&&(w[e]=g[e],delete N[e])});const A=(0,Mt.A)((0,Mt.A)((0,Mt.A)({},s),{},{columns:j,container:d,direction:u,item:p,rowSpacing:b,columnSpacing:y,wrap:f,zeroMinWidth:x,spacing:m},w),{},{breakpoints:n.keys}),k=aY(A);return(0,Vn.jsx)(JG.Provider,{value:j,children:(0,Vn.jsx)(nY,(0,Mt.A)({ownerState:A,className:Mi(k.root,o),as:c,ref:t},N))})});const oY=sY;function iY(e){return rW("MuiButton",e)}const lY=nW("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const cY=a.createContext({});const dY=a.createContext(void 0),uY=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],pY=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],hY=VW(kH,{shouldForwardProp:e=>UW(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["".concat(r.variant).concat(yV(r.color))],t["size".concat(yV(r.size))],t["".concat(r.variant,"Size").concat(yV(r.size))],"inherit"===r.color&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(XW(e=>{let{theme:t}=e;const r="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],n="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,Mt.A)((0,Mt.A)({},t.typography.button),{},{minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},["&.".concat(lY.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},["&.".concat(lY.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]},["&.".concat(lY.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",["&.".concat(lY.disabled)]:{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(vV()).map(e=>{let[r]=e;return{props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?"rgba(".concat(t.vars.palette[r].mainChannel," / 0.5)"):Uz(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?"rgba(".concat(t.vars.palette[r].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Uz(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?"rgba(".concat(t.vars.palette[r].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Uz(t.palette[r].main,t.palette.action.hoverOpacity)}}}}}),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:r,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Uz(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Uz(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(lY.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(lY.disabled)]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]})})),mY=VW("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t["iconSize".concat(yV(r.size))]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...pY]}),fY=VW("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t["iconSize".concat(yV(r.size))]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...pY]}),xY=a.forwardRef(function(e,t){const r=a.useContext(cY),n=a.useContext(dY),s=GW({props:HW(r,e),name:"MuiButton"}),{children:o,color:i="primary",component:l="button",className:c,disabled:d=!1,disableElevation:u=!1,disableFocusRipple:p=!1,endIcon:h,focusVisibleClassName:m,fullWidth:f=!1,size:x="medium",startIcon:g,type:b,variant:y="text"}=s,v=(0,go.A)(s,uY),j=(0,Mt.A)((0,Mt.A)({},s),{},{color:i,component:l,disabled:d,disableElevation:u,disableFocusRipple:p,fullWidth:f,size:x,type:b,variant:y}),w=(e=>{const{color:t,disableElevation:r,fullWidth:n,size:a,variant:s,classes:o}=e,i=CW({root:["root",s,"".concat(s).concat(yV(t)),"size".concat(yV(a)),"".concat(s,"Size").concat(yV(a)),"color".concat(yV(t)),r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat(yV(a))],endIcon:["icon","endIcon","iconSize".concat(yV(a))]},iY,o);return(0,Mt.A)((0,Mt.A)({},o),i)})(j),N=g&&(0,Vn.jsx)(mY,{className:w.startIcon,ownerState:j,children:g}),A=h&&(0,Vn.jsx)(fY,{className:w.endIcon,ownerState:j,children:h}),k=n||"";return(0,Vn.jsxs)(hY,(0,Mt.A)((0,Mt.A)({ownerState:j,className:Mi(r.className,w.root,c,k),component:l,disabled:d,focusRipple:!p,focusVisibleClassName:Mi(w.focusVisible,m),ref:t,type:b},v),{},{classes:w,children:[N,o,A]}))}),gY=xY;function bY(e){return rW("MuiLinearProgress",e)}nW("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const yY=["className","color","value","valueBuffer","variant"];var vY,jY,wY,NY,AY,kY;const CY=mV(vY||(vY=Er(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"]))),FY="string"!==typeof CY?hV(jY||(jY=Er(["\n        animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n      "])),CY):null,SY=mV(wY||(wY=Er(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"]))),EY="string"!==typeof SY?hV(NY||(NY=Er(["\n        animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n      "])),SY):null,PY=mV(AY||(AY=Er(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"]))),DY="string"!==typeof PY?hV(kY||(kY=Er(["\n        animation: "," 3s infinite linear;\n      "])),PY):null,OY=(e,t)=>e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?Kz(e.palette[t].main,.62):Vz(e.palette[t].main,.5),TY=VW("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t["color".concat(yV(r.color))],t[r.variant]]}})(XW(e=>{let{theme:t}=e;return{position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(vV()).map(e=>{let[r]=e;return{props:{color:r},style:{backgroundColor:OY(t,r)}}}),{props:e=>{let{ownerState:t}=e;return"inherit"===t.color&&"buffer"!==t.variant},style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}})),IY=VW("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.dashed,t["dashedColor".concat(yV(r.color))]]}})(XW(e=>{let{theme:t}=e;return{position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(vV()).map(e=>{let[r]=e;const n=OY(t,r);return{props:{color:r},style:{backgroundImage:"radial-gradient(".concat(n," 0%, ").concat(n," 16%, transparent 42%)")}}})]}}),DY||{animation:"".concat(PY," 3s infinite linear")}),MY=VW("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t["barColor".concat(yV(r.color))],("indeterminate"===r.variant||"query"===r.variant)&&t.bar1Indeterminate,"determinate"===r.variant&&t.bar1Determinate,"buffer"===r.variant&&t.bar1Buffer]}})(XW(e=>{let{theme:t}=e;return{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(vV()).map(e=>{let[r]=e;return{props:{color:r},style:{backgroundColor:(t.vars||t).palette[r].main}}}),{props:{variant:"determinate"},style:{transition:"transform .".concat(4,"s linear")}},{props:{variant:"buffer"},style:{zIndex:1,transition:"transform .".concat(4,"s linear")}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:FY||{animation:"".concat(CY," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite")}}]}})),_Y=VW("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t["barColor".concat(yV(r.color))],("indeterminate"===r.variant||"query"===r.variant)&&t.bar2Indeterminate,"buffer"===r.variant&&t.bar2Buffer]}})(XW(e=>{let{theme:t}=e;return{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(vV()).map(e=>{let[r]=e;return{props:{color:r},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[r].main}}}),{props:e=>{let{ownerState:t}=e;return"buffer"!==t.variant&&"inherit"!==t.color},style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:e=>{let{ownerState:t}=e;return"buffer"!==t.variant&&"inherit"===t.color},style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(vV()).map(e=>{let[r]=e;return{props:{color:r,variant:"buffer"},style:{backgroundColor:OY(t,r),transition:"transform .".concat(4,"s linear")}}}),{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:EY||{animation:"".concat(SY," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite")}}]}})),RY=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiLinearProgress"}),{className:n,color:a="primary",value:s,valueBuffer:o,variant:i="indeterminate"}=r,l=(0,go.A)(r,yY),c=(0,Mt.A)((0,Mt.A)({},r),{},{color:a,variant:i}),d=(e=>{const{classes:t,variant:r,color:n}=e;return CW({root:["root","color".concat(yV(n)),r],dashed:["dashed","dashedColor".concat(yV(n))],bar1:["bar","barColor".concat(yV(n)),("indeterminate"===r||"query"===r)&&"bar1Indeterminate","determinate"===r&&"bar1Determinate","buffer"===r&&"bar1Buffer"],bar2:["bar","buffer"!==r&&"barColor".concat(yV(n)),"buffer"===r&&"color".concat(yV(n)),("indeterminate"===r||"query"===r)&&"bar2Indeterminate","buffer"===r&&"bar2Buffer"]},bY,t)})(c),u=MH(),p={},h={bar1:{},bar2:{}};if("determinate"===i||"buffer"===i)if(void 0!==s){p["aria-valuenow"]=Math.round(s),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let e=s-100;u&&(e=-e),h.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===i)if(void 0!==o){let e=(o||0)-100;u&&(e=-e),h.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,Vn.jsxs)(TY,(0,Mt.A)((0,Mt.A)((0,Mt.A)({className:Mi(d.root,n),ownerState:c,role:"progressbar"},p),{},{ref:t},l),{},{children:["buffer"===i?(0,Vn.jsx)(IY,{className:d.dashed,ownerState:c}):null,(0,Vn.jsx)(MY,{className:d.bar1,ownerState:c,style:h.bar1}),"determinate"===i?null:(0,Vn.jsx)(_Y,{className:d.bar2,ownerState:c,style:h.bar2})]}))}),BY=RY,LY=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function zY(e){const t=[],r=[];return Array.from(e.querySelectorAll(LY)).forEach((e,n)=>{const a=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==a&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let r=t('[name="'.concat(e.name,'"]:checked'));return r||(r=t('[name="'.concat(e.name,'"]'))),r!==e}(e))}(e)&&(0===a?t.push(e):r.push({documentOrder:n,tabIndex:a,node:e}))}),r.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function UY(){return!0}const WY=function(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:s=!1,getTabbable:o=zY,isEnabled:i=UY,open:l}=e,c=a.useRef(!1),d=a.useRef(null),u=a.useRef(null),p=a.useRef(null),h=a.useRef(null),m=a.useRef(!1),f=a.useRef(null),x=BV(BH(t),f),g=a.useRef(null);a.useEffect(()=>{l&&f.current&&(m.current=!r)},[r,l]),a.useEffect(()=>{if(!l||!f.current)return;const e=rK(f.current);return f.current.contains(e.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),m.current&&f.current.focus()),()=>{s||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[l]),a.useEffect(()=>{if(!l||!f.current)return;const e=rK(f.current),t=t=>{g.current=t,!n&&i()&&"Tab"===t.key&&e.activeElement===f.current&&t.shiftKey&&(c.current=!0,u.current&&u.current.focus())},r=()=>{const t=f.current;if(null===t)return;if(!e.hasFocus()||!i()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(n&&e.activeElement!==d.current&&e.activeElement!==u.current)return;if(e.activeElement!==h.current)h.current=null;else if(null!==h.current)return;if(!m.current)return;let r=[];if(e.activeElement!==d.current&&e.activeElement!==u.current||(r=o(f.current)),r.length>0){var a,s;const e=Boolean((null===(a=g.current)||void 0===a?void 0:a.shiftKey)&&"Tab"===(null===(s=g.current)||void 0===s?void 0:s.key)),t=r[0],n=r[r.length-1];"string"!==typeof t&&"string"!==typeof n&&(e?n.focus():t.focus())}else t.focus()};e.addEventListener("focusin",r),e.addEventListener("keydown",t,!0);const a=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&r()},50);return()=>{clearInterval(a),e.removeEventListener("focusin",r),e.removeEventListener("keydown",t,!0)}},[r,n,s,i,l,o]);const b=e=>{null===p.current&&(p.current=e.relatedTarget),m.current=!0};return(0,Vn.jsxs)(a.Fragment,{children:[(0,Vn.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:d,"data-testid":"sentinelStart"}),a.cloneElement(t,{ref:x,onFocus:e=>{null===p.current&&(p.current=e.relatedTarget),m.current=!0,h.current=e.target;const r=t.props.onFocus;r&&r(e)}}),(0,Vn.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:u,"data-testid":"sentinelEnd"})]})},VY=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],HY={entering:{opacity:1},entered:{opacity:1}},KY=a.forwardRef(function(e,t){const r=YW(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:i,easing:l,in:c,onEnter:d,onEntered:u,onEntering:p,onExit:h,onExited:m,onExiting:f,style:x,timeout:g=n,TransitionComponent:b=GH}=e,y=(0,go.A)(e,VY),v=a.useRef(null),j=LV(v,BH(i),t),w=e=>t=>{if(e){const r=v.current;void 0===t?e(r):e(r,t)}},N=w(p),A=w((e,t)=>{YH(e);const n=$H({style:x,timeout:g,easing:l},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),d&&d(e,t)}),k=w(u),C=w(f),F=w(e=>{const t=$H({style:x,timeout:g,easing:l},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),h&&h(e)}),S=w(m);return(0,Vn.jsx)(b,(0,Mt.A)((0,Mt.A)({appear:o,in:c,nodeRef:v,onEnter:A,onEntered:k,onEntering:N,onExit:F,onExited:S,onExiting:C,addEndListener:e=>{s&&s(v.current,e)},timeout:g},y),{},{children:(e,t)=>a.cloneElement(i,(0,Mt.A)({style:(0,Mt.A)((0,Mt.A)((0,Mt.A)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},HY[e]),x),i.props.style),ref:j},t))}))}),qY=KY;function GY(e){return rW("MuiBackdrop",e)}nW("MuiBackdrop",["root","invisible"]);const YY=["ownerState"],$Y=["children","className","component","invisible","open","components","componentsProps","slotProps","slots","TransitionComponent","transitionDuration"],JY=VW("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),XY=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiBackdrop"}),{children:n,className:a,component:s="div",invisible:o=!1,open:i,components:l={},componentsProps:c={},slotProps:d={},slots:u={},TransitionComponent:p,transitionDuration:h}=r,m=(0,go.A)(r,$Y),f=(0,Mt.A)((0,Mt.A)({},r),{},{component:s,invisible:o}),x=(e=>{const{classes:t,invisible:r}=e;return CW({root:["root",r&&"invisible"]},GY,t)})(f),g={slots:(0,Mt.A)({transition:p,root:l.Root},u),slotProps:(0,Mt.A)((0,Mt.A)({},c),d)},[b,y]=dG("root",{elementType:JY,externalForwardedProps:g,className:Mi(x.root,a),ownerState:f}),[v,j]=dG("transition",{elementType:qY,externalForwardedProps:g,ownerState:f}),w=(e=>{const{ownerState:t}=e;return(0,go.A)(e,YY)})(j);return(0,Vn.jsx)(v,(0,Mt.A)((0,Mt.A)((0,Mt.A)({in:i,timeout:h},m),w),{},{children:(0,Vn.jsx)(b,(0,Mt.A)((0,Mt.A)({"aria-hidden":!0},y),{},{classes:x,ref:t,children:n}))}))});function QY(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t)=>null==t?e:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];e.apply(this,n),t.apply(this,n)},()=>{})}function ZY(e){return rK(e).defaultView||window}function e$(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function t$(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function r$(e){return parseInt(ZY(e).getComputedStyle(e).paddingRight,10)||0}function n$(e,t,r,n,a){const s=[t,r,...n];[].forEach.call(e.children,e=>{const t=!s.includes(e),r=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||r}(e);t&&r&&t$(e,a)})}function a$(e,t){let r=-1;return e.some((e,n)=>!!t(e)&&(r=n,!0)),r}function s$(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(function(e){const t=rK(e);return t.body===e?ZY(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(n)){const e=e$(ZY(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight="".concat(r$(n)+e,"px");const t=rK(n).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{r.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(r$(t)+e,"px")})}let e;if(n.parentNode instanceof DocumentFragment)e=rK(n).body;else{const t=n.parentElement,r=ZY(n);e="HTML"===(null===t||void 0===t?void 0:t.nodeName)&&"scroll"===r.getComputedStyle(t).overflowY?t:n}r.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{r.forEach(e=>{let{value:t,el:r,property:n}=e;t?r.style.setProperty(n,t):r.style.removeProperty(n)})}}const o$=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(-1!==r)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&t$(e.modalRef,!1);const n=function(e){const t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);n$(t,e.mount,e.modalRef,n,!0);const a=a$(this.containers,e=>e.container===t);return-1!==a?(this.containers[a].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:n}),r)}mount(e,t){const r=a$(this.containers,t=>t.modals.includes(e)),n=this.containers[r];n.restore||(n.restore=s$(n,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=this.modals.indexOf(e);if(-1===r)return r;const n=a$(this.containers,t=>t.modals.includes(e)),a=this.containers[n];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(r,1),0===a.modals.length)a.restore&&a.restore(),e.modalRef&&t$(e.modalRef,t),n$(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(n,1);else{const e=a.modals[a.modals.length-1];e.modalRef&&t$(e.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const i$=function(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:i,children:l,onClose:c,open:d,rootRef:u}=e,p=a.useRef({}),h=a.useRef(null),m=a.useRef(null),f=BV(m,u),[x,g]=a.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let y=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(y=!1);const v=()=>(p.current.modalRef=m.current,p.current.mount=h.current,p.current),j=()=>{o$.mount(v(),{disableScrollLock:n}),m.current&&(m.current.scrollTop=0)},w=WV(()=>{const e=function(e){return"function"===typeof e?e():e}(t)||rK(h.current).body;o$.add(v(),e),m.current&&j()}),N=()=>o$.isTopModal(v()),A=WV(e=>{h.current=e,e&&(d&&N()?j():m.current&&t$(m.current,y))}),k=a.useCallback(()=>{o$.remove(v(),y)},[y]);a.useEffect(()=>()=>{k()},[k]),a.useEffect(()=>{d?w():b&&s||k()},[d,k,b,s,w]);const C=e=>t=>{var n;null===(n=e.onKeyDown)||void 0===n||n.call(e,t),"Escape"===t.key&&229!==t.which&&N()&&(r||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},F=e=>t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=bq(e);delete r.onTransitionEnter,delete r.onTransitionExited;const n=(0,Mt.A)((0,Mt.A)({},r),t);return(0,Mt.A)((0,Mt.A)({role:"presentation"},n),{},{onKeyDown:C(n),ref:f})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Mt.A)((0,Mt.A)({"aria-hidden":!0},e),{},{onClick:F(e),open:d})},getTransitionProps:()=>({onEnter:QY(()=>{g(!1),o&&o()},null===l||void 0===l?void 0:l.props.onEnter),onExited:QY(()=>{g(!0),i&&i(),s&&k()},null===l||void 0===l?void 0:l.props.onExited)}),rootRef:f,portalRef:A,isTopModal:N,exited:x,hasTransition:b}};function l$(e){return rW("MuiModal",e)}nW("MuiModal",["root","hidden","backdrop"]);const c$=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],d$=VW("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(XW(e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}})),u$=VW(XY,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),p$=a.forwardRef(function(e,t){const r=GW({name:"MuiModal",props:e}),{BackdropComponent:n=u$,BackdropProps:s,classes:o,className:i,closeAfterTransition:l=!1,children:c,container:d,component:u,components:p={},componentsProps:h={},disableAutoFocus:m=!1,disableEnforceFocus:f=!1,disableEscapeKeyDown:x=!1,disablePortal:g=!1,disableRestoreFocus:b=!1,disableScrollLock:y=!1,hideBackdrop:v=!1,keepMounted:j=!1,onBackdropClick:w,onClose:N,onTransitionEnter:A,onTransitionExited:k,open:C,slotProps:F={},slots:S={},theme:E}=r,P=(0,go.A)(r,c$),D=(0,Mt.A)((0,Mt.A)({},r),{},{closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:f,disableEscapeKeyDown:x,disablePortal:g,disableRestoreFocus:b,disableScrollLock:y,hideBackdrop:v,keepMounted:j}),{getRootProps:O,getBackdropProps:T,getTransitionProps:I,portalRef:M,isTopModal:_,exited:R,hasTransition:B}=i$((0,Mt.A)((0,Mt.A)({},D),{},{rootRef:t})),L=(0,Mt.A)((0,Mt.A)({},D),{},{exited:R}),z=(e=>{const{open:t,exited:r,classes:n}=e;return CW({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},l$,n)})(L),U={};if(void 0===c.props.tabIndex&&(U.tabIndex="-1"),B){const{onEnter:e,onExited:t}=I();U.onEnter=e,U.onExited=t}const W=(0,Mt.A)((0,Mt.A)({},P),{},{slots:(0,Mt.A)({root:p.Root,backdrop:p.Backdrop},S),slotProps:(0,Mt.A)((0,Mt.A)({},h),F)}),[V,H]=dG("root",{elementType:d$,externalForwardedProps:W,getSlotProps:O,additionalProps:{ref:t,as:u},ownerState:L,className:Mi(i,null===z||void 0===z?void 0:z.root,!L.open&&L.exited&&(null===z||void 0===z?void 0:z.hidden))}),[K,q]=dG("backdrop",{elementType:n,externalForwardedProps:W,additionalProps:s,getSlotProps:e=>T((0,Mt.A)((0,Mt.A)({},e),{},{onClick:t=>{w&&w(t),null!==e&&void 0!==e&&e.onClick&&e.onClick(t)}})),className:Mi(null===s||void 0===s?void 0:s.className,null===z||void 0===z?void 0:z.backdrop),ownerState:L}),G=LV(null===s||void 0===s?void 0:s.ref,q.ref);return j||C||B&&!R?(0,Vn.jsx)(kq,{ref:M,container:d,disablePortal:g,children:(0,Vn.jsxs)(V,(0,Mt.A)((0,Mt.A)({},H),{},{children:[!v&&n?(0,Vn.jsx)(K,(0,Mt.A)((0,Mt.A)({},q),{},{ref:G})):null,(0,Vn.jsx)(WY,{disableEnforceFocus:f,disableAutoFocus:m,disableRestoreFocus:b,isEnabled:_,open:C,children:a.cloneElement(c,U)})]}))}):null}),h$=p$;function m$(e){return rW("MuiDialog",e)}const f$=nW("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const x$=a.createContext({}),g$=["aria-describedby","aria-labelledby","aria-modal","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],b$=VW(XY,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),y$=VW(h$,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),v$=VW("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t["scroll".concat(yV(r.scroll))]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),j$=VW(rV,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t["scrollPaper".concat(yV(r.scroll))],t["paperWidth".concat(yV(String(r.maxWidth)))],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(XW(e=>{let{theme:t}=e;return{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:e=>{let{ownerState:t}=e;return!t.maxWidth},style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(f$.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>"xs"!==e).map(e=>({props:{maxWidth:e},style:{maxWidth:"".concat(t.breakpoints.values[e]).concat(t.breakpoints.unit),["&.".concat(f$.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"calc(100% - 64px)"}},{props:e=>{let{ownerState:t}=e;return t.fullScreen},style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(f$.paperScrollBody)]:{margin:0,maxWidth:"100%"}}}]}})),w$=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiDialog"}),n=YW(),s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":i,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:d,children:u,className:p,disableEscapeKeyDown:h=!1,fullScreen:m=!1,fullWidth:f=!1,maxWidth:x="sm",onBackdropClick:g,onClick:b,onClose:y,open:v,PaperComponent:j=rV,PaperProps:w={},scroll:N="paper",TransitionComponent:A=qY,transitionDuration:k=s,TransitionProps:C}=r,F=(0,go.A)(r,g$),S=(0,Mt.A)((0,Mt.A)({},r),{},{disableEscapeKeyDown:h,fullScreen:m,fullWidth:f,maxWidth:x,scroll:N}),E=(e=>{const{classes:t,scroll:r,maxWidth:n,fullWidth:a,fullScreen:s}=e;return CW({root:["root"],container:["container","scroll".concat(yV(r))],paper:["paper","paperScroll".concat(yV(r)),"paperWidth".concat(yV(String(n))),a&&"paperFullWidth",s&&"paperFullScreen"]},m$,t)})(S),P=a.useRef(),D=Lq(i),O=a.useMemo(()=>({titleId:D}),[D]);return(0,Vn.jsx)(y$,(0,Mt.A)((0,Mt.A)({className:Mi(E.root,p),closeAfterTransition:!0,components:{Backdrop:b$},componentsProps:{backdrop:(0,Mt.A)({transitionDuration:k,as:c},d)},disableEscapeKeyDown:h,onClose:y,open:v,ref:t,onClick:e=>{b&&b(e),P.current&&(P.current=null,g&&g(e),y&&y(e,"backdropClick"))},ownerState:S},F),{},{children:(0,Vn.jsx)(A,(0,Mt.A)((0,Mt.A)({appear:!0,in:v,timeout:k,role:"presentation"},C),{},{children:(0,Vn.jsx)(v$,{className:Mi(E.container),onMouseDown:e=>{P.current=e.target===e.currentTarget},ownerState:S,children:(0,Vn.jsx)(j$,(0,Mt.A)((0,Mt.A)({as:j,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":D,"aria-modal":l},w),{},{className:Mi(E.paper,w.className),ownerState:S,children:(0,Vn.jsx)(x$.Provider,{value:O,children:u})}))})}))}))}),N$=w$;function A$(e){return rW("MuiDialogTitle",e)}const k$=nW("MuiDialogTitle",["root"]),C$=["className","id"],F$=VW(PV,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),S$=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiDialogTitle"}),{className:n,id:s}=r,o=(0,go.A)(r,C$),i=r,l=(e=>{const{classes:t}=e;return CW({root:["root"]},A$,t)})(i),{titleId:c=s}=a.useContext(x$);return(0,Vn.jsx)(F$,(0,Mt.A)({component:"h2",className:Mi(l.root,n),ownerState:i,ref:t,variant:"h6",id:null!==s&&void 0!==s?s:c},o))});function E$(e){return rW("MuiDialogContent",e)}nW("MuiDialogContent",["root","dividers"]);const P$=["className","dividers"],D$=VW("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(XW(e=>{let{theme:t}=e;return{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:e=>{let{ownerState:t}=e;return t.dividers},style:{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return!t.dividers},style:{[".".concat(k$.root," + &")]:{paddingTop:0}}}]}})),O$=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiDialogContent"}),{className:n,dividers:a=!1}=r,s=(0,go.A)(r,P$),o=(0,Mt.A)((0,Mt.A)({},r),{},{dividers:a}),i=(e=>{const{classes:t,dividers:r}=e;return CW({root:["root",r&&"dividers"]},E$,t)})(o);return(0,Vn.jsx)(D$,(0,Mt.A)({className:Mi(i.root,n),ownerState:o,ref:t},s))});function T$(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];clearTimeout(t),t=setTimeout(()=>{e.apply(this,a)},r)}return n.clear=()=>{clearTimeout(t)},n}const I$=["onChange","maxRows","minRows","style","value"];function M$(e){return parseInt(e,10)||0}const _$={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const R$=a.forwardRef(function(e,t){const{onChange:r,maxRows:n,minRows:s=1,style:o,value:i}=e,l=(0,go.A)(e,I$),{current:c}=a.useRef(null!=i),d=a.useRef(null),u=BV(t,d),p=a.useRef(null),h=a.useRef(null),m=a.useCallback(()=>{const t=d.current,r=ZY(t).getComputedStyle(t);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};const a=h.current;a.style.width=r.width,a.value=t.value||e.placeholder||"x","\n"===a.value.slice(-1)&&(a.value+=" ");const o=r.boxSizing,i=M$(r.paddingBottom)+M$(r.paddingTop),l=M$(r.borderBottomWidth)+M$(r.borderTopWidth),c=a.scrollHeight;a.value="x";const u=a.scrollHeight;let p=c;s&&(p=Math.max(Number(s)*u,p)),n&&(p=Math.min(Number(n)*u,p)),p=Math.max(p,u);return{outerHeightStyle:p+("border-box"===o?i+l:0),overflowing:Math.abs(p-c)<=1}},[n,s,e.placeholder]),f=a.useCallback(()=>{const e=m();if(void 0===(t=e)||null===t||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const r=e.outerHeightStyle,n=d.current;p.current!==r&&(p.current=r,n.style.height="".concat(r,"px")),n.style.overflow=e.overflowing?"hidden":""},[m]);UV(()=>{const e=()=>{f()};let t;const r=T$(e),n=d.current,a=ZY(n);let s;return a.addEventListener("resize",r),"undefined"!==typeof ResizeObserver&&(s=new ResizeObserver(e),s.observe(n)),()=>{r.clear(),cancelAnimationFrame(t),a.removeEventListener("resize",r),s&&s.disconnect()}},[m,f]),UV(()=>{f()});return(0,Vn.jsxs)(a.Fragment,{children:[(0,Vn.jsx)("textarea",(0,Mt.A)({value:i,onChange:e=>{c||f(),r&&r(e)},ref:u,rows:s,style:o},l)),(0,Vn.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:(0,Mt.A)((0,Mt.A)((0,Mt.A)({},_$),o),{},{paddingTop:0,paddingBottom:0})})]})}),B$=R$;const L$=function(e){return"string"===typeof e};function z$(e){let{props:t,states:r,muiFormControl:n}=e;return r.reduce((e,r)=>(e[r]=t[r],n&&"undefined"===typeof t[r]&&(e[r]=n[r]),e),{})}const U$=a.createContext(void 0);function W$(){return a.useContext(U$)}const V$=UV;function H$(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function K$(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(H$(e.value)&&""!==e.value||t&&H$(e.defaultValue)&&""!==e.defaultValue)}function q$(e){return rW("MuiInputBase",e)}const G$=nW("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Y$=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"];var $$;const J$=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,"small"===r.size&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t["color".concat(yV(r.color))],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},X$=(e,t)=>{const{ownerState:r}=e;return[t.input,"small"===r.size&&t.inputSizeSmall,r.multiline&&t.inputMultiline,"search"===r.type&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},Q$=VW("div",{name:"MuiInputBase",slot:"Root",overridesResolver:J$})(XW(e=>{let{theme:t}=e;return(0,Mt.A)((0,Mt.A)({},t.typography.body1),{},{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(G$.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"4px 0 5px"}},{props:e=>{let{ownerState:t,size:r}=e;return t.multiline&&"small"===r},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"100%"}}]})})),Z$=VW("input",{name:"MuiInputBase",slot:"Input",overridesResolver:X$})(XW(e=>{let{theme:t}=e;const r="light"===t.palette.mode,n=(0,Mt.A)((0,Mt.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5}),{},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),a={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(G$.formControl," &")]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},["&.".concat(G$.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),eJ=function(e){return function(t){return(0,Vn.jsx)(bV,{styles:"function"===typeof e?r=>e((0,Mt.A)({theme:r},t)):e})}}({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),tJ=a.forwardRef(function(e,t){var r;const n=GW({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:i,className:l,color:c,components:d={},componentsProps:u={},defaultValue:p,disabled:h,disableInjectingGlobalStyles:m,endAdornment:f,error:x,fullWidth:g=!1,id:b,inputComponent:y="input",inputProps:v={},inputRef:j,margin:w,maxRows:N,minRows:A,multiline:k=!1,name:C,onBlur:F,onChange:S,onClick:E,onFocus:P,onKeyDown:D,onKeyUp:O,placeholder:T,readOnly:I,renderSuffix:M,rows:_,size:R,slotProps:B={},slots:L={},startAdornment:z,type:U="text",value:W}=n,V=(0,go.A)(n,Y$),H=null!=v.value?v.value:W,{current:K}=a.useRef(null!=H),q=a.useRef(),G=a.useCallback(e=>{0},[]),Y=LV(q,j,v.ref,G),[$,J]=a.useState(!1),X=W$();const Q=z$({props:n,muiFormControl:X,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Q.focused=X?X.focused:$,a.useEffect(()=>{!X&&h&&$&&(J(!1),F&&F())},[X,h,$,F]);const Z=X&&X.onFilled,ee=X&&X.onEmpty,te=a.useCallback(e=>{K$(e)?Z&&Z():ee&&ee()},[Z,ee]);V$(()=>{K&&te({value:H})},[H,te,K]);a.useEffect(()=>{te(q.current)},[]);let re=y,ne=v;k&&"input"===re&&(ne=_?(0,Mt.A)({type:void 0,minRows:_,maxRows:_},ne):(0,Mt.A)({type:void 0,maxRows:N,minRows:A},ne),re=B$);a.useEffect(()=>{X&&X.setAdornedStart(Boolean(z))},[X,z]);const ae=(0,Mt.A)((0,Mt.A)({},n),{},{color:Q.color||"primary",disabled:Q.disabled,endAdornment:f,error:Q.error,focused:Q.focused,formControl:X,fullWidth:g,hiddenLabel:Q.hiddenLabel,multiline:k,size:Q.size,startAdornment:z,type:U}),se=(e=>{const{classes:t,color:r,disabled:n,error:a,endAdornment:s,focused:o,formControl:i,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:u,size:p,startAdornment:h,type:m}=e;return CW({root:["root","color".concat(yV(r)),n&&"disabled",a&&"error",l&&"fullWidth",o&&"focused",i&&"formControl",p&&"medium"!==p&&"size".concat(yV(p)),d&&"multiline",h&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",u&&"readOnly"],input:["input",n&&"disabled","search"===m&&"inputTypeSearch",d&&"inputMultiline","small"===p&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",s&&"inputAdornedEnd",u&&"readOnly"]},q$,t)})(ae),oe=L.root||d.Root||Q$,ie=B.root||u.root||{},le=L.input||d.Input||Z$;return ne=(0,Mt.A)((0,Mt.A)({},ne),null!==(r=B.input)&&void 0!==r?r:u.input),(0,Vn.jsxs)(a.Fragment,{children:[!m&&"function"===typeof eJ&&($$||($$=(0,Vn.jsx)(eJ,{}))),(0,Vn.jsxs)(oe,(0,Mt.A)((0,Mt.A)((0,Mt.A)((0,Mt.A)({},ie),{},{ref:t,onClick:e=>{q.current&&e.currentTarget===e.target&&q.current.focus(),E&&E(e)}},V),!L$(oe)&&{ownerState:(0,Mt.A)((0,Mt.A)({},ae),ie.ownerState)}),{},{className:Mi(se.root,ie.className,l,I&&"MuiInputBase-readOnly"),children:[z,(0,Vn.jsx)(U$.Provider,{value:null,children:(0,Vn.jsx)(le,(0,Mt.A)((0,Mt.A)((0,Mt.A)({"aria-invalid":Q.error,"aria-describedby":s,autoComplete:o,autoFocus:i,defaultValue:p,disabled:Q.disabled,id:b,onAnimationStart:e=>{te("mui-auto-fill-cancel"===e.animationName?q.current:{value:"x"})},name:C,placeholder:T,readOnly:I,required:Q.required,rows:_,value:H,onKeyDown:D,onKeyUp:O,type:U},ne),!L$(le)&&{as:re,ownerState:(0,Mt.A)((0,Mt.A)({},ae),ne.ownerState)}),{},{ref:Y,className:Mi(se.input,ne.className,I&&"MuiInputBase-readOnly"),onBlur:e=>{F&&F(e),v.onBlur&&v.onBlur(e),X&&X.onBlur?X.onBlur(e):J(!1)},onChange:function(e){if(!K){const t=e.target||q.current;if(null==t)throw new Error(cL(1));te({value:t.value})}for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];v.onChange&&v.onChange(e,...r),S&&S(e,...r)},onFocus:e=>{P&&P(e),v.onFocus&&v.onFocus(e),X&&X.onFocus?X.onFocus(e):J(!0)}}))}),f,M?M((0,Mt.A)((0,Mt.A)({},Q),{},{startAdornment:z})):null]}))]})}),rJ=tJ;function nJ(e){return rW("MuiInput",e)}const aJ=(0,Mt.A)((0,Mt.A)({},G$),nW("MuiInput",["root","underline","input"])),sJ=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],oJ=VW(Q$,{shouldForwardProp:e=>UW(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...J$(e,t),!r.disableUnderline&&t.underline]}})(XW(e=>{let{theme:t}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),{position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{"label + &":{marginTop:16}}},{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(aJ.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(aJ.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(aJ.disabled,", .").concat(aJ.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(aJ.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(vV()).map(e=>{let[r]=e;return{props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[r].main)}}}})]}})),iJ=VW(Z$,{name:"MuiInput",slot:"Input",overridesResolver:X$})({}),lJ=a.forwardRef(function(e,t){var r,n,a,s;const o=GW({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:l={},componentsProps:c,fullWidth:d=!1,inputComponent:u="input",multiline:p=!1,slotProps:h,slots:m={},type:f="text"}=o,x=(0,go.A)(o,sJ),g=(e=>{const{classes:t,disableUnderline:r}=e,n=CW({root:["root",!r&&"underline"],input:["input"]},nJ,t);return(0,Mt.A)((0,Mt.A)({},t),n)})(o),b={root:{ownerState:{disableUnderline:i}}},y=(null!==h&&void 0!==h?h:c)?mL(null!==h&&void 0!==h?h:c,b):b,v=null!==(r=null!==(n=m.root)&&void 0!==n?n:l.Root)&&void 0!==r?r:oJ,j=null!==(a=null!==(s=m.input)&&void 0!==s?s:l.Input)&&void 0!==a?a:iJ;return(0,Vn.jsx)(rJ,(0,Mt.A)((0,Mt.A)({slots:{root:v,input:j},slotProps:y,fullWidth:d,inputComponent:u,multiline:p,ref:t,type:f},x),{},{classes:g}))});lJ&&(lJ.muiName="Input");const cJ=lJ;function dJ(e){return rW("MuiFilledInput",e)}const uJ=(0,Mt.A)((0,Mt.A)({},G$),nW("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])),pJ=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],hJ=VW(Q$,{shouldForwardProp:e=>UW(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...J$(e,t),!r.disableUnderline&&t.underline]}})(XW(e=>{let{theme:t}=e;const r="light"===t.palette.mode,n=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},["&.".concat(uJ.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},["&.".concat(uJ.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(uJ.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(uJ.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(uJ.disabled,", .").concat(uJ.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(uJ.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(vV()).map(e=>{var r;let[n]=e;return{props:{disableUnderline:!1,color:n},style:{"&::after":{borderBottom:"2px solid ".concat(null===(r=(t.vars||t).palette[n])||void 0===r?void 0:r.main)}}}}),{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:12}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:12}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"25px 12px 8px"}},{props:e=>{let{ownerState:t,size:r}=e;return t.multiline&&"small"===r},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}}]}})),mJ=VW(Z$,{name:"MuiFilledInput",slot:"Input",overridesResolver:X$})(XW(e=>{let{theme:t}=e;return(0,Mt.A)((0,Mt.A)((0,Mt.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]})})),fJ=a.forwardRef(function(e,t){var r,n,a,s;const o=GW({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:l={},componentsProps:c,fullWidth:d=!1,hiddenLabel:u,inputComponent:p="input",multiline:h=!1,slotProps:m,slots:f={},type:x="text"}=o,g=(0,go.A)(o,pJ),b=(0,Mt.A)((0,Mt.A)({},o),{},{disableUnderline:i,fullWidth:d,inputComponent:p,multiline:h,type:x}),y=(e=>{const{classes:t,disableUnderline:r,startAdornment:n,endAdornment:a,size:s,hiddenLabel:o,multiline:i}=e,l=CW({root:["root",!r&&"underline",n&&"adornedStart",a&&"adornedEnd","small"===s&&"size".concat(yV(s)),o&&"hiddenLabel",i&&"multiline"],input:["input"]},dJ,t);return(0,Mt.A)((0,Mt.A)({},t),l)})(o),v={root:{ownerState:b},input:{ownerState:b}},j=(null!==m&&void 0!==m?m:c)?mL(v,null!==m&&void 0!==m?m:c):v,w=null!==(r=null!==(n=f.root)&&void 0!==n?n:l.Root)&&void 0!==r?r:hJ,N=null!==(a=null!==(s=f.input)&&void 0!==s?s:l.Input)&&void 0!==a?a:mJ;return(0,Vn.jsx)(rJ,(0,Mt.A)((0,Mt.A)({slots:{root:w,input:N},componentsProps:j,fullWidth:d,inputComponent:p,multiline:h,ref:t,type:x},g),{},{classes:y}))});fJ&&(fJ.muiName="Input");const xJ=fJ,gJ=["children","classes","className","label","notched"];var bJ;const yJ=VW("fieldset",{shouldForwardProp:UW})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),vJ=VW("legend",{shouldForwardProp:UW})(XW(e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:e=>{let{ownerState:t}=e;return!t.withLabel},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:e=>{let{ownerState:t}=e;return t.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:e=>{let{ownerState:t}=e;return t.withLabel&&t.notched},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}}));function jJ(e){return rW("MuiOutlinedInput",e)}const wJ=(0,Mt.A)((0,Mt.A)({},G$),nW("MuiOutlinedInput",["root","notchedOutline","input"])),NJ=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],AJ=VW(Q$,{shouldForwardProp:e=>UW(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:J$})(XW(e=>{let{theme:t}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(wJ.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(wJ.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(wJ.focused," .").concat(wJ.notchedOutline)]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(vV()).map(e=>{let[r]=e;return{props:{color:r},style:{["&.".concat(wJ.focused," .").concat(wJ.notchedOutline)]:{borderColor:(t.vars||t).palette[r].main}}}}),{props:{},style:{["&.".concat(wJ.error," .").concat(wJ.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(wJ.disabled," .").concat(wJ.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:14}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:14}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"16.5px 14px"}},{props:e=>{let{ownerState:t,size:r}=e;return t.multiline&&"small"===r},style:{padding:"8.5px 14px"}}]}})),kJ=VW(function(e){const{children:t,classes:r,className:n,label:a,notched:s}=e,o=(0,go.A)(e,gJ),i=null!=a&&""!==a,l=(0,Mt.A)((0,Mt.A)({},e),{},{notched:s,withLabel:i});return(0,Vn.jsx)(yJ,(0,Mt.A)((0,Mt.A)({"aria-hidden":!0,className:n,ownerState:l},o),{},{children:(0,Vn.jsx)(vJ,{ownerState:l,children:i?(0,Vn.jsx)("span",{children:a}):bJ||(bJ=(0,Vn.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(XW(e=>{let{theme:t}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}})),CJ=VW(Z$,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:X$})(XW(e=>{let{theme:t}=e;return(0,Mt.A)((0,Mt.A)((0,Mt.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:0}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}}]})})),FJ=a.forwardRef(function(e,t){var r,n,s,o,i;const l=GW({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:d=!1,inputComponent:u="input",label:p,multiline:h=!1,notched:m,slots:f={},type:x="text"}=l,g=(0,go.A)(l,NJ),b=(e=>{const{classes:t}=e,r=CW({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},jJ,t);return(0,Mt.A)((0,Mt.A)({},t),r)})(l),y=W$(),v=z$({props:l,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),j=(0,Mt.A)((0,Mt.A)({},l),{},{color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:y,fullWidth:d,hiddenLabel:v.hiddenLabel,multiline:h,size:v.size,type:x}),w=null!==(r=null!==(n=f.root)&&void 0!==n?n:c.Root)&&void 0!==r?r:AJ,N=null!==(s=null!==(o=f.input)&&void 0!==o?o:c.Input)&&void 0!==s?s:CJ;return(0,Vn.jsx)(rJ,(0,Mt.A)((0,Mt.A)({slots:{root:w,input:N},renderSuffix:e=>(0,Vn.jsx)(kJ,{ownerState:j,className:b.notchedOutline,label:null!=p&&""!==p&&v.required?i||(i=(0,Vn.jsxs)(a.Fragment,{children:[p,"\u2009","*"]})):p,notched:"undefined"!==typeof m?m:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:d,inputComponent:u,multiline:h,ref:t,type:x},g),{},{classes:(0,Mt.A)((0,Mt.A)({},b),{},{notchedOutline:null})}))});FJ&&(FJ.muiName="Input");const SJ=FJ;function EJ(e){return rW("MuiFormLabel",e)}const PJ=nW("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),DJ=["children","className","color","component","disabled","error","filled","focused","required"],OJ=VW("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return(0,Mt.A)((0,Mt.A)((0,Mt.A)({},t.root),"secondary"===r.color&&t.colorSecondary),r.filled&&t.filled)}})(XW(e=>{let{theme:t}=e;return(0,Mt.A)((0,Mt.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1),{},{lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(vV()).map(e=>{let[r]=e;return{props:{color:r},style:{["&.".concat(PJ.focused)]:{color:(t.vars||t).palette[r].main}}}}),{props:{},style:{["&.".concat(PJ.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(PJ.error)]:{color:(t.vars||t).palette.error.main}}}]})})),TJ=VW("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(XW(e=>{let{theme:t}=e;return{["&.".concat(PJ.error)]:{color:(t.vars||t).palette.error.main}}})),IJ=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiFormLabel"}),{children:n,className:a,color:s,component:o="label",disabled:i,error:l,filled:c,focused:d,required:u}=r,p=(0,go.A)(r,DJ),h=z$({props:r,muiFormControl:W$(),states:["color","required","focused","disabled","error","filled"]}),m=(0,Mt.A)((0,Mt.A)({},r),{},{color:h.color||"primary",component:o,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),f=(e=>{const{classes:t,color:r,focused:n,disabled:a,error:s,filled:o,required:i}=e;return CW({root:["root","color".concat(yV(r)),a&&"disabled",s&&"error",o&&"filled",n&&"focused",i&&"required"],asterisk:["asterisk",s&&"error"]},EJ,t)})(m);return(0,Vn.jsxs)(OJ,(0,Mt.A)((0,Mt.A)({as:o,ownerState:m,className:Mi(f.root,a),ref:t},p),{},{children:[n,h.required&&(0,Vn.jsxs)(TJ,{ownerState:m,"aria-hidden":!0,className:f.asterisk,children:["\u2009","*"]})]}))}),MJ=IJ;function _J(e){return rW("MuiInputLabel",e)}nW("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const RJ=["disableAnimation","margin","shrink","variant","className"],BJ=VW(MJ,{shouldForwardProp:e=>UW(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{["& .".concat(PJ.asterisk)]:t.asterisk},t.root,r.formControl&&t.formControl,"small"===r.size&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(XW(e=>{let{theme:t}=e;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:e=>{let{ownerState:t}=e;return t.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:e=>{let{ownerState:t}=e;return!t.disableAnimation},style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:e=>{let{variant:t,ownerState:r}=e;return"filled"===t&&r.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:e=>{let{variant:t,ownerState:r,size:n}=e;return"filled"===t&&r.shrink&&"small"===n},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:e=>{let{variant:t,ownerState:r}=e;return"outlined"===t&&r.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}})),LJ=a.forwardRef(function(e,t){const r=GW({name:"MuiInputLabel",props:e}),{disableAnimation:n=!1,margin:a,shrink:s,variant:o,className:i}=r,l=(0,go.A)(r,RJ),c=W$();let d=s;"undefined"===typeof d&&c&&(d=c.filled||c.focused||c.adornedStart);const u=z$({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),p=(0,Mt.A)((0,Mt.A)({},r),{},{disableAnimation:n,formControl:c,shrink:d,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=(e=>{const{classes:t,formControl:r,size:n,shrink:a,disableAnimation:s,variant:o,required:i}=e,l=CW({root:["root",r&&"formControl",!s&&"animated",a&&"shrink",n&&"normal"!==n&&"size".concat(yV(n)),o],asterisk:[i&&"asterisk"]},_J,t);return(0,Mt.A)((0,Mt.A)({},t),l)})(p);return(0,Vn.jsx)(BJ,(0,Mt.A)((0,Mt.A)({"data-shrink":d,ref:t,className:Mi(h.root,i)},l),{},{ownerState:p,classes:h}))});const zJ=function(e,t){var r,n;return a.isValidElement(e)&&-1!==t.indexOf(null!==(r=e.type.muiName)&&void 0!==r?r:null===(n=e.type)||void 0===n||null===(n=n._payload)||void 0===n||null===(n=n.value)||void 0===n?void 0:n.muiName)};function UJ(e){return rW("MuiFormControl",e)}nW("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const WJ=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],VJ=VW("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return(0,Mt.A)((0,Mt.A)((0,Mt.A)({},t.root),t["margin".concat(yV(r.margin))]),r.fullWidth&&t.fullWidth)}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),HJ=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiFormControl"}),{children:n,className:s,color:o="primary",component:i="div",disabled:l=!1,error:c=!1,focused:d,fullWidth:u=!1,hiddenLabel:p=!1,margin:h="none",required:m=!1,size:f="medium",variant:x="outlined"}=r,g=(0,go.A)(r,WJ),b=(0,Mt.A)((0,Mt.A)({},r),{},{color:o,component:i,disabled:l,error:c,fullWidth:u,hiddenLabel:p,margin:h,required:m,size:f,variant:x}),y=(e=>{const{classes:t,margin:r,fullWidth:n}=e;return CW({root:["root","none"!==r&&"margin".concat(yV(r)),n&&"fullWidth"]},UJ,t)})(b),[v,j]=a.useState(()=>{let e=!1;return n&&a.Children.forEach(n,t=>{if(!zJ(t,["Input","Select"]))return;const r=zJ(t,["Select"])?t.props.input:t;r&&r.props.startAdornment&&(e=!0)}),e}),[w,N]=a.useState(()=>{let e=!1;return n&&a.Children.forEach(n,t=>{zJ(t,["Input","Select"])&&(K$(t.props,!0)||K$(t.props.inputProps,!0))&&(e=!0)}),e}),[A,k]=a.useState(!1);l&&A&&k(!1);const C=void 0===d||l?A:d;let F;a.useRef(!1);const S=a.useMemo(()=>({adornedStart:v,setAdornedStart:j,color:o,disabled:l,error:c,filled:w,focused:C,fullWidth:u,hiddenLabel:p,size:f,onBlur:()=>{k(!1)},onEmpty:()=>{N(!1)},onFilled:()=>{N(!0)},onFocus:()=>{k(!0)},registerEffect:F,required:m,variant:x}),[v,o,l,c,w,C,u,p,F,m,f,x]);return(0,Vn.jsx)(U$.Provider,{value:S,children:(0,Vn.jsx)(VJ,(0,Mt.A)((0,Mt.A)({as:i,ownerState:b,className:Mi(y.root,s),ref:t},g),{},{children:n}))})}),KJ=HJ;function qJ(e){return rW("MuiFormHelperText",e)}const GJ=nW("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),YJ=["children","className","component","disabled","error","filled","focused","margin","required","variant"];var $J;const JJ=VW("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t["size".concat(yV(r.size))],r.contained&&t.contained,r.filled&&t.filled]}})(XW(e=>{let{theme:t}=e;return(0,Mt.A)((0,Mt.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption),{},{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(GJ.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(GJ.error)]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:e=>{let{ownerState:t}=e;return t.contained},style:{marginLeft:14,marginRight:14}}]})})),XJ=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiFormHelperText"}),{children:n,className:a,component:s="p",disabled:o,error:i,filled:l,focused:c,margin:d,required:u,variant:p}=r,h=(0,go.A)(r,YJ),m=z$({props:r,muiFormControl:W$(),states:["variant","size","disabled","error","filled","focused","required"]}),f=(0,Mt.A)((0,Mt.A)({},r),{},{component:s,contained:"filled"===m.variant||"outlined"===m.variant,variant:m.variant,size:m.size,disabled:m.disabled,error:m.error,filled:m.filled,focused:m.focused,required:m.required});delete f.ownerState;const x=(e=>{const{classes:t,contained:r,size:n,disabled:a,error:s,filled:o,focused:i,required:l}=e;return CW({root:["root",a&&"disabled",s&&"error",n&&"size".concat(yV(n)),r&&"contained",i&&"focused",o&&"filled",l&&"required"]},qJ,t)})(f);return(0,Vn.jsx)(JJ,(0,Mt.A)((0,Mt.A)({as:s,className:Mi(x.root,a),ref:t},h),{},{ownerState:f,children:" "===n?$J||($J=(0,Vn.jsx)("span",{className:"notranslate",children:"\u200b"})):n}))});r(805);const QJ=rK;const ZJ=a.createContext({});function eX(e){return rW("MuiList",e)}nW("MuiList",["root","padding","dense","subheader"]);const tX=["children","className","component","dense","disablePadding","subheader"],rX=VW("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),nX=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiList"}),{children:n,className:s,component:o="ul",dense:i=!1,disablePadding:l=!1,subheader:c}=r,d=(0,go.A)(r,tX),u=a.useMemo(()=>({dense:i}),[i]),p=(0,Mt.A)((0,Mt.A)({},r),{},{component:o,dense:i,disablePadding:l}),h=(e=>{const{classes:t,disablePadding:r,dense:n,subheader:a}=e;return CW({root:["root",!r&&"padding",n&&"dense",a&&"subheader"]},eX,t)})(p);return(0,Vn.jsx)(ZJ.Provider,{value:u,children:(0,Vn.jsxs)(rX,(0,Mt.A)((0,Mt.A)({as:o,className:Mi(h.root,s),ref:t,ownerState:p},d),{},{children:[c,n]}))})}),aX=e$,sX=ZY,oX=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function iX(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function lX(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function cX(e,t){if(void 0===t)return!0;let r=e.innerText;return void 0===r&&(r=e.textContent),r=r.trim().toLowerCase(),0!==r.length&&(t.repeating?r[0]===t.keys[0]:r.startsWith(t.keys.join("")))}function dX(e,t,r,n,a,s){let o=!1,i=a(e,t,!!t&&r);for(;i;){if(i===e.firstChild){if(o)return!1;o=!0}const t=!n&&(i.disabled||"true"===i.getAttribute("aria-disabled"));if(i.hasAttribute("tabindex")&&cX(i,s)&&!t)return i.focus(),!0;i=a(e,i,r)}return!1}const uX=a.forwardRef(function(e,t){const{actions:r,autoFocus:n=!1,autoFocusItem:s=!1,children:o,className:i,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:u="selectedMenu"}=e,p=(0,go.A)(e,oX),h=a.useRef(null),m=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});V$(()=>{n&&h.current.focus()},[n]),a.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:r}=t;const n=!h.current.style.width;if(e.clientHeight<h.current.clientHeight&&n){const t="".concat(aX(sX(e)),"px");h.current.style["rtl"===r?"paddingLeft":"paddingRight"]=t,h.current.style.width="calc(100% + ".concat(t,")")}return h.current}}),[]);const f=LV(h,t);let x=-1;a.Children.forEach(o,(e,t)=>{a.isValidElement(e)?(e.props.disabled||("selectedMenu"===u&&e.props.selected||-1===x)&&(x=t),x===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))):x===t&&(x+=1,x>=o.length&&(x=-1))});const g=a.Children.map(o,(e,t)=>{if(t===x){const t={};return s&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===u&&(t.tabIndex=0),a.cloneElement(e,t)}return e});return(0,Vn.jsx)(nX,(0,Mt.A)((0,Mt.A)({role:"menu",ref:f,className:i,onKeyDown:e=>{const t=h.current,r=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(d&&d(e));const n=QJ(t).activeElement;if("ArrowDown"===r)e.preventDefault(),dX(t,n,c,l,iX);else if("ArrowUp"===r)e.preventDefault(),dX(t,n,c,l,lX);else if("Home"===r)e.preventDefault(),dX(t,null,c,l,iX);else if("End"===r)e.preventDefault(),dX(t,null,c,l,lX);else if(1===r.length){const a=m.current,s=r.toLowerCase(),o=performance.now();a.keys.length>0&&(o-a.lastTime>500?(a.keys=[],a.repeating=!0,a.previousKeyMatched=!0):a.repeating&&s!==a.keys[0]&&(a.repeating=!1)),a.lastTime=o,a.keys.push(s);const i=n&&!a.repeating&&cX(n,a);a.previousKeyMatched&&(i||dX(t,n,!1,l,iX,a))?e.preventDefault():a.previousKeyMatched=!1}d&&d(e)},tabIndex:n?0:-1},p),{},{children:g}))}),pX=uX,hX=T$;function mX(e){return rW("MuiPopover",e)}nW("MuiPopover",["root","paper"]);const fX=["onEntering"],xX=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],gX=["slotProps"];function bX(e,t){let r=0;return"number"===typeof t?r=t:"center"===t?r=e.height/2:"bottom"===t&&(r=e.height),r}function yX(e,t){let r=0;return"number"===typeof t?r=t:"center"===t?r=e.width/2:"right"===t&&(r=e.width),r}function vX(e){return[e.horizontal,e.vertical].map(e=>"number"===typeof e?"".concat(e,"px"):e).join(" ")}function jX(e){return"function"===typeof e?e():e}const wX=VW(h$,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),NX=VW(rV,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),AX=a.forwardRef(function(e,t){var r;const n=GW({props:e,name:"MuiPopover"}),{action:s,anchorEl:o,anchorOrigin:i={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:d,className:u,container:p,elevation:h=8,marginThreshold:m=16,open:f,PaperProps:x={},slots:g={},slotProps:b={},transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:v=tK,transitionDuration:j="auto",TransitionProps:{onEntering:w}={},disableScrollLock:N=!1}=n,A=(0,go.A)(n.TransitionProps,fX),k=(0,go.A)(n,xX),C=null!==(r=null===b||void 0===b?void 0:b.paper)&&void 0!==r?r:x,F=a.useRef(),S=(0,Mt.A)((0,Mt.A)({},n),{},{anchorOrigin:i,anchorReference:c,elevation:h,marginThreshold:m,externalPaperSlotProps:C,transformOrigin:y,TransitionComponent:v,transitionDuration:j,TransitionProps:A}),E=(e=>{const{classes:t}=e;return CW({root:["root"],paper:["paper"]},mX,t)})(S),P=a.useCallback(()=>{if("anchorPosition"===c)return l;const e=jX(o),t=(e&&1===e.nodeType?e:QJ(F.current).body).getBoundingClientRect();return{top:t.top+bX(t,i.vertical),left:t.left+yX(t,i.horizontal)}},[o,i.horizontal,i.vertical,l,c]),D=a.useCallback(e=>({vertical:bX(e,y.vertical),horizontal:yX(e,y.horizontal)}),[y.horizontal,y.vertical]),O=a.useCallback(e=>{const t={width:e.offsetWidth,height:e.offsetHeight},r=D(t);if("none"===c)return{top:null,left:null,transformOrigin:vX(r)};const n=P();let a=n.top-r.vertical,s=n.left-r.horizontal;const i=a+t.height,l=s+t.width,d=sX(jX(o)),u=d.innerHeight-m,p=d.innerWidth-m;if(null!==m&&a<m){const e=a-m;a-=e,r.vertical+=e}else if(null!==m&&i>u){const e=i-u;a-=e,r.vertical+=e}if(null!==m&&s<m){const e=s-m;s-=e,r.horizontal+=e}else if(l>p){const e=l-p;s-=e,r.horizontal+=e}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:vX(r)}},[o,c,P,D,m]),[T,I]=a.useState(f),M=a.useCallback(()=>{const e=F.current;if(!e)return;const t=O(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,I(!0)},[O]);a.useEffect(()=>(N&&window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)),[o,N,M]);a.useEffect(()=>{f&&M()}),a.useImperativeHandle(s,()=>f?{updatePosition:()=>{M()}}:null,[f,M]),a.useEffect(()=>{if(!f)return;const e=hX(()=>{M()}),t=sX(o);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[o,f,M]);let _=j;"auto"!==j||v.muiSupportAuto||(_=void 0);const R=p||(o?QJ(jX(o)).body:void 0),B={slots:g,slotProps:(0,Mt.A)((0,Mt.A)({},b),{},{paper:C})},[L,z]=dG("paper",{elementType:NX,externalForwardedProps:B,additionalProps:{elevation:h,className:Mi(E.paper,null===C||void 0===C?void 0:C.className),style:T?C.style:(0,Mt.A)((0,Mt.A)({},C.style),{},{opacity:0})},ownerState:S}),[U,W]=dG("root",{elementType:wX,externalForwardedProps:B,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:R,open:f},ownerState:S,className:Mi(E.root,u)}),{slotProps:V}=W,H=(0,go.A)(W,gX),K=LV(F,z.ref);return(0,Vn.jsx)(U,(0,Mt.A)((0,Mt.A)((0,Mt.A)((0,Mt.A)({},H),!L$(U)&&{slotProps:V,disableScrollLock:N}),k),{},{ref:t,children:(0,Vn.jsx)(v,(0,Mt.A)((0,Mt.A)({appear:!0,in:f,onEntering:(e,t)=>{w&&w(e,t),M()},onExited:()=>{I(!1)},timeout:_},A),{},{children:(0,Vn.jsx)(L,(0,Mt.A)((0,Mt.A)({},z),{},{ref:K,children:d}))}))}))}),kX=AX;function CX(e){return rW("MuiMenu",e)}nW("MuiMenu",["root","paper","list"]);const FX=["onEntering"],SX=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],EX={vertical:"top",horizontal:"right"},PX={vertical:"top",horizontal:"left"},DX=VW(kX,{shouldForwardProp:e=>UW(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),OX=VW(NX,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),TX=VW(pX,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),IX=a.forwardRef(function(e,t){var r,n;const s=GW({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:i,className:l,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:u,open:p,PaperProps:h={},PopoverClasses:m,transitionDuration:f="auto",TransitionProps:{onEntering:x}={},variant:g="selectedMenu",slots:b={},slotProps:y={}}=s,v=(0,go.A)(s.TransitionProps,FX),j=(0,go.A)(s,SX),w=MH(),N=(0,Mt.A)((0,Mt.A)({},s),{},{autoFocus:o,disableAutoFocusItem:c,MenuListProps:d,onEntering:x,PaperProps:h,transitionDuration:f,TransitionProps:v,variant:g}),A=(e=>{const{classes:t}=e;return CW({root:["root"],paper:["paper"],list:["list"]},CX,t)})(N),k=o&&!c&&p,C=a.useRef(null);let F=-1;a.Children.map(i,(e,t)=>{a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===F)&&(F=t))});const S=null!==(r=b.paper)&&void 0!==r?r:OX,E=null!==(n=y.paper)&&void 0!==n?n:h,P=Nq({elementType:b.root,externalSlotProps:y.root,ownerState:N,className:[A.root,l]}),D=Nq({elementType:S,externalSlotProps:E,ownerState:N,className:A.paper});return(0,Vn.jsx)(DX,(0,Mt.A)((0,Mt.A)({onClose:u,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?EX:PX,slots:{paper:S,root:b.root},slotProps:{root:P,paper:D},open:p,ref:t,transitionDuration:f,TransitionProps:(0,Mt.A)({onEntering:(e,t)=>{C.current&&C.current.adjustStyleForScrollbar(e,{direction:w?"rtl":"ltr"}),x&&x(e,t)}},v),ownerState:N},j),{},{classes:m,children:(0,Vn.jsx)(TX,(0,Mt.A)((0,Mt.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),u&&u(e,"tabKeyDown"))},actions:C,autoFocus:o&&(-1===F||c),autoFocusItem:k,variant:g},d),{},{className:Mi(A.list,d.className),children:i}))}))}),MX=IX;function _X(e){return rW("MuiNativeSelect",e)}const RX=nW("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),BX=["className","disabled","error","IconComponent","inputRef","variant"],LX=VW("select")(e=>{let{theme:t}=e;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},["&.".concat(RX.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:e=>{let{ownerState:t}=e;return"filled"!==t.variant&&"outlined"!==t.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]}}),zX=VW(LX,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:UW,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{["&.".concat(RX.multiple)]:t.multiple}]}})({}),UX=VW("svg")(e=>{let{theme:t}=e;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,["&.".concat(RX.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:e=>{let{ownerState:t}=e;return t.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}}),WX=VW(UX,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t["icon".concat(yV(r.variant))],r.open&&t.iconOpen]}})({}),VX=a.forwardRef(function(e,t){const{className:r,disabled:n,error:s,IconComponent:o,inputRef:i,variant:l="standard"}=e,c=(0,go.A)(e,BX),d=(0,Mt.A)((0,Mt.A)({},e),{},{disabled:n,variant:l,error:s}),u=(e=>{const{classes:t,variant:r,disabled:n,multiple:a,open:s,error:o}=e;return CW({select:["select",r,n&&"disabled",a&&"multiple",o&&"error"],icon:["icon","icon".concat(yV(r)),s&&"iconOpen",n&&"disabled"]},_X,t)})(d);return(0,Vn.jsxs)(a.Fragment,{children:[(0,Vn.jsx)(zX,(0,Mt.A)({ownerState:d,className:Mi(u.select,r),disabled:n,ref:i||t},c)),e.multiple?null:(0,Vn.jsx)(WX,{as:o,ownerState:d,className:u.icon})]})});function HX(e){return rW("MuiSelect",e)}const KX=nW("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),qX=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"];var GX;const YX=VW(LX,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{["&.".concat(KX.select)]:t.select},{["&.".concat(KX.select)]:t[r.variant]},{["&.".concat(KX.error)]:t.error},{["&.".concat(KX.multiple)]:t.multiple}]}})({["&.".concat(KX.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),$X=VW(UX,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t["icon".concat(yV(r.variant))],r.open&&t.iconOpen]}})({}),JX=VW("input",{shouldForwardProp:e=>zW(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function XX(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function QX(e){return null==e||"string"===typeof e&&!e.trim()}const ZX=a.forwardRef(function(e,t){var r;const{"aria-describedby":n,"aria-label":s,autoFocus:o,autoWidth:i,children:l,className:c,defaultOpen:d,defaultValue:u,disabled:p,displayEmpty:h,error:m=!1,IconComponent:f,inputRef:x,labelId:g,MenuProps:b={},multiple:y,name:v,onBlur:j,onChange:w,onClose:N,onFocus:A,onOpen:k,open:C,readOnly:F,renderValue:S,SelectDisplayProps:E={},tabIndex:P,type:D,value:O,variant:T="standard"}=e,I=(0,go.A)(e,qX),[M,_]=Uq({controlled:O,default:u,name:"Select"}),[R,B]=Uq({controlled:C,default:d,name:"Select"}),L=a.useRef(null),z=a.useRef(null),[U,W]=a.useState(null),{current:V}=a.useRef(null!=C),[H,K]=a.useState(),q=LV(t,x),G=a.useCallback(e=>{z.current=e,e&&W(e)},[]),Y=null===U||void 0===U?void 0:U.parentNode;a.useImperativeHandle(q,()=>({focus:()=>{z.current.focus()},node:L.current,value:M}),[M]),a.useEffect(()=>{d&&R&&U&&!V&&(K(i?null:Y.clientWidth),z.current.focus())},[U,i]),a.useEffect(()=>{o&&z.current.focus()},[o]),a.useEffect(()=>{if(!g)return;const e=QJ(z.current).getElementById(g);if(e){const t=()=>{getSelection().isCollapsed&&z.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[g]);const $=(e,t)=>{e?k&&k(t):N&&N(t),V||(K(i?null:Y.clientWidth),B(e))},J=a.Children.toArray(l),X=e=>t=>{let r;if(t.currentTarget.hasAttribute("tabindex")){if(y){r=Array.isArray(M)?M.slice():[];const t=M.indexOf(e.props.value);-1===t?r.push(e.props.value):r.splice(t,1)}else r=e.props.value;if(e.props.onClick&&e.props.onClick(t),M!==r&&(_(r),w)){const n=t.nativeEvent||t,a=new n.constructor(n.type,n);Object.defineProperty(a,"target",{writable:!0,value:{value:r,name:v}}),w(a,e)}y||$(!1,t)}},Q=null!==U&&R;let Z,ee;delete I["aria-invalid"];const te=[];let re=!1,ne=!1;(K$({value:M})||h)&&(S?Z=S(M):re=!0);const ae=J.map(e=>{if(!a.isValidElement(e))return null;let t;if(y){if(!Array.isArray(M))throw new Error(cL(2));t=M.some(t=>XX(t,e.props.value)),t&&re&&te.push(e.props.children)}else t=XX(M,e.props.value),t&&re&&(ee=e.props.children);return t&&(ne=!0),a.cloneElement(e,{"aria-selected":t?"true":"false",onClick:X(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})});re&&(Z=y?0===te.length?null:te.reduce((e,t,r)=>(e.push(t),r<te.length-1&&e.push(", "),e),[]):ee);let se,oe=H;!i&&V&&U&&(oe=Y.clientWidth),se="undefined"!==typeof P?P:p?null:0;const ie=E.id||(v?"mui-component-select-".concat(v):void 0),le=(0,Mt.A)((0,Mt.A)({},e),{},{variant:T,value:M,open:Q,error:m}),ce=(e=>{const{classes:t,variant:r,disabled:n,multiple:a,open:s,error:o}=e;return CW({select:["select",r,n&&"disabled",a&&"multiple",o&&"error"],icon:["icon","icon".concat(yV(r)),s&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]},HX,t)})(le),de=(0,Mt.A)((0,Mt.A)({},b.PaperProps),null===(r=b.slotProps)||void 0===r?void 0:r.paper),ue=Lq();return(0,Vn.jsxs)(a.Fragment,{children:[(0,Vn.jsx)(YX,(0,Mt.A)((0,Mt.A)({as:"div",ref:G,tabIndex:se,role:"combobox","aria-controls":ue,"aria-disabled":p?"true":void 0,"aria-expanded":Q?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[g,ie].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:e=>{if(!F){[" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),$(!0,e))}},onMouseDown:p||F?null:e=>{0===e.button&&(e.preventDefault(),z.current.focus(),$(!0,e))},onBlur:e=>{!Q&&j&&(Object.defineProperty(e,"target",{writable:!0,value:{value:M,name:v}}),j(e))},onFocus:A},E),{},{ownerState:le,className:Mi(E.className,ce.select,c),id:ie,children:QX(Z)?GX||(GX=(0,Vn.jsx)("span",{className:"notranslate",children:"\u200b"})):Z})),(0,Vn.jsx)(JX,(0,Mt.A)((0,Mt.A)({"aria-invalid":m,value:Array.isArray(M)?M.join(","):M,name:v,ref:L,"aria-hidden":!0,onChange:e=>{const t=J.find(t=>t.props.value===e.target.value);void 0!==t&&(_(t.props.value),w&&w(e,t))},tabIndex:-1,disabled:p,className:ce.nativeInput,autoFocus:o},I),{},{ownerState:le})),(0,Vn.jsx)($X,{as:f,className:ce.icon,ownerState:le}),(0,Vn.jsx)(MX,(0,Mt.A)((0,Mt.A)({id:"menu-".concat(v||""),anchorEl:Y,open:Q,onClose:e=>{$(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},b),{},{MenuListProps:(0,Mt.A)({"aria-labelledby":g,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:ue},b.MenuListProps),slotProps:(0,Mt.A)((0,Mt.A)({},b.slotProps),{},{paper:(0,Mt.A)((0,Mt.A)({},de),{},{style:(0,Mt.A)({minWidth:oe},null!=de?de.style:null)})}),children:ae}))]})}),eQ=ZX,tQ=_V((0,Vn.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),rQ=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],nQ=["root"],aQ={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>UW(e)&&"variant"!==e,slot:"Root"},sQ=VW(cJ,aQ)(""),oQ=VW(SJ,aQ)(""),iQ=VW(xJ,aQ)(""),lQ=a.forwardRef(function(e,t){const r=GW({name:"MuiSelect",props:e}),{autoWidth:n=!1,children:s,classes:o={},className:i,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=tQ,id:u,input:p,inputProps:h,label:m,labelId:f,MenuProps:x,multiple:g=!1,native:b=!1,onClose:y,onOpen:v,open:j,renderValue:w,SelectDisplayProps:N,variant:A="outlined"}=r,k=(0,go.A)(r,rQ),C=b?VX:eQ,F=z$({props:r,muiFormControl:W$(),states:["variant","error"]}),S=F.variant||A,E=(0,Mt.A)((0,Mt.A)({},r),{},{variant:S,classes:o}),P=(e=>{const{classes:t}=e;return t})(E),{root:D}=P,O=(0,go.A)(P,nQ),T=p||{standard:(0,Vn.jsx)(sQ,{ownerState:E}),outlined:(0,Vn.jsx)(oQ,{label:m,ownerState:E}),filled:(0,Vn.jsx)(iQ,{ownerState:E})}[S],I=LV(t,BH(T));return(0,Vn.jsx)(a.Fragment,{children:a.cloneElement(T,(0,Mt.A)((0,Mt.A)((0,Mt.A)({inputComponent:C,inputProps:(0,Mt.A)((0,Mt.A)((0,Mt.A)({children:s,error:F.error,IconComponent:d,variant:S,type:void 0,multiple:g},b?{id:u}:{autoWidth:n,defaultOpen:l,displayEmpty:c,labelId:f,MenuProps:x,onClose:y,onOpen:v,open:j,renderValue:w,SelectDisplayProps:(0,Mt.A)({id:u},N)}),h),{},{classes:h?mL(O,h.classes):O},p?p.props.inputProps:{})},(g&&b||c)&&"outlined"===S?{notched:!0}:{}),{},{ref:I,className:Mi(T.props.className,i,P.root)},!p&&{variant:S}),k))})});lQ.muiName="Select";const cQ=lQ;function dQ(e){return rW("MuiTextField",e)}nW("MuiTextField",["root"]);const uQ=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","slots","slotProps","type","value","variant"],pQ={standard:cJ,filled:xJ,outlined:SJ},hQ=VW(KJ,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),mQ=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiTextField"}),{autoComplete:n,autoFocus:a=!1,children:s,className:o,color:i="primary",defaultValue:l,disabled:c=!1,error:d=!1,FormHelperTextProps:u,fullWidth:p=!1,helperText:h,id:m,InputLabelProps:f,inputProps:x,InputProps:g,inputRef:b,label:y,maxRows:v,minRows:j,multiline:w=!1,name:N,onBlur:A,onChange:k,onFocus:C,placeholder:F,required:S=!1,rows:E,select:P=!1,SelectProps:D,slots:O={},slotProps:T={},type:I,value:M,variant:_="outlined"}=r,R=(0,go.A)(r,uQ),B=(0,Mt.A)((0,Mt.A)({},r),{},{autoFocus:a,color:i,disabled:c,error:d,fullWidth:p,multiline:w,required:S,select:P,variant:_}),L=(e=>{const{classes:t}=e;return CW({root:["root"]},dQ,t)})(B);const z=Lq(m),U=h&&z?"".concat(z,"-helper-text"):void 0,W=y&&z?"".concat(z,"-label"):void 0,V=pQ[_],H={slots:O,slotProps:(0,Mt.A)({input:g,inputLabel:f,htmlInput:x,formHelperText:u,select:D},T)},K={},q=H.slotProps.inputLabel;"outlined"===_&&(q&&"undefined"!==typeof q.shrink&&(K.notched=q.shrink),K.label=y),P&&(D&&D.native||(K.id=void 0),K["aria-describedby"]=void 0);const[G,Y]=dG("input",{elementType:V,externalForwardedProps:H,additionalProps:K,ownerState:B}),[$,J]=dG("inputLabel",{elementType:LJ,externalForwardedProps:H,ownerState:B}),[X,Q]=dG("htmlInput",{elementType:"input",externalForwardedProps:H,ownerState:B}),[Z,ee]=dG("formHelperText",{elementType:XJ,externalForwardedProps:H,ownerState:B}),[te,re]=dG("select",{elementType:cQ,externalForwardedProps:H,ownerState:B}),ne=(0,Vn.jsx)(G,(0,Mt.A)({"aria-describedby":U,autoComplete:n,autoFocus:a,defaultValue:l,fullWidth:p,multiline:w,name:N,rows:E,maxRows:v,minRows:j,type:I,value:M,id:z,inputRef:b,onBlur:A,onChange:k,onFocus:C,placeholder:F,inputProps:Q,slots:{input:O.htmlInput?X:void 0}},Y));return(0,Vn.jsxs)(hQ,(0,Mt.A)((0,Mt.A)({className:Mi(L.root,o),disabled:c,error:d,fullWidth:p,ref:t,required:S,color:i,variant:_,ownerState:B},R),{},{children:[null!=y&&""!==y&&(0,Vn.jsx)($,(0,Mt.A)((0,Mt.A)({htmlFor:z,id:W},J),{},{children:y})),P?(0,Vn.jsx)(te,(0,Mt.A)((0,Mt.A)({"aria-describedby":U,id:z,labelId:W,value:M,input:ne},re),{},{children:s})):ne,h&&(0,Vn.jsx)(Z,(0,Mt.A)((0,Mt.A)({id:U},ee),{},{children:h}))]}))}),fQ=mQ;function xQ(e){return rW("MuiFormControlLabel",e)}const gQ=nW("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),bQ=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slots","slotProps","value"],yQ=VW("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{["& .".concat(gQ.label)]:t.label},t.root,t["labelPlacement".concat(yV(r.labelPlacement))]]}})(XW(e=>{let{theme:t}=e;return{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(gQ.disabled)]:{cursor:"default"},["& .".concat(gQ.label)]:{["&.".concat(gQ.disabled)]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:e=>{let{labelPlacement:t}=e;return"start"===t||"top"===t||"bottom"===t},style:{marginLeft:16}}]}})),vQ=VW("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(XW(e=>{let{theme:t}=e;return{["&.".concat(gQ.error)]:{color:(t.vars||t).palette.error.main}}})),jQ=a.forwardRef(function(e,t){var r;const n=GW({props:e,name:"MuiFormControlLabel"}),{checked:s,className:o,componentsProps:i={},control:l,disabled:c,disableTypography:d,inputRef:u,label:p,labelPlacement:h="end",name:m,onChange:f,required:x,slots:g={},slotProps:b={},value:y}=n,v=(0,go.A)(n,bQ),j=W$(),w=null!==(r=null!==c&&void 0!==c?c:l.props.disabled)&&void 0!==r?r:null===j||void 0===j?void 0:j.disabled,N=null!==x&&void 0!==x?x:l.props.required,A={disabled:w,required:N};["checked","name","onChange","value","inputRef"].forEach(e=>{"undefined"===typeof l.props[e]&&"undefined"!==typeof n[e]&&(A[e]=n[e])});const k=z$({props:n,muiFormControl:j,states:["error"]}),C=(0,Mt.A)((0,Mt.A)({},n),{},{disabled:w,labelPlacement:h,required:N,error:k.error}),F=(e=>{const{classes:t,disabled:r,labelPlacement:n,error:a,required:s}=e;return CW({root:["root",r&&"disabled","labelPlacement".concat(yV(n)),a&&"error",s&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",a&&"error"]},xQ,t)})(C),S={slots:g,slotProps:(0,Mt.A)((0,Mt.A)({},i),b)},[E,P]=dG("typography",{elementType:PV,externalForwardedProps:S,ownerState:C});let D=p;return null==D||D.type===PV||d||(D=(0,Vn.jsx)(E,(0,Mt.A)((0,Mt.A)({component:"span"},P),{},{className:Mi(F.label,null===P||void 0===P?void 0:P.className),children:D}))),(0,Vn.jsxs)(yQ,(0,Mt.A)((0,Mt.A)({className:Mi(F.root,o),ownerState:C,ref:t},v),{},{children:[a.cloneElement(l,A),N?(0,Vn.jsxs)("div",{children:[D,(0,Vn.jsxs)(vQ,{ownerState:C,"aria-hidden":!0,className:F.asterisk,children:["\u2009","*"]})]}):D]}))});function wQ(e){return rW("PrivateSwitchBase",e)}nW("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const NQ=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],AQ=VW(kH)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:e=>{let{edge:t,ownerState:r}=e;return"start"===t&&"small"!==r.size},style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:e=>{let{edge:t,ownerState:r}=e;return"end"===t&&"small"!==r.size},style:{marginRight:-12}}]}),kQ=VW("input",{shouldForwardProp:UW})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),CQ=a.forwardRef(function(e,t){const{autoFocus:r,checked:n,checkedIcon:a,className:s,defaultChecked:o,disabled:i,disableFocusRipple:l=!1,edge:c=!1,icon:d,id:u,inputProps:p,inputRef:h,name:m,onBlur:f,onChange:x,onFocus:g,readOnly:b,required:y=!1,tabIndex:v,type:j,value:w}=e,N=(0,go.A)(e,NQ),[A,k]=Uq({controlled:n,default:Boolean(o),name:"SwitchBase",state:"checked"}),C=W$();let F=i;C&&"undefined"===typeof F&&(F=C.disabled);const S="checkbox"===j||"radio"===j,E=(0,Mt.A)((0,Mt.A)({},e),{},{checked:A,disabled:F,disableFocusRipple:l,edge:c}),P=(e=>{const{classes:t,checked:r,disabled:n,edge:a}=e;return CW({root:["root",r&&"checked",n&&"disabled",a&&"edge".concat(yV(a))],input:["input"]},wQ,t)})(E);return(0,Vn.jsxs)(AQ,(0,Mt.A)((0,Mt.A)({component:"span",className:Mi(P.root,s),centerRipple:!0,focusRipple:!l,disabled:F,tabIndex:null,role:void 0,onFocus:e=>{g&&g(e),C&&C.onFocus&&C.onFocus(e)},onBlur:e=>{f&&f(e),C&&C.onBlur&&C.onBlur(e)},ownerState:E,ref:t},N),{},{children:[(0,Vn.jsx)(kQ,(0,Mt.A)((0,Mt.A)({autoFocus:r,checked:n,defaultChecked:o,className:P.input,disabled:F,id:S?u:void 0,name:m,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;k(t),x&&x(e,t)},readOnly:b,ref:h,required:y,ownerState:E,tabIndex:v,type:j},"checkbox"===j&&void 0===w?{}:{value:w}),p)),A?a:d]}))}),FQ=CQ;function SQ(e){return rW("MuiSwitch",e)}const EQ=nW("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),PQ=["className","color","edge","size","sx"],DQ=VW("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t["edge".concat(yV(r.edge))],t["size".concat(yV(r.size))]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,["& .".concat(EQ.thumb)]:{width:16,height:16},["& .".concat(EQ.switchBase)]:{padding:4,["&.".concat(EQ.checked)]:{transform:"translateX(16px)"}}}}]}),OQ=VW(FQ,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{["& .".concat(EQ.input)]:t.input},"default"!==r.color&&t["color".concat(yV(r.color))]]}})(XW(e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(EQ.checked)]:{transform:"translateX(20px)"},["&.".concat(EQ.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(EQ.checked," + .").concat(EQ.track)]:{opacity:.5},["&.".concat(EQ.disabled," + .").concat(EQ.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(EQ.input)]:{left:"-100%",width:"300%"}}}),XW(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Uz(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(vV(["light"])).map(e=>{let[r]=e;return{props:{color:r},style:{["&.".concat(EQ.checked)]:{color:(t.vars||t).palette[r].main,"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[r].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Uz(t.palette[r].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(EQ.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(r,"DisabledColor")]:"".concat("light"===t.palette.mode?Kz(t.palette[r].main,.62):Vz(t.palette[r].main,.55))}},["&.".concat(EQ.checked," + .").concat(EQ.track)]:{backgroundColor:(t.vars||t).palette[r].main}}}})]}})),TQ=VW("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(XW(e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),IQ=VW("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(XW(e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),MQ=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiSwitch"}),{className:n,color:a="primary",edge:s=!1,size:o="medium",sx:i}=r,l=(0,go.A)(r,PQ),c=(0,Mt.A)((0,Mt.A)({},r),{},{color:a,edge:s,size:o}),d=(e=>{const{classes:t,edge:r,size:n,color:a,checked:s,disabled:o}=e,i=CW({root:["root",r&&"edge".concat(yV(r)),"size".concat(yV(n))],switchBase:["switchBase","color".concat(yV(a)),s&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},SQ,t);return(0,Mt.A)((0,Mt.A)({},t),i)})(c),u=(0,Vn.jsx)(IQ,{className:d.thumb,ownerState:c});return(0,Vn.jsxs)(DQ,{className:Mi(d.root,n),sx:i,ownerState:c,children:[(0,Vn.jsx)(OQ,(0,Mt.A)((0,Mt.A)({type:"checkbox",icon:u,checkedIcon:u,ref:t,ownerState:c},l),{},{classes:(0,Mt.A)((0,Mt.A)({},d),{},{root:d.switchBase})})),(0,Vn.jsx)(TQ,{className:d.track,ownerState:c})]})}),_Q=MQ;function RQ(e){return rW("MuiDialogActions",e)}nW("MuiDialogActions",["root","spacing"]);const BQ=["className","disableSpacing"],LQ=VW("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),zQ=a.forwardRef(function(e,t){const r=GW({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:a=!1}=r,s=(0,go.A)(r,BQ),o=(0,Mt.A)((0,Mt.A)({},r),{},{disableSpacing:a}),i=(e=>{const{classes:t,disableSpacing:r}=e;return CW({root:["root",!r&&"spacing"]},RQ,t)})(o);return(0,Vn.jsx)(LQ,(0,Mt.A)({className:Mi(i.root,n),ownerState:o,ref:t},s))}),UQ=_V((0,Vn.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),WQ=_V((0,Vn.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"Backup"),VQ=_V((0,Vn.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),HQ=_V((0,Vn.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),KQ=_V((0,Vn.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),qQ=_V((0,Vn.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"Restore"),GQ=()=>{const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(""),[f,x]=(0,a.useState)(!0),[g,b]=(0,a.useState)(0),[y,v]=(0,a.useState)(null),[j,w]=(0,a.useState)([]);(0,a.useEffect)(()=>{N(),A()},[]);const N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;l(!0);try{const r=await fetch("".concat(zn,"/database/status"));if(r.ok){const e=await r.json();t(e.success?e.data:null)}else{const n=await r.json();t(n.data||null),r.ok||0!==e||k("warning","Koneksi database bermasalah, status mungkin tidak akurat")}}catch(r){if(e<2)return void setTimeout(()=>N(e+1),2e3);k("error","Gagal mengambil status database: "+r.message),t(null)}finally{l(!1)}},A=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;d(!0);try{const e=await fetch("".concat(zn,"/database/list")),t=await e.json();if(!t.success)throw new Error(t.message||"Failed to fetch databases");n(t.data||[])}catch(t){if(e<2)return void setTimeout(()=>A(e+1),2e3);k("error","Gagal mengambil daftar database: "+t.message)}finally{d(!1)}},k=(e,t)=>{const r={id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),severity:e,message:t};w(e=>[...e,r]),setTimeout(()=>{w(e=>e.filter(e=>e.id!==r.id))},5e3)},C=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nusantara_construction";o(!0),b(0);try{const r=setInterval(()=>{b(e=>Math.min(e+10,90))},200),n=await fetch("".concat(zn,"/database/backup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({databaseName:e})});clearInterval(r),b(100);const a=await n.json();var t;if(a.success)k("success",a.message),null!==(t=a.data)&&void 0!==t&&t.backupDatabaseName&&(k("info","Backup database created: ".concat(a.data.backupDatabaseName)),A());else k("error",a.message||"Backup failed")}catch(r){k("error","Error: "+r.message)}finally{o(!1),b(0)}};return(0,Vn.jsxs)(iW,{children:[j.map(e=>(0,Vn.jsx)(kG,{severity:e.severity,sx:{mb:2},children:e.message},e.id)),(0,Vn.jsxs)(oV,{sx:{mb:3},children:[(0,Vn.jsx)(TG,{avatar:(0,Vn.jsx)(UQ,{}),title:"Status Database",action:(0,Vn.jsx)(oG,{onClick:N,disabled:i,children:(0,Vn.jsx)(HQ,{})})}),(0,Vn.jsx)(dV,{children:i?(0,Vn.jsx)(iW,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,Vn.jsx)($G,{size:24})}):e?(0,Vn.jsxs)(oY,{container:!0,spacing:2,children:[(0,Vn.jsxs)(oY,{item:!0,xs:6,md:3,children:[(0,Vn.jsx)(PV,{variant:"body2",color:"text.secondary",children:"Status Koneksi"}),(0,Vn.jsx)(TH,{label:"connected"===e.status?"Terhubung":"Terputus",color:"connected"===e.status?"success":"error",size:"small"})]}),(0,Vn.jsxs)(oY,{item:!0,xs:6,md:3,children:[(0,Vn.jsx)(PV,{variant:"body2",color:"text.secondary",children:"Database Aktif"}),(0,Vn.jsx)(PV,{variant:"body1",fontWeight:"bold",children:e.currentDatabase||"N/A"})]}),(0,Vn.jsxs)(oY,{item:!0,xs:6,md:3,children:[(0,Vn.jsx)(PV,{variant:"body2",color:"text.secondary",children:"Total Tabel"}),(0,Vn.jsx)(PV,{variant:"body1",fontWeight:"bold",children:e.tableCount||"0"})]}),(0,Vn.jsxs)(oY,{item:!0,xs:6,md:3,children:[(0,Vn.jsx)(PV,{variant:"body2",color:"text.secondary",children:"Database Size"}),(0,Vn.jsx)(PV,{variant:"body1",fontWeight:"bold",children:e.databaseSize||"N/A"})]}),(0,Vn.jsxs)(oY,{item:!0,xs:6,md:3,children:[(0,Vn.jsx)(PV,{variant:"body2",color:"text.secondary",children:"Versi PostgreSQL"}),(0,Vn.jsx)(PV,{variant:"body1",fontWeight:"bold",children:e.version?e.version.split(" ")[1]:"N/A"})]}),(0,Vn.jsxs)(oY,{item:!0,xs:6,md:3,children:[(0,Vn.jsx)(PV,{variant:"body2",color:"text.secondary",children:"Host Server"}),(0,Vn.jsx)(PV,{variant:"body1",fontWeight:"bold",children:e.host||"N/A"})]}),e.timestamp&&(0,Vn.jsx)(oY,{item:!0,xs:12,children:(0,Vn.jsxs)(PV,{variant:"caption",color:"text.secondary",children:["Terakhir diperbarui: ",new Date(e.timestamp).toLocaleString("id-ID")]})})]}):(0,Vn.jsx)(kG,{severity:"error",children:"Tidak dapat terhubung ke database"})})]}),(0,Vn.jsxs)(oY,{container:!0,spacing:2,sx:{mb:3},children:[(0,Vn.jsx)(oY,{item:!0,xs:12,sm:6,md:3,children:(0,Vn.jsx)(gY,{fullWidth:!0,variant:"outlined",startIcon:(0,Vn.jsx)(KQ,{}),onClick:()=>p({type:"create"}),disabled:s,children:"Buat Database Baru"})}),(0,Vn.jsx)(oY,{item:!0,xs:12,sm:6,md:3,children:(0,Vn.jsx)(gY,{fullWidth:!0,variant:"outlined",startIcon:(0,Vn.jsx)(WQ,{}),onClick:()=>C(),disabled:s,children:"Backup Database"})}),(0,Vn.jsx)(oY,{item:!0,xs:12,sm:6,md:3,children:(0,Vn.jsx)(gY,{fullWidth:!0,variant:"outlined",startIcon:(0,Vn.jsx)(qQ,{}),onClick:()=>p({type:"restore"}),disabled:s,children:"Restore Database"})}),(0,Vn.jsx)(oY,{item:!0,xs:12,sm:6,md:3,children:(0,Vn.jsx)(gY,{fullWidth:!0,variant:"outlined",startIcon:(0,Vn.jsx)(HQ,{}),onClick:()=>{N(),A(),k("info","Data diperbarui")},disabled:s||i||c,children:i||c?"Memperbarui...":"Refresh Data"})})]}),s&&g>0&&(0,Vn.jsxs)(iW,{sx:{mb:3},children:[(0,Vn.jsxs)(PV,{variant:"body2",gutterBottom:!0,children:["Progress Backup: ",g,"%"]}),(0,Vn.jsx)(BY,{variant:"determinate",value:g})]}),(0,Vn.jsxs)(oV,{children:[(0,Vn.jsx)(TG,{title:"Daftar Database",action:(0,Vn.jsxs)(iW,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Vn.jsx)(TH,{label:"".concat(r.length," Database"),color:"primary"}),(0,Vn.jsx)(oG,{onClick:A,disabled:c,size:"small",children:(0,Vn.jsx)(HQ,{})})]})}),(0,Vn.jsxs)(dV,{children:[(0,Vn.jsx)(kG,{severity:"info",sx:{mb:2},children:(0,Vn.jsxs)(PV,{variant:"body2",children:[(0,Vn.jsx)("strong",{children:"Database Management:"}),(0,Vn.jsx)("br",{}),"\u2022 ",(0,Vn.jsx)("strong",{children:"nusantara_construction"}),": Database utama aplikasi (aktif)",(0,Vn.jsx)("br",{}),"\u2022 ",(0,Vn.jsx)("strong",{children:"Database lain"}),": Database testing/development yang dapat dibuat",(0,Vn.jsx)("br",{}),"\u2022 ",(0,Vn.jsx)("strong",{children:"System databases"})," (postgres, templates) disembunyikan untuk keamanan",(0,Vn.jsx)("br",{}),"\u2022 Klik icon database untuk set sebagai database aktif (testing)"]})}),c?(0,Vn.jsx)(iW,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,Vn.jsx)($G,{size:24})}):r.length>0?r.map((e,t)=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r="nusantara_construction"===e.name;return(0,Vn.jsx)(oV,{sx:{mb:2},children:(0,Vn.jsx)(dV,{children:(0,Vn.jsxs)(iW,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Vn.jsxs)(iW,{children:[(0,Vn.jsxs)(iW,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,Vn.jsx)(PV,{variant:"h6",children:e.name}),r&&(0,Vn.jsx)(TH,{label:"Database Aktif",color:"primary",size:"small"})]}),(0,Vn.jsxs)(PV,{variant:"body2",color:"text.secondary",children:["Owner: ",e.owner||"N/A"," \u2022 Size: ",e.size||"N/A"," \u2022 Tables: ",e.tableCount||0]})]}),(0,Vn.jsxs)(iW,{sx:{display:"flex",gap:1},children:[!r&&(0,Vn.jsx)(eG,{title:"Set sebagai Database Aktif",children:(0,Vn.jsx)(oG,{size:"small",color:"success",onClick:()=>p({type:"switch",dbName:e.name}),disabled:s,children:(0,Vn.jsx)(UQ,{})})}),(0,Vn.jsx)(eG,{title:"Backup Database",children:(0,Vn.jsx)(oG,{size:"small",color:"primary",onClick:()=>C(e.name),disabled:s,children:(0,Vn.jsx)(WQ,{})})}),!r&&(0,Vn.jsx)(eG,{title:"Hapus Database",children:(0,Vn.jsx)(oG,{size:"small",color:"error",onClick:()=>p({type:"delete",dbName:e.name}),disabled:s,children:(0,Vn.jsx)(VQ,{})})})]})]})})},"".concat(e.name,"-").concat(t))}(e,t)):(0,Vn.jsx)(PV,{variant:"body2",color:"text.secondary",textAlign:"center",children:"Tidak ada database ditemukan"})]})]}),(0,Vn.jsxs)(N$,{open:"create"===(null===u||void 0===u?void 0:u.type),onClose:()=>p(null),children:[(0,Vn.jsx)(S$,{children:"Buat Database Baru"}),(0,Vn.jsxs)(O$,{children:[(0,Vn.jsx)(fQ,{autoFocus:!0,margin:"dense",label:"Nama Database",fullWidth:!0,variant:"outlined",value:h,onChange:e=>m(e.target.value),helperText:"Nama database harus unik dan tidak mengandung spasi"}),(0,Vn.jsx)(jQ,{control:(0,Vn.jsx)(_Q,{checked:f,onChange:e=>x(e.target.checked),color:"primary"}),label:"Salin struktur tabel dari database utama",sx:{mt:2}}),(0,Vn.jsx)(PV,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:1},children:f?"Database baru akan memiliki struktur tabel yang sama dengan database utama tetapi tanpa data. Siap untuk demo dan testing.":"Database baru akan kosong tanpa tabel. Cocok untuk import data atau setup manual."})]}),(0,Vn.jsxs)(zQ,{children:[(0,Vn.jsx)(gY,{onClick:()=>p(null),children:"Batal"}),(0,Vn.jsx)(gY,{onClick:async()=>{if(h.trim()){o(!0);try{const e=await fetch("".concat(zn,"/database/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({databaseName:h.trim(),copyStructure:f})}),t=await e.json();t.success?(k("success",t.message||"Database '".concat(h,"' berhasil dibuat")),m(""),x(!0),p(null),A()):k("error",t.message||"Gagal membuat database")}catch(e){k("error","Error: "+e.message)}finally{o(!1)}}else k("warning","Nama database tidak boleh kosong")},disabled:s,variant:"contained",children:s?(0,Vn.jsx)($G,{size:20}):"Buat Database"})]})]}),(0,Vn.jsxs)(N$,{open:"switch"===(null===u||void 0===u?void 0:u.type),onClose:()=>p(null),children:[(0,Vn.jsx)(S$,{children:"Switch Database Aktif"}),(0,Vn.jsxs)(O$,{children:[(0,Vn.jsx)(kG,{severity:"info",sx:{mb:2},children:(0,Vn.jsxs)(PV,{variant:"body2",children:[(0,Vn.jsx)("strong",{children:"Switch Database:"}),(0,Vn.jsx)("br",{}),'Ini akan test koneksi ke database "',null===u||void 0===u?void 0:u.dbName,'" dan menandainya sebagai database yang dapat digunakan. Untuk switch permanen, perlu restart aplikasi.']})}),(0,Vn.jsxs)(PV,{children:['Apakah Anda yakin ingin set "',null===u||void 0===u?void 0:u.dbName,'" sebagai database aktif?']})]}),(0,Vn.jsxs)(zQ,{children:[(0,Vn.jsx)(gY,{onClick:()=>p(null),children:"Batal"}),(0,Vn.jsx)(gY,{onClick:()=>(async e=>{o(!0);try{const t=await fetch("".concat(zn,"/database/switch"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({databaseName:e})}),r=await t.json();r.success?(k("success","Database '".concat(e,"' berhasil ditest dan dapat digunakan")),k("info","Untuk switch permanen, restart aplikasi dengan database ini di environment variables"),p(null),N()):k("error",r.message||"Gagal test database connection")}catch(t){k("error","Error: "+t.message)}finally{o(!1)}})(null===u||void 0===u?void 0:u.dbName),disabled:s,color:"success",variant:"contained",children:s?(0,Vn.jsx)($G,{size:20}):"Switch Database"})]})]}),(0,Vn.jsxs)(N$,{open:"delete"===(null===u||void 0===u?void 0:u.type),onClose:()=>p(null),children:[(0,Vn.jsx)(S$,{children:"Konfirmasi Hapus Database"}),(0,Vn.jsxs)(O$,{children:[(0,Vn.jsx)(kG,{severity:"warning",sx:{mb:2},children:(0,Vn.jsxs)(PV,{variant:"body2",children:[(0,Vn.jsx)("strong",{children:"Peringatan:"})," Tindakan ini tidak dapat dibatalkan!"]})}),(0,Vn.jsxs)(PV,{children:['Apakah Anda yakin ingin menghapus database "',null===u||void 0===u?void 0:u.dbName,'"? Semua data akan hilang permanen.']})]}),(0,Vn.jsxs)(zQ,{children:[(0,Vn.jsx)(gY,{onClick:()=>p(null),children:"Batal"}),(0,Vn.jsx)(gY,{onClick:()=>(async e=>{if("nusantara_construction"!==e){o(!0);try{const t=await fetch("".concat(zn,"/database/drop"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({databaseName:e})}),r=await t.json();r.success?(k("success","Database '".concat(e,"' berhasil dihapus")),A()):k("error",r.message||"Gagal menghapus database")}catch(t){k("error","Error: "+t.message)}finally{o(!1),p(null)}}else k("error","Database utama tidak dapat dihapus")})(null===u||void 0===u?void 0:u.dbName),disabled:s,color:"error",variant:"contained",children:s?(0,Vn.jsx)($G,{size:20}):"Hapus Database"})]})]}),(0,Vn.jsxs)(N$,{open:"restore"===(null===u||void 0===u?void 0:u.type),onClose:()=>p(null),children:[(0,Vn.jsx)(S$,{children:"Restore Database"}),(0,Vn.jsxs)(O$,{children:[(0,Vn.jsx)(kG,{severity:"info",sx:{mb:2},children:(0,Vn.jsx)(PV,{variant:"body2",children:"Restore akan mengganti seluruh data database saat ini dengan data dari backup file."})}),(0,Vn.jsx)("input",{type:"file",accept:".sql,.backup",onChange:e=>v(e.target.files[0]),style:{width:"100%",padding:"10px",marginTop:"10px"}}),y&&(0,Vn.jsxs)(PV,{variant:"body2",sx:{mt:1},children:["File dipilih: ",y.name]})]}),(0,Vn.jsxs)(zQ,{children:[(0,Vn.jsx)(gY,{onClick:()=>p(null),children:"Batal"}),(0,Vn.jsx)(gY,{onClick:async(e,t)=>{if(e&&t){o(!0);try{const r=await fetch("".concat(zn,"/database/restore"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({databaseName:e,backupSource:t})}),n=await r.json();n.success?(k("success",n.message),p(null),N(),A()):k("error",n.message||"Gagal melakukan restore")}catch(r){k("error","Error: "+r.message)}finally{o(!1)}}else k("warning","Target database dan backup database harus dipilih")},disabled:s||!y,color:"warning",variant:"contained",children:s?(0,Vn.jsx)($G,{size:20}):"Restore Database"})]})]})]})},YQ=(0,Qn.A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),$Q={SUPER_ADMIN:{id:"super_admin",label:"Super Admin",color:"#FF453A",bgColor:"bg-red-500/10",textColor:"text-red-400",icon:(0,Qn.A)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),description:"Full system access",permissions:["*"],canManageUsers:!0,canManageRoles:!0},ADMIN:{id:"admin",label:"Administrator",color:"#FF9F0A",bgColor:"bg-orange-500/10",textColor:"text-orange-400",icon:La,description:"Administrative access",permissions:["users.view","users.create","users.edit","projects.*","finance.*","inventory.*","reports.*"],canManageUsers:!0,canManageRoles:!1},PROJECT_MANAGER:{id:"project_manager",label:"Project Manager",color:"#0A84FF",bgColor:"bg-blue-500/10",textColor:"text-blue-400",icon:za,description:"Manage projects and teams",permissions:["projects.*","teams.*","milestones.*","rab.view","rab.edit","berita_acara.*","reports.projects"],canManageUsers:!1},FINANCE_MANAGER:{id:"finance_manager",label:"Finance Manager",color:"#30D158",bgColor:"bg-green-500/10",textColor:"text-green-400",icon:xa,description:"Manage financial operations",permissions:["finance.*","budgets.*","invoices.*","payments.*","reports.finance"],canManageUsers:!1},INVENTORY_MANAGER:{id:"inventory_manager",label:"Inventory Manager",color:"#5E5CE6",bgColor:"bg-purple-500/10",textColor:"text-purple-400",icon:Xo,description:"Manage inventory and assets",permissions:["inventory.*","assets.*","purchase_orders.*","suppliers.*","reports.inventory"],canManageUsers:!1},HR_MANAGER:{id:"hr_manager",label:"HR Manager",color:"#BF5AF2",bgColor:"bg-pink-500/10",textColor:"text-pink-400",icon:ma,description:"Manage human resources",permissions:["users.view","teams.*","attendance.*","payroll.*","employees.*","reports.hr"],canManageUsers:!0,canManageRoles:!1},SUPERVISOR:{id:"supervisor",label:"Supervisor",color:"#64D2FF",bgColor:"bg-cyan-500/10",textColor:"text-cyan-400",icon:la,description:"Monitor and supervise",permissions:["projects.view","teams.view","reports.view","milestones.view","budgets.view"],canManageUsers:!1},STAFF:{id:"staff",label:"Staff",color:"#98989D",bgColor:"bg-gray-500/10",textColor:"text-gray-400",icon:ra,description:"Basic access",permissions:["projects.view","profile.edit","tasks.own"],canManageUsers:!1}},JQ={id:"active",label:"Active",color:"#30D158",bgColor:"bg-green-500/10",textColor:"text-green-400"},XQ={id:"inactive",label:"Inactive",color:"#98989D",bgColor:"bg-gray-500/10",textColor:"text-gray-400"},QQ={id:"locked",label:"Locked",color:"#FF453A",bgColor:"bg-red-500/10",textColor:"text-red-400"},ZQ=e=>Object.values($Q).find(t=>t.id===e),eZ=e=>{const t=ZQ(e);return t?"".concat(t.bgColor," ").concat(t.textColor):"bg-gray-500/10 text-gray-400"},tZ=(e,t)=>t?"".concat(QQ.bgColor," ").concat(QQ.textColor):e?"".concat(JQ.bgColor," ").concat(JQ.textColor):"".concat(XQ.bgColor," ").concat(XQ.textColor),rZ=(e,t)=>t?QQ.label:e?JQ.label:XQ.label,nZ=e=>{var t,r,n,s;let{mode:o="add",user:i=null,onSave:l,onCancel:c}=e;const[d,u]=(0,a.useState)({username:(null===i||void 0===i?void 0:i.username)||"",email:(null===i||void 0===i?void 0:i.email)||"",password:"",confirmPassword:"",role:(null===i||void 0===i?void 0:i.role)||"staff",isActive:void 0===(null===i||void 0===i?void 0:i.isActive)||i.isActive,fullName:(null===i||void 0===i||null===(t=i.profile)||void 0===t?void 0:t.fullName)||"",phone:(null===i||void 0===i||null===(r=i.profile)||void 0===r?void 0:r.phone)||"",position:(null===i||void 0===i||null===(n=i.profile)||void 0===n?void 0:n.position)||"",department:(null===i||void 0===i||null===(s=i.profile)||void 0===s?void 0:s.department)||""}),[p,h]=(0,a.useState)(!1),[m,f]=(0,a.useState)(!1),[x,g]=(0,a.useState)({}),[b,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)(0),[w,N]=(0,a.useState)(!1),A=(e,t)=>{u(r=>(0,Mt.A)((0,Mt.A)({},r),{},{[e]:t})),"password"===e&&j((e=>{let t=0;return e.length>=8&&(t+=25),e.length>=12&&(t+=15),/[a-z]/.test(e)&&(t+=20),/[A-Z]/.test(e)&&(t+=20),/[0-9]/.test(e)&&(t+=20),/[^a-zA-Z0-9]/.test(e)&&(t+=20),t})(t)),x[e]&&g(t=>(0,Mt.A)((0,Mt.A)({},t),{},{[e]:null}))},k=Object.values($Q).find(e=>e.id===d.role),C=null===k||void 0===k?void 0:k.icon;return(0,Vn.jsx)("div",{className:"p-6 animate-slideDown",children:(0,Vn.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,Vn.jsx)(ma,{className:"h-6 w-6 text-blue-400"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-xl font-bold",children:"add"===o?"Add New User":"Edit User"}),(0,Vn.jsx)("p",{className:"text-sm text-gray-400",children:"add"===o?"Create a new user account":"Update user information"})]})]}),(0,Vn.jsx)("button",{onClick:c,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,Vn.jsx)(ja.A,{className:"h-5 w-5"})})]}),x.submit&&(0,Vn.jsxs)("div",{className:"flex items-center gap-2 p-3 mb-6 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400",children:[(0,Vn.jsx)(Vo.A,{className:"h-5 w-5 flex-shrink-0"}),(0,Vn.jsx)("span",{className:"text-sm",children:x.submit})]}),(0,Vn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return d.username.trim()?d.username.length<3?e.username="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(d.username)||(e.username="Username can only contain letters, numbers, and underscores"):e.username="Username is required",d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(e.email="Invalid email format"):e.email="Email is required",("add"===o||"edit"===o&&w)&&(d.password?d.password.length<8?e.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])/.test(d.password)||(e.password="Password must contain uppercase, lowercase, and numbers"):e.password="Password is required",d.password!==d.confirmPassword&&(e.confirmPassword="Passwords do not match")),d.fullName.trim()||(e.fullName="Full name is required"),g(e),0===Object.keys(e).length})()){y(!0);try{const e=localStorage.getItem("token");if(!e)return g({submit:"Authentication required. Please login again."}),void y(!1);const t={username:d.username,email:d.email,role:d.role,isActive:d.isActive,fullName:d.fullName,phone:d.phone,position:d.position,department:d.department};("add"===o||"edit"===o&&w&&d.password)&&(t.password=d.password);const r="add"===o?"/api/users/management":"/api/users/management/".concat(i.id),n="add"===o?"POST":"PUT",a=await fetch(r,{method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}),s=await a.json();s.success?(window.showToast&&window.showToast("add"===o?"User created successfully!":"User updated successfully!","success"),l&&l()):g({submit:s.error||"Failed to ".concat(o," user")})}catch(t){console.error("Error ".concat(o,"ing user:"),t),g({submit:"Network error. Please try again."})}finally{y(!1)}}},className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"bg-[#1A1A1A] rounded-lg p-6 space-y-4",children:[(0,Vn.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Full Name ",(0,Vn.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,Vn.jsx)("input",{type:"text",value:d.fullName,onChange:e=>A("fullName",e.target.value),className:"w-full bg-[#0A0A0A] border ".concat(x.fullName?"border-red-500":"border-gray-700"," rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500"),placeholder:"John Doe"}),x.fullName&&(0,Vn.jsx)("p",{className:"mt-1 text-sm text-red-400",children:x.fullName})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Username ",(0,Vn.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,Vn.jsx)("input",{type:"text",value:d.username,onChange:e=>A("username",e.target.value),className:"w-full bg-[#0A0A0A] border ".concat(x.username?"border-red-500":"border-gray-700"," rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500"),placeholder:"johndoe"}),x.username&&(0,Vn.jsx)("p",{className:"mt-1 text-sm text-red-400",children:x.username})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Email ",(0,Vn.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,Vn.jsx)("input",{type:"email",value:d.email,onChange:e=>A("email",e.target.value),className:"w-full bg-[#0A0A0A] border ".concat(x.email?"border-red-500":"border-gray-700"," rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500"),placeholder:"john@example.com"}),x.email&&(0,Vn.jsx)("p",{className:"mt-1 text-sm text-red-400",children:x.email})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),(0,Vn.jsx)("input",{type:"text",value:d.phone,onChange:e=>A("phone",e.target.value),className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",placeholder:"+62 812 3456 7890"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Position"}),(0,Vn.jsx)("input",{type:"text",value:d.position,onChange:e=>A("position",e.target.value),className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",placeholder:"Project Manager"})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Department"}),(0,Vn.jsx)("input",{type:"text",value:d.department,onChange:e=>A("department",e.target.value),className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",placeholder:"Engineering"})]})]}),("add"===o||w)&&(0,Vn.jsxs)("div",{className:"bg-[#1A1A1A] rounded-lg p-6 space-y-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsx)("h4",{className:"text-lg font-semibold",children:"Password"}),"edit"===o&&(0,Vn.jsx)("button",{type:"button",onClick:()=>N(!w),className:"text-sm text-blue-400 hover:text-blue-300",children:"Cancel password change"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Password ",(0,Vn.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("input",{type:p?"text":"password",value:d.password,onChange:e=>A("password",e.target.value),className:"w-full bg-[#0A0A0A] border ".concat(x.password?"border-red-500":"border-gray-700"," rounded-lg px-4 py-2 pr-10 focus:outline-none focus:border-blue-500"),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,Vn.jsx)("button",{type:"button",onClick:()=>h(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:p?(0,Vn.jsx)(w_,{className:"h-5 w-5"}):(0,Vn.jsx)(la,{className:"h-5 w-5"})})]}),x.password&&(0,Vn.jsx)("p",{className:"mt-1 text-sm text-red-400",children:x.password}),d.password&&(0,Vn.jsxs)("div",{className:"mt-2",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,Vn.jsx)("span",{className:"text-gray-400",children:"Password Strength"}),(0,Vn.jsx)("span",{className:"font-medium ".concat(v<40?"text-red-400":v<70?"text-orange-400":v<90?"text-yellow-400":"text-green-400"),children:v<40?"Weak":v<70?"Fair":v<90?"Good":"Strong"})]}),(0,Vn.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,Vn.jsx)("div",{className:"h-full transition-all duration-300 ".concat(v<40?"bg-red-500":v<70?"bg-orange-500":v<90?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(v,"%")}})})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Confirm Password ",(0,Vn.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("input",{type:m?"text":"password",value:d.confirmPassword,onChange:e=>A("confirmPassword",e.target.value),className:"w-full bg-[#0A0A0A] border ".concat(x.confirmPassword?"border-red-500":"border-gray-700"," rounded-lg px-4 py-2 pr-10 focus:outline-none focus:border-blue-500"),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,Vn.jsx)("button",{type:"button",onClick:()=>f(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:m?(0,Vn.jsx)(w_,{className:"h-5 w-5"}):(0,Vn.jsx)(la,{className:"h-5 w-5"})})]}),x.confirmPassword&&(0,Vn.jsx)("p",{className:"mt-1 text-sm text-red-400",children:x.confirmPassword}),d.confirmPassword&&d.password===d.confirmPassword&&(0,Vn.jsxs)("div",{className:"mt-1 flex items-center gap-1 text-sm text-green-400",children:[(0,Vn.jsx)(Ea.A,{className:"h-4 w-4"}),(0,Vn.jsx)("span",{children:"Passwords match"})]})]})]}),"edit"===o&&!w&&(0,Vn.jsx)("div",{className:"bg-[#1A1A1A] rounded-lg p-6",children:(0,Vn.jsx)("button",{type:"button",onClick:()=>N(!0),className:"text-blue-400 hover:text-blue-300 text-sm",children:"+ Change Password"})}),(0,Vn.jsxs)("div",{className:"bg-[#1A1A1A] rounded-lg p-6 space-y-4",children:[(0,Vn.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Role & Permissions"}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Role ",(0,Vn.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,Vn.jsx)("select",{value:d.role,onChange:e=>A("role",e.target.value),className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",children:Object.values($Q).map(e=>(0,Vn.jsxs)("option",{value:e.id,children:[e.label," - ",e.description]},e.id))})]}),k&&(0,Vn.jsxs)("div",{className:"p-4 rounded-lg ".concat(k.bgColor," border border-gray-700"),children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[C&&(0,Vn.jsx)(C,{className:"h-5 w-5 ".concat(k.textColor)}),(0,Vn.jsx)("span",{className:"font-semibold ".concat(k.textColor),children:k.label})]}),(0,Vn.jsx)("p",{className:"text-sm text-gray-400 mb-3",children:k.description}),(0,Vn.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,Vn.jsx)("span",{className:"font-medium",children:"Permissions: "}),k.permissions.join(", ")]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-[#0A0A0A] rounded-lg border border-gray-700",children:[(0,Vn.jsx)("input",{type:"checkbox",id:"isActive",checked:d.isActive,onChange:e=>A("isActive",e.target.checked),className:"w-5 h-5 rounded border-gray-600 bg-[#1A1A1A] checked:bg-blue-500"}),(0,Vn.jsxs)("label",{htmlFor:"isActive",className:"flex-1 cursor-pointer",children:[(0,Vn.jsx)("div",{className:"font-medium",children:"Active Account"}),(0,Vn.jsx)("div",{className:"text-sm text-gray-400",children:"User can log in and access the system"})]})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4",children:[(0,Vn.jsx)("button",{type:"button",onClick:c,className:"px-6 py-2 bg-[#1A1A1A] border border-gray-700 rounded-lg hover:bg-gray-800 transition-colors",children:"Cancel"}),(0,Vn.jsx)("button",{type:"submit",disabled:b,className:"px-6 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:b?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"add"===o?"Creating...":"Updating..."]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(gE,{className:"h-5 w-5"}),"add"===o?"Create User":"Update User"]})})]})]})]})})},aZ=e=>{var t,r,n,a;let{user:s,onEdit:o}=e;const i=Object.values($Q).find(e=>e.id===s.role),l=null===i||void 0===i?void 0:i.icon;return(0,Vn.jsx)("div",{className:"p-6",children:(0,Vn.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Vn.jsx)("h3",{className:"text-xl font-bold",children:"User Details"}),(0,Vn.jsxs)("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg transition-colors",children:[(0,Vn.jsx)(rD,{className:"h-4 w-4"}),"Edit User"]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{className:"bg-[#1A1A1A] rounded-lg p-4",children:[(0,Vn.jsx)("h4",{className:"font-semibold mb-4",children:"Basic Information"}),(0,Vn.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-gray-400",children:"Full Name:"}),(0,Vn.jsx)("span",{className:"ml-2 text-white",children:(null===(t=s.profile)||void 0===t?void 0:t.fullName)||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-gray-400",children:"Username:"}),(0,Vn.jsx)("span",{className:"ml-2 text-white",children:s.username})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-gray-400",children:"Email:"}),(0,Vn.jsx)("span",{className:"ml-2 text-white",children:s.email})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-gray-400",children:"Phone:"}),(0,Vn.jsx)("span",{className:"ml-2 text-white",children:(null===(r=s.profile)||void 0===r?void 0:r.phone)||"-"})]})]})]}),(0,Vn.jsxs)("div",{className:"bg-[#1A1A1A] rounded-lg p-4",children:[(0,Vn.jsx)("h4",{className:"font-semibold mb-4",children:"Role & Status"}),(0,Vn.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-gray-400",children:"Role:"}),(0,Vn.jsx)("div",{className:"mt-2",children:(0,Vn.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm ".concat(eZ(s.role)),children:[l&&(0,Vn.jsx)(l,{className:"h-4 w-4"}),(null===i||void 0===i?void 0:i.label)||s.role]})})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-gray-400",children:"Status:"}),(0,Vn.jsx)("div",{className:"mt-2",children:(0,Vn.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm ".concat(tZ(s.isActive,!1)),children:rZ(s.isActive,!1)})})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-gray-400",children:"Position:"}),(0,Vn.jsx)("span",{className:"ml-2 text-white",children:(null===(n=s.profile)||void 0===n?void 0:n.position)||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-gray-400",children:"Department:"}),(0,Vn.jsx)("span",{className:"ml-2 text-white",children:(null===(a=s.profile)||void 0===a?void 0:a.department)||"-"})]})]})]}),(0,Vn.jsxs)("div",{className:"bg-[#1A1A1A] rounded-lg p-4 col-span-2",children:[(0,Vn.jsx)("h4",{className:"font-semibold mb-4",children:"Activity"}),(0,Vn.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-gray-400",children:"Created:"}),(0,Vn.jsx)("span",{className:"ml-2 text-white",children:new Date(s.createdAt).toLocaleDateString()})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-gray-400",children:"Last Updated:"}),(0,Vn.jsx)("span",{className:"ml-2 text-white",children:s.updatedAt?new Date(s.updatedAt).toLocaleDateString():"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("span",{className:"text-gray-400",children:"Last Login:"}),(0,Vn.jsx)("span",{className:"ml-2 text-white",children:s.lastLogin?new Date(s.lastLogin).toLocaleDateString():"Never"})]})]})]})]})]})})},sZ=e=>{let{label:t,value:r,icon:n,color:a}=e;return(0,Vn.jsxs)("div",{className:"bg-[#1A1A1A] rounded-lg p-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vn.jsx)("span",{className:"text-gray-400 text-sm",children:t}),(0,Vn.jsx)("div",{className:"p-2 rounded-lg ".concat({blue:"bg-blue-500/10 text-blue-400",green:"bg-green-500/10 text-green-400",gray:"bg-gray-500/10 text-gray-400",red:"bg-red-500/10 text-red-400",purple:"bg-purple-500/10 text-purple-400"}[a]),children:(0,Vn.jsx)(n,{className:"h-5 w-5"})})]}),(0,Vn.jsx)("div",{className:"text-2xl font-bold",children:r})]})},oZ=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(""),[i,l]=(0,a.useState)("all"),[c,d]=(0,a.useState)("all"),[u,p]=(0,a.useState)([]),[h,m]=(0,a.useState)(!1),[f,x]=(0,a.useState)(null),[g,b]=(0,a.useState)(null),[y,v]=(0,a.useState)({total:0,active:0,inactive:0,locked:0,newThisWeek:0});(0,a.useEffect)(()=>{j()},[]);const j=async()=>{n(!0);try{const e=localStorage.getItem("token"),r=await fetch("/api/users/management",{headers:e?{Authorization:"Bearer ".concat(e)}:{}}),n=await r.json();if(n.success)if(t(n.data||[]),n.statistics){const e=n.statistics;v({total:e.total||0,active:e.active||0,inactive:e.inactive||0,locked:0,newThisWeek:0})}else w(n.data||[])}catch(e){console.error("Error fetching users:",e),window.showToast&&window.showToast("Failed to fetch users","error")}finally{n(!1)}},w=e=>{const t=new Date,r=new Date(t.getTime()-6048e5);v({total:e.length,active:e.filter(e=>e.isActive&&!e.lockUntil).length,inactive:e.filter(e=>!e.isActive).length,locked:e.filter(e=>e.lockUntil&&new Date(e.lockUntil)>t).length,newThisWeek:e.filter(e=>new Date(e.createdAt)>r).length})},N=e.filter(e=>{const t=e.username.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase()),r="all"===i||e.role===i,n="all"===c||"active"===c&&e.isActive||"inactive"===c&&!e.isActive||"locked"===c&&e.lockUntil;return t&&r&&n}),A=async e=>{if(0===u.length)return void(window.showToast&&window.showToast("Please select users first","warning"));const t="Are you sure you want to ".concat(e," ").concat(u.length," user(s)?");if(window.confirm(t))try{let t,r;"delete"===e?(t="/api/users/management/bulk-delete",r={userIds:u,permanent:!1}):"activate"===e?(t="/api/users/management/bulk-status",r={userIds:u,isActive:!0}):"deactivate"===e&&(t="/api/users/management/bulk-status",r={userIds:u,isActive:!1});const n=localStorage.getItem("token"),a=await fetch(t,{method:"POST",headers:(0,Mt.A)({"Content-Type":"application/json"},n&&{Authorization:"Bearer ".concat(n)}),body:JSON.stringify(r)}),s=await a.json();if(!s.success)throw new Error(s.error||"Bulk action failed");j(),p([]),window.showToast&&window.showToast(s.message||"Bulk ".concat(e," completed!"),"success")}catch(r){console.error("Error in bulk ".concat(e,":"),r),window.showToast&&window.showToast("Failed to ".concat(e," users. ").concat(r.message),"error")}},k=e=>{x(e),b(e),m(!1)},C=()=>{x(null),b(null),m(!1)},F=()=>{j(),x(null),b(null),m(!1)};return(0,Vn.jsxs)("div",{className:"min-h-screen bg-[#0A0A0A] text-white p-6",children:[(0,Vn.jsx)("div",{className:"mb-8",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"User Management"}),(0,Vn.jsx)("p",{className:"text-gray-400",children:"Manage users, roles, and permissions"})]}),(0,Vn.jsxs)("button",{onClick:()=>{m(!0),x(null),b(null)},className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg transition-colors",children:[(0,Vn.jsx)(YQ,{className:"h-5 w-5"}),"Add New User"]})]})}),(0,Vn.jsxs)("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[(0,Vn.jsx)(sZ,{label:"Total Users",value:y.total,icon:ma,color:"blue"}),(0,Vn.jsx)(sZ,{label:"Active",value:y.active,icon:eI,color:"green"}),(0,Vn.jsx)(sZ,{label:"Inactive",value:y.inactive,icon:Ca,color:"gray"}),(0,Vn.jsx)(sZ,{label:"Locked",value:y.locked,icon:Ca,color:"red"}),(0,Vn.jsx)(sZ,{label:"New (7 days)",value:y.newThisWeek,icon:YQ,color:"purple"})]}),h&&(0,Vn.jsx)(nZ,{mode:"add",onSave:F,onCancel:C}),(0,Vn.jsxs)("div",{className:"bg-[#1A1A1A] rounded-lg p-4 mb-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Vn.jsxs)("div",{className:"flex-1 relative",children:[(0,Vn.jsx)(uE.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,Vn.jsx)("input",{type:"text",placeholder:"Search by username or email...",value:s,onChange:e=>o(e.target.value),className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-lg pl-10 pr-4 py-2 focus:outline-none focus:border-blue-500"})]}),(0,Vn.jsxs)("select",{value:i,onChange:e=>l(e.target.value),className:"bg-[#0A0A0A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",children:[(0,Vn.jsx)("option",{value:"all",children:"All Roles"}),Object.values($Q).map(e=>(0,Vn.jsx)("option",{value:e.id,children:e.label},e.id))]}),(0,Vn.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"bg-[#0A0A0A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",children:[(0,Vn.jsx)("option",{value:"all",children:"All Status"}),(0,Vn.jsx)("option",{value:"active",children:"Active"}),(0,Vn.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Vn.jsx)("option",{value:"locked",children:"Locked"})]}),(0,Vn.jsx)("button",{onClick:j,className:"p-2 bg-[#0A0A0A] border border-gray-700 rounded-lg hover:bg-gray-800 transition-colors",children:(0,Vn.jsx)(Ho,{className:"h-5 w-5"})})]}),u.length>0&&(0,Vn.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sm",children:[(0,Vn.jsxs)("span",{className:"text-gray-400",children:[u.length," selected"]}),(0,Vn.jsx)("button",{onClick:()=>A("activate"),className:"px-3 py-1 bg-green-500/20 text-green-400 rounded hover:bg-green-500/30",children:"Activate"}),(0,Vn.jsx)("button",{onClick:()=>A("deactivate"),className:"px-3 py-1 bg-gray-500/20 text-gray-400 rounded hover:bg-gray-500/30",children:"Deactivate"}),(0,Vn.jsx)("button",{onClick:()=>A("delete"),className:"px-3 py-1 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30",children:"Delete"})]})]}),(0,Vn.jsx)("div",{className:"bg-[#1A1A1A] rounded-lg overflow-hidden",children:(0,Vn.jsxs)("table",{className:"w-full",children:[(0,Vn.jsx)("thead",{className:"bg-[#0A0A0A] border-b border-gray-700",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-4 py-3 text-left",children:(0,Vn.jsx)("input",{type:"checkbox",checked:u.length===N.length&&N.length>0,onChange:()=>{u.length===N.length?p([]):p(N.map(e=>e.id))},className:"rounded border-gray-600"})}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-left",children:"User"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-left",children:"Email"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-left",children:"Role"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-left",children:"Status"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-left",children:"Last Login"}),(0,Vn.jsx)("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),(0,Vn.jsx)("tbody",{className:"divide-y divide-gray-700",children:r?(0,Vn.jsx)("tr",{children:(0,Vn.jsx)("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-400",children:"Loading users..."})}):0===N.length?(0,Vn.jsx)("tr",{children:(0,Vn.jsx)("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-400",children:"No users found"})}):N.map(e=>{const t=Object.values($Q).find(t=>t.id===e.role),r=null===t||void 0===t?void 0:t.icon,n=e.lockUntil&&new Date(e.lockUntil)>new Date,s=g===e.id,o=f===e.id;return(0,Vn.jsxs)(a.Fragment,{children:[(0,Vn.jsxs)("tr",{className:"hover:bg-[#0A0A0A] transition-colors",children:[(0,Vn.jsx)("td",{className:"px-4 py-3",children:(0,Vn.jsx)("input",{type:"checkbox",checked:u.includes(e.id),onChange:()=>{return t=e.id,void p(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"rounded border-gray-600"})}),(0,Vn.jsx)("td",{className:"px-4 py-3",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-500/20 flex items-center justify-center",children:(0,Vn.jsx)(ma,{className:"h-5 w-5 text-blue-400"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"font-medium",children:e.username}),(0,Vn.jsxs)("div",{className:"text-sm text-gray-400",children:["ID: ",e.id]})]})]})}),(0,Vn.jsx)("td",{className:"px-4 py-3 text-gray-300",children:e.email}),(0,Vn.jsx)("td",{className:"px-4 py-3",children:(0,Vn.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm ".concat(eZ(e.role)),children:[r&&(0,Vn.jsx)(r,{className:"h-4 w-4"}),(null===t||void 0===t?void 0:t.label)||e.role]})}),(0,Vn.jsx)("td",{className:"px-4 py-3",children:(0,Vn.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm ".concat(tZ(e.isActive,n)),children:rZ(e.isActive,n)})}),(0,Vn.jsx)("td",{className:"px-4 py-3 text-gray-400 text-sm",children:e.lastLogin?new Date(e.lastLogin).toLocaleDateString():"Never"}),(0,Vn.jsx)("td",{className:"px-4 py-3",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,Vn.jsx)("button",{onClick:()=>b(s?null:e.id),className:"p-2 hover:bg-gray-500/20 rounded-lg transition-colors",title:s?"Collapse":"Expand details",children:s?(0,Vn.jsx)(mM,{className:"h-4 w-4"}):(0,Vn.jsx)(na.A,{className:"h-4 w-4"})}),(0,Vn.jsx)("button",{onClick:()=>k(e.id),className:"p-2 hover:bg-blue-500/20 rounded-lg transition-colors",title:"Edit user",children:(0,Vn.jsx)(rD,{className:"h-4 w-4 text-blue-400"})}),(0,Vn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{const t=localStorage.getItem("token"),r=await fetch("/api/users/management/".concat(e),{method:"DELETE",headers:t?{Authorization:"Bearer ".concat(t)}:{}}),n=await r.json();if(!n.success)throw new Error(n.error||"Failed to delete");j(),window.showToast&&window.showToast(n.message||"User deleted successfully!","success")}catch(t){console.error("Error deleting user:",t),window.showToast&&window.showToast("Failed to delete user. Please try again.","error")}})(e.id),className:"p-2 hover:bg-red-500/20 rounded-lg transition-colors",title:"Delete user",children:(0,Vn.jsx)(ca,{className:"h-4 w-4 text-red-400"})})]})})]}),s&&(0,Vn.jsx)("tr",{children:(0,Vn.jsx)("td",{colSpan:"7",className:"p-0",children:(0,Vn.jsx)("div",{className:"bg-[#0A0A0A] border-t border-b border-gray-700",children:o?(0,Vn.jsx)(nZ,{mode:"edit",user:e,onSave:F,onCancel:C}):(0,Vn.jsx)(aZ,{user:e,onEdit:()=>k(e.id)})})})})]},e.id)})})]})}),(0,Vn.jsx)("div",{className:"mt-6 flex items-center justify-between",children:(0,Vn.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",N.length," of ",e.length," users"]})})]})},iZ=(0,Qn.A)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),lZ=()=>{const[e,t]=(0,a.useState)({emailEnabled:!0,pushEnabled:!1,inAppEnabled:!0,approvalRequests:!0,approvalDecisions:!0,escalations:!0,completions:!1,systemAlerts:!0,emailFrequency:"instant",quietHoursEnabled:!1,quietHoursStart:"22:00",quietHoursEnd:"08:00"}),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=localStorage.getItem("token"),r=await fetch("".concat(zn,"/user-notifications/preferences"),{headers:{Authorization:"Bearer ".concat(e)}});if(r.ok){const e=await r.json();e.preferences&&t(t=>(0,Mt.A)((0,Mt.A)({},t),e.preferences))}}catch(e){console.error("Error loading notification settings:",e)}finally{n(!1)}},d=e=>{t(t=>(0,Mt.A)((0,Mt.A)({},t),{},{[e]:!t[e]}))},u=(e,r)=>{t(t=>(0,Mt.A)((0,Mt.A)({},t),{},{[e]:r}))};return r?(0,Vn.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,Vn.jsx)(Ho,{className:"h-8 w-8 text-blue-600 animate-spin"}),(0,Vn.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading settings..."})]}):(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Notification Settings"}),(0,Vn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage how and when you receive notifications"})]}),i&&(0,Vn.jsx)("div",{className:"p-4 rounded-lg ".concat("success"===i.type?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),children:i.text}),(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notification Channels"}),(0,Vn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,Vn.jsx)(vo,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Email Notifications"}),(0,Vn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Receive notifications via email"})]})]}),(0,Vn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Vn.jsx)("input",{type:"checkbox",checked:e.emailEnabled,onChange:()=>d("emailEnabled"),className:"sr-only peer"}),(0,Vn.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.emailEnabled&&(0,Vn.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Frequency"}),(0,Vn.jsxs)("select",{value:e.emailFrequency,onChange:e=>u("emailFrequency",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[(0,Vn.jsx)("option",{value:"instant",children:"Instant (as they happen)"}),(0,Vn.jsx)("option",{value:"hourly",children:"Hourly Digest"}),(0,Vn.jsx)("option",{value:"daily",children:"Daily Digest"})]})]})]}),(0,Vn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,Vn.jsx)(iZ,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Push Notifications"}),(0,Vn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Receive browser push notifications"})]})]}),(0,Vn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Vn.jsx)("input",{type:"checkbox",checked:e.pushEnabled,onChange:()=>d("pushEnabled"),className:"sr-only peer"}),(0,Vn.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"})]})]}),e.pushEnabled&&(0,Vn.jsx)("p",{className:"mt-3 text-sm text-yellow-600 dark:text-yellow-500",children:"\u26a0\ufe0f Make sure to allow notifications in your browser settings"})]}),(0,Vn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:(0,Vn.jsx)(oa,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"In-App Notifications"}),(0,Vn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Show notifications in the app"})]})]}),(0,Vn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Vn.jsx)("input",{type:"checkbox",checked:e.inAppEnabled,onChange:()=>d("inAppEnabled"),className:"sr-only peer"}),(0,Vn.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"})]})]})})]}),(0,Vn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Notification Types"}),(0,Vn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose which types of notifications you want to receive"}),(0,Vn.jsx)("div",{className:"space-y-3",children:[{key:"approvalRequests",label:"Approval Requests",desc:"When you need to approve something",icon:"\ud83d\udcdd"},{key:"approvalDecisions",label:"Approval Decisions",desc:"When your request is approved or rejected",icon:"\u2705"},{key:"escalations",label:"Escalations",desc:"When a request is escalated to you",icon:"\u26a0\ufe0f"},{key:"completions",label:"Process Completions",desc:"When a workflow is completed",icon:"\ud83c\udf89"},{key:"systemAlerts",label:"System Alerts",desc:"Important system notifications",icon:"\ud83d\udd14"}].map(t=>{let{key:r,label:n,desc:a,icon:s}=t;return(0,Vn.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 dark:border-gray-700 last:border-0",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("span",{className:"text-2xl",children:s}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:n}),(0,Vn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a})]})]}),(0,Vn.jsx)("input",{type:"checkbox",checked:e[r],onChange:()=>d(r),className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"})]},r)})})]}),(0,Vn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900 rounded-lg",children:(0,Vn.jsx)(ta,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Quiet Hours"}),(0,Vn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Don't disturb me during these hours"})]})]}),(0,Vn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Vn.jsx)("input",{type:"checkbox",checked:e.quietHoursEnabled,onChange:()=>d("quietHoursEnabled"),className:"sr-only peer"}),(0,Vn.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"})]})]}),e.quietHoursEnabled&&(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Time"}),(0,Vn.jsx)("input",{type:"time",value:e.quietHoursStart,onChange:e=>u("quietHoursStart",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Time"}),(0,Vn.jsx)("input",{type:"time",value:e.quietHoursEnd,onChange:e=>u("quietHoursEnd",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]})]})]}),(0,Vn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,Vn.jsx)("button",{onClick:c,disabled:s,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:"Reset"}),(0,Vn.jsx)("button",{onClick:async()=>{o(!0),l(null);try{const t=localStorage.getItem("token");if(!(await fetch("".concat(zn,"/user-notifications/preferences"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({preferences:e})})).ok)throw new Error("Failed to save settings");l({type:"success",text:"\u2705 Settings saved successfully!"}),setTimeout(()=>l(null),3e3)}catch(t){console.error("Error saving settings:",t),l({type:"error",text:"\u274c Failed to save settings. Please try again."})}finally{o(!1)}},disabled:s,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:s?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(Ho,{className:"h-4 w-4 animate-spin"}),(0,Vn.jsx)("span",{children:"Saving..."})]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(gE,{className:"h-4 w-4"}),(0,Vn.jsx)("span",{children:"Save Settings"})]})})]})]})},cZ=(0,Qn.A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),dZ=(0,Qn.A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),uZ=()=>{const[e,t]=(0,a.useState)("password"),[r,n]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(0),[h,m]=(0,a.useState)(null),[f,x]=(0,a.useState)(!1),[g,b]=(0,a.useState)([]),[y,v]=(0,a.useState)(!0),[j,w]=(0,a.useState)([]),[N,A]=(0,a.useState)(!0);(0,a.useEffect)(()=>{"history"===e?k():"sessions"===e&&C()},[e]),(0,a.useEffect)(()=>{const e=r.newPassword;if(!e)return void p(0);let t=0;e.length>=8&&(t+=25),e.length>=12&&(t+=25),/[a-z]/.test(e)&&/[A-Z]/.test(e)&&(t+=20),/[0-9]/.test(e)&&(t+=15),/[^a-zA-Z0-9]/.test(e)&&(t+=15),p(t)},[r.newPassword]);const k=async()=>{v(!0);try{const e=localStorage.getItem("token"),t=await fetch("".concat(zn,"/auth/login-history"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();b(e.history||[])}}catch(e){console.error("Error loading login history:",e)}finally{v(!1)}},C=async()=>{A(!0);try{const e=localStorage.getItem("token"),t=await fetch("".concat(zn,"/auth/sessions"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();w(e.sessions||[])}}catch(e){console.error("Error loading sessions:",e)}finally{A(!1)}},F=e=>new Date(e).toLocaleString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center space-x-2",children:[(0,Vn.jsx)(La,{className:"h-6 w-6 text-blue-500"}),(0,Vn.jsx)("span",{children:"Security Settings"})]}),(0,Vn.jsx)("p",{className:"text-[#8E8E93] mt-1",children:"Manage your account security and login settings"})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-lg border border-[#3A3A3C]",children:[(0,Vn.jsx)("div",{className:"flex overflow-x-auto border-b border-[#3A3A3C]",children:[{id:"password",label:"Change Password",icon:Ca},{id:"history",label:"Login History",icon:cZ},{id:"sessions",label:"Active Sessions",icon:dZ}].map(r=>{let{id:n,label:a,icon:s}=r;return(0,Vn.jsxs)("button",{onClick:()=>t(n),className:"flex items-center space-x-2 px-6 py-4 font-medium transition-colors whitespace-nowrap ".concat(e===n?"text-[#0A84FF] border-b-2 border-[#0A84FF]":"text-[#8E8E93] hover:text-white"),children:[(0,Vn.jsx)(s,{size:18}),(0,Vn.jsx)("span",{children:a})]},n)})}),(0,Vn.jsxs)("div",{className:"p-6",children:["password"===e&&(0,Vn.jsx)("div",{className:"max-w-2xl",children:(0,Vn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r.newPassword===r.confirmPassword)if(r.newPassword.length<8)m({type:"error",text:"Password must be at least 8 characters long!"});else if(u<60)m({type:"error",text:"Password is too weak! Add uppercase, numbers, and special characters."});else{x(!0),m(null);try{const e=localStorage.getItem("token"),t=await fetch("".concat(zn,"/auth/change-password"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({currentPassword:r.currentPassword,newPassword:r.newPassword})});if(t.ok)m({type:"success",text:"\u2705 Password changed successfully!"}),n({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>m(null),3e3);else{const e=await t.json();m({type:"error",text:e.message||"Failed to change password"})}}catch(t){console.error("Error changing password:",t),m({type:"error",text:"An error occurred. Please try again."})}finally{x(!1)}}else m({type:"error",text:"New passwords do not match!"})},className:"space-y-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Current Password"}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("input",{type:s?"text":"password",value:r.currentPassword,onChange:e=>n((0,Mt.A)((0,Mt.A)({},r),{},{currentPassword:e.target.value})),className:"w-full px-4 py-3 bg-[#1C1C1E] text-white rounded-lg border border-[#3A3A3C] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] pr-12",required:!0}),(0,Vn.jsx)("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#8E8E93] hover:text-white",children:s?(0,Vn.jsx)(w_,{size:20}):(0,Vn.jsx)(la,{size:20})})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"New Password"}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("input",{type:i?"text":"password",value:r.newPassword,onChange:e=>n((0,Mt.A)((0,Mt.A)({},r),{},{newPassword:e.target.value})),className:"w-full px-4 py-3 bg-[#1C1C1E] text-white rounded-lg border border-[#3A3A3C] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] pr-12",required:!0}),(0,Vn.jsx)("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#8E8E93] hover:text-white",children:i?(0,Vn.jsx)(w_,{size:20}):(0,Vn.jsx)(la,{size:20})})]}),r.newPassword&&(0,Vn.jsxs)("div",{className:"mt-3",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vn.jsx)("span",{className:"text-xs text-[#8E8E93]",children:"Password Strength"}),(0,Vn.jsx)("span",{className:"text-xs font-medium ".concat(u<40?"text-red-500":u<70?"text-yellow-500":"text-green-500"),children:u<40?"Weak":u<70?"Medium":"Strong"})]}),(0,Vn.jsx)("div",{className:"w-full bg-[#2C2C2E] rounded-full h-2",children:(0,Vn.jsx)("div",{className:"h-2 rounded-full transition-all ".concat(u<40?"bg-red-500":u<70?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(u,"%")}})}),(0,Vn.jsxs)("div",{className:"mt-2 text-xs text-[#8E8E93] space-y-1",children:[(0,Vn.jsxs)("p",{className:r.newPassword.length>=8?"text-green-500":"",children:[r.newPassword.length>=8?"\u2713":"\u25cb"," At least 8 characters"]}),(0,Vn.jsxs)("p",{className:/[A-Z]/.test(r.newPassword)?"text-green-500":"",children:[/[A-Z]/.test(r.newPassword)?"\u2713":"\u25cb"," Uppercase letter"]}),(0,Vn.jsxs)("p",{className:/[0-9]/.test(r.newPassword)?"text-green-500":"",children:[/[0-9]/.test(r.newPassword)?"\u2713":"\u25cb"," Number"]}),(0,Vn.jsxs)("p",{className:/[^a-zA-Z0-9]/.test(r.newPassword)?"text-green-500":"",children:[/[^a-zA-Z0-9]/.test(r.newPassword)?"\u2713":"\u25cb"," Special character"]})]})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Confirm New Password"}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("input",{type:c?"text":"password",value:r.confirmPassword,onChange:e=>n((0,Mt.A)((0,Mt.A)({},r),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-3 bg-[#1C1C1E] text-white rounded-lg border border-[#3A3A3C] focus:outline-none focus:ring-2 focus:ring-[#0A84FF] pr-12",required:!0}),(0,Vn.jsx)("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#8E8E93] hover:text-white",children:c?(0,Vn.jsx)(w_,{size:20}):(0,Vn.jsx)(la,{size:20})})]}),r.confirmPassword&&r.newPassword!==r.confirmPassword&&(0,Vn.jsxs)("p",{className:"mt-2 text-xs text-red-500 flex items-center space-x-1",children:[(0,Vn.jsx)(ja.A,{size:14}),(0,Vn.jsx)("span",{children:"Passwords do not match"})]}),r.confirmPassword&&r.newPassword===r.confirmPassword&&(0,Vn.jsxs)("p",{className:"mt-2 text-xs text-green-500 flex items-center space-x-1",children:[(0,Vn.jsx)(ia.A,{size:14}),(0,Vn.jsx)("span",{children:"Passwords match"})]})]}),h&&(0,Vn.jsx)("div",{className:"p-4 rounded-lg ".concat("success"===h.type?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"),children:h.text}),(0,Vn.jsx)("button",{type:"submit",disabled:f||u<60,className:"px-6 py-3 bg-[#0A84FF] text-white rounded-lg hover:bg-[#409CFF] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:f?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),(0,Vn.jsx)("span",{children:"Changing Password..."})]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(gE,{size:18}),(0,Vn.jsx)("span",{children:"Change Password"})]})})]})}),"history"===e&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Recent Login Activity"}),(0,Vn.jsx)("button",{onClick:k,className:"text-sm text-[#0A84FF] hover:text-[#409CFF] transition-colors",children:"Refresh"})]}),y?(0,Vn.jsxs)("div",{className:"text-center py-12",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-[#0A84FF] border-t-transparent mx-auto mb-3"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Loading history..."})]}):0===g.length?(0,Vn.jsxs)("div",{className:"text-center py-12",children:[(0,Vn.jsx)(cZ,{size:48,className:"mx-auto text-[#3A3A3C] mb-3"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"No login history available"})]}):(0,Vn.jsx)("div",{className:"space-y-3",children:g.map((e,t)=>(0,Vn.jsx)("div",{className:"p-4 bg-[#1C1C1E] rounded-lg border border-[#3A3A3C] hover:border-[#48484A] transition-colors",children:(0,Vn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)("span",{className:"inline-block w-2 h-2 rounded-full ".concat(e.success?"bg-green-500":"bg-red-500")}),(0,Vn.jsx)("span",{className:"text-white font-medium",children:e.success?"Successful Login":"Failed Login"})]}),(0,Vn.jsxs)("div",{className:"mt-2 space-y-1 text-sm text-[#8E8E93]",children:[(0,Vn.jsxs)("p",{children:["IP Address: ",e.ipAddress||"Unknown"]}),(0,Vn.jsxs)("p",{children:["Device: ",e.userAgent||"Unknown"]}),e.location&&(0,Vn.jsxs)("p",{children:["Location: ",e.location]})]})]}),(0,Vn.jsx)("span",{className:"text-xs text-[#636366]",children:F(e.loginAt)})]})},t))})]}),"sessions"===e&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Active Sessions"}),(0,Vn.jsx)("p",{className:"text-sm text-[#8E8E93] mt-1",children:"Manage devices where you're currently logged in"})]}),(0,Vn.jsx)("button",{onClick:async()=>{if(window.confirm("This will log you out from all devices including this one. Continue?"))try{const e=localStorage.getItem("token");(await fetch("".concat(zn,"/auth/logout-all"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)}})).ok&&(localStorage.removeItem("token"),window.location.href="/login")}catch(e){console.error("Error logging out all devices:",e)}},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm",children:"Logout All Devices"})]}),N?(0,Vn.jsxs)("div",{className:"text-center py-12",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-[#0A84FF] border-t-transparent mx-auto mb-3"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"Loading sessions..."})]}):0===j.length?(0,Vn.jsxs)("div",{className:"text-center py-12",children:[(0,Vn.jsx)(dZ,{size:48,className:"mx-auto text-[#3A3A3C] mb-3"}),(0,Vn.jsx)("p",{className:"text-[#8E8E93]",children:"No active sessions found"})]}):(0,Vn.jsx)("div",{className:"space-y-3",children:j.map((e,t)=>(0,Vn.jsx)("div",{className:"p-4 bg-[#1C1C1E] rounded-lg border border-[#3A3A3C] hover:border-[#48484A] transition-colors",children:(0,Vn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vn.jsx)(dZ,{className:"text-[#0A84FF] flex-shrink-0",size:24}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)("span",{className:"text-white font-medium",children:e.device||"Unknown Device"}),e.current&&(0,Vn.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-green-500 text-white rounded",children:"Current"})]}),(0,Vn.jsxs)("div",{className:"mt-2 space-y-1 text-sm text-[#8E8E93]",children:[(0,Vn.jsxs)("p",{children:["IP: ",e.ipAddress||"Unknown"]}),(0,Vn.jsxs)("p",{children:["Location: ",e.location||"Unknown"]}),(0,Vn.jsxs)("p",{children:["Last Active: ",F(e.lastActive)]})]})]})]}),!e.current&&(0,Vn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to end this session?"))try{const t=localStorage.getItem("token");(await fetch("".concat(zn,"/auth/sessions/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})).ok&&C()}catch(t){console.error("Error revoking session:",t)}})(e.id),className:"px-3 py-1 text-sm text-red-500 hover:bg-red-500/10 rounded transition-colors",children:"End Session"})]})},t))})]})]})]}),(0,Vn.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:(0,Vn.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vn.jsx)(ti,{className:"text-blue-500 flex-shrink-0",size:20}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h4",{className:"text-white font-medium mb-2",children:"Security Tips"}),(0,Vn.jsxs)("ul",{className:"text-sm text-[#8E8E93] space-y-1",children:[(0,Vn.jsx)("li",{children:"\u2022 Use a strong, unique password for your account"}),(0,Vn.jsx)("li",{children:"\u2022 Change your password regularly (every 3-6 months)"}),(0,Vn.jsx)("li",{children:"\u2022 Don't share your password with anyone"}),(0,Vn.jsx)("li",{children:"\u2022 Review login history regularly for suspicious activity"}),(0,Vn.jsx)("li",{children:"\u2022 End sessions on devices you no longer use"})]})]})]})})]})},pZ=(0,Qn.A)("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),hZ=e=>{let{icon:t,label:r,value:n}=e;return(0,Vn.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-[#0A0A0A] transition-colors",children:[(0,Vn.jsx)(t,{className:"h-5 w-5 text-gray-400 mt-0.5"}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:r}),(0,Vn.jsx)("div",{className:"text-white",children:n})]})]})},mZ=()=>{const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null),[c,d]=(0,a.useState)({fullName:"",email:"",phone:"",position:"",department:"",bio:""}),[u,p]=(0,a.useState)({defaultLandingPage:"dashboard",itemsPerPage:25,timezone:"Asia/Jakarta",dateFormat:"DD/MM/YYYY",numberFormat:"1,234.56"}),[h,m]=(0,a.useState)(null),[f,x]=(0,a.useState)(null),[g,b]=(0,a.useState)(!1),y=(0,a.useRef)(null),[v,j]=(0,a.useState)({});(0,a.useEffect)(()=>{w()},[]);const w=async()=>{n(!0);try{const n=localStorage.getItem("token"),f=await fetch("/api/auth/profile",{headers:n?{Authorization:"Bearer ".concat(n)}:{}}),x=await f.json();var e,r,a,s,o,i,l,c,u,h;if(x.success&&x.data)t(x.data),d({fullName:(null===(e=x.data.profile)||void 0===e?void 0:e.fullName)||x.data.fullName||"",email:x.data.email||"",phone:(null===(r=x.data.profile)||void 0===r?void 0:r.phone)||"",position:(null===(a=x.data.profile)||void 0===a?void 0:a.position)||"",department:(null===(s=x.data.profile)||void 0===s?void 0:s.department)||"",bio:(null===(o=x.data.profile)||void 0===o?void 0:o.bio)||""}),p({defaultLandingPage:(null===(i=x.data.preferences)||void 0===i?void 0:i.defaultLandingPage)||"dashboard",itemsPerPage:(null===(l=x.data.preferences)||void 0===l?void 0:l.itemsPerPage)||25,timezone:(null===(c=x.data.preferences)||void 0===c?void 0:c.timezone)||"Asia/Jakarta",dateFormat:(null===(u=x.data.preferences)||void 0===u?void 0:u.dateFormat)||"DD/MM/YYYY",numberFormat:(null===(h=x.data.preferences)||void 0===h?void 0:h.numberFormat)||"1,234.56"}),x.data.avatar&&m(x.data.avatar)}catch(f){console.error("Error fetching profile:",f),window.showToast&&window.showToast("Failed to load profile","error")}finally{n(!1)}},N=(e,t)=>{d(r=>(0,Mt.A)((0,Mt.A)({},r),{},{[e]:t})),v[e]&&j(t=>(0,Mt.A)((0,Mt.A)({},t),{},{[e]:null}))},A=(e,t)=>{p(r=>(0,Mt.A)((0,Mt.A)({},r),{},{[e]:t})),k((0,Mt.A)((0,Mt.A)({},u),{},{[e]:t}))},k=async e=>{try{const t=localStorage.getItem("token");await fetch("/api/auth/profile/preferences",{method:"PUT",headers:(0,Mt.A)({"Content-Type":"application/json"},t&&{Authorization:"Bearer ".concat(t)}),body:JSON.stringify(e)}),window.showToast&&window.showToast("Preference saved","success")}catch(t){console.error("Error saving preferences:",t)}},C=async e=>{b(!0);try{const t=localStorage.getItem("token"),r=new FormData;r.append("avatar",e);const n=await fetch("/api/auth/avatar",{method:"POST",headers:(0,Mt.A)({},t&&{Authorization:"Bearer ".concat(t)}),body:r}),a=await n.json();if(!a.success)throw new Error(a.error||"Failed to upload avatar");m(a.avatarUrl),x(null),window.showToast&&window.showToast("Avatar updated successfully!","success")}catch(t){console.error("Error uploading avatar:",t),window.showToast&&window.showToast("Failed to upload avatar","error"),x(null)}finally{b(!1)}};return r?(0,Vn.jsx)("div",{className:"min-h-screen bg-[#0A0A0A] text-white flex items-center justify-center",children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,Vn.jsx)("p",{className:"text-gray-400",children:"Loading profile..."})]})}):(0,Vn.jsxs)("div",{className:"min-h-screen bg-[#0A0A0A] text-white p-6",children:[(0,Vn.jsxs)("div",{className:"mb-8",children:[(0,Vn.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Profile Settings"}),(0,Vn.jsx)("p",{className:"text-gray-400",children:"Manage your personal information and preferences"})]}),(0,Vn.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,Vn.jsxs)("div",{className:"bg-[#1A1A1A] rounded-lg p-6",children:[(0,Vn.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Profile Picture"}),(0,Vn.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Vn.jsxs)("div",{className:"relative",children:[f||h?(0,Vn.jsx)("img",{src:f||h,alt:"Avatar",className:"h-32 w-32 rounded-full object-cover border-4 border-gray-700"}):(0,Vn.jsx)("div",{className:"h-32 w-32 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-3xl font-bold border-4 border-gray-700",children:(F=c.fullName||(null===e||void 0===e?void 0:e.username),F?F.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"??")}),g&&(0,Vn.jsx)("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center",children:(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsx)("h3",{className:"font-semibold mb-2",children:c.fullName||(null===e||void 0===e?void 0:e.username)||"User"}),(0,Vn.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:[c.position||"No position set"," \u2022 ",c.department||"No department"]}),(0,Vn.jsxs)("div",{className:"flex gap-3",children:[(0,Vn.jsxs)("button",{onClick:()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.click()},disabled:g,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg transition-colors disabled:opacity-50",children:[(0,Vn.jsx)(qD,{className:"h-4 w-4"}),"Upload New"]}),h&&(0,Vn.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to remove your avatar?"))try{const e=localStorage.getItem("token"),t=await fetch("/api/auth/avatar",{method:"DELETE",headers:(0,Mt.A)({},e&&{Authorization:"Bearer ".concat(e)})});(await t.json()).success&&(m(null),x(null),window.showToast&&window.showToast("Avatar removed successfully!","success"))}catch(e){console.error("Error removing avatar:",e),window.showToast&&window.showToast("Failed to remove avatar","error")}},disabled:g,className:"flex items-center gap-2 px-4 py-2 bg-red-500/20 text-red-400 hover:bg-red-500/30 rounded-lg transition-colors disabled:opacity-50",children:[(0,Vn.jsx)(ca,{className:"h-4 w-4"}),"Remove"]})]}),(0,Vn.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"JPG, PNG or GIF. Max size 5MB. Recommended 400x400px."}),(0,Vn.jsx)("input",{ref:y,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!t.type.startsWith("image/"))return void(window.showToast&&window.showToast("Please select an image file","error"));if(t.size>5242880)return void(window.showToast&&window.showToast("Image size must be less than 5MB","error"));const r=new FileReader;r.onloadend=()=>{x(r.result)},r.readAsDataURL(t),C(t)},className:"hidden"})]})]})]}),(0,Vn.jsxs)("div",{className:"bg-[#1A1A1A] rounded-lg p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,Vn.jsx)(ra,{className:"h-5 w-5 text-blue-400"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-xl font-bold",children:"Personal Information"}),(0,Vn.jsx)("p",{className:"text-sm text-gray-400",children:"Your basic account details"})]})]}),"personal"!==i&&(0,Vn.jsxs)("button",{onClick:()=>l("personal"),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg transition-colors",children:[(0,Vn.jsx)(rD,{className:"h-4 w-4"}),"Edit"]})]}),"personal"===i?(0,Vn.jsxs)("div",{className:"space-y-4 animate-slideDown",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Full Name ",(0,Vn.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,Vn.jsx)("input",{type:"text",value:c.fullName,onChange:e=>N("fullName",e.target.value),className:"w-full bg-[#0A0A0A] border ".concat(v.fullName?"border-red-500":"border-gray-700"," rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500"),placeholder:"John Doe"}),v.fullName&&(0,Vn.jsx)("p",{className:"mt-1 text-sm text-red-400",children:v.fullName})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)("input",{type:"email",value:c.email,disabled:!0,className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-lg px-4 py-2 text-gray-500 cursor-not-allowed"}),(0,Vn.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:"Cannot be changed"})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),(0,Vn.jsx)("input",{type:"text",value:c.phone,onChange:e=>N("phone",e.target.value),className:"w-full bg-[#0A0A0A] border ".concat(v.phone?"border-red-500":"border-gray-700"," rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500"),placeholder:"+62 812 3456 7890"}),v.phone&&(0,Vn.jsx)("p",{className:"mt-1 text-sm text-red-400",children:v.phone})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Position"}),(0,Vn.jsx)("input",{type:"text",value:c.position,onChange:e=>N("position",e.target.value),className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",placeholder:"Project Manager"})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Department"}),(0,Vn.jsx)("input",{type:"text",value:c.department,onChange:e=>N("department",e.target.value),className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",placeholder:"Engineering"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Bio"}),(0,Vn.jsx)("textarea",{value:c.bio,onChange:e=>N("bio",e.target.value),rows:4,className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500 resize-none",placeholder:"Tell us about yourself..."}),(0,Vn.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[c.bio.length,"/500 characters"]})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-700",children:[(0,Vn.jsx)("button",{onClick:()=>{var t,r,n,a,s;e&&d({fullName:(null===(t=e.profile)||void 0===t?void 0:t.fullName)||e.fullName||"",email:e.email||"",phone:(null===(r=e.profile)||void 0===r?void 0:r.phone)||"",position:(null===(n=e.profile)||void 0===n?void 0:n.position)||"",department:(null===(a=e.profile)||void 0===a?void 0:a.department)||"",bio:(null===(s=e.profile)||void 0===s?void 0:s.bio)||""});l(null),j({})},disabled:s,className:"px-6 py-2 bg-[#0A0A0A] border border-gray-700 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",children:"Cancel"}),(0,Vn.jsx)("button",{onClick:async()=>{if((()=>{const e={};return c.fullName.trim()||(e.fullName="Full name is required"),c.phone&&!/^[0-9+\-\s()]+$/.test(c.phone)&&(e.phone="Invalid phone number format"),j(e),0===Object.keys(e).length})()){o(!0);try{const e=localStorage.getItem("token"),t=await fetch("/api/auth/profile",{method:"PUT",headers:(0,Mt.A)({"Content-Type":"application/json"},e&&{Authorization:"Bearer ".concat(e)}),body:JSON.stringify({fullName:c.fullName,phone:c.phone,position:c.position,department:c.department,bio:c.bio})}),r=await t.json();if(!r.success)throw new Error(r.error||"Failed to update profile");window.showToast&&window.showToast("Profile updated successfully!","success"),l(null),w()}catch(e){console.error("Error updating profile:",e),window.showToast&&window.showToast("Failed to update profile","error")}finally{o(!1)}}},disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg transition-colors disabled:opacity-50",children:s?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"Saving..."]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(gE,{className:"h-4 w-4"}),"Save Changes"]})})]})]}):(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsx)(hZ,{icon:ra,label:"Full Name",value:c.fullName||"-"}),(0,Vn.jsx)(hZ,{icon:vo,label:"Email",value:c.email||"-"}),(0,Vn.jsx)(hZ,{icon:yo,label:"Phone",value:c.phone||"-"}),(0,Vn.jsx)(hZ,{icon:za,label:"Position",value:c.position||"-"}),(0,Vn.jsx)(hZ,{icon:ka,label:"Department",value:c.department||"-"}),c.bio&&(0,Vn.jsx)(hZ,{icon:di,label:"Bio",value:c.bio})]})]}),(0,Vn.jsxs)("div",{className:"bg-[#1A1A1A] rounded-lg p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Vn.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,Vn.jsx)(dZ,{className:"h-5 w-5 text-purple-400"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-xl font-bold",children:"Preferences"}),(0,Vn.jsx)("p",{className:"text-sm text-gray-400",children:"Customize your experience"})]})]}),(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#0A0A0A] rounded-lg",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)(pZ,{className:"h-5 w-5 text-gray-400"}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"font-medium",children:"Default Landing Page"}),(0,Vn.jsx)("div",{className:"text-sm text-gray-400",children:"Page to show after login"})]})]}),(0,Vn.jsxs)("select",{value:u.defaultLandingPage,onChange:e=>A("defaultLandingPage",e.target.value),className:"bg-[#1A1A1A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",children:[(0,Vn.jsx)("option",{value:"dashboard",children:"Dashboard"}),(0,Vn.jsx)("option",{value:"projects",children:"Projects"}),(0,Vn.jsx)("option",{value:"finance",children:"Finance"}),(0,Vn.jsx)("option",{value:"inventory",children:"Inventory"})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#0A0A0A] rounded-lg",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)(pZ,{className:"h-5 w-5 text-gray-400"}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"font-medium",children:"Items Per Page"}),(0,Vn.jsx)("div",{className:"text-sm text-gray-400",children:"Default page size for tables"})]})]}),(0,Vn.jsxs)("select",{value:u.itemsPerPage,onChange:e=>A("itemsPerPage",parseInt(e.target.value)),className:"bg-[#1A1A1A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",children:[(0,Vn.jsx)("option",{value:10,children:"10"}),(0,Vn.jsx)("option",{value:25,children:"25"}),(0,Vn.jsx)("option",{value:50,children:"50"}),(0,Vn.jsx)("option",{value:100,children:"100"})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#0A0A0A] rounded-lg",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)(Do,{className:"h-5 w-5 text-gray-400"}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"font-medium",children:"Timezone"}),(0,Vn.jsx)("div",{className:"text-sm text-gray-400",children:"Your local timezone"})]})]}),(0,Vn.jsxs)("select",{value:u.timezone,onChange:e=>A("timezone",e.target.value),className:"bg-[#1A1A1A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",children:[(0,Vn.jsx)("option",{value:"Asia/Jakarta",children:"Jakarta (WIB)"}),(0,Vn.jsx)("option",{value:"Asia/Makassar",children:"Makassar (WITA)"}),(0,Vn.jsx)("option",{value:"Asia/Jayapura",children:"Jayapura (WIT)"}),(0,Vn.jsx)("option",{value:"Asia/Singapore",children:"Singapore"}),(0,Vn.jsx)("option",{value:"UTC",children:"UTC"})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#0A0A0A] rounded-lg",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)(io,{className:"h-5 w-5 text-gray-400"}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"font-medium",children:"Date Format"}),(0,Vn.jsx)("div",{className:"text-sm text-gray-400",children:"How dates are displayed"})]})]}),(0,Vn.jsxs)("select",{value:u.dateFormat,onChange:e=>A("dateFormat",e.target.value),className:"bg-[#1A1A1A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",children:[(0,Vn.jsx)("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY (18/10/2025)"}),(0,Vn.jsx)("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY (10/18/2025)"}),(0,Vn.jsx)("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD (2025-10-18)"})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#0A0A0A] rounded-lg",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsx)("span",{className:"h-5 w-5 text-gray-400 flex items-center justify-center font-bold",children:"123"}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("div",{className:"font-medium",children:"Number Format"}),(0,Vn.jsx)("div",{className:"text-sm text-gray-400",children:"Decimal and thousand separators"})]})]}),(0,Vn.jsxs)("select",{value:u.numberFormat,onChange:e=>A("numberFormat",e.target.value),className:"bg-[#1A1A1A] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",children:[(0,Vn.jsx)("option",{value:"1,234.56",children:"1,234.56 (US)"}),(0,Vn.jsx)("option",{value:"1.234,56",children:"1.234,56 (EU)"}),(0,Vn.jsx)("option",{value:"1 234,56",children:"1 234,56 (FR)"})]})]})]})]}),(0,Vn.jsxs)("div",{className:"bg-[#1A1A1A] rounded-lg p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Vn.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,Vn.jsx)(Sa,{className:"h-5 w-5 text-green-400"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-xl font-bold",children:"Account Activity"}),(0,Vn.jsx)("p",{className:"text-sm text-gray-400",children:"Your recent account information"})]})]}),(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsx)(hZ,{icon:Sa,label:"Account Created",value:null!==e&&void 0!==e&&e.createdAt?new Date(e.createdAt).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"-"}),(0,Vn.jsx)(hZ,{icon:Ho,label:"Last Updated",value:null!==e&&void 0!==e&&e.updatedAt?new Date(e.updatedAt).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}),(0,Vn.jsx)(hZ,{icon:Sa,label:"Last Login",value:null!==e&&void 0!==e&&e.lastLogin?new Date(e.lastLogin).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never"})]})]})]})]});var F},fZ=()=>{const e=ee(),t=re(),{selectedSection:r,setSelectedSection:n,getSectionById:s}=bW(),[o,i]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!1),[m,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const t=e.pathname;t.includes("/settings/users")?(c(!0),i(!1),u(!1),h(!1),f(!1)):t.includes("/settings/database")?(i(!0),c(!1),u(!1),h(!1),f(!1)):t.includes("/settings/notifications")?(u(!0),i(!1),c(!1),h(!1),f(!1)):t.includes("/settings/security")?(h(!0),i(!1),c(!1),u(!1),f(!1)):t.includes("/settings/profile")?(f(!0),i(!1),c(!1),u(!1),h(!1)):(i(!1),c(!1),u(!1),h(!1),f(!1))},[e.pathname]);const x=()=>{t("/settings"),n(null),i(!1),c(!1),u(!1),h(!1),f(!1)},g=()=>{t("/settings/database")};return(0,Vn.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,Vn.jsx)(yW,{icon:(0,Vn.jsx)(aa,{className:"h-6 w-6"}),title:"Pengaturan Sistem",subtitle:"Kelola konfigurasi dan pengaturan aplikasi"}),(()=>{if(l)return(0,Vn.jsxs)("div",{className:"mt-4",children:[(0,Vn.jsx)("div",{className:"mb-4",children:(0,Vn.jsxs)("button",{onClick:x,className:"flex items-center text-blue-500 hover:text-blue-600 transition-colors",children:[(0,Vn.jsx)(Aa,{className:"h-4 w-4 mr-1"})," Kembali ke Pengaturan"]})}),(0,Vn.jsx)(oZ,{})]});if(o)return(0,Vn.jsxs)("div",{className:"mt-4",children:[(0,Vn.jsx)("div",{className:"mb-4",children:(0,Vn.jsxs)("button",{onClick:x,className:"flex items-center text-blue-500 hover:text-blue-600 transition-colors",children:[(0,Vn.jsx)(Aa,{className:"h-4 w-4 mr-1"})," Kembali ke Pengaturan"]})}),(0,Vn.jsx)(GQ,{})]});if(d)return(0,Vn.jsxs)("div",{className:"mt-4",children:[(0,Vn.jsx)("div",{className:"mb-4",children:(0,Vn.jsxs)("button",{onClick:x,className:"flex items-center text-blue-500 hover:text-blue-600 transition-colors",children:[(0,Vn.jsx)(Aa,{className:"h-4 w-4 mr-1"})," Kembali ke Pengaturan"]})}),(0,Vn.jsx)(lZ,{})]});if(p)return(0,Vn.jsxs)("div",{className:"mt-4",children:[(0,Vn.jsx)("div",{className:"mb-4",children:(0,Vn.jsxs)("button",{onClick:x,className:"flex items-center text-blue-500 hover:text-blue-600 transition-colors",children:[(0,Vn.jsx)(Aa,{className:"h-4 w-4 mr-1"})," Kembali ke Pengaturan"]})}),(0,Vn.jsx)(uZ,{})]});if(m)return(0,Vn.jsxs)("div",{className:"mt-4",children:[(0,Vn.jsx)("div",{className:"mb-4",children:(0,Vn.jsxs)("button",{onClick:x,className:"flex items-center text-blue-500 hover:text-blue-600 transition-colors",children:[(0,Vn.jsx)(Aa,{className:"h-4 w-4 mr-1"})," Kembali ke Pengaturan"]})}),(0,Vn.jsx)(mZ,{})]});if(r){const e=s(r);return"database"===e.id?(g(),null):(0,Vn.jsxs)("div",{className:"mt-4",children:[(0,Vn.jsx)("div",{className:"mb-4",children:(0,Vn.jsxs)("button",{onClick:x,className:"flex items-center text-blue-500 hover:text-blue-600 transition-colors",children:[(0,Vn.jsx)(Aa,{className:"h-4 w-4 mr-1"})," Kembali ke Pengaturan"]})}),(0,Vn.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"#FFFFFF"},children:e.title}),(0,Vn.jsx)(kW,{})]})}return(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(vW,{}),(0,Vn.jsx)(wW,{selectedSection:r,onSectionSelect:e=>{"database"===e?g():"users"===e?t("/settings/users"):"notifications"===e?t("/settings/notifications"):"security"===e?t("/settings/security"):"profile"===e?t("/settings/profile"):n(e)}}),(0,Vn.jsx)("div",{className:"mt-8",children:(0,Vn.jsx)(NW,{})})]})})()]})},xZ=fZ,gZ=()=>{var e,t,r;const{token:n}=Kn(),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(new Date);(0,a.useEffect)(()=>{h()},[]);const h=async()=>{try{o(!0);const e=await fetch("/api/analytics/summary",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch analytics data");const t=await e.json();l(t.data),p(new Date),d(null)}catch(e){console.error("Error fetching analytics:",e),d(e.message)}finally{o(!1)}},m=e=>{if(null===e||void 0===e||isNaN(e))return"Rp 0";const t=parseFloat(e);return isNaN(t)?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(null===e||void 0===e||isNaN(e))return"0";const r=parseFloat(e);return isNaN(r)?"0":r.toFixed(t)};if(s&&!i)return(0,Vn.jsx)("div",{className:"flex justify-center items-center min-h-screen",style:{backgroundColor:"#1C1C1E"},children:(0,Vn.jsxs)("div",{className:"text-center",children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 mx-auto mb-4",style:{borderColor:"#0A84FF"}}),(0,Vn.jsx)("p",{style:{color:"#98989D"},children:"Loading analytics..."})]})});if(c)return(0,Vn.jsx)("div",{className:"p-6",style:{backgroundColor:"#1C1C1E",minHeight:"100vh"},children:(0,Vn.jsxs)("div",{className:"rounded-lg p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Vn.jsx)(Vo.A,{className:"h-6 w-6",style:{color:"#FF453A"}}),(0,Vn.jsx)("h3",{className:"text-lg font-semibold",style:{color:"#FFFFFF"},children:"Error Loading Analytics"})]}),(0,Vn.jsx)("p",{className:"mb-4",style:{color:"#98989D"},children:c}),(0,Vn.jsxs)("button",{onClick:h,className:"px-4 py-2 rounded-lg transition-colors flex items-center gap-2",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#FFFFFF"},children:[(0,Vn.jsx)(Ho,{className:"h-4 w-4"}),"Retry"]})]})});const{financial:x,efficiency:g,dashboard:b}=i||{},y=(null===x||void 0===x?void 0:x.overview)||{},v=y.total_approvals>0?f(y.approved_count/y.total_approvals*100,1):"0";return(0,Vn.jsxs)("div",{className:"min-h-screen p-6",style:{backgroundColor:"#1C1C1E"},children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3 mb-2",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(ba,{className:"h-8 w-8",style:{color:"#0A84FF"}}),"Advanced Analytics Dashboard"]}),(0,Vn.jsxs)("p",{style:{color:"#98989D"},children:["Last updated: ",u.toLocaleTimeString("id-ID")]})]}),(0,Vn.jsx)("button",{onClick:h,disabled:s,className:"p-3 rounded-lg transition-colors",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A",color:s?"#636366":"#0A84FF",cursor:s?"not-allowed":"pointer"},children:(0,Vn.jsx)(Ho,{className:"h-5 w-5 ".concat(s?"animate-spin":"")})})]}),s&&(0,Vn.jsx)("div",{className:"h-1 mb-6 rounded-full overflow-hidden",style:{backgroundColor:"#38383A"},children:(0,Vn.jsx)("div",{className:"h-full animate-pulse",style:{backgroundColor:"#0A84FF",width:"60%"}})}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Vn.jsx)("div",{className:"rounded-xl p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Vn.jsx)("div",{className:"p-3 rounded-lg",style:{backgroundColor:"rgba(10, 132, 255, 0.1)"},children:(0,Vn.jsx)(di,{className:"h-6 w-6",style:{color:"#0A84FF"}})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-2xl font-bold",style:{color:"#FFFFFF"},children:(null===b||void 0===b?void 0:b.today_submissions)||0}),(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Today's Submissions"})]})]})}),(0,Vn.jsx)("div",{className:"rounded-xl p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Vn.jsx)("div",{className:"p-3 rounded-lg",style:{backgroundColor:"rgba(48, 209, 88, 0.1)"},children:(0,Vn.jsx)(Ea.A,{className:"h-6 w-6",style:{color:"#30D158"}})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-2xl font-bold",style:{color:"#FFFFFF"},children:(null===b||void 0===b?void 0:b.today_completions)||0}),(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Today's Completions"})]})]})}),(0,Vn.jsxs)("div",{className:"rounded-xl p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Vn.jsx)("div",{className:"p-3 rounded-lg",style:{backgroundColor:"rgba(255, 159, 10, 0.1)"},children:(0,Vn.jsx)(Sa,{className:"h-6 w-6",style:{color:"#FF9F0A"}})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-2xl font-bold",style:{color:"#FFFFFF"},children:(null===b||void 0===b?void 0:b.total_pending)||0}),(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Pending Approvals"})]})]}),(null===b||void 0===b?void 0:b.overdue_pending)>0&&(0,Vn.jsxs)("div",{className:"mt-3 px-3 py-1 rounded-full inline-block text-xs font-medium",style:{backgroundColor:"rgba(255, 69, 58, 0.1)",color:"#FF453A"},children:[b.overdue_pending," Overdue"]})]}),(0,Vn.jsx)("div",{className:"rounded-xl p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:(0,Vn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Vn.jsx)("div",{className:"p-3 rounded-lg",style:{backgroundColor:"rgba(48, 209, 88, 0.1)"},children:(0,Vn.jsx)(xa,{className:"h-6 w-6",style:{color:"#30D158"}})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-bold",style:{color:"#FFFFFF"},children:m((null===b||void 0===b?void 0:b.today_approved_amount)||0)}),(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Today's Approved Amount"})]})]})})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,Vn.jsxs)("div",{className:"lg:col-span-2 rounded-xl p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(xa,{className:"h-5 w-5",style:{color:"#30D158"}}),"Financial Overview"]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-3xl font-bold",style:{color:"#0A84FF"},children:(e=>{if(null===e||void 0===e||isNaN(e))return"0";const t=parseFloat(e);return isNaN(t)?"0":new Intl.NumberFormat("id-ID").format(t)})(y.total_approvals||0)}),(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Total RAB Submissions"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-3xl font-bold",style:{color:"#30D158"},children:m(y.approved_amount||0)}),(0,Vn.jsx)("p",{className:"text-sm",style:{color:"#98989D"},children:"Total Approved Amount"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("h3",{className:"text-3xl font-bold",style:{color:"#FFFFFF"},children:[v,"%"]}),(0,Vn.jsx)("p",{className:"text-sm mb-2",style:{color:"#98989D"},children:"Approval Rate"}),(0,Vn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:v>=80?"rgba(48, 209, 88, 0.1)":v>=60?"rgba(255, 159, 10, 0.1)":"rgba(255, 69, 58, 0.1)",color:v>=80?"#30D158":v>=60?"#FF9F0A":"#FF453A"},children:v>=80?"Excellent":v>=60?"Good":"Needs Improvement"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("h3",{className:"text-3xl font-bold",style:{color:"#FFFFFF"},children:[f(y.avg_approval_time_hours,1),"h"]}),(0,Vn.jsx)("p",{className:"text-sm mb-2",style:{color:"#98989D"},children:"Average Approval Time"}),(0,Vn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:y.avg_approval_time_hours<=2?"rgba(48, 209, 88, 0.1)":y.avg_approval_time_hours<=8?"rgba(255, 159, 10, 0.1)":"rgba(255, 69, 58, 0.1)",color:y.avg_approval_time_hours<=2?"#30D158":y.avg_approval_time_hours<=8?"#FF9F0A":"#FF453A"},children:y.avg_approval_time_hours<=2?"Fast":y.avg_approval_time_hours<=8?"Normal":"Slow"})]})]})]}),(0,Vn.jsxs)("div",{className:"rounded-xl p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(ri,{className:"h-5 w-5",style:{color:"#0A84FF"}}),"Status Breakdown"]}),(0,Vn.jsxs)("div",{className:"space-y-4",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)(Ea.A,{className:"h-5 w-5",style:{color:"#30D158"}}),(0,Vn.jsx)("span",{style:{color:"#98989D"},children:"Approved"})]}),(0,Vn.jsx)("span",{className:"text-xl font-bold",style:{color:"#FFFFFF"},children:y.approved_count||0})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)(Sa,{className:"h-5 w-5",style:{color:"#FF9F0A"}}),(0,Vn.jsx)("span",{style:{color:"#98989D"},children:"Pending"})]}),(0,Vn.jsx)("span",{className:"text-xl font-bold",style:{color:"#FFFFFF"},children:y.pending_count||0})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)($D,{className:"h-5 w-5",style:{color:"#FF453A"}}),(0,Vn.jsx)("span",{style:{color:"#98989D"},children:"Rejected"})]}),(0,Vn.jsx)("span",{className:"text-xl font-bold",style:{color:"#FFFFFF"},children:y.rejected_count||0})]})]})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,Vn.jsxs)("div",{className:"rounded-xl p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(Ua,{className:"h-5 w-5",style:{color:"#0A84FF"}}),"Category Performance"]}),null===x||void 0===x||null===(e=x.categoryBreakdown)||void 0===e?void 0:e.map((e,t)=>(0,Vn.jsxs)("div",{className:"mb-6 last:mb-0",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Vn.jsx)("span",{className:"font-medium",style:{color:"#FFFFFF"},children:e.category}),(0,Vn.jsxs)("span",{className:"text-sm",style:{color:"#98989D"},children:[e.count," items"]})]}),(0,Vn.jsx)("p",{className:"text-sm mb-2",style:{color:"#30D158"},children:m(e.approved_amount||0)}),(0,Vn.jsx)("div",{className:"h-2 rounded-full overflow-hidden",style:{backgroundColor:"#38383A"},children:(0,Vn.jsx)("div",{className:"h-full rounded-full transition-all",style:{backgroundColor:"#0A84FF",width:"".concat(e.approved_amount?Math.min(e.approved_amount/1e9*10,100):0,"%")}})})]},t))]}),(0,Vn.jsxs)("div",{className:"rounded-xl p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(Va,{className:"h-5 w-5",style:{color:"#FF9F0A"}}),"Step Performance Analysis"]}),null===g||void 0===g||null===(t=g.stepPerformance)||void 0===t?void 0:t.map((e,t)=>(0,Vn.jsxs)("div",{className:"mb-6 last:mb-0",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Vn.jsx)("span",{className:"font-medium",style:{color:"#FFFFFF"},children:e.step_name}),(0,Vn.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:"rgba(10, 132, 255, 0.1)",color:"#0A84FF",border:"1px solid rgba(10, 132, 255, 0.2)"},children:e.required_role})]}),(0,Vn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Vn.jsxs)("span",{className:"text-sm",style:{color:"#98989D"},children:[e.approved_steps,"/",e.total_steps," approved"]}),(0,Vn.jsx)("span",{className:"text-sm",style:{color:"#0A84FF"},children:e.avg_processing_hours?"".concat(f(e.avg_processing_hours,1),"h avg"):"N/A"})]}),(0,Vn.jsx)("div",{className:"h-2 rounded-full overflow-hidden",style:{backgroundColor:"#38383A"},children:(0,Vn.jsx)("div",{className:"h-full rounded-full transition-all",style:{backgroundColor:e.approved_steps===e.total_steps?"#30D158":"#0A84FF",width:"".concat(e.total_steps>0?e.approved_steps/e.total_steps*100:0,"%")}})})]},t))]})]}),(0,Vn.jsxs)("div",{className:"rounded-xl p-6",style:{backgroundColor:"#2C2C2E",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",style:{color:"#FFFFFF"},children:[(0,Vn.jsx)(ba,{className:"h-5 w-5",style:{color:"#0A84FF"}}),"Approval Efficiency by Amount Range"]}),(0,Vn.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:null===g||void 0===g||null===(r=g.approvalRatesByAmount)||void 0===r?void 0:r.map((e,t)=>(0,Vn.jsxs)("div",{className:"text-center p-4 rounded-lg",style:{backgroundColor:"rgba(10, 132, 255, 0.05)",border:"1px solid #38383A"},children:[(0,Vn.jsxs)("h3",{className:"text-3xl font-bold",style:{color:"#0A84FF"},children:[e.approval_rate_percent,"%"]}),(0,Vn.jsx)("p",{className:"font-medium my-2",style:{color:"#FFFFFF"},children:e.amount_range}),(0,Vn.jsxs)("p",{className:"text-sm mb-3",style:{color:"#98989D"},children:[e.approved_count,"/",e.total_count," approved"]}),(0,Vn.jsx)("div",{className:"h-2 rounded-full overflow-hidden",style:{backgroundColor:"#38383A"},children:(0,Vn.jsx)("div",{className:"h-full rounded-full transition-all",style:{backgroundColor:e.approval_rate_percent>=80?"#30D158":e.approval_rate_percent>=60?"#FF9F0A":"#FF453A",width:"".concat(e.approval_rate_percent,"%")}})})]},t))})]})]})};function bZ(e){return e+.5|0}const yZ=(e,t,r)=>Math.max(Math.min(e,r),t);function vZ(e){return yZ(bZ(2.55*e),0,255)}function jZ(e){return yZ(bZ(255*e),0,255)}function wZ(e){return yZ(bZ(e/2.55)/100,0,1)}function NZ(e){return yZ(bZ(100*e),0,100)}const AZ={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},kZ=[..."0123456789ABCDEF"],CZ=e=>kZ[15&e],FZ=e=>kZ[(240&e)>>4]+kZ[15&e],SZ=e=>(240&e)>>4===(15&e);function EZ(e){var t=(e=>SZ(e.r)&&SZ(e.g)&&SZ(e.b)&&SZ(e.a))(e)?CZ:FZ;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const PZ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function DZ(e,t,r){const n=t*Math.min(r,1-r),a=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return r-n*Math.max(Math.min(a-3,9-a,1),-1)};return[a(0),a(8),a(4)]}function OZ(e,t,r){const n=function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+e/60)%6;return r-r*t*Math.max(Math.min(a,4-a,1),0)};return[n(5),n(3),n(1)]}function TZ(e,t,r){const n=DZ(e,1,.5);let a;for(t+r>1&&(a=1/(t+r),t*=a,r*=a),a=0;a<3;a++)n[a]*=1-t-r,n[a]+=t;return n}function IZ(e){const t=e.r/255,r=e.g/255,n=e.b/255,a=Math.max(t,r,n),s=Math.min(t,r,n),o=(a+s)/2;let i,l,c;return a!==s&&(c=a-s,l=o>.5?c/(2-a-s):c/(a+s),i=function(e,t,r,n,a){return e===a?(t-r)/n+(t<r?6:0):t===a?(r-e)/n+2:(e-t)/n+4}(t,r,n,c,a),i=60*i+.5),[0|i,l||0,o]}function MZ(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(jZ)}function _Z(e,t,r){return MZ(DZ,e,t,r)}function RZ(e){return(e%360+360)%360}function BZ(e){const t=PZ.exec(e);let r,n=255;if(!t)return;t[5]!==r&&(n=t[6]?vZ(+t[5]):jZ(+t[5]));const a=RZ(+t[2]),s=+t[3]/100,o=+t[4]/100;return r="hwb"===t[1]?function(e,t,r){return MZ(TZ,e,t,r)}(a,s,o):"hsv"===t[1]?function(e,t,r){return MZ(OZ,e,t,r)}(a,s,o):_Z(a,s,o),{r:r[0],g:r[1],b:r[2],a:n}}const LZ={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zZ={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let UZ;function WZ(e){UZ||(UZ=function(){const e={},t=Object.keys(zZ),r=Object.keys(LZ);let n,a,s,o,i;for(n=0;n<t.length;n++){for(o=i=t[n],a=0;a<r.length;a++)s=r[a],i=i.replace(s,LZ[s]);s=parseInt(zZ[o],16),e[i]=[s>>16&255,s>>8&255,255&s]}return e}(),UZ.transparent=[0,0,0,0]);const t=UZ[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const VZ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const HZ=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,KZ=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function qZ(e,t,r){if(e){let n=IZ(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,0===t?360:1)),n=_Z(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function GZ(e,t){return e?Object.assign(t||{},e):e}function YZ(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=jZ(e[3]))):(t=GZ(e,{r:0,g:0,b:0,a:1})).a=jZ(t.a),t}function $Z(e){return"r"===e.charAt(0)?function(e){const t=VZ.exec(e);let r,n,a,s=255;if(t){if(t[7]!==r){const e=+t[7];s=t[8]?vZ(e):yZ(255*e,0,255)}return r=+t[1],n=+t[3],a=+t[5],r=255&(t[2]?vZ(r):yZ(r,0,255)),n=255&(t[4]?vZ(n):yZ(n,0,255)),a=255&(t[6]?vZ(a):yZ(a,0,255)),{r:r,g:n,b:a,a:s}}}(e):BZ(e)}class JZ{constructor(e){if(e instanceof JZ)return e;const t=typeof e;let r;"object"===t?r=YZ(e):"string"===t&&(r=function(e){var t,r=e.length;return"#"===e[0]&&(4===r||5===r?t={r:255&17*AZ[e[1]],g:255&17*AZ[e[2]],b:255&17*AZ[e[3]],a:5===r?17*AZ[e[4]]:255}:7!==r&&9!==r||(t={r:AZ[e[1]]<<4|AZ[e[2]],g:AZ[e[3]]<<4|AZ[e[4]],b:AZ[e[5]]<<4|AZ[e[6]],a:9===r?AZ[e[7]]<<4|AZ[e[8]]:255})),t}(e)||WZ(e)||$Z(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=GZ(this._rgb);return e&&(e.a=wZ(e.a)),e}set rgb(e){this._rgb=YZ(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(wZ(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?EZ(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=IZ(e),r=t[0],n=NZ(t[1]),a=NZ(t[2]);return e.a<255?"hsla(".concat(r,", ").concat(n,"%, ").concat(a,"%, ").concat(wZ(e.a),")"):"hsl(".concat(r,", ").concat(n,"%, ").concat(a,"%)")}(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,n=e.rgb;let a;const s=t===a?.5:t,o=2*s-1,i=r.a-n.a,l=((o*i===-1?o:(o+i)/(1+o*i))+1)/2;a=1-l,r.r=255&l*r.r+a*n.r+.5,r.g=255&l*r.g+a*n.g+.5,r.b=255&l*r.b+a*n.b+.5,r.a=s*r.a+(1-s)*n.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,r){const n=KZ(wZ(e.r)),a=KZ(wZ(e.g)),s=KZ(wZ(e.b));return{r:jZ(HZ(n+r*(KZ(wZ(t.r))-n))),g:jZ(HZ(a+r*(KZ(wZ(t.g))-a))),b:jZ(HZ(s+r*(KZ(wZ(t.b))-s))),a:e.a+r*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new JZ(this.rgb)}alpha(e){return this._rgb.a=jZ(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=bZ(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return qZ(this._rgb,2,e),this}darken(e){return qZ(this._rgb,2,-e),this}saturate(e){return qZ(this._rgb,1,e),this}desaturate(e){return qZ(this._rgb,1,-e),this}rotate(e){return function(e,t){var r=IZ(e);r[0]=RZ(r[0]+t),r=_Z(r),e.r=r[0],e.g=r[1],e.b=r[2]}(this._rgb,e),this}}function XZ(){}const QZ=(()=>{let e=0;return()=>e++})();function ZZ(e){return null===e||void 0===e}function e0(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function t0(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function r0(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function n0(e,t){return r0(e)?e:t}function a0(e,t){return"undefined"===typeof e?t:e}const s0=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function o0(e,t,r){if(e&&"function"===typeof e.call)return e.apply(r,t)}function i0(e,t,r,n){let a,s,o;if(e0(e))if(s=e.length,n)for(a=s-1;a>=0;a--)t.call(r,e[a],a);else for(a=0;a<s;a++)t.call(r,e[a],a);else if(t0(e))for(o=Object.keys(e),s=o.length,a=0;a<s;a++)t.call(r,e[o[a]],o[a])}function l0(e,t){let r,n,a,s;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(a=e[r],s=t[r],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function c0(e){if(e0(e))return e.map(c0);if(t0(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let a=0;for(;a<n;++a)t[r[a]]=c0(e[r[a]]);return t}return e}function d0(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function u0(e,t,r,n){if(!d0(e))return;const a=t[e],s=r[e];t0(a)&&t0(s)?p0(a,s,n):t[e]=c0(s)}function p0(e,t,r){const n=e0(t)?t:[t],a=n.length;if(!t0(e))return e;const s=(r=r||{}).merger||u0;let o;for(let i=0;i<a;++i){if(o=n[i],!t0(o))continue;const t=Object.keys(o);for(let n=0,a=t.length;n<a;++n)s(t[n],e,o,r)}return e}function h0(e,t){return p0(e,t,{merger:m0})}function m0(e,t,r){if(!d0(e))return;const n=t[e],a=r[e];t0(n)&&t0(a)?h0(n,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=c0(a))}const f0={"":e=>e,x:e=>e.x,y:e=>e.y};function x0(e,t){const r=f0[t]||(f0[t]=function(e){const t=function(e){const t=e.split("."),r=[];let n="";for(const a of t)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}(e);return e=>{for(const r of t){if(""===r)break;e=e&&e[r]}return e}}(t));return r(e)}function g0(e){return e.charAt(0).toUpperCase()+e.slice(1)}const b0=e=>"undefined"!==typeof e,y0=e=>"function"===typeof e,v0=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};const j0=Math.PI,w0=2*j0,N0=w0+j0,A0=Number.POSITIVE_INFINITY,k0=j0/180,C0=j0/2,F0=j0/4,S0=2*j0/3,E0=Math.log10,P0=Math.sign;function D0(e,t,r){return Math.abs(e-t)<r}function O0(e){const t=Math.round(e);e=D0(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(E0(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function T0(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function I0(e,t,r){let n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n][r],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function M0(e){return e*(j0/180)}function _0(e){return e*(180/j0)}function R0(e){if(!r0(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function B0(e,t){const r=t.x-e.x,n=t.y-e.y,a=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*j0&&(s+=w0),{angle:s,distance:a}}function L0(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function z0(e,t){return(e-t+N0)%w0-j0}function U0(e){return(e%w0+w0)%w0}function W0(e,t,r,n){const a=U0(e),s=U0(t),o=U0(r),i=U0(s-a),l=U0(o-a),c=U0(a-s),d=U0(a-o);return a===s||a===o||n&&s===o||i>l&&c<d}function V0(e,t,r){return Math.max(t,Math.min(r,e))}function H0(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function K0(e,t,r){r=r||(r=>e[r]<t);let n,a=e.length-1,s=0;for(;a-s>1;)n=s+a>>1,r(n)?s=n:a=n;return{lo:s,hi:a}}const q0=(e,t,r,n)=>K0(e,r,n?n=>{const a=e[n][t];return a<r||a===r&&e[n+1][t]===r}:n=>e[n][t]<r),G0=(e,t,r)=>K0(e,r,n=>e[n][t]>=r);const Y0=["push","pop","shift","splice","unshift"];function $0(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(t);-1!==a&&n.splice(a,1),n.length>0||(Y0.forEach(t=>{delete e[t]}),delete e._chartjs)}function J0(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const X0="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Q0(e,t){let r=[],n=!1;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];r=s,n||(n=!0,X0.call(window,()=>{n=!1,e.apply(t,r)}))}}const Z0=e=>"start"===e?"left":"end"===e?"right":"center",e1=(e,t,r)=>"start"===e?t:"end"===e?r:(t+r)/2;function t1(e,t,r){const n=t.length;let a=0,s=n;if(e._sorted){const{iScale:o,vScale:i,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=o.axis,{min:u,max:p,minDefined:h,maxDefined:m}=o.getUserBounds();if(h){if(a=Math.min(q0(l,d,u).lo,r?n:q0(t,d,o.getPixelForValue(u)).lo),c){const e=l.slice(0,a+1).reverse().findIndex(e=>!ZZ(e[i.axis]));a-=Math.max(0,e)}a=V0(a,0,n-1)}if(m){let e=Math.max(q0(l,o.axis,p,!0).hi+1,r?0:q0(t,d,o.getPixelForValue(p),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!ZZ(e[i.axis]));e+=Math.max(0,t)}s=V0(e,a,n)-a}else s=n-a}return{start:a,count:s}}function r1(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,a={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=a,!0;const s=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),s}const n1=e=>0===e||1===e,a1=(e,t,r)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*w0/r),s1=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*w0/r)+1,o1={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*C0),easeOutSine:e=>Math.sin(e*C0),easeInOutSine:e=>-.5*(Math.cos(j0*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>n1(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>n1(e)?e:a1(e,.075,.3),easeOutElastic:e=>n1(e)?e:s1(e,.075,.3),easeInOutElastic(e){const t=.1125;return n1(e)?e:e<.5?.5*a1(2*e,t,.45):.5+.5*s1(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-o1.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375},easeInOutBounce:e=>e<.5?.5*o1.easeInBounce(2*e):.5*o1.easeOutBounce(2*e-1)+.5};function i1(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function l1(e){return i1(e)?e:new JZ(e)}function c1(e){return i1(e)?e:new JZ(e).saturate(.5).darken(.1).hexString()}const d1=["x","y","borderWidth","radius","tension"],u1=["color","borderColor","backgroundColor"];const p1=new Map;function h1(e,t,r){return function(e,t){t=t||{};const r=e+JSON.stringify(t);let n=p1.get(r);return n||(n=new Intl.NumberFormat(e,t),p1.set(r,n)),n}(t,r).format(e)}const m1={values:e=>e0(e)?e:""+e,numeric(e,t,r){if(0===e)return"0";const n=this.chart.options.locale;let a,s=e;if(r.length>1){const t=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(t<1e-4||t>1e15)&&(a="scientific"),s=function(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e));return r}(e,r)}const o=E0(Math.abs(s)),i=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:a,minimumFractionDigits:i,maximumFractionDigits:i};return Object.assign(l,this.options.ticks.format),h1(e,n,l)},logarithmic(e,t,r){if(0===e)return"0";const n=r[t].significand||e/Math.pow(10,Math.floor(E0(e)));return[1,2,3,5,10,15].includes(n)||t>.8*r.length?m1.numeric.call(this,e,t,r):""}};var f1={formatters:m1};const x1=Object.create(null),g1=Object.create(null);function b1(e,t){if(!t)return e;const r=t.split(".");for(let n=0,a=r.length;n<a;++n){const t=r[n];e=e[t]||(e[t]=Object.create(null))}return e}function y1(e,t,r){return"string"===typeof t?p0(b1(e,t),r):p0(b1(e,""),t)}class v1{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>c1(t.backgroundColor),this.hoverBorderColor=(e,t)=>c1(t.borderColor),this.hoverColor=(e,t)=>c1(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return y1(this,e,t)}get(e){return b1(this,e)}describe(e,t){return y1(g1,e,t)}override(e,t){return y1(x1,e,t)}route(e,t,r,n){const a=b1(this,e),s=b1(this,r),o="_"+t;Object.defineProperties(a,{[o]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=s[n];return t0(e)?Object.assign({},t,e):a0(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach(e=>e(this))}}var j1=new v1({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:u1},numbers:{type:"number",properties:d1}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:f1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function w1(e,t,r,n,a){let s=t[a];return s||(s=t[a]=e.measureText(a).width,r.push(a)),s>n&&(n=s),n}function N1(e,t,r,n){let a=(n=n||{}).data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(a=n.data={},s=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let o=0;const i=r.length;let l,c,d,u,p;for(l=0;l<i;l++)if(u=r[l],void 0===u||null===u||e0(u)){if(e0(u))for(c=0,d=u.length;c<d;c++)p=u[c],void 0===p||null===p||e0(p)||(o=w1(e,a,s,o,p))}else o=w1(e,a,s,o,u);e.restore();const h=s.length/2;if(h>r.length){for(l=0;l<h;l++)delete a[s[l]];s.splice(0,h)}return o}function A1(e,t,r){const n=e.currentDevicePixelRatio,a=0!==r?Math.max(r/2,.5):0;return Math.round((t-a)*n)/n+a}function k1(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function C1(e,t,r,n){F1(e,t,r,n,null)}function F1(e,t,r,n,a){let s,o,i,l,c,d,u,p;const h=t.pointStyle,m=t.rotation,f=t.radius;let x=(m||0)*k0;if(h&&"object"===typeof h&&(s=h.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(r,n),e.rotate(x),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),h){default:a?e.ellipse(r,n,a/2,f,0,0,w0):e.arc(r,n,f,0,w0),e.closePath();break;case"triangle":d=a?a/2:f,e.moveTo(r+Math.sin(x)*d,n-Math.cos(x)*f),x+=S0,e.lineTo(r+Math.sin(x)*d,n-Math.cos(x)*f),x+=S0,e.lineTo(r+Math.sin(x)*d,n-Math.cos(x)*f),e.closePath();break;case"rectRounded":c=.516*f,l=f-c,o=Math.cos(x+F0)*l,u=Math.cos(x+F0)*(a?a/2-c:l),i=Math.sin(x+F0)*l,p=Math.sin(x+F0)*(a?a/2-c:l),e.arc(r-u,n-i,c,x-j0,x-C0),e.arc(r+p,n-o,c,x-C0,x),e.arc(r+u,n+i,c,x,x+C0),e.arc(r-p,n+o,c,x+C0,x+j0),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*f,d=a?a/2:l,e.rect(r-d,n-l,2*d,2*l);break}x+=F0;case"rectRot":u=Math.cos(x)*(a?a/2:f),o=Math.cos(x)*f,i=Math.sin(x)*f,p=Math.sin(x)*(a?a/2:f),e.moveTo(r-u,n-i),e.lineTo(r+p,n-o),e.lineTo(r+u,n+i),e.lineTo(r-p,n+o),e.closePath();break;case"crossRot":x+=F0;case"cross":u=Math.cos(x)*(a?a/2:f),o=Math.cos(x)*f,i=Math.sin(x)*f,p=Math.sin(x)*(a?a/2:f),e.moveTo(r-u,n-i),e.lineTo(r+u,n+i),e.moveTo(r+p,n-o),e.lineTo(r-p,n+o);break;case"star":u=Math.cos(x)*(a?a/2:f),o=Math.cos(x)*f,i=Math.sin(x)*f,p=Math.sin(x)*(a?a/2:f),e.moveTo(r-u,n-i),e.lineTo(r+u,n+i),e.moveTo(r+p,n-o),e.lineTo(r-p,n+o),x+=F0,u=Math.cos(x)*(a?a/2:f),o=Math.cos(x)*f,i=Math.sin(x)*f,p=Math.sin(x)*(a?a/2:f),e.moveTo(r-u,n-i),e.lineTo(r+u,n+i),e.moveTo(r+p,n-o),e.lineTo(r-p,n+o);break;case"line":o=a?a/2:Math.cos(x)*f,i=Math.sin(x)*f,e.moveTo(r-o,n-i),e.lineTo(r+o,n+i);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(x)*(a?a/2:f),n+Math.sin(x)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function S1(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function E1(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function P1(e){e.restore()}function D1(e,t,r,n,a){if(!t)return e.lineTo(r.x,r.y);if("middle"===a){const n=(t.x+r.x)/2;e.lineTo(n,t.y),e.lineTo(n,r.y)}else"after"===a!==!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function O1(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function T1(e,t,r,n,a){if(a.strikethrough||a.underline){const s=e.measureText(n),o=t-s.actualBoundingBoxLeft,i=t+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,c=r+s.actualBoundingBoxDescent,d=a.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(o,d),e.lineTo(i,d),e.stroke()}}function I1(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function M1(e,t,r,n,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e0(t)?t:[t],i=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=a.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ZZ(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&I1(e,s.backdrop),i&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),ZZ(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,r,n,s.maxWidth)),e.fillText(c,r,n,s.maxWidth),T1(e,r,n,c,s),n+=Number(a.lineHeight);e.restore()}function _1(e,t){const{x:r,y:n,w:a,h:s,radius:o}=t;e.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*j0,j0,!0),e.lineTo(r,n+s-o.bottomLeft),e.arc(r+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,j0,C0,!0),e.lineTo(r+a-o.bottomRight,n+s),e.arc(r+a-o.bottomRight,n+s-o.bottomRight,o.bottomRight,C0,0,!0),e.lineTo(r+a,n+o.topRight),e.arc(r+a-o.topRight,n+o.topRight,o.topRight,0,-C0,!0),e.lineTo(r+o.topLeft,n)}const R1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,B1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function L1(e,t){const r=(""+e).match(R1);if(!r||"normal"===r[1])return 1.2*t;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100}return t*e}const z1=e=>+e||0;function U1(e,t){const r={},n=t0(t),a=n?Object.keys(t):t,s=t0(e)?n?r=>a0(e[r],e[t[r]]):t=>e[t]:()=>e;for(const o of a)r[o]=z1(s(o));return r}function W1(e){return U1(e,{top:"y",right:"x",bottom:"y",left:"x"})}function V1(e){return U1(e,["topLeft","topRight","bottomLeft","bottomRight"])}function H1(e){const t=W1(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function K1(e,t){e=e||{},t=t||j1.font;let r=a0(e.size,t.size);"string"===typeof r&&(r=parseInt(r,10));let n=a0(e.style,t.style);n&&!(""+n).match(B1)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:a0(e.family,t.family),lineHeight:L1(a0(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:a0(e.weight,t.weight),string:""};return a.string=function(e){return!e||ZZ(e.size)||ZZ(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a}function q1(e,t,r,n){let a,s,o,i=!0;for(a=0,s=e.length;a<s;++a)if(o=e[a],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),i=!1),void 0!==r&&e0(o)&&(o=o[r%o.length],i=!1),void 0!==o))return n&&!i&&(n.cacheable=!1),o}function G1(e,t){return Object.assign(Object.create(e),t)}function Y1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const a=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof r&&(r=s2("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:r,_getTarget:n,override:n=>Y1([n,...e],t,a,r)};return new Proxy(s,{deleteProperty:(t,r)=>(delete t[r],delete t._keys,delete e[0][r],!0),get:(r,n)=>Z1(r,n,()=>function(e,t,r,n){let a;for(const s of t)if(a=s2(X1(s,e),r),"undefined"!==typeof a)return Q1(e,a)?n2(r,n,e,a):a}(n,t,e,r)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>o2(e).includes(t),ownKeys:e=>o2(e),set(e,t,r){const a=e._storage||(e._storage=n());return e[t]=a[t]=r,delete e._keys,!0}})}function $1(e,t,r,n){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:J1(e,n),setContext:t=>$1(e,t,r,n),override:a=>$1(e.override(a),t,r,n)};return new Proxy(a,{deleteProperty:(t,r)=>(delete t[r],delete e[r],!0),get:(e,t,r)=>Z1(e,t,()=>function(e,t,r){const{_proxy:n,_context:a,_subProxy:s,_descriptors:o}=e;let i=n[t];y0(i)&&o.isScriptable(t)&&(i=function(e,t,r,n){const{_proxy:a,_context:s,_subProxy:o,_stack:i}=r;if(i.has(e))throw new Error("Recursion detected: "+Array.from(i).join("->")+"->"+e);i.add(e);let l=t(s,o||n);i.delete(e),Q1(e,l)&&(l=n2(a._scopes,a,e,l));return l}(t,i,e,r));e0(i)&&i.length&&(i=function(e,t,r,n){const{_proxy:a,_context:s,_subProxy:o,_descriptors:i}=r;if("undefined"!==typeof s.index&&n(e))return t[s.index%t.length];if(t0(t[0])){const r=t,n=a._scopes.filter(e=>e!==r);t=[];for(const l of r){const r=n2(n,a,e,l);t.push($1(r,s,o&&o[e],i))}}return t}(t,i,e,o.isIndexable));Q1(t,i)&&(i=$1(i,a,s&&s[t],o));return i}(e,t,r)),getOwnPropertyDescriptor:(t,r)=>t._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,r)=>Reflect.has(e,r),ownKeys:()=>Reflect.ownKeys(e),set:(t,r,n)=>(e[r]=n,delete t[r],!0)})}function J1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:r,indexable:n,isScriptable:y0(r)?r:()=>r,isIndexable:y0(n)?n:()=>n}}const X1=(e,t)=>e?e+g0(t):t,Q1=(e,t)=>t0(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Z1(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const n=r();return e[t]=n,n}function e2(e,t,r){return y0(e)?e(t,r):e}const t2=(e,t)=>!0===e?t:"string"===typeof e?x0(t,e):void 0;function r2(e,t,r,n,a){for(const s of t){const t=t2(r,s);if(t){e.add(t);const s=e2(t._fallback,r,a);if("undefined"!==typeof s&&s!==r&&s!==n)return s}else if(!1===t&&"undefined"!==typeof n&&r!==n)return null}return!1}function n2(e,t,r,n){const a=t._rootScopes,s=e2(t._fallback,r,n),o=[...e,...a],i=new Set;i.add(n);let l=a2(i,o,r,s||r,n);return null!==l&&(("undefined"===typeof s||s===r||(l=a2(i,o,s,l,n),null!==l))&&Y1(Array.from(i),[""],a,s,()=>function(e,t,r){const n=e._getTarget();t in n||(n[t]={});const a=n[t];if(e0(a)&&t0(r))return r;return a||{}}(t,r,n)))}function a2(e,t,r,n,a){for(;r;)r=r2(e,t,r,n,a);return r}function s2(e,t){for(const r of t){if(!r)continue;const t=r[e];if("undefined"!==typeof t)return t}}function o2(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const r of e)for(const e of Object.keys(r).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function i2(e,t,r,n){const{iScale:a}=e,{key:s="r"}=this._parsing,o=new Array(n);let i,l,c,d;for(i=0,l=n;i<l;++i)c=i+r,d=t[c],o[i]={r:a.parse(x0(d,s),c)};return o}const l2=Number.EPSILON||1e-14,c2=(e,t)=>t<e.length&&!e[t].skip&&e[t],d2=e=>"x"===e?"y":"x";function u2(e,t,r,n){const a=e.skip?t:e,s=t,o=r.skip?t:r,i=L0(s,a),l=L0(o,s);let c=i/(i+l),d=l/(i+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=n*c,p=n*d;return{previous:{x:s.x-u*(o.x-a.x),y:s.y-u*(o.y-a.y)},next:{x:s.x+p*(o.x-a.x),y:s.y+p*(o.y-a.y)}}}function p2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const r=d2(t),n=e.length,a=Array(n).fill(0),s=Array(n);let o,i,l,c=c2(e,0);for(o=0;o<n;++o)if(i=l,l=c,c=c2(e,o+1),l){if(c){const e=c[t]-l[t];a[o]=0!==e?(c[r]-l[r])/e:0}s[o]=i?c?P0(a[o-1])!==P0(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}!function(e,t,r){const n=e.length;let a,s,o,i,l,c=c2(e,0);for(let d=0;d<n-1;++d)l=c,c=c2(e,d+1),l&&c&&(D0(t[d],0,l2)?r[d]=r[d+1]=0:(a=r[d]/t[d],s=r[d+1]/t[d],i=Math.pow(a,2)+Math.pow(s,2),i<=9||(o=3/Math.sqrt(i),r[d]=a*o*t[d],r[d+1]=s*o*t[d])))}(e,a,s),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const n=d2(r),a=e.length;let s,o,i,l=c2(e,0);for(let c=0;c<a;++c){if(o=i,i=l,l=c2(e,c+1),!i)continue;const a=i[r],d=i[n];o&&(s=(a-o[r])/3,i["cp1".concat(r)]=a-s,i["cp1".concat(n)]=d-s*t[c]),l&&(s=(l[r]-a)/3,i["cp2".concat(r)]=a+s,i["cp2".concat(n)]=d+s*t[c])}}(e,s,t)}function h2(e,t,r){return Math.max(Math.min(e,r),t)}function m2(e,t,r,n,a){let s,o,i,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)p2(e,a);else{let r=n?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)i=e[s],l=u2(r,i,e[Math.min(s+1,o-(n?0:1))%o],t.tension),i.cp1x=l.previous.x,i.cp1y=l.previous.y,i.cp2x=l.next.x,i.cp2y=l.next.y,r=i}t.capBezierPoints&&function(e,t){let r,n,a,s,o,i=S1(e[0],t);for(r=0,n=e.length;r<n;++r)o=s,s=i,i=r<n-1&&S1(e[r+1],t),s&&(a=e[r],o&&(a.cp1x=h2(a.cp1x,t.left,t.right),a.cp1y=h2(a.cp1y,t.top,t.bottom)),i&&(a.cp2x=h2(a.cp2x,t.left,t.right),a.cp2y=h2(a.cp2y,t.top,t.bottom)))}(e,r)}function f2(){return"undefined"!==typeof window&&"undefined"!==typeof document}function x2(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function g2(e,t,r){let n;return"string"===typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[r])):n=e,n}const b2=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const y2=["top","right","bottom","left"];function v2(e,t,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const s=y2[a];n[s]=parseFloat(e[t+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function j2(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,a=b2(r),s="border-box"===a.boxSizing,o=v2(a,"padding"),i=v2(a,"border","width"),{x:l,y:c,box:d}=function(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:a,offsetY:s}=n;let o,i,l=!1;if(((e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot))(a,s,e.target))o=a,i=s;else{const e=t.getBoundingClientRect();o=n.clientX-e.left,i=n.clientY-e.top,l=!0}return{x:o,y:i,box:l}}(e,r),u=o.left+(d&&i.left),p=o.top+(d&&i.top);let{width:h,height:m}=t;return s&&(h-=o.width+i.width,m-=o.height+i.height),{x:Math.round((l-u)/h*r.width/n),y:Math.round((c-p)/m*r.height/n)}}const w2=e=>Math.round(10*e)/10;function N2(e,t,r,n){const a=b2(e),s=v2(a,"margin"),o=g2(a.maxWidth,e,"clientWidth")||A0,i=g2(a.maxHeight,e,"clientHeight")||A0,l=function(e,t,r){let n,a;if(void 0===t||void 0===r){const s=e&&x2(e);if(s){const e=s.getBoundingClientRect(),o=b2(s),i=v2(o,"border","width"),l=v2(o,"padding");t=e.width-l.width-i.width,r=e.height-l.height-i.height,n=g2(o.maxWidth,s,"clientWidth"),a=g2(o.maxHeight,s,"clientHeight")}else t=e.clientWidth,r=e.clientHeight}return{width:t,height:r,maxWidth:n||A0,maxHeight:a||A0}}(e,t,r);let{width:c,height:d}=l;if("content-box"===a.boxSizing){const e=v2(a,"border","width"),t=v2(a,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-s.width),d=Math.max(0,n?c/n:d-s.height),c=w2(Math.min(c,o,l.maxWidth)),d=w2(Math.min(d,i,l.maxHeight)),c&&!d&&(d=w2(c/2));return(void 0!==t||void 0!==r)&&n&&l.height&&d>l.height&&(d=l.height,c=w2(Math.floor(d*n))),{width:c,height:d}}function A2(e,t,r){const n=t||1,a=Math.floor(e.height*n),s=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==n||o.height!==a||o.width!==s)&&(e.currentDevicePixelRatio=n,o.height=a,o.width=s,e.ctx.setTransform(n,0,0,n,0,0),!0)}const k2=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};f2()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(Pr){}return e}();function C2(e,t){const r=function(e,t){return b2(e).getPropertyValue(t)}(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function F2(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function S2(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:"middle"===n?r<.5?e.y:t.y:"after"===n?r<1?e.y:t.y:r>0?t.y:e.y}}function E2(e,t,r,n){const a={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=F2(e,a,r),i=F2(a,s,r),l=F2(s,t,r),c=F2(o,i,r),d=F2(i,l,r);return F2(c,d,r)}function P2(e,t,r){return e?function(e,t){return{x:r=>e+e+t-r,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,r):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function D2(e,t){let r,n;"ltr"!==t&&"rtl"!==t||(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function O2(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function T2(e){return"angle"===e?{between:W0,compare:z0,normalize:U0}:{between:H0,compare:(e,t)=>e-t,normalize:e=>e}}function I2(e){let{start:t,end:r,count:n,loop:a,style:s}=e;return{start:t%n,end:r%n,loop:a&&(r-t+1)%n===0,style:s}}function M2(e,t,r){if(!r)return[e];const{property:n,start:a,end:s}=r,o=t.length,{compare:i,between:l,normalize:c}=T2(n),{start:d,end:u,loop:p,style:h}=function(e,t,r){const{property:n,start:a,end:s}=r,{between:o,normalize:i}=T2(n),l=t.length;let c,d,{start:u,end:p,loop:h}=e;if(h){for(u+=l,p+=l,c=0,d=l;c<d&&o(i(t[u%l][n]),a,s);++c)u--,p--;u%=l,p%=l}return p<u&&(p+=l),{start:u,end:p,loop:h,style:e.style}}(e,t,r),m=[];let f,x,g,b=!1,y=null;const v=()=>b||l(a,g,f)&&0!==i(a,g),j=()=>!b||0===i(s,f)||l(s,g,f);for(let w=d,N=d;w<=u;++w)x=t[w%o],x.skip||(f=c(x[n]),f!==g&&(b=l(f,a,s),null===y&&v()&&(y=0===i(f,a)?w:N),null!==y&&j()&&(m.push(I2({start:y,end:w,loop:p,count:o,style:h})),y=null),N=w,g=f));return null!==y&&m.push(I2({start:y,end:u,loop:p,count:o,style:h})),m}function _2(e,t){const r=[],n=e.segments;for(let a=0;a<n.length;a++){const s=M2(n[a],e.points,t);s.length&&r.push(...s)}return r}function R2(e,t,r,n){return n&&n.setContext&&r?function(e,t,r,n){const a=e._chart.getContext(),s=B2(e.options),{_datasetIndex:o,options:{spanGaps:i}}=e,l=r.length,c=[];let d=s,u=t[0].start,p=u;function h(e,t,n,a){const s=i?-1:1;if(e!==t){for(e+=l;r[e%l].skip;)e-=s;for(;r[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:n,style:a}),d=a,u=t%l)}}for(const m of t){u=i?u:m.start;let e,t=r[u%l];for(p=u+1;p<=m.end;p++){const s=r[p%l];e=B2(n.setContext(G1(a,{type:"segment",p0:t,p1:s,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:o}))),L2(e,d)&&h(u,p-1,m.loop,d),t=s,d=e}u<p-1&&h(u,p-1,m.loop,d)}return c}(e,t,r,n):t}function B2(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function L2(e,t){if(!t)return!1;const r=[],n=function(e,t){return i1(t)?(r.includes(t)||r.push(t),r.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function z2(e,t,r){return e.options.clip?e[r]:t[r]}function U2(e,t){const r=t._clip;if(r.disabled)return!1;const n=function(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:z2(r,t,"left"),right:z2(r,t,"right"),top:z2(n,t,"top"),bottom:z2(n,t,"bottom")}:t}(t,e.chartArea);return{left:!1===r.left?0:n.left-(!0===r.left?0:r.left),right:!1===r.right?e.width:n.right+(!0===r.right?0:r.right),top:!1===r.top?0:n.top-(!0===r.top?0:r.top),bottom:!1===r.bottom?e.height:n.bottom+(!0===r.bottom?0:r.bottom)}}class W2{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,n){const a=t.listeners[n],s=t.duration;a.forEach(n=>n({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(r-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=X0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((r,n)=>{if(!r.running||!r.items.length)return;const a=r.items;let s,o=a.length-1,i=!1;for(;o>=0;--o)s=a[o],s._active?(s._total>r.duration&&(r.duration=s._total),s.tick(e),i=!0):(a[o]=a[a.length-1],a.pop());i&&(n.draw(),this._notify(n,r,e,"progress")),a.length||(r.running=!1,this._notify(n,r,e,"complete"),r.initial=!1),t+=a.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var V2=new W2;const H2="transparent",K2={boolean:(e,t,r)=>r>.5?t:e,color(e,t,r){const n=l1(e||H2),a=n.valid&&l1(t||H2);return a&&a.valid?a.mix(n,r).hexString():t},number:(e,t,r)=>e+(t-e)*r};class q2{constructor(e,t,r,n){const a=t[r];n=q1([e.to,n,a,e.from]);const s=q1([e.from,a,n]);this._active=!0,this._fn=e.fn||K2[e.type||typeof s],this._easing=o1[e.easing]||o1.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=s,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const n=this._target[this._prop],a=r-this._start,s=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=q1([e.to,t,n,e.from]),this._from=q1([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,n=this._prop,a=this._from,s=this._loop,o=this._to;let i;if(this._active=a!==o&&(s||t<r),!this._active)return this._target[n]=o,void this._notify(!0);t<0?this._target[n]=a:(i=t/r%2,i=s&&i>1?2-i:i,i=this._easing(Math.min(1,Math.max(0,i))),this._target[n]=this._fn(a,o,i))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][t]()}}class G2{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!t0(e))return;const t=Object.keys(j1.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const a=e[n];if(!t0(a))return;const s={};for(const e of t)s[e]=a[e];(e0(a.properties)&&a.properties||[n]).forEach(e=>{e!==n&&r.has(e)||r.set(e,s)})})}_animateOptions(e,t){const r=t.options,n=function(e,t){if(!t)return;let r=e.options;if(!r)return void(e.options=t);r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}}));return r}(e,r);if(!n)return[];const a=this._createAnimations(n,r);return r.$shared&&function(e,t){const r=[],n=Object.keys(t);for(let a=0;a<n.length;a++){const t=e[n[a]];t&&t.active()&&r.push(t.wait())}return Promise.all(r)}(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,t){const r=this._properties,n=[],a=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();let i;for(i=s.length-1;i>=0;--i){const l=s[i];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const c=t[l];let d=a[l];const u=r.get(l);if(d){if(u&&d.active()){d.update(u,c,o);continue}d.cancel()}u&&u.duration?(a[l]=d=new q2(u,e,l,c),n.push(d)):e[l]=c}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const r=this._createAnimations(e,t);return r.length?(V2.add(this._chart,r),!0):void 0}}function Y2(e,t){const r=e&&e.options||{},n=r.reverse,a=void 0===r.min?t:0,s=void 0===r.max?t:0;return{start:n?s:a,end:n?a:s}}function $2(e,t){const r=[],n=e._getSortedDatasetMetas(t);let a,s;for(a=0,s=n.length;a<s;++a)r.push(n[a].index);return r}function J2(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=e.keys,s="single"===n.mode;let o,i,l,c;if(null===t)return;let d=!1;for(o=0,i=a.length;o<i;++o){if(l=+a[o],l===r){if(d=!0,n.all)continue;break}c=e.values[l],r0(c)&&(s||0===t||P0(t)===P0(c))&&(t+=c)}return d||n.all?t:0}function X2(e,t){const r=e&&e.options.stacked;return r||void 0===r&&void 0!==t.stack}function Q2(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function Z2(e,t,r,n){for(const a of t.getMatchingVisibleMetas(n).reverse()){const t=e[a.index];if(r&&t>0||!r&&t<0)return a.index}return null}function e3(e,t){const{chart:r,_cachedMeta:n}=e,a=r._stacks||(r._stacks={}),{iScale:s,vScale:o,index:i}=n,l=s.axis,c=o.axis,d=function(e,t,r){return"".concat(e.id,".").concat(t.id,".").concat(r.stack||r.type)}(s,o,n),u=t.length;let p;for(let h=0;h<u;++h){const e=t[h],{[l]:r,[c]:s}=e;p=(e._stacks||(e._stacks={}))[c]=Q2(a,d,r),p[i]=s,p._top=Z2(p,o,!0,n.type),p._bottom=Z2(p,o,!1,n.type);(p._visualValues||(p._visualValues={}))[i]=s}}function t3(e,t){const r=e.scales;return Object.keys(r).filter(e=>r[e].axis===t).shift()}function r3(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][r])return;delete t[n][r],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[r]&&delete t[n]._visualValues[r]}}}const n3=e=>"reset"===e||"none"===e,a3=(e,t)=>t?e:Object.assign({},e);class s3{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=X2(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&r3(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),n=(e,t,r,n)=>"x"===e?t:"r"===e?n:r,a=t.xAxisID=a0(r.xAxisID,t3(e,"x")),s=t.yAxisID=a0(r.yAxisID,t3(e,"y")),o=t.rAxisID=a0(r.rAxisID,t3(e,"r")),i=t.indexAxis,l=t.iAxisID=n(i,a,s,o),c=t.vAxisID=n(i,s,a,o);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&$0(this._data,this),e._stacked&&r3(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(t0(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:r,vScale:n}=t,a="x"===r.axis?"x":"y",s="x"===n.axis?"x":"y",o=Object.keys(e),i=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],i[l]={[a]:d,[s]:e[d]};return i}(t,e)}else if(r!==t){if(r){$0(r,this);const e=this._cachedMeta;r3(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Y0.forEach(t=>{const r="_onData"+g0(t),n=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];const o=n.apply(this,a);return e._chartjs.listeners.forEach(e=>{"function"===typeof e[r]&&e[r](...a)}),o}})}))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const a=t._stacked;t._stacked=X2(t.vScale,t),t.stack!==r.stack&&(n=!0,r3(t),t.stack=r.stack),this._resyncElements(e),(n||a!==t._stacked)&&(e3(this,t._parsed),t._stacked=X2(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:n}=this,{iScale:a,_stacked:s}=r,o=a.axis;let i,l,c,d=0===e&&t===n.length||r._sorted,u=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=n,r._sorted=!0,c=n;else{c=e0(n[e])?this.parseArrayData(r,n,e,t):t0(n[e])?this.parseObjectData(r,n,e,t):this.parsePrimitiveData(r,n,e,t);const a=()=>null===l[o]||u&&l[o]<u[o];for(i=0;i<t;++i)r._parsed[i+e]=l=c[i],d&&(a()&&(d=!1),u=l);r._sorted=d}s&&e3(this,c)}parsePrimitiveData(e,t,r,n){const{iScale:a,vScale:s}=e,o=a.axis,i=s.axis,l=a.getLabels(),c=a===s,d=new Array(n);let u,p,h;for(u=0,p=n;u<p;++u)h=u+r,d[u]={[o]:c||a.parse(l[h],h),[i]:s.parse(t[h],h)};return d}parseArrayData(e,t,r,n){const{xScale:a,yScale:s}=e,o=new Array(n);let i,l,c,d;for(i=0,l=n;i<l;++i)c=i+r,d=t[c],o[i]={x:a.parse(d[0],c),y:s.parse(d[1],c)};return o}parseObjectData(e,t,r,n){const{xScale:a,yScale:s}=e,{xAxisKey:o="x",yAxisKey:i="y"}=this._parsing,l=new Array(n);let c,d,u,p;for(c=0,d=n;c<d;++c)u=c+r,p=t[u],l[c]={x:a.parse(x0(p,o),u),y:s.parse(x0(p,i),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const n=this.chart,a=this._cachedMeta,s=t[e.axis];return J2({keys:$2(n,!0),values:t._stacks[e.axis]._visualValues},s,a.index,{mode:r})}updateRangeFromParsed(e,t,r,n){const a=r[t.axis];let s=null===a?NaN:a;const o=n&&r._stacks[t.axis];n&&o&&(n.values=o,s=J2(n,a,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const r=this._cachedMeta,n=r._parsed,a=r._sorted&&e===r.iScale,s=n.length,o=this._getOtherScale(e),i=((e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:$2(r,!0),values:null})(t,r,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:r,minDefined:n,maxDefined:a}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}(o);let u,p;function h(){p=n[u];const t=p[o.axis];return!r0(p[e.axis])||c>t||d<t}for(u=0;u<s&&(h()||(this.updateRangeFromParsed(l,e,p,i),!a));++u);if(a)for(u=s-1;u>=0;--u)if(!h()){this.updateRangeFromParsed(l,e,p,i);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let n,a,s;for(n=0,a=t.length;n<a;++n)s=t[n][e.axis],r0(s)&&r.push(s);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,n=t.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:n?""+n.getLabelForValue(a[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,r,n,a;return t0(e)?(t=e.top,r=e.right,n=e.bottom,a=e.left):t=r=n=a=e,{top:t,right:r,bottom:n,left:a,disabled:!1===e}}(a0(this.options.clip,function(e,t,r){if(!1===r)return!1;const n=Y2(e,r),a=Y2(t,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,n=r.data||[],a=t.chartArea,s=[],o=this._drawStart||0,i=this._drawCount||n.length-o,l=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,a,o,i),c=o;c<o+i;++c){const t=n[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,a))}for(c=0;c<s.length;++c)s[c].draw(e,a)}getStyle(e,t){const r=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const n=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];a=t.$context||(t.$context=function(e,t,r){return G1(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),a.parsed=this.getParsed(e),a.raw=n.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function(e,t){return G1(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=n,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0;const n="active"===t,a=this._cachedDataOpts,s=e+"-"+t,o=a[s],i=this.enableOptionSharing&&b0(r);if(o)return a3(o,i);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=n?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),p=Object.keys(j1.elements[e]),h=l.resolveNamedOptions(u,p,()=>this.getContext(r,n,t),d);return h.$shared&&(h.$shared=i,a[s]=Object.freeze(a3(h,i))),h}_resolveAnimations(e,t,r){const n=this.chart,a=this._cachedDataOpts,s="animation-".concat(t),o=a[s];if(o)return o;let i;if(!1!==n.options.animation){const n=this.chart.config,a=n.datasetAnimationScopeKeys(this._type,t),s=n.getOptionScopes(this.getDataset(),a);i=n.createResolver(s,this.getContext(e,r,t))}const l=new G2(n,i&&i.animations);return i&&i._cacheable&&(a[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||n3(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),n=this._sharedOptions,a=this.getSharedOptions(r),s=this.includeOptions(t,a)||a!==n;return this.updateSharedOptions(a,t,r),{sharedOptions:a,includeOptions:s}}updateElement(e,t,r,n){n3(n)?Object.assign(e,r):this._resolveAnimations(t,n).update(e,r)}updateSharedOptions(e,t,r){e&&!n3(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,n){e.active=n;const a=this.getStyle(t,n);this._resolveAnimations(t,r,n).update(e,{options:!n&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[o,i,l]of this._syncList)this[o](i,l);this._syncList=[];const n=r.length,a=t.length,s=Math.min(a,n);s&&this.parse(0,s),a>n?this._insertElements(n,a-n,e):a<n&&this._removeElements(a,n-a)}_insertElements(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this._cachedMeta,a=n.data,s=e+t;let o;const i=e=>{for(e.length+=t,o=e.length-1;o>=s;o--)e[o]=e[o-t]};for(i(a),o=e;o<s;++o)a[o]=new this.dataElementType;this._parsing&&i(n._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,n){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(e,t);r._stacked&&r3(r,n)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,n]=e;this[t](r,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function o3(e){const t=e.iScale,r=function(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,a=r.length;t<a;t++)n=n.concat(r[t].controller.getAllParsedValues(e));e._cache.$bar=J0(n.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let n,a,s,o,i=t._length;const l=()=>{32767!==s&&-32768!==s&&(b0(o)&&(i=Math.min(i,Math.abs(s-o)||i)),o=s)};for(n=0,a=r.length;n<a;++n)s=t.getPixelForValue(r[n]),l();for(o=void 0,n=0,a=t.ticks.length;n<a;++n)s=t.getPixelForTick(n),l();return i}function i3(e,t,r,n){return e0(e)?function(e,t,r,n){const a=r.parse(e[0],n),s=r.parse(e[1],n),o=Math.min(a,s),i=Math.max(a,s);let l=o,c=i;Math.abs(o)>Math.abs(i)&&(l=i,c=o),t[r.axis]=c,t._custom={barStart:l,barEnd:c,start:a,end:s,min:o,max:i}}(e,t,r,n):t[r.axis]=r.parse(e,n),t}function l3(e,t,r,n){const a=e.iScale,s=e.vScale,o=a.getLabels(),i=a===s,l=[];let c,d,u,p;for(c=r,d=r+n;c<d;++c)p=t[c],u={},u[a.axis]=i||a.parse(o[c],c),l.push(i3(p,u,s,c));return l}function c3(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function d3(e,t,r,n){let a=t.borderSkipped;const s={};if(!a)return void(e.borderSkipped=s);if(!0===a)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:i,reverse:l,top:c,bottom:d}=function(e){let t,r,n,a,s;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(a="end",s="start"):(a="start",s="end"),{start:r,end:n,reverse:t,top:a,bottom:s}}(e);"middle"===a&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?a=c:(r._bottom||0)===n?a=d:(s[u3(d,o,i,l)]=!0,a=c)),s[u3(a,o,i,l)]=!0,e.borderSkipped=s}function u3(e,t,r,n){var a,s,o;return n?(o=r,e=p3(e=(a=e)===(s=t)?o:a===o?s:a,r,t)):e=p3(e,t,r),e}function p3(e,t,r){return"start"===e?t:"end"===e?r:e}function h3(e,t,r){let{inflateAmount:n}=t;e.inflateAmount="auto"===n?1===r?.33:0:n}(0,HV.A)(s3,"defaults",{}),(0,HV.A)(s3,"datasetElementType",null),(0,HV.A)(s3,"dataElementType",null);class m3 extends s3{parsePrimitiveData(e,t,r,n){return l3(e,t,r,n)}parseArrayData(e,t,r,n){return l3(e,t,r,n)}parseObjectData(e,t,r,n){const{iScale:a,vScale:s}=e,{xAxisKey:o="x",yAxisKey:i="y"}=this._parsing,l="x"===a.axis?o:i,c="x"===s.axis?o:i,d=[];let u,p,h,m;for(u=r,p=r+n;u<p;++u)m=t[u],h={},h[a.axis]=a.parse(x0(m,l),u),d.push(i3(x0(m,c),h,s,u));return d}updateRangeFromParsed(e,t,r,n){super.updateRangeFromParsed(e,t,r,n);const a=r._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:n}=t,a=this.getParsed(e),s=a._custom,o=c3(s)?"["+s.start+", "+s.end+"]":""+n.getLabelForValue(a[n.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,n){const a="reset"===n,{index:s,_cachedMeta:{vScale:o}}=this,i=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,n);for(let p=t;p<t+r;p++){const t=this.getParsed(p),r=a||ZZ(t[o.axis])?{base:i,head:i}:this._calculateBarValuePixels(p),h=this._calculateBarIndexPixels(p,c),m=(t._stacks||{})[o.axis],f={horizontal:l,base:r.base,enableBorderRadius:!m||c3(t._custom)||s===m._top||s===m._bottom,x:l?r.head:h.center,y:l?h.center:r.head,height:l?h.size:Math.abs(r.size),width:l?Math.abs(r.size):h.size};u&&(f.options=d||this.resolveDataElementOptions(p,e[p].active?"active":n));const x=f.options||e[p].options;d3(f,x,m,s),h3(f,x,c.ratio),this.updateElement(e[p],p,f,n)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),a=r.options.stacked,s=[],o=this._cachedMeta.controller.getParsed(t),i=o&&o[r.axis],l=e=>{const t=e._parsed.find(e=>e[r.axis]===i),n=t&&t[e.vScale.axis];if(ZZ(n)||isNaN(n))return!0};for(const c of n)if((void 0===t||!l(c))&&((!1===a||-1===s.indexOf(c.stack)||void 0===a&&void 0===c.stack)&&s.push(c.stack),c.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[a0("x"===this.chart.options.indexAxis?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const n=this._getStacks(e,r),a=void 0!==t?n.indexOf(t):-1;return-1===a?n.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,n=[];let a,s;for(a=0,s=t.data.length;a<s;++a)n.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const o=e.barThickness;return{min:o||o3(t),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:n},options:{base:a,minBarLength:s}}=this,o=a||0,i=this.getParsed(e),l=i._custom,c=c3(l);let d,u,p=i[t.axis],h=0,m=r?this.applyStack(t,i,r):p;m!==p&&(h=m-p,m=p),c&&(p=l.barStart,m=l.barEnd-l.barStart,0!==p&&P0(p)!==P0(l.barEnd)&&(h=0),h+=p);const f=ZZ(a)||c?h:a;let x=t.getPixelForValue(f);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(h+m):x,u=d-x,Math.abs(u)<s){u=function(e,t,r){return 0!==e?P0(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}(u,t,o)*s,p===o&&(x-=u/2);const e=t.getPixelForDecimal(0),a=t.getPixelForDecimal(1),l=Math.min(e,a),h=Math.max(e,a);x=Math.max(Math.min(x,h),l),d=x+u,r&&!c&&(i._stacks[t.axis]._visualValues[n]=t.getValueForPixel(d)-t.getValueForPixel(x))}if(x===t.getPixelForValue(o)){const e=P0(u)*t.getLineWidthForValue(o)/2;x+=e,u-=e}return{size:u,base:x,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const r=t.scale,n=this.options,a=n.skipNull,s=a0(n.maxBarThickness,1/0);let o,i;const l=this._getAxisCount();if(t.grouped){const r=a?this._getStackCount(e):t.stackCount,c="flex"===n.barThickness?function(e,t,r,n){const a=t.pixels,s=a[e];let o=e>0?a[e-1]:null,i=e<a.length-1?a[e+1]:null;const l=r.categoryPercentage;null===o&&(o=s-(null===i?t.end-t.start:i-s)),null===i&&(i=s+s-o);const c=s-(s-Math.min(o,i))/2*l;return{chunk:Math.abs(i-o)/2*l/n,ratio:r.barPercentage,start:c}}(e,t,n,r*l):function(e,t,r,n){const a=r.barThickness;let s,o;return ZZ(a)?(s=t.min*r.categoryPercentage,o=r.barPercentage):(s=a*n,o=1),{chunk:s/n,ratio:o,start:t.pixels[e]-s/2}}(e,t,n,r*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(a0(d,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+u;o=c.start+c.chunk*p+c.chunk/2,i=Math.min(s,c.chunk*c.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),i=Math.min(s,t.min*t.ratio);return{base:o-i/2,head:o+i/2,center:o,size:i}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,n=r.length;let a=0;for(;a<n;++a)null===this.getParsed(a)[t.axis]||r[a].hidden||r[a].draw(this._ctx)}}(0,HV.A)(m3,"id","bar"),(0,HV.A)(m3,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,HV.A)(m3,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class f3 extends s3{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,n){const a=super.parsePrimitiveData(e,t,r,n);for(let s=0;s<a.length;s++)a[s]._custom=this.resolveDataElementOptions(s+r).radius;return a}parseArrayData(e,t,r,n){const a=super.parseArrayData(e,t,r,n);for(let s=0;s<a.length;s++){const e=t[r+s];a[s]._custom=a0(e[2],this.resolveDataElementOptions(s+r).radius)}return a}parseObjectData(e,t,r,n){const a=super.parseObjectData(e,t,r,n);for(let s=0;s<a.length;s++){const e=t[r+s];a[s]._custom=a0(e&&e.r&&+e.r,this.resolveDataElementOptions(s+r).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:a}=t,s=this.getParsed(e),o=n.getLabelForValue(s.x),i=a.getLabelForValue(s.y),l=s._custom;return{label:r[e]||"",value:"("+o+", "+i+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,n){const a="reset"===n,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:i,includeOptions:l}=this._getSharedOptions(t,n),c=s.axis,d=o.axis;for(let u=t;u<t+r;u++){const t=e[u],r=!a&&this.getParsed(u),p={},h=p[c]=a?s.getPixelForDecimal(.5):s.getPixelForValue(r[c]),m=p[d]=a?o.getBasePixel():o.getPixelForValue(r[d]);p.skip=isNaN(h)||isNaN(m),l&&(p.options=i||this.resolveDataElementOptions(u,t.active?"active":n),a&&(p.options.radius=0)),this.updateElement(t,u,p,n)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const a=n.radius;return"active"!==t&&(n.radius=0),n.radius+=a0(r&&r._custom,a),n}}(0,HV.A)(f3,"id","bubble"),(0,HV.A)(f3,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,HV.A)(f3,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class x3 extends s3{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=r;else{let a,s,o=e=>+r[e];if(t0(r[e])){const{key:e="value"}=this._parsing;o=t=>+x0(r[t],e)}for(a=e,s=e+t;a<s;++a)n._parsed[a]=o(a)}}_getRotation(){return M0(this.options.rotation-90)}_getCircumference(){return M0(this.options.circumference)}_getRotationExtents(){let e=w0,t=-w0;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,a=n._getRotation(),s=n._getCircumference();e=Math.min(e,a),t=Math.max(t,a+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,n=this._cachedMeta,a=n.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-s)/2,0),i=Math.min(((e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t)(this.options.cutout,o),1),l=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:u,ratioY:p,offsetX:h,offsetY:m}=function(e,t,r){let n=1,a=1,s=0,o=0;if(t<w0){const i=e,l=i+t,c=Math.cos(i),d=Math.sin(i),u=Math.cos(l),p=Math.sin(l),h=(e,t,n)=>W0(e,i,l,!0)?1:Math.max(t,t*r,n,n*r),m=(e,t,n)=>W0(e,i,l,!0)?-1:Math.min(t,t*r,n,n*r),f=h(0,c,u),x=h(C0,d,p),g=m(j0,c,u),b=m(j0+C0,d,p);n=(f-g)/2,a=(x-b)/2,s=-(f+g)/2,o=-(x+b)/2}return{ratioX:n,ratioY:a,offsetX:s,offsetY:o}}(d,c,i),f=(r.width-s)/u,x=(r.height-s)/p,g=Math.max(Math.min(f,x)/2,0),b=s0(this.options.radius,g),y=(b-Math.max(b*i,0))/this._getVisibleDatasetWeightTotal();this.offsetX=h*b,this.offsetY=m*b,n.total=this.calculateTotal(),this.outerRadius=b-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*l,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const r=this.options,n=this._cachedMeta,a=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*a/w0)}updateElements(e,t,r,n){const a="reset"===n,s=this.chart,o=s.chartArea,i=s.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,d=a&&i.animateScale,u=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:h,includeOptions:m}=this._getSharedOptions(t,n);let f,x=this._getRotation();for(f=0;f<t;++f)x+=this._circumference(f,a);for(f=t;f<t+r;++f){const t=this._circumference(f,a),r=e[f],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:x,endAngle:x+t,circumference:t,outerRadius:p,innerRadius:u};m&&(s.options=h||this.resolveDataElementOptions(f,r.active?"active":n)),x+=t,this.updateElement(r,f,s,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r,n=0;for(r=0;r<t.length;r++){const a=e._parsed[r];null===a||isNaN(a)||!this.chart.getDataVisibility(r)||t[r].hidden||(n+=Math.abs(a))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?w0*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],a=h1(t._parsed[e],r.options.locale);return{label:n[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const r=this.chart;let n,a,s,o,i;if(!e)for(n=0,a=r.data.datasets.length;n<a;++n)if(r.isDatasetVisible(n)){s=r.getDatasetMeta(n),e=s.data,o=s.controller;break}if(!e)return 0;for(n=0,a=e.length;n<a;++n)i=o.resolveDataElementOptions(n),"inner"!==i.borderAlign&&(t=Math.max(t,i.borderWidth||0,i.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,n=e.length;r<n;++r){const e=this.resolveDataElementOptions(r);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(a0(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,HV.A)(x3,"id","doughnut"),(0,HV.A)(x3,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,HV.A)(x3,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),(0,HV.A)(x3,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:n}}=e.legend.options;return t.labels.map((t,a)=>{const s=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:n,lineWidth:s.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class g3 extends s3{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:n=[],_dataset:a}=t,s=this.chart._animationsDisabled;let{start:o,count:i}=t1(t,n,s);this._drawStart=o,this._drawCount=i,r1(t)&&(o=0,i=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(r,void 0,{animated:!s,options:l},e),this.updateElements(n,o,i,e)}updateElements(e,t,r,n){const a="reset"===n,{iScale:s,vScale:o,_stacked:i,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,n),u=s.axis,p=o.axis,{spanGaps:h,segment:m}=this.options,f=T0(h)?h:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||a||"none"===n,g=t+r,b=e.length;let y=t>0&&this.getParsed(t-1);for(let v=0;v<b;++v){const r=e[v],h=x?r:{};if(v<t||v>=g){h.skip=!0;continue}const b=this.getParsed(v),j=ZZ(b[p]),w=h[u]=s.getPixelForValue(b[u],v),N=h[p]=a||j?o.getBasePixel():o.getPixelForValue(i?this.applyStack(o,b,i):b[p],v);h.skip=isNaN(w)||isNaN(N)||j,h.stop=v>0&&Math.abs(b[u]-y[u])>f,m&&(h.parsed=b,h.raw=l.data[v]),d&&(h.options=c||this.resolveDataElementOptions(v,r.active?"active":n)),x||this.updateElement(r,v,h,n),y=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return r;const a=n[0].size(this.resolveDataElementOptions(0)),s=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,a,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}(0,HV.A)(g3,"id","line"),(0,HV.A)(g3,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,HV.A)(g3,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class b3 extends s3{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],a=h1(t._parsed[e].r,r.options.locale);return{label:n[e]||"",value:a}}parseObjectData(e,t,r,n){return i2.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,r)=>{const n=this.getParsed(r).r;!isNaN(n)&&this.chart.getDataVisibility(r)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),a=Math.max(n/2,0),s=(a-Math.max(r.cutoutPercentage?a/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=a-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,r,n){const a="reset"===n,s=this.chart,o=s.options.animation,i=this._cachedMeta.rScale,l=i.xCenter,c=i.yCenter,d=i.getIndexAngle(0)-.5*j0;let u,p=d;const h=360/this.countVisibleElements();for(u=0;u<t;++u)p+=this._computeAngle(u,n,h);for(u=t;u<t+r;u++){const t=e[u];let r=p,m=p+this._computeAngle(u,n,h),f=s.getDataVisibility(u)?i.getDistanceFromCenterForValue(this.getParsed(u).r):0;p=m,a&&(o.animateScale&&(f=0),o.animateRotate&&(r=m=d));const x={x:l,y:c,innerRadius:0,outerRadius:f,startAngle:r,endAngle:m,options:this.resolveDataElementOptions(u,t.active?"active":n)};this.updateElement(t,u,x,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?M0(this.resolveDataElementOptions(e,t).angle||r):0}}(0,HV.A)(b3,"id","polarArea"),(0,HV.A)(b3,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,HV.A)(b3,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:n}}=e.legend.options;return t.labels.map((t,a)=>{const s=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:n,lineWidth:s.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class y3 extends x3{}(0,HV.A)(y3,"id","pie"),(0,HV.A)(y3,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class v3 extends s3{getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,n){return i2.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta,r=t.dataset,n=t.data||[],a=t.iScale.getLabels();if(r.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:a.length===n.length,options:t};this.updateElement(r,void 0,s,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,r,n){const a=this._cachedMeta.rScale,s="reset"===n;for(let o=t;o<t+r;o++){const t=e[o],r=this.resolveDataElementOptions(o,t.active?"active":n),i=a.getPointPositionForValue(o,this.getParsed(o).r),l=s?a.xCenter:i.x,c=s?a.yCenter:i.y,d={x:l,y:c,angle:i.angle,skip:isNaN(l)||isNaN(c),options:r};this.updateElement(t,o,d,n)}}}(0,HV.A)(v3,"id","radar"),(0,HV.A)(v3,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,HV.A)(v3,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class j3 extends s3{getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:a}=t,s=this.getParsed(e),o=n.getLabelForValue(s.x),i=a.getLabelForValue(s.y);return{label:r[e]||"",value:"("+o+", "+i+")"}}update(e){const t=this._cachedMeta,{data:r=[]}=t,n=this.chart._animationsDisabled;let{start:a,count:s}=t1(t,r,n);if(this._drawStart=a,this._drawCount=s,r1(t)&&(a=0,s=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:s}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!s._decimated,a.points=r;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(a,void 0,{animated:!n,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,a,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,n){const a="reset"===n,{iScale:s,vScale:o,_stacked:i,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,n),d=this.getSharedOptions(c),u=this.includeOptions(n,d),p=s.axis,h=o.axis,{spanGaps:m,segment:f}=this.options,x=T0(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||a||"none"===n;let b=t>0&&this.getParsed(t-1);for(let y=t;y<t+r;++y){const t=e[y],r=this.getParsed(y),c=g?t:{},m=ZZ(r[h]),v=c[p]=s.getPixelForValue(r[p],y),j=c[h]=a||m?o.getBasePixel():o.getPixelForValue(i?this.applyStack(o,r,i):r[h],y);c.skip=isNaN(v)||isNaN(j)||m,c.stop=y>0&&Math.abs(r[p]-b[p])>x,f&&(c.parsed=r,c.raw=l.data[y]),u&&(c.options=d||this.resolveDataElementOptions(y,t.active?"active":n)),g||this.updateElement(t,y,c,n),b=r}this.updateSharedOptions(d,n,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let r=t.length-1;r>=0;--r)e=Math.max(e,t[r].size(this.resolveDataElementOptions(r))/2);return e>0&&e}const r=e.dataset,n=r.options&&r.options.borderWidth||0;if(!t.length)return n;const a=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,a,s)/2}}(0,HV.A)(j3,"id","scatter"),(0,HV.A)(j3,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,HV.A)(j3,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function w3(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class N3{static override(e){Object.assign(N3.prototype,e)}constructor(e){(0,HV.A)(this,"options",void 0),this.options=e||{}}init(){}formats(){return w3()}parse(){return w3()}format(){return w3()}add(){return w3()}diff(){return w3()}startOf(){return w3()}endOf(){return w3()}}var A3=N3;function k3(e,t,r,n){const{controller:a,data:s,_sorted:o}=e,i=a._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(i&&t===i.axis&&"r"!==t&&o&&s.length){const o=i._reversePixels?G0:q0;if(!n){const n=o(s,t,r);if(l){const{vScale:t}=a._cachedMeta,{_parsed:r}=e,s=r.slice(0,n.lo+1).reverse().findIndex(e=>!ZZ(e[t.axis]));n.lo-=Math.max(0,s);const o=r.slice(n.hi).findIndex(e=>!ZZ(e[t.axis]));n.hi+=Math.max(0,o)}return n}if(a._sharedOptions){const e=s[0],n="function"===typeof e.getRange&&e.getRange(t);if(n){const e=o(s,t,r-n),a=o(s,t,r+n);return{lo:e.lo,hi:a.hi}}}}return{lo:0,hi:s.length-1}}function C3(e,t,r,n,a){const s=e.getSortedVisibleDatasetMetas(),o=r[t];for(let i=0,l=s.length;i<l;++i){const{index:e,data:r}=s[i],{lo:l,hi:c}=k3(s[i],t,o,a);for(let t=l;t<=c;++t){const a=r[t];a.skip||n(a,e,t)}}}function F3(e,t,r,n,a){const s=[];if(!a&&!e.isPointInArea(t))return s;return C3(e,r,t,function(r,o,i){(a||S1(r,e.chartArea,0))&&r.inRange(t.x,t.y,n)&&s.push({element:r,datasetIndex:o,index:i})},!0),s}function S3(e,t,r,n,a,s){let o=[];const i=function(e){const t=-1!==e.indexOf("x"),r=-1!==e.indexOf("y");return function(e,n){const a=t?Math.abs(e.x-n.x):0,s=r?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}(r);let l=Number.POSITIVE_INFINITY;return C3(e,r,t,function(r,c,d){const u=r.inRange(t.x,t.y,a);if(n&&!u)return;const p=r.getCenterPoint(a);if(!(!!s||e.isPointInArea(p))&&!u)return;const h=i(t,p);h<l?(o=[{element:r,datasetIndex:c,index:d}],l=h):h===l&&o.push({element:r,datasetIndex:c,index:d})}),o}function E3(e,t,r,n,a,s){return s||e.isPointInArea(t)?"r"!==r||n?S3(e,t,r,n,a,s):function(e,t,r,n){let a=[];return C3(e,r,t,function(e,r,s){const{startAngle:o,endAngle:i}=e.getProps(["startAngle","endAngle"],n),{angle:l}=B0(e,{x:t.x,y:t.y});W0(l,o,i)&&a.push({element:e,datasetIndex:r,index:s})}),a}(e,t,r,a):[]}function P3(e,t,r,n,a){const s=[],o="x"===r?"inXRange":"inYRange";let i=!1;return C3(e,r,t,(e,n,l)=>{e[o]&&e[o](t[r],a)&&(s.push({element:e,datasetIndex:n,index:l}),i=i||e.inRange(t.x,t.y,a))}),n&&!i?[]:s}var D3={evaluateInteractionItems:C3,modes:{index(e,t,r,n){const a=j2(t,e),s=r.axis||"x",o=r.includeInvisible||!1,i=r.intersect?F3(e,a,s,n,o):E3(e,a,s,!1,n,o),l=[];return i.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=i[0].index,r=e.data[t];r&&!r.skip&&l.push({element:r,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,r,n){const a=j2(t,e),s=r.axis||"xy",o=r.includeInvisible||!1;let i=r.intersect?F3(e,a,s,n,o):E3(e,a,s,!1,n,o);if(i.length>0){const t=i[0].datasetIndex,r=e.getDatasetMeta(t).data;i=[];for(let e=0;e<r.length;++e)i.push({element:r[e],datasetIndex:t,index:e})}return i},point:(e,t,r,n)=>F3(e,j2(t,e),r.axis||"xy",n,r.includeInvisible||!1),nearest(e,t,r,n){const a=j2(t,e),s=r.axis||"xy",o=r.includeInvisible||!1;return E3(e,a,s,r.intersect,n,o)},x:(e,t,r,n)=>P3(e,j2(t,e),"x",r.intersect,n),y:(e,t,r,n)=>P3(e,j2(t,e),"y",r.intersect,n)}};const O3=["left","top","right","bottom"];function T3(e,t){return e.filter(e=>e.pos===t)}function I3(e,t){return e.filter(e=>-1===O3.indexOf(e.pos)&&e.box.axis===t)}function M3(e,t){return e.sort((e,r)=>{const n=t?r:e,a=t?e:r;return n.weight===a.weight?n.index-a.index:n.weight-a.weight})}function _3(e,t){const r=function(e){const t={};for(const r of e){const{stack:e,pos:n,stackWeight:a}=r;if(!e||!O3.includes(n))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:a}=t;let s,o,i;for(s=0,o=e.length;s<o;++s){i=e[s];const{fullSize:o}=i.box,l=r[i.stack],c=l&&i.stackWeight/l.weight;i.horizontal?(i.width=c?c*n:o&&t.availableWidth,i.height=a):(i.width=n,i.height=c?c*a:o&&t.availableHeight)}return r}function R3(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function B3(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function L3(e,t,r,n){const{pos:a,box:s}=r,o=e.maxPadding;if(!t0(a)){r.size&&(e[a]-=r.size);const t=n[r.stack]||{size:0,count:1};t.size=Math.max(t.size,r.horizontal?s.height:s.width),r.size=t.size/t.count,e[a]+=r.size}s.getPadding&&B3(o,s.getPadding());const i=Math.max(0,t.outerWidth-R3(o,e,"left","right")),l=Math.max(0,t.outerHeight-R3(o,e,"top","bottom")),c=i!==e.w,d=l!==e.h;return e.w=i,e.h=l,r.horizontal?{same:c,other:d}:{same:d,other:c}}function z3(e,t){const r=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{n[e]=Math.max(t[e],r[e])}),n}return n(e?["left","right"]:["top","bottom"])}function U3(e,t,r,n){const a=[];let s,o,i,l,c,d;for(s=0,o=e.length,c=0;s<o;++s){i=e[s],l=i.box,l.update(i.width||t.w,i.height||t.h,z3(i.horizontal,t));const{same:o,other:u}=L3(t,r,i,n);c|=o&&a.length,d=d||u,l.fullSize||a.push(i)}return c&&U3(a,t,r,n)||d}function W3(e,t,r,n,a){e.top=r,e.left=t,e.right=t+n,e.bottom=r+a,e.width=n,e.height=a}function V3(e,t,r,n){const a=r.padding;let{x:s,y:o}=t;for(const i of e){const e=i.box,l=n[i.stack]||{count:1,placed:0,weight:1},c=i.stackWeight/l.weight||1;if(i.horizontal){const n=t.w*c,s=l.size||e.height;b0(l.start)&&(o=l.start),e.fullSize?W3(e,a.left,o,r.outerWidth-a.right-a.left,s):W3(e,t.left+l.placed,o,n,s),l.start=o,l.placed+=n,o=e.bottom}else{const n=t.h*c,o=l.size||e.width;b0(l.start)&&(s=l.start),e.fullSize?W3(e,s,a.top,o,r.outerHeight-a.bottom-a.top):W3(e,s,t.top+l.placed,o,n),l.start=s,l.placed+=n,s=e.right}}t.x=s,t.y=o}var H3={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;-1!==r&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const a=H1(e.options.layout.padding),s=Math.max(t-a.width,0),o=Math.max(r-a.height,0),i=function(e){const t=function(e){const t=[];let r,n,a,s,o,i;for(r=0,n=(e||[]).length;r<n;++r)a=e[r],({position:s,options:{stack:o,stackWeight:i=1}}=a),t.push({index:r,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&s+o,stackWeight:i});return t}(e),r=M3(t.filter(e=>e.box.fullSize),!0),n=M3(T3(t,"left"),!0),a=M3(T3(t,"right")),s=M3(T3(t,"top"),!0),o=M3(T3(t,"bottom")),i=I3(t,"x"),l=I3(t,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:a.concat(l).concat(o).concat(i),chartArea:T3(t,"chartArea"),vertical:n.concat(a).concat(l),horizontal:s.concat(o).concat(i)}}(e.boxes),l=i.vertical,c=i.horizontal;i0(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const d=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:r,padding:a,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),p=Object.assign({},a);B3(p,H1(n));const h=Object.assign({maxPadding:p,w:s,h:o,x:a.left,y:a.top},a),m=_3(l.concat(c),u);U3(i.fullSize,h,u,m),U3(l,h,u,m),U3(c,h,u,m)&&U3(l,h,u,m),function(e){const t=e.maxPadding;function r(r){const n=Math.max(t[r]-e[r],0);return e[r]+=n,n}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}(h),V3(i.leftAndTop,h,u,m),h.x+=h.w,h.y+=h.h,V3(i.rightAndBottom,h,u,m),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},i0(i.chartArea,t=>{const r=t.box;Object.assign(r,e.chartArea),r.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class K3{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,n){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):r)}}isAttached(e){return!0}updateConfig(e){}}class q3 extends K3{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const G3="$chartjs",Y3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$3=e=>null===e||""===e;const J3=!!k2&&{passive:!0};function X3(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,J3)}function Q3(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function Z3(e,t,r){const n=e.canvas,a=new MutationObserver(e=>{let t=!1;for(const r of e)t=t||Q3(r.addedNodes,n),t=t&&!Q3(r.removedNodes,n);t&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function e8(e,t,r){const n=e.canvas,a=new MutationObserver(e=>{let t=!1;for(const r of e)t=t||Q3(r.removedNodes,n),t=t&&!Q3(r.addedNodes,n);t&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const t8=new Map;let r8=0;function n8(){const e=window.devicePixelRatio;e!==r8&&(r8=e,t8.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function a8(e,t,r){const n=e.canvas,a=n&&x2(n);if(!a)return;const s=Q0((e,t)=>{const n=a.clientWidth;r(e,t),n<a.clientWidth&&r()},window),o=new ResizeObserver(e=>{const t=e[0],r=t.contentRect.width,n=t.contentRect.height;0===r&&0===n||s(r,n)});return o.observe(a),function(e,t){t8.size||window.addEventListener("resize",n8),t8.set(e,t)}(e,s),o}function s8(e,t,r){r&&r.disconnect(),"resize"===t&&function(e){t8.delete(e),t8.size||window.removeEventListener("resize",n8)}(e)}function o8(e,t,r){const n=e.canvas,a=Q0(t=>{null!==e.ctx&&r(function(e,t){const r=Y3[e.type]||e.type,{x:n,y:a}=j2(e,t);return{type:r,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==a?a:null}}(t,e))},e);return function(e,t,r){e&&e.addEventListener(t,r,J3)}(n,t,a),a}class i8 extends K3{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function(e,t){const r=e.style,n=e.getAttribute("height"),a=e.getAttribute("width");if(e[G3]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",$3(a)){const t=C2(e,"width");void 0!==t&&(e.width=t)}if($3(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=C2(e,"height");void 0!==t&&(e.height=t)}}(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[G3])return!1;const r=t[G3].initial;["height","width"].forEach(e=>{const n=r[e];ZZ(n)?t.removeAttribute(e):t.setAttribute(e,n)});const n=r.style||{};return Object.keys(n).forEach(e=>{t.style[e]=n[e]}),t.width=t.width,delete t[G3],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),a={attach:Z3,detach:e8,resize:a8}[t]||o8;n[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),n=r[t];if(!n)return;({attach:s8,detach:s8,resize:s8}[t]||X3)(e,t,n),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,n){return N2(e,t,r,n)}isAttached(e){const t=e&&x2(e);return!(!t||!t.isConnected)}}class l8{constructor(){(0,HV.A)(this,"x",void 0),(0,HV.A)(this,"y",void 0),(0,HV.A)(this,"active",!1),(0,HV.A)(this,"options",void 0),(0,HV.A)(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return T0(this.x)&&T0(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const n={};return e.forEach(e=>{n[e]=r[e]&&r[e].active()?r[e]._to:this[e]}),n}}function c8(e,t){const r=e.options.ticks,n=function(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),a=e._maxLength/r;return Math.floor(Math.min(n,a))}(e),a=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?function(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}(t):[],o=s.length,i=s[0],l=s[o-1],c=[];if(o>a)return function(e,t,r,n){let a,s=0,o=r[0];for(n=Math.ceil(n),a=0;a<e.length;a++)a===o&&(t.push(e[a]),s++,o=r[s*n])}(t,c,s,o/a),c;const d=function(e,t,r){const n=function(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}(e),a=t.length/r;if(!n)return Math.max(a,1);const s=function(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(0|r)&&t.push(r),t.sort((e,t)=>e-t).pop(),t}(n);for(let o=0,i=s.length-1;o<i;o++){const e=s[o];if(e>a)return e}return Math.max(a,1)}(s,t,a);if(o>0){let e,r;const n=o>1?Math.round((l-i)/(o-1)):null;for(d8(t,c,d,ZZ(n)?0:i-n,i),e=0,r=o-1;e<r;e++)d8(t,c,d,s[e],s[e+1]);return d8(t,c,d,l,ZZ(n)?t.length:l+n),c}return d8(t,c,d),c}function d8(e,t,r,n,a){const s=a0(n,0),o=Math.min(a0(a,e.length),e.length);let i,l,c,d=0;for(r=Math.ceil(r),a&&(i=a-n,r=i/Math.floor(i/r)),c=s;c<0;)d++,c=Math.round(s+d*r);for(l=Math.max(s,0);l<o;l++)l===c&&(t.push(e[l]),d++,c=Math.round(s+d*r))}(0,HV.A)(l8,"defaults",{}),(0,HV.A)(l8,"defaultRoutes",void 0);const u8=(e,t,r)=>"top"===t||"left"===t?e[t]+r:e[t]-r,p8=(e,t)=>Math.min(t||e,e);function h8(e,t){const r=[],n=e.length/t,a=e.length;let s=0;for(;s<a;s+=n)r.push(e[Math.floor(s)]);return r}function m8(e,t,r){const n=e.ticks.length,a=Math.min(t,n-1),s=e._startPixel,o=e._endPixel,i=1e-6;let l,c=e.getPixelForTick(a);if(!(r&&(l=1===n?Math.max(c-s,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,c+=a<t?l:-l,c<s-i||c>o+i)))return c}function f8(e){return e.drawTicks?e.tickLength:0}function x8(e,t){if(!e.display)return 0;const r=K1(e.font,t),n=H1(e.padding);return(e0(e.text)?e.text.length:1)*r.lineHeight+n.height}function g8(e,t,r){let n=Z0(e);return(r&&"right"!==t||!r&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class b8 extends l8{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:n}=this;return e=n0(e,Number.POSITIVE_INFINITY),t=n0(t,Number.NEGATIVE_INFINITY),r=n0(r,Number.POSITIVE_INFINITY),n=n0(n,Number.NEGATIVE_INFINITY),{min:n0(e,r),max:n0(t,n),minDefined:r0(e),maxDefined:r0(t)}}getMinMax(e){let t,{min:r,max:n,minDefined:a,maxDefined:s}=this.getUserBounds();if(a&&s)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let i=0,l=o.length;i<l;++i)t=o[i].controller.getMinMax(this,e),a||(r=Math.min(r,t.min)),s||(n=Math.max(n,t.max));return r=s&&r>n?n:r,n=a&&r>n?r:n,{min:n0(r,n0(n,r)),max:n0(n,n0(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){o0(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:n,grace:a,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,r){const{min:n,max:a}=e,s=s0(t,(a-n)/2),o=(e,t)=>r&&0===e?0:e+t;return{min:o(n,-Math.abs(s)),max:o(a,s)}}(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const i=o<this.ticks.length;this._convertTicksToLabels(i?h8(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=c8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),i&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,r=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,r=!r),this._startPixel=e,this._endPixel=t,this._reversePixels=r,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){o0(this.options.afterUpdate,[this])}beforeSetDimensions(){o0(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){o0(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),o0(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){o0(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,n,a;for(r=0,n=e.length;r<n;r++)a=e[r],a.label=o0(t.callback,[a.value,r,e],this)}afterTickToLabelConversion(){o0(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){o0(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=p8(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,a=t.maxRotation;let s,o,i,l=n;if(!this._isVisible()||!t.display||n>=a||r<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,p=V0(this.chart.width-d,0,this.maxWidth);s=e.offset?this.maxWidth/r:p/(r-1),d+6>s&&(s=p/(r-(e.offset?.5:1)),o=this.maxHeight-f8(e.grid)-t.padding-x8(e.title,this.chart.options.font),i=Math.sqrt(d*d+u*u),l=_0(Math.min(Math.asin(V0((c.highest.height+6)/s,-1,1)),Math.asin(V0(o/i,-1,1))-Math.asin(V0(u/i,-1,1)))),l=Math.max(n,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){o0(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){o0(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:n,grid:a}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=x8(n,t.options.font);if(o?(e.width=this.maxWidth,e.height=f8(a)+s):(e.height=this.maxHeight,e.width=f8(a)+s),r.display&&this.ticks.length){const{first:t,last:n,widest:a,highest:s}=this._getLabelSizes(),i=2*r.padding,l=M0(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(o){const t=r.mirror?0:d*a.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+i)}else{const t=r.mirror?0:c*a.width+d*s.height;e.width=Math.min(this.maxWidth,e.width+t+i)}this._calculatePadding(t,n,d,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,n){const{ticks:{align:a,padding:s},position:o}=this.options,i=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;i?l?(d=n*e.width,u=r*t.height):(d=r*e.height,u=n*t.width):"start"===a?u=t.width:"end"===a?d=e.width:"inner"!==a&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((u-c+s)*this.width/(this.width-c),0)}else{let r=t.height/2,n=e.height/2;"start"===a?(r=0,n=e.height):"end"===a&&(r=t.height,n=0),this.paddingTop=r+s,this.paddingBottom=n+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){o0(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)ZZ(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=h8(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:n,_longestTextCache:a}=this,s=[],o=[],i=Math.floor(t/p8(t,r));let l,c,d,u,p,h,m,f,x,g,b,y=0,v=0;for(l=0;l<t;l+=i){if(u=e[l].label,p=this._resolveTickFontOptions(l),n.font=h=p.string,m=a[h]=a[h]||{data:{},gc:[]},f=p.lineHeight,x=g=0,ZZ(u)||e0(u)){if(e0(u))for(c=0,d=u.length;c<d;++c)b=u[c],ZZ(b)||e0(b)||(x=w1(n,m.data,m.gc,x,b),g+=f)}else x=w1(n,m.data,m.gc,x,u),g=f;s.push(x),o.push(g),y=Math.max(x,y),v=Math.max(g,v)}!function(e,t){i0(e,e=>{const r=e.gc,n=r.length/2;let a;if(n>t){for(a=0;a<n;++a)delete e.data[r[a]];r.splice(0,n)}})}(a,t);const j=s.indexOf(y),w=o.indexOf(v),N=e=>({width:s[e]||0,height:o[e]||0});return{first:N(0),last:N(t-1),widest:N(j),highest:N(w),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return V0(e,-32768,32767)}(this._alignToPixels?A1(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=function(e,t,r){return G1(e,{tick:r,index:t,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=G1(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=M0(this.labelRotation),r=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),a=this._getLabelSizes(),s=e.autoSkipPadding||0,o=a?a.widest.width+s:0,i=a?a.highest.height+s:0;return this.isHorizontal()?i*r>o*n?o/r:i/n:i*n<o*r?i/r:o/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,n=this.options,{grid:a,position:s,border:o}=n,i=a.offset,l=this.isHorizontal(),c=this.ticks.length+(i?1:0),d=f8(a),u=[],p=o.setContext(this.getContext()),h=p.display?p.width:0,m=h/2,f=function(e){return A1(r,e,h)};let x,g,b,y,v,j,w,N,A,k,C,F;if("top"===s)x=f(this.bottom),j=this.bottom-d,N=x-m,k=f(e.top)+m,F=e.bottom;else if("bottom"===s)x=f(this.top),k=e.top,F=f(e.bottom)-m,j=x+m,N=this.top+d;else if("left"===s)x=f(this.right),v=this.right-d,w=x-m,A=f(e.left)+m,C=e.right;else if("right"===s)x=f(this.left),A=e.left,C=f(e.right)-m,v=x+m,w=this.left+d;else if("x"===t){if("center"===s)x=f((e.top+e.bottom)/2+.5);else if(t0(s)){const e=Object.keys(s)[0],t=s[e];x=f(this.chart.scales[e].getPixelForValue(t))}k=e.top,F=e.bottom,j=x+m,N=j+d}else if("y"===t){if("center"===s)x=f((e.left+e.right)/2);else if(t0(s)){const e=Object.keys(s)[0],t=s[e];x=f(this.chart.scales[e].getPixelForValue(t))}v=x-m,w=v-d,A=e.left,C=e.right}const S=a0(n.ticks.maxTicksLimit,c),E=Math.max(1,Math.ceil(c/S));for(g=0;g<c;g+=E){const e=this.getContext(g),t=a.setContext(e),n=o.setContext(e),s=t.lineWidth,c=t.color,d=n.dash||[],p=n.dashOffset,h=t.tickWidth,m=t.tickColor,f=t.tickBorderDash||[],x=t.tickBorderDashOffset;b=m8(this,g,i),void 0!==b&&(y=A1(r,b,s),l?v=w=A=C=y:j=N=k=F=y,u.push({tx1:v,ty1:j,tx2:w,ty2:N,x1:A,y1:k,x2:C,y2:F,width:s,color:c,borderDash:d,borderDashOffset:p,tickWidth:h,tickColor:m,tickBorderDash:f,tickBorderDashOffset:x}))}return this._ticksLength=c,this._borderValue=x,u}_computeLabelItems(e){const t=this.axis,r=this.options,{position:n,ticks:a}=r,s=this.isHorizontal(),o=this.ticks,{align:i,crossAlign:l,padding:c,mirror:d}=a,u=f8(r.grid),p=u+c,h=d?-c:p,m=-M0(this.labelRotation),f=[];let x,g,b,y,v,j,w,N,A,k,C,F,S="middle";if("top"===n)j=this.bottom-h,w=this._getXAxisLabelAlignment();else if("bottom"===n)j=this.top+h,w=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,v=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,v=e.x}else if("x"===t){if("center"===n)j=(e.top+e.bottom)/2+p;else if(t0(n)){const e=Object.keys(n)[0],t=n[e];j=this.chart.scales[e].getPixelForValue(t)+p}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)v=(e.left+e.right)/2-p;else if(t0(n)){const e=Object.keys(n)[0],t=n[e];v=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===i?S="top":"end"===i&&(S="bottom"));const E=this._getLabelSizes();for(x=0,g=o.length;x<g;++x){b=o[x],y=b.label;const e=a.setContext(this.getContext(x));N=this.getPixelForTick(x)+a.labelOffset,A=this._resolveTickFontOptions(x),k=A.lineHeight,C=e0(y)?y.length:1;const t=C/2,r=e.color,i=e.textStrokeColor,c=e.textStrokeWidth;let u,p=w;if(s?(v=N,"inner"===w&&(p=x===g-1?this.options.reverse?"left":"right":0===x?this.options.reverse?"right":"left":"center"),F="top"===n?"near"===l||0!==m?-C*k+k/2:"center"===l?-E.highest.height/2-t*k+k:-E.highest.height+k/2:"near"===l||0!==m?k/2:"center"===l?E.highest.height/2-t*k:E.highest.height-C*k,d&&(F*=-1),0===m||e.showLabelBackdrop||(v+=k/2*Math.sin(m))):(j=N,F=(1-C)*k/2),e.showLabelBackdrop){const t=H1(e.backdropPadding),r=E.heights[x],n=E.widths[x];let a=F-t.top,s=0-t.left;switch(S){case"middle":a-=r/2;break;case"bottom":a-=r}switch(w){case"center":s-=n/2;break;case"right":s-=n;break;case"inner":x===g-1?s-=n:x>0&&(s-=n/2)}u={left:s,top:a,width:n+t.width,height:r+t.height,color:e.backdropColor}}f.push({label:y,font:A,textOffset:F,options:{rotation:m,color:r,strokeColor:i,strokeWidth:c,textAlign:p,textBaseline:S,translation:[v,j],backdrop:u}})}return f}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-M0(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:n,padding:a}}=this.options,s=e+a,o=this._getLabelSizes().widest.width;let i,l;return"left"===t?n?(l=this.right+a,"near"===r?i="left":"center"===r?(i="center",l+=o/2):(i="right",l+=o)):(l=this.right-s,"near"===r?i="right":"center"===r?(i="center",l-=o/2):(i="left",l=this.left)):"right"===t?n?(l=this.left+a,"near"===r?i="right":"center"===r?(i="center",l-=o/2):(i="left",l-=o)):(l=this.left+s,"near"===r?i="left":"center"===r?(i="center",l+=o/2):(i="right",l=this.right)):i="right",{textAlign:i,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:n,width:a,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,n,a,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(t=>t.value===e);if(r>=0){return t.setContext(this.getContext(r)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,s;const o=(e,t,n)=>{n.width&&n.color&&(r.save(),r.lineWidth=n.width,r.strokeStyle=n.color,r.setLineDash(n.borderDash||[]),r.lineDashOffset=n.borderDashOffset,r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke(),r.restore())};if(t.display)for(a=0,s=n.length;a<s;++a){const e=n[a];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:n}}=this,a=r.setContext(this.getContext()),s=r.display?a.width:0;if(!s)return;const o=n.setContext(this.getContext(0)).lineWidth,i=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=A1(e,this.left,s)-s/2,c=A1(e,this.right,o)+o/2,d=u=i):(d=A1(e,this.top,s)-s/2,u=A1(e,this.bottom,o)+o/2,l=c=i),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,r=this._computeLabelArea();r&&E1(t,r);const n=this.getLabelItems(e);for(const a of n){const e=a.options,r=a.font;M1(t,a.label,0,a.textOffset,r,e)}r&&P1(t)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:n}}=this;if(!r.display)return;const a=K1(r.font),s=H1(r.padding),o=r.align;let i=a.lineHeight/2;"bottom"===t||"center"===t||t0(t)?(i+=s.bottom,e0(r.text)&&(i+=a.lineHeight*(r.text.length-1))):i+=s.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,r,n){const{top:a,left:s,bottom:o,right:i,chart:l}=e,{chartArea:c,scales:d}=l;let u,p,h,m=0;const f=o-a,x=i-s;if(e.isHorizontal()){if(p=e1(n,s,i),t0(r)){const e=Object.keys(r)[0],n=r[e];h=d[e].getPixelForValue(n)+f-t}else h="center"===r?(c.bottom+c.top)/2+f-t:u8(e,r,t);u=i-s}else{if(t0(r)){const e=Object.keys(r)[0],n=r[e];p=d[e].getPixelForValue(n)-x+t}else p="center"===r?(c.left+c.right)/2-x+t:u8(e,r,t);h=e1(n,o,a),m="left"===r?-C0:C0}return{titleX:p,titleY:h,maxWidth:u,rotation:m}}(this,i,t,o);M1(e,r.text,0,0,a,{color:r.color,maxWidth:d,rotation:u,textAlign:g8(o,t,n),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=a0(e.grid&&e.grid.z,-1),n=a0(e.border&&e.border.z,0);return this._isVisible()&&this.draw===b8.prototype.draw?[{z:r,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let a,s;for(a=0,s=t.length;a<s;++a){const s=t[a];s[r]!==this.id||e&&s.type!==e||n.push(s)}return n}_resolveTickFontOptions(e){return K1(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class y8{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;(function(e){return"id"in e&&"defaults"in e})(t)&&(r=this.register(t));const n=this.items,a=e.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in n||(n[a]=e,function(e,t,r){const n=p0(Object.create(null),[r?j1.get(r):{},j1.get(t),e.defaults]);j1.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(r=>{const n=r.split("."),a=n.pop(),s=[e].concat(n).join("."),o=t[r].split("."),i=o.pop(),l=o.join(".");j1.route(s,a,l,i)})}(t,e.defaultRoutes);e.descriptors&&j1.describe(t,e.descriptors)}(e,s,r),this.override&&j1.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,n=this.scope;r in t&&delete t[r],n&&r in j1[n]&&(delete j1[n][r],this.override&&delete x1[r])}}class v8{constructor(){this.controllers=new y8(s3,"datasets",!0),this.elements=new y8(l8,"elements"),this.plugins=new y8(Object,"plugins"),this.scales=new y8(b8,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.scales)}_each(e,t,r){[...t].forEach(t=>{const n=r||this._getRegistryForType(t);r||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):i0(t,t=>{const n=r||this._getRegistryForType(t);this._exec(e,n,t)})})}_exec(e,t,r){const n=g0(e);o0(r["before"+n],[],r),t[e](r),o0(r["after"+n],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+r+".");return n}}var j8=new v8;class w8{constructor(){this._init=[]}notify(e,t,r,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=n?this._descriptors(e).filter(n):this._descriptors(e),s=this._notify(a,e,t,r);return"afterDestroy"===t&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,r,n){n=n||{};for(const a of e){const e=a.plugin;if(!1===o0(e[r],[t,n,a.options],e)&&n.cancelable)return!1}return!0}invalidate(){ZZ(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,n=a0(r.options&&r.options.plugins,{}),a=function(e){const t={},r=[],n=Object.keys(j8.plugins.items);for(let s=0;s<n.length;s++)r.push(j8.getPlugin(n[s]));const a=e.plugins||[];for(let s=0;s<a.length;s++){const e=a[s];-1===r.indexOf(e)&&(r.push(e),t[e.id]=!0)}return{plugins:r,localIds:t}}(r);return!1!==n||t?function(e,t,r,n){let{plugins:a,localIds:s}=t;const o=[],i=e.getContext();for(const l of a){const t=l.id,a=N8(r[t],n);null!==a&&o.push({plugin:l,options:A8(e.config,{plugin:l,local:s[t]},a,i)})}return o}(e,a,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,n=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(n(t,r),e,"stop"),this._notify(n(r,t),e,"start")}}function N8(e,t){return t||!1!==e?!0===e?{}:e:null}function A8(e,t,r,n){let{plugin:a,local:s}=t;const o=e.pluginScopeKeys(a),i=e.getOptionScopes(r,o);return s&&a.defaults&&i.push(a.defaults),e.createResolver(i,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function k8(e,t){const r=j1.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function C8(e){if("x"===e||"y"===e||"r"===e)return e}function F8(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function S8(e){if(C8(e))return e;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(const a of r){const t=a.axis||F8(a.position)||e.length>1&&C8(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function E8(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function P8(e,t){const r=x1[e.type]||{scales:{}},n=t.scales||{},a=k8(e.type,t),s=Object.create(null);return Object.keys(n).forEach(t=>{const o=n[t];if(!t0(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const i=S8(t,o,function(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(r.length)return E8(e,"x",r[0])||E8(e,"y",r[0])}return{}}(t,e),j1.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(i,a),c=r.scales||{};s[t]=h0(Object.create(null),[{axis:i},o,c[i],c[l]])}),e.data.datasets.forEach(r=>{const a=r.type||e.type,o=r.indexAxis||k8(a,t),i=(x1[a]||{}).scales||{};Object.keys(i).forEach(e=>{const t=function(e,t){let r=e;return"_index_"===e?r=t:"_value_"===e&&(r="x"===t?"y":"x"),r}(e,o),a=r[t+"AxisID"]||t;s[a]=s[a]||Object.create(null),h0(s[a],[{axis:t},n[a],i[e]])})}),Object.keys(s).forEach(e=>{const t=s[e];h0(t,[j1.scales[t.type],j1.scale])}),s}function D8(e){const t=e.options||(e.options={});t.plugins=a0(t.plugins,{}),t.scales=P8(e,t)}function O8(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const T8=new Map,I8=new Set;function M8(e,t){let r=T8.get(e);return r||(r=t(),T8.set(e,r),I8.add(r)),r}const _8=(e,t,r)=>{const n=x0(t,r);void 0!==n&&e.add(n)};class R8{constructor(e){this._config=function(e){return(e=e||{}).data=O8(e.data),D8(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=O8(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),D8(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return M8(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return M8("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return M8("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return M8("".concat(r,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let n=r.get(e);return n&&!t||(n=new Map,r.set(e,n)),n}getOptionScopes(e,t,r){const{options:n,type:a}=this,s=this._cachedScopes(e,r),o=s.get(t);if(o)return o;const i=new Set;t.forEach(t=>{e&&(i.add(e),t.forEach(t=>_8(i,e,t))),t.forEach(e=>_8(i,n,e)),t.forEach(e=>_8(i,x1[a]||{},e)),t.forEach(e=>_8(i,j1,e)),t.forEach(e=>_8(i,g1,e))});const l=Array.from(i);return 0===l.length&&l.push(Object.create(null)),I8.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,x1[t]||{},j1.datasets[t]||{},{type:t},j1,g1]}resolveNamedOptions(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const a={$shared:!0},{resolver:s,subPrefixes:o}=B8(this._resolverCache,e,n);let i=s;if(function(e,t){const{isScriptable:r,isIndexable:n}=J1(e);for(const a of t){const t=r(a),s=n(a),o=(s||t)&&e[a];if(t&&(y0(o)||L8(o))||s&&e0(o))return!0}return!1}(s,t)){a.$shared=!1;i=$1(s,r=y0(r)?r():r,this.createResolver(e,r,o))}for(const l of t)a[l]=i[l];return a}createResolver(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],n=arguments.length>3?arguments[3]:void 0;const{resolver:a}=B8(this._resolverCache,e,r);return t0(t)?$1(a,t,void 0,n):a}}function B8(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const a=r.join();let s=n.get(a);if(!s){s={resolver:Y1(t,r),subPrefixes:r.filter(e=>!e.toLowerCase().includes("hover"))},n.set(a,s)}return s}const L8=e=>t0(e)&&Object.getOwnPropertyNames(e).some(t=>y0(e[t]));const z8=["top","bottom","left","right","chartArea"];function U8(e,t){return"top"===e||"bottom"===e||-1===z8.indexOf(e)&&"x"===t}function W8(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function V8(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),o0(r&&r.onComplete,[e],t)}function H8(e){const t=e.chart,r=t.options.animation;o0(r&&r.onProgress,[e],t)}function K8(e){return f2()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const q8={},G8=e=>{const t=K8(e);return Object.values(q8).filter(e=>e.canvas===t).pop()};function Y8(e,t,r){const n=Object.keys(e);for(const a of n){const n=+a;if(n>=t){const s=e[a];delete e[a],(r>0||n>t)&&(e[n+r]=s)}}}class $8{static register(){j8.add(...arguments),J8()}static unregister(){j8.remove(...arguments),J8()}constructor(e,t){const r=this.config=new R8(t),n=K8(e),a=G8(n);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function(e){return!f2()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?q3:i8}(n)),this.platform.updateConfig(r);const o=this.platform.acquireContext(n,s.aspectRatio),i=o&&o.canvas,l=i&&i.height,c=i&&i.width;this.id=QZ(),this.ctx=o,this.canvas=i,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new w8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let r;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t?(clearTimeout(r),r=setTimeout(e,t,a)):e.apply(this,a),t}}(e=>this.update(e),s.resizeDelay||0),this._dataChanges=[],q8[this.id]=this,o&&i?(V2.listen(this,"complete",V8),V2.listen(this,"progress",H8),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:n,_aspectRatio:a}=this;return ZZ(e)?t&&a?a:n?r/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return j8}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():A2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return k1(this.canvas,this.ctx),this}stop(){return V2.stop(this),this}resize(e,t){V2.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,n=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(n,e,t,a),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),i=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,A2(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),o0(r.onResize,[this,s],this),this.attached&&this._doResize(i)&&this.render())}ensureScalesHaveIDs(){i0(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,n=Object.keys(r).reduce((e,t)=>(e[t]=!1,e),{});let a=[];t&&(a=a.concat(Object.keys(t).map(e=>{const r=t[e],n=S8(e,r),a="r"===n,s="x"===n;return{options:r,dposition:a?"chartArea":s?"bottom":"left",dtype:a?"radialLinear":s?"category":"linear"}}))),i0(a,t=>{const a=t.options,s=a.id,o=S8(s,a),i=a0(a.type,t.dtype);void 0!==a.position&&U8(a.position,o)===U8(t.dposition)||(a.position=t.dposition),n[s]=!0;let l=null;if(s in r&&r[s].type===i)l=r[s];else{l=new(j8.getScale(i))({id:s,type:i,ctx:this.ctx,chart:this}),r[l.id]=l}l.init(a,e)}),i0(n,(e,t)=>{e||delete r[t]}),i0(r,e=>{H3.configure(this,e,e.options),H3.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((e,t)=>e.index-t.index),r>t){for(let e=t;e<r;++e)this._destroyDatasetMeta(e);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(W8("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,r)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=t.length;r<n;r++){const n=t[r];let a=this.getDatasetMeta(r);const s=n.type||this.config.type;if(a.type&&a.type!==s&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=s,a.indexAxis=n.indexAxis||k8(s,this.options),a.order=n.order||0,a.index=r,a.label=""+n.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const t=j8.getController(s),{datasetElementType:n,dataElementType:o}=j1.datasets[s];Object.assign(t,{dataElementType:j8.getElement(o),datasetElementType:n&&j8.getElement(n)}),a.controller=new t(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){i0(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!n&&-1===a.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=r.layout.autoPadding?s:0,this._updateLayout(s),n||i0(a,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(W8("z","_idx"));const{_active:o,_lastEvent:i}=this;i?this._eventHandler(i,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){i0(this.scales,e=>{H3.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);v0(t,r)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:a}of t){Y8(e,n,"_removeElements"===r?-a:a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),n=r(0);for(let a=1;a<t;a++)if(!v0(n,r(a)))return;return Array.from(n).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;H3.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],i0(this.boxes,e=>{r&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,y0(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),n={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(r.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(V2.has(this)?this.attached&&!V2.running(this)&&V2.start(this):(this.draw(),V8({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let n,a;for(n=0,a=t.length;n<a;++n){const a=t[n];e&&!a.visible||r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},n=U2(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(n&&E1(t,n),e.controller.draw(),n&&P1(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return S1(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,n){const a=D3.modes[t];return"function"===typeof a?a(this,e,r,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let n=r.filter(e=>e&&e._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=G1(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return"boolean"===typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const n=r?"show":"hide",a=this.getDatasetMeta(e),s=a.controller._resolveAnimations(void 0,n);b0(t)?(a.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),s.update(a,{visible:r}),this.update(t=>t.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),V2.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),k1(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete q8[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},n=(e,t,r)=>{e.offsetX=t,e.offsetY=r,this._eventHandler(e)};i0(this.options.events,e=>r(e,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},n=(r,n)=>{e[r]&&(t.removeEventListener(this,r,n),delete e[r])},a=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const o=()=>{n("attach",o),this.attached=!0,this.resize(),r("resize",a),r("detach",s)};s=()=>{this.attached=!1,n("resize",a),this._stop(),this._resize(0,0),r("attach",o)},t.isAttached(this.canvas)?o():s()}unbindEvents(){i0(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},i0(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const n=r?"set":"remove";let a,s,o,i;for("dataset"===t&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+n+"DatasetHoverStyle"]()),o=0,i=e.length;o<i;++o){s=e[o];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[n+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(e=>{let{datasetIndex:t,index:r}=e;const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[r],index:r}});!l0(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,r){const n=this.options.hover,a=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),s=a(t,e),o=r?e:a(e,t);s.length&&this.updateHoverStyle(s,n.mode,!1),o.length&&n.mode&&this.updateHoverStyle(o,n.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,n))return;const a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(a||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:n=[],options:a}=this,s=t,o=this._getActiveElements(e,n,r,s),i=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,r,n){return r&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,r,i);r&&(this._lastEvent=null,o0(a.onHover,[e,o,this],this),i&&o0(a.onClick,[e,o,this],this));const c=!l0(o,n);return(c||t)&&(this._active=o,this._updateHoverStyles(o,n,t)),this._lastEvent=l,c}_getActiveElements(e,t,r,n){if("mouseout"===e.type)return[];if(!r)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,n)}}function J8(){return i0($8.instances,e=>e._plugins.invalidate())}function X8(e,t,r,n){const a=function(e){return U1(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),s=(r-t)/2,o=Math.min(s,n*t/2),i=e=>{const t=(r-Math.min(s,e))*n/2;return V0(e,0,Math.min(s,t))};return{outerStart:i(a.outerStart),outerEnd:i(a.outerEnd),innerStart:V0(a.innerStart,0,o),innerEnd:V0(a.innerEnd,0,o)}}function Q8(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function Z8(e,t,r,n,a,s){const{x:o,y:i,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+n+r-c,0),p=d>0?d+n+r+c:0;let h=0;const m=a-l;if(n){const e=((d>0?d-n:0)+(u>0?u-n:0))/2;h=(m-(0!==e?m*e/(e+n):m))/2}const f=(m-Math.max(.001,m*u-r/j0)/u)/2,x=l+f+h,g=a-f-h,{outerStart:b,outerEnd:y,innerStart:v,innerEnd:j}=X8(t,p,u,g-x),w=u-b,N=u-y,A=x+b/w,k=g-y/N,C=p+v,F=p+j,S=x+v/C,E=g-j/F;if(e.beginPath(),s){const t=(A+k)/2;if(e.arc(o,i,u,A,t),e.arc(o,i,u,t,k),y>0){const t=Q8(N,k,o,i);e.arc(t.x,t.y,y,k,g+C0)}const r=Q8(F,g,o,i);if(e.lineTo(r.x,r.y),j>0){const t=Q8(F,E,o,i);e.arc(t.x,t.y,j,g+C0,E+Math.PI)}const n=(g-j/p+(x+v/p))/2;if(e.arc(o,i,p,g-j/p,n,!0),e.arc(o,i,p,n,x+v/p,!0),v>0){const t=Q8(C,S,o,i);e.arc(t.x,t.y,v,S+Math.PI,x-C0)}const a=Q8(w,x,o,i);if(e.lineTo(a.x,a.y),b>0){const t=Q8(w,A,o,i);e.arc(t.x,t.y,b,x-C0,A)}}else{e.moveTo(o,i);const t=Math.cos(A)*u+o,r=Math.sin(A)*u+i;e.lineTo(t,r);const n=Math.cos(k)*u+o,a=Math.sin(k)*u+i;e.lineTo(n,a)}e.closePath()}function e4(e,t,r,n,a){const{fullCircles:s,startAngle:o,circumference:i,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:p,borderRadius:h}=l,m="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=p,m?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let f=t.endAngle;if(s){Z8(e,t,r,n,f,a);for(let t=0;t<s;++t)e.stroke();isNaN(i)||(f=o+(i%w0||w0))}m&&function(e,t,r){const{startAngle:n,pixelMargin:a,x:s,y:o,outerRadius:i,innerRadius:l}=t;let c=a/i;e.beginPath(),e.arc(s,o,i,n-c,r+c),l>a?(c=a/l,e.arc(s,o,l,r+c,n-c,!0)):e.arc(s,o,a,r+C0,n-C0),e.closePath(),e.clip()}(e,t,f),l.selfJoin&&f-o>=j0&&0===h&&"miter"!==d&&function(e,t,r){const{startAngle:n,x:a,y:s,outerRadius:o,innerRadius:i,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/o,U0(n-r));if(e.beginPath(),e.arc(a,s,o-c/2,n+u/2,r-u/2),i>0){const t=Math.min(c/i,U0(n-r));e.arc(a,s,i+c/2,r-t/2,n+t/2,!0)}else{const t=Math.min(c/2,o*U0(n-r));if("round"===d)e.arc(a,s,t,r-j0/2,n+j0/2,!0);else if("bevel"===d){const o=2*t*t,i=-o*Math.cos(r+j0/2)+a,l=-o*Math.sin(r+j0/2)+s,c=o*Math.cos(n+j0/2)+a,d=o*Math.sin(n+j0/2)+s;e.lineTo(i,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,f),s||(Z8(e,t,r,n,f,a),e.stroke())}(0,HV.A)($8,"defaults",j1),(0,HV.A)($8,"instances",q8),(0,HV.A)($8,"overrides",x1),(0,HV.A)($8,"registry",j8),(0,HV.A)($8,"version","4.5.0"),(0,HV.A)($8,"getChart",G8);class t4 extends l8{constructor(e){super(),(0,HV.A)(this,"circumference",void 0),(0,HV.A)(this,"endAngle",void 0),(0,HV.A)(this,"fullCircles",void 0),(0,HV.A)(this,"innerRadius",void 0),(0,HV.A)(this,"outerRadius",void 0),(0,HV.A)(this,"pixelMargin",void 0),(0,HV.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.getProps(["x","y"],r),{angle:a,distance:s}=B0(n,{x:e,y:t}),{startAngle:o,endAngle:i,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),u=(this.options.spacing+this.options.borderWidth)/2,p=a0(d,i-o),h=W0(a,o,i)&&o!==i,m=p>=w0||h,f=H0(s,l+u,c+u);return m&&f}getCenterPoint(e){const{x:t,y:r,startAngle:n,endAngle:a,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:i,spacing:l}=this.options,c=(n+a)/2,d=(s+o+l+i)/2;return{x:t+Math.cos(c)*d,y:r+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,n=(t.offset||0)/4,a=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>w0?Math.floor(r/w0):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*n,Math.sin(o)*n);const i=n*(1-Math.sin(Math.min(j0,r||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,r,n,a){const{fullCircles:s,startAngle:o,circumference:i}=t;let l=t.endAngle;if(s){Z8(e,t,r,n,l,a);for(let t=0;t<s;++t)e.fill();isNaN(i)||(l=o+(i%w0||w0))}Z8(e,t,r,n,l,a),e.fill()}(e,this,i,a,s),e4(e,this,i,a,s),e.restore()}}function r4(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=a0(r.borderCapStyle,t.borderCapStyle),e.setLineDash(a0(r.borderDash,t.borderDash)),e.lineDashOffset=a0(r.borderDashOffset,t.borderDashOffset),e.lineJoin=a0(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=a0(r.borderWidth,t.borderWidth),e.strokeStyle=a0(r.borderColor,t.borderColor)}function n4(e,t,r){e.lineTo(r.x,r.y)}function a4(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.length,{start:a=0,end:s=n-1}=r,{start:o,end:i}=t,l=Math.max(a,o),c=Math.min(s,i),d=a<o&&s<o||a>i&&s>i;return{count:n,start:l,loop:t.loop,ilen:c<l&&!d?n+c-l:c-l}}function s4(e,t,r,n){const{points:a,options:s}=t,{count:o,start:i,loop:l,ilen:c}=a4(a,r,n),d=function(e){return e.stepped?D1:e.tension||"monotone"===e.cubicInterpolationMode?O1:n4}(s);let u,p,h,{move:m=!0,reverse:f}=n||{};for(u=0;u<=c;++u)p=a[(i+(f?c-u:u))%o],p.skip||(m?(e.moveTo(p.x,p.y),m=!1):d(e,h,p,f,s.stepped),h=p);return l&&(p=a[(i+(f?c:0))%o],d(e,h,p,f,s.stepped)),!!l}function o4(e,t,r,n){const a=t.points,{count:s,start:o,ilen:i}=a4(a,r,n),{move:l=!0,reverse:c}=n||{};let d,u,p,h,m,f,x=0,g=0;const b=e=>(o+(c?i-e:e))%s,y=()=>{h!==m&&(e.lineTo(x,m),e.lineTo(x,h),e.lineTo(x,f))};for(l&&(u=a[b(0)],e.moveTo(u.x,u.y)),d=0;d<=i;++d){if(u=a[b(d)],u.skip)continue;const t=u.x,r=u.y,n=0|t;n===p?(r<h?h=r:r>m&&(m=r),x=(g*x+t)/++g):(y(),e.lineTo(t,r),p=n,g=0,h=m=r),f=r}y()}function i4(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!r?o4:s4}(0,HV.A)(t4,"id","arc"),(0,HV.A)(t4,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),(0,HV.A)(t4,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,HV.A)(t4,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const l4="function"===typeof Path2D;function c4(e,t,r,n){l4&&!t.options.segment?function(e,t,r,n){let a=t._path;a||(a=t._path=new Path2D,t.path(a,r,n)&&a.closePath()),r4(e,t.options),e.stroke(a)}(e,t,r,n):function(e,t,r,n){const{segments:a,options:s}=t,o=i4(t);for(const i of a)r4(e,s,i.style),e.beginPath(),o(e,t,i,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}(e,t,r,n)}class d4 extends l8{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;m2(this._points,r,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const r=e.points,n=e.options.spanGaps,a=r.length;if(!a)return[];const s=!!e._loop,{start:o,end:i}=function(e,t,r,n){let a=0,s=t-1;if(r&&!n)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,r&&(s+=a);s>a&&e[s%t].skip;)s--;return s%=t,{start:a,end:s}}(r,a,s,n);return R2(e,!0===n?[{start:o,end:i,loop:s}]:function(e,t,r,n){const a=e.length,s=[];let o,i=t,l=e[t];for(o=t+1;o<=r;++o){const r=e[o%a];r.skip||r.stop?l.skip||(n=!1,s.push({start:t%a,end:(o-1)%a,loop:n}),t=i=r.stop?o:null):(i=o,l.skip&&(t=o)),l=r}return null!==i&&s.push({start:t%a,end:i%a,loop:n}),s}(r,o,i<o?i+a:i,!!e._fullLoop&&0===o&&i===a-1),r,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,n=e[t],a=this.points,s=_2(this,{property:t,start:n,end:n});if(!s.length)return;const o=[],i=function(e){return e.stepped?S2:e.tension||"monotone"===e.cubicInterpolationMode?E2:F2}(r);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:d}=s[l],u=a[c],p=a[d];if(u===p){o.push(u);continue}const h=i(u,p,Math.abs((n-u[t])/(p[t]-u[t])),r.stepped);h[t]=e[t],o.push(h)}return 1===o.length?o[0]:o}pathSegment(e,t,r){return i4(this)(e,this,t,r)}path(e,t,r){const n=this.segments,a=i4(this);let s=this._loop;t=t||0,r=r||this.points.length-t;for(const o of n)s&=a(e,this,o,{start:t,end:t+r-1});return!!s}draw(e,t,r,n){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),c4(e,this,r,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function u4(e,t,r,n){const a=e.options,{[r]:s}=e.getProps([r],n);return Math.abs(t-s)<a.radius+a.hitRadius}(0,HV.A)(d4,"id","line"),(0,HV.A)(d4,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,HV.A)(d4,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,HV.A)(d4,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class p4 extends l8{constructor(e){super(),(0,HV.A)(this,"parsed",void 0),(0,HV.A)(this,"skip",void 0),(0,HV.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.options,{x:a,y:s}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(t-s,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return u4(this,e,"x",t)}inYRange(e,t){return u4(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const r=this.options;this.skip||r.radius<.1||!S1(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,C1(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function h4(e,t){const{x:r,y:n,base:a,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let i,l,c,d,u;return e.horizontal?(u=o/2,i=Math.min(r,a),l=Math.max(r,a),c=n-u,d=n+u):(u=s/2,i=r-u,l=r+u,c=Math.min(n,a),d=Math.max(n,a)),{left:i,top:c,right:l,bottom:d}}function m4(e,t,r,n){return e?0:V0(t,r,n)}function f4(e){const t=h4(e),r=t.right-t.left,n=t.bottom-t.top,a=function(e,t,r){const n=e.options.borderWidth,a=e.borderSkipped,s=W1(n);return{t:m4(a.top,s.top,0,r),r:m4(a.right,s.right,0,t),b:m4(a.bottom,s.bottom,0,r),l:m4(a.left,s.left,0,t)}}(e,r/2,n/2),s=function(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,s=V1(a),o=Math.min(t,r),i=e.borderSkipped,l=n||t0(a);return{topLeft:m4(!l||i.top||i.left,s.topLeft,0,o),topRight:m4(!l||i.top||i.right,s.topRight,0,o),bottomLeft:m4(!l||i.bottom||i.left,s.bottomLeft,0,o),bottomRight:m4(!l||i.bottom||i.right,s.bottomRight,0,o)}}(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:s},inner:{x:t.left+a.l,y:t.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function x4(e,t,r,n){const a=null===t,s=null===r,o=e&&!(a&&s)&&h4(e,n);return o&&(a||H0(t,o.left,o.right))&&(s||H0(r,o.top,o.bottom))}function g4(e,t){e.rect(t.x,t.y,t.w,t.h)}function b4(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.x!==r.x?-t:0,a=e.y!==r.y?-t:0,s=(e.x+e.w!==r.x+r.w?t:0)-n,o=(e.y+e.h!==r.y+r.h?t:0)-a;return{x:e.x+n,y:e.y+a,w:e.w+s,h:e.h+o,radius:e.radius}}(0,HV.A)(p4,"id","point"),(0,HV.A)(p4,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,HV.A)(p4,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class y4 extends l8{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:n}}=this,{inner:a,outer:s}=f4(this),o=(i=s.radius).topLeft||i.topRight||i.bottomLeft||i.bottomRight?_1:g4;var i;e.save(),s.w===a.w&&s.h===a.h||(e.beginPath(),o(e,b4(s,t,a)),e.clip(),o(e,b4(a,-t,s)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,b4(a,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,r){return x4(this,e,t,r)}inXRange(e,t){return x4(this,e,null,t)}inYRange(e,t){return x4(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+n)/2:t,y:a?r:(r+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}(0,HV.A)(y4,"id","bar"),(0,HV.A)(y4,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,HV.A)(y4,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function v4(e,t,r,n){if(n)return;let a=t[e],s=r[e];return"angle"===e&&(a=U0(a),s=U0(s)),{property:e,start:a,end:s}}function j4(e,t,r){for(;t>e;t--){const e=r[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function w4(e,t,r,n){return e&&t?n(e[r],t[r]):e?e[r]:t?t[r]:0}function N4(e,t){let r=[],n=!1;return e0(e)?(n=!0,r=e):r=function(e,t){const{x:r=null,y:n=null}=e||{},a=t.points,s=[];return t.segments.forEach(e=>{let{start:t,end:o}=e;o=j4(t,o,a);const i=a[t],l=a[o];null!==n?(s.push({x:i.x,y:n}),s.push({x:l.x,y:n})):null!==r&&(s.push({x:r,y:i.y}),s.push({x:r,y:l.y}))}),s}(e,t),r.length?new d4({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function A4(e){return e&&!1!==e.fill}function k4(e,t,r){let n=e[t].fill;const a=[t];let s;if(!r)return n;for(;!1!==n&&-1===a.indexOf(n);){if(!r0(n))return n;if(s=e[n],!s)return!1;if(s.visible)return n;a.push(n),n=s.fill}return!1}function C4(e,t,r){const n=function(e){const t=e.options,r=t.fill;let n=a0(r&&r.target,r);void 0===n&&(n=!!t.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(e);if(t0(n))return!isNaN(n.value)&&n;let a=parseFloat(n);return r0(a)&&Math.floor(a)===a?function(e,t,r,n){"-"!==e&&"+"!==e||(r=t+r);if(r===t||r<0||r>=n)return!1;return r}(n[0],t,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function F4(e,t,r){const n=[];for(let a=0;a<r.length;a++){const s=r[a],{first:o,last:i,point:l}=S4(s,t,"x");if(!(!l||o&&i))if(o)n.unshift(l);else if(e.push(l),!i)break}e.push(...n)}function S4(e,t,r){const n=e.interpolate(t,r);if(!n)return{};const a=n[r],s=e.segments,o=e.points;let i=!1,l=!1;for(let c=0;c<s.length;c++){const e=s[c],t=o[e.start][r],n=o[e.end][r];if(H0(a,t,n)){i=a===t,l=a===n;break}}return{first:i,last:l,point:n}}class E4{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:n,y:a,radius:s}=this;return t=t||{start:0,end:w0},e.arc(n,a,s,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:n}=this,a=e.angle;return{x:t+Math.cos(a)*n,y:r+Math.sin(a)*n,angle:a}}}function P4(e){const{chart:t,fill:r,line:n}=e;if(r0(r))return function(e,t){const r=e.getDatasetMeta(t),n=r&&e.isDatasetVisible(t);return n?r.dataset:null}(t,r);if("stack"===r)return function(e){const{scale:t,index:r,line:n}=e,a=[],s=n.segments,o=n.points,i=function(e,t){const r=[],n=e.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const e=n[a];if(e.index===t)break;e.hidden||r.unshift(e.dataset)}return r}(t,r);i.push(N4({x:null,y:t.bottom},n));for(let l=0;l<s.length;l++){const e=s[l];for(let t=e.start;t<=e.end;t++)F4(a,o[t],i)}return new d4({points:a,options:{}})}(e);if("shape"===r)return!0;const a=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:r}=e,n=t.options,a=t.getLabels().length,s=n.reverse?t.max:t.min,o=function(e,t,r){let n;return n="start"===e?r:"end"===e?t.options.reverse?t.min:t.max:t0(e)?e.value:t.getBaseValue(),n}(r,t,s),i=[];if(n.grid.circular){const e=t.getPointPositionForValue(0,s);return new E4({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<a;++l)i.push(t.getPointPositionForValue(l,o));return i}(e);return function(e){const{scale:t={},fill:r}=e,n=function(e,t){let r=null;return"start"===e?r=t.bottom:"end"===e?r=t.top:t0(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}(r,t);if(r0(n)){const e=t.isHorizontal();return{x:e?n:null,y:e?null:n}}return null}(e)}(e);return a instanceof E4?a:N4(a,n)}function D4(e,t,r){const n=P4(t),{chart:a,index:s,line:o,scale:i,axis:l}=t,c=o.options,d=c.fill,u=c.backgroundColor,{above:p=u,below:h=u}=d||{},m=a.getDatasetMeta(s),f=U2(a,m);n&&o.points.length&&(E1(e,r),function(e,t){const{line:r,target:n,above:a,below:s,area:o,scale:i,clip:l}=t,c=r._loop?"angle":t.axis;e.save();let d=s;s!==a&&("x"===c?(O4(e,n,o.top),I4(e,{line:r,target:n,color:a,scale:i,property:c,clip:l}),e.restore(),e.save(),O4(e,n,o.bottom)):"y"===c&&(T4(e,n,o.left),I4(e,{line:r,target:n,color:s,scale:i,property:c,clip:l}),e.restore(),e.save(),T4(e,n,o.right),d=a));I4(e,{line:r,target:n,color:d,scale:i,property:c,clip:l}),e.restore()}(e,{line:o,target:n,above:p,below:h,area:r,scale:i,axis:l,clip:f}),P1(e))}function O4(e,t,r){const{segments:n,points:a}=t;let s=!0,o=!1;e.beginPath();for(const i of n){const{start:n,end:l}=i,c=a[n],d=a[j4(n,l,a)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,r),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,i,{move:o}),o?e.closePath():e.lineTo(d.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function T4(e,t,r){const{segments:n,points:a}=t;let s=!0,o=!1;e.beginPath();for(const i of n){const{start:n,end:l}=i,c=a[n],d=a[j4(n,l,a)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(r,c.y),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,i,{move:o}),o?e.closePath():e.lineTo(r,d.y)}e.lineTo(r,t.first().y),e.closePath(),e.clip()}function I4(e,t){const{line:r,target:n,property:a,color:s,scale:o,clip:i}=t,l=function(e,t,r){const n=e.segments,a=e.points,s=t.points,o=[];for(const i of n){let{start:e,end:n}=i;n=j4(e,n,a);const l=v4(r,a[e],a[n],i.loop);if(!t.segments){o.push({source:i,target:l,start:a[e],end:a[n]});continue}const c=_2(t,l);for(const t of c){const e=v4(r,s[t.start],s[t.end],t.loop),n=M2(i,a,e);for(const a of n)o.push({source:a,target:t,start:{[r]:w4(l,e,"start",Math.max)},end:{[r]:w4(l,e,"end",Math.min)}})}}return o}(r,n,a);for(const{source:c,target:d,start:u,end:p}of l){const{style:{backgroundColor:t=s}={}}=c,l=!0!==n;e.save(),e.fillStyle=t,M4(e,o,i,l&&v4(a,u,p)),e.beginPath();const h=!!r.pathSegment(e,c);let m;if(l){h?e.closePath():_4(e,n,p,a);const t=!!n.pathSegment(e,d,{move:h,reverse:!0});m=h&&t,m||_4(e,n,u,a)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function M4(e,t,r,n){const a=t.chart.chartArea,{property:s,start:o,end:i}=n||{};if("x"===s||"y"===s){let t,n,l,c;"x"===s?(t=o,n=a.top,l=i,c=a.bottom):(t=a.left,n=o,l=a.right,c=i),e.beginPath(),r&&(t=Math.max(t,r.left),l=Math.min(l,r.right),n=Math.max(n,r.top),c=Math.min(c,r.bottom)),e.rect(t,n,l-t,c-n),e.clip()}}function _4(e,t,r,n){const a=t.interpolate(r,n);a&&e.lineTo(a.x,a.y)}var R4={id:"filler",afterDatasetsUpdate(e,t,r){const n=(e.data.datasets||[]).length,a=[];let s,o,i,l;for(o=0;o<n;++o)s=e.getDatasetMeta(o),i=s.dataset,l=null,i&&i.options&&i instanceof d4&&(l={visible:e.isDatasetVisible(o),index:o,fill:C4(i,o,n),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:i}),s.$filler=l,a.push(l);for(o=0;o<n;++o)l=a[o],l&&!1!==l.fill&&(l.fill=k4(a,o,r.propagate))},beforeDraw(e,t,r){const n="beforeDraw"===r.drawTime,a=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=a.length-1;o>=0;--o){const t=a[o].$filler;t&&(t.line.updateControlPoints(s,t.axis),n&&t.fill&&D4(e.ctx,t,s))}},beforeDatasetsDraw(e,t,r){if("beforeDatasetsDraw"!==r.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const t=n[a].$filler;A4(t)&&D4(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,r){const n=t.meta.$filler;A4(n)&&"beforeDatasetDraw"===r.drawTime&&D4(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const B4=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}};class L4 extends l8{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=o0(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,r)=>e.sort(t,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,n=K1(r.font),a=n.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:i}=B4(r,a);let l,c;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,a,o,i)+10):(c=this.maxHeight,l=this._fitCols(s,n,o,i)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,n){const{ctx:a,maxWidth:s,options:{labels:{padding:o}}}=this,i=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+o;let d=e;a.textAlign="left",a.textBaseline="middle";let u=-1,p=-c;return this.legendItems.forEach((e,h)=>{const m=r+t/2+a.measureText(e.text).width;(0===h||l[l.length-1]+m+2*o>s)&&(d+=c,l[l.length-(h>0?0:1)]=0,p+=c,u++),i[h]={left:0,top:p,row:u,width:m,height:n},l[l.length-1]+=m+o}),d}_fitCols(e,t,r,n){const{ctx:a,maxHeight:s,options:{labels:{padding:o}}}=this,i=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let d=o,u=0,p=0,h=0,m=0;return this.legendItems.forEach((e,s)=>{const{itemWidth:f,itemHeight:x}=function(e,t,r,n,a){const s=function(e,t,r,n){let a=e.text;a&&"string"!==typeof a&&(a=a.reduce((e,t)=>e.length>t.length?e:t));return t+r.size/2+n.measureText(a).width}(n,e,t,r),o=function(e,t,r){let n=e;"string"!==typeof t.text&&(n=z4(t,r));return n}(a,n,t.lineHeight);return{itemWidth:s,itemHeight:o}}(r,t,a,e,n);s>0&&p+x+2*o>c&&(d+=u+o,l.push({width:u,height:p}),h+=u+o,m++,u=p=0),i[s]={left:h,top:p,col:m,width:f,height:x},u=Math.max(u,f),p+=x+o}),d+=u,l.push({width:u,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:n},rtl:a}}=this,s=P2(a,this.left,this.width);if(this.isHorizontal()){let a=0,o=e1(r,this.left+n,this.right-this.lineWidths[a]);for(const i of t)a!==i.row&&(a=i.row,o=e1(r,this.left+n,this.right-this.lineWidths[a])),i.top+=this.top+e+n,i.left=s.leftForLtr(s.x(o),i.width),o+=i.width+n}else{let a=0,o=e1(r,this.top+e+n,this.bottom-this.columnSizes[a].height);for(const i of t)i.col!==a&&(a=i.col,o=e1(r,this.top+e+n,this.bottom-this.columnSizes[a].height)),i.top=o,i.left+=this.left+n,i.left=s.leftForLtr(s.x(i.left),i.width),o+=i.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;E1(e,this),this._draw(),P1(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:n}=this,{align:a,labels:s}=e,o=j1.color,i=P2(e.rtl,this.left,this.width),l=K1(s.font),{padding:c}=s,d=l.size,u=d/2;let p;this.drawTitle(),n.textAlign=i.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:h,boxHeight:m,itemHeight:f}=B4(s,d),x=this.isHorizontal(),g=this._computeTitleHeight();p=x?{x:e1(a,this.left+c,this.right-r[0]),y:this.top+c+g,line:0}:{x:this.left+c,y:e1(a,this.top+g+c,this.bottom-t[0].height),line:0},D2(this.ctx,e.textDirection);const b=f+c;this.legendItems.forEach((y,v)=>{n.strokeStyle=y.fontColor,n.fillStyle=y.fontColor;const j=n.measureText(y.text).width,w=i.textAlign(y.textAlign||(y.textAlign=s.textAlign)),N=h+u+j;let A=p.x,k=p.y;i.setWidth(this.width),x?v>0&&A+N+c>this.right&&(k=p.y+=b,p.line++,A=p.x=e1(a,this.left+c,this.right-r[p.line])):v>0&&k+b>this.bottom&&(A=p.x=A+t[p.line].width+c,p.line++,k=p.y=e1(a,this.top+g+c,this.bottom-t[p.line].height));if(function(e,t,r){if(isNaN(h)||h<=0||isNaN(m)||m<0)return;n.save();const a=a0(r.lineWidth,1);if(n.fillStyle=a0(r.fillStyle,o),n.lineCap=a0(r.lineCap,"butt"),n.lineDashOffset=a0(r.lineDashOffset,0),n.lineJoin=a0(r.lineJoin,"miter"),n.lineWidth=a,n.strokeStyle=a0(r.strokeStyle,o),n.setLineDash(a0(r.lineDash,[])),s.usePointStyle){const o={radius:m*Math.SQRT2/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:a},l=i.xPlus(e,h/2);F1(n,o,l,t+u,s.pointStyleWidth&&h)}else{const s=t+Math.max((d-m)/2,0),o=i.leftForLtr(e,h),l=V1(r.borderRadius);n.beginPath(),Object.values(l).some(e=>0!==e)?_1(n,{x:o,y:s,w:h,h:m,radius:l}):n.rect(o,s,h,m),n.fill(),0!==a&&n.stroke()}n.restore()}(i.x(A),k,y),A=((e,t,r,n)=>e===(n?"left":"right")?r:"center"===e?(t+r)/2:t)(w,A+h+u,x?A+N:this.right,e.rtl),function(e,t,r){M1(n,r.text,e,t+f/2,l,{strikethrough:r.hidden,textAlign:i.textAlign(r.textAlign)})}(i.x(A),k,y),x)p.x+=N+c;else if("string"!==typeof y.text){const e=l.lineHeight;p.y+=z4(y,e)+c}else p.y+=b}),O2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=K1(t.font),n=H1(t.padding);if(!t.display)return;const a=P2(e.rtl,this.left,this.width),s=this.ctx,o=t.position,i=r.size/2,l=n.top+i;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=e1(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+e1(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const p=e1(o,d,d+u);s.textAlign=a.textAlign(Z0(o)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=r.string,M1(s,t.text,p,c,r)}_computeTitleHeight(){const e=this.options.title,t=K1(e.font),r=H1(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,n,a;if(H0(e,this.left,this.right)&&H0(t,this.top,this.bottom))for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(n=a[r],H0(e,n.left,n.left+n.width)&&H0(t,n.top,n.top+n.height))return this.legendItems[r];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const n=this._hoveredItem,a=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(n,r);n&&!a&&o0(t.onLeave,[e,n,this],this),this._hoveredItem=r,r&&!a&&o0(t.onHover,[e,r,this],this)}else r&&o0(t.onClick,[e,r,this],this)}}function z4(e,t){return t*(e.text?e.text.length:0)}var U4={id:"legend",_element:L4,start(e,t,r){const n=e.legend=new L4({ctx:e.ctx,options:r,chart:e});H3.configure(e,n,r),H3.addBox(e,n)},stop(e){H3.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;H3.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),t.hidden=!0):(a.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:s,useBorderRadius:o,borderRadius:i}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(r?0:void 0),c=H1(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:a||l.textAlign,borderRadius:o&&(i||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class W4 extends l8{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=e0(r.text)?r.text.length:1;this._padding=H1(r.padding);const a=n*K1(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:r,bottom:n,right:a,options:s}=this,o=s.align;let i,l,c,d=0;return this.isHorizontal()?(l=e1(o,r,a),c=t+e,i=a-r):("left"===s.position?(l=r+e,c=e1(o,n,t),d=-.5*j0):(l=a-e,c=e1(o,t,n),d=.5*j0),i=n-t),{titleX:l,titleY:c,maxWidth:i,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=K1(t.font),n=r.lineHeight/2+this._padding.top,{titleX:a,titleY:s,maxWidth:o,rotation:i}=this._drawArgs(n);M1(e,t.text,0,0,r,{color:t.color,maxWidth:o,rotation:i,textAlign:Z0(t.align),textBaseline:"middle",translation:[a,s]})}}var V4={id:"title",_element:W4,start(e,t,r){!function(e,t){const r=new W4({ctx:e.ctx,options:t,chart:e});H3.configure(e,r,t),H3.addBox(e,r),e.titleBlock=r}(e,r)},stop(e){const t=e.titleBlock;H3.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;H3.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const H4={average(e){if(!e.length)return!1;let t,r,n=new Set,a=0,s=0;for(t=0,r=e.length;t<r;++t){const r=e[t].element;if(r&&r.hasValue()){const e=r.tooltipPosition();n.add(e.x),a+=e.y,++s}}if(0===s||0===n.size)return!1;const o=[...n].reduce((e,t)=>e+t)/n.size;return{x:o,y:a/s}},nearest(e,t){if(!e.length)return!1;let r,n,a,s=t.x,o=t.y,i=Number.POSITIVE_INFINITY;for(r=0,n=e.length;r<n;++r){const n=e[r].element;if(n&&n.hasValue()){const e=L0(t,n.getCenterPoint());e<i&&(i=e,a=n)}}if(a){const e=a.tooltipPosition();s=e.x,o=e.y}return{x:s,y:o}}};function K4(e,t){return t&&(e0(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function q4(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function G4(e,t){const{element:r,datasetIndex:n,index:a}=t,s=e.getDatasetMeta(n).controller,{label:o,value:i}=s.getLabelAndValue(a);return{chart:e,label:o,parsed:s.getParsed(a),raw:e.data.datasets[n].data[a],formattedValue:i,dataset:s.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function Y4(e,t){const r=e.chart.ctx,{body:n,footer:a,title:s}=e,{boxWidth:o,boxHeight:i}=t,l=K1(t.bodyFont),c=K1(t.titleFont),d=K1(t.footerFont),u=s.length,p=a.length,h=n.length,m=H1(t.padding);let f=m.height,x=0,g=n.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(g+=e.beforeBody.length+e.afterBody.length,u&&(f+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),g){f+=h*(t.displayColors?Math.max(i,l.lineHeight):l.lineHeight)+(g-h)*l.lineHeight+(g-1)*t.bodySpacing}p&&(f+=t.footerMarginTop+p*d.lineHeight+(p-1)*t.footerSpacing);let b=0;const y=function(e){x=Math.max(x,r.measureText(e).width+b)};return r.save(),r.font=c.string,i0(e.title,y),r.font=l.string,i0(e.beforeBody.concat(e.afterBody),y),b=t.displayColors?o+2+t.boxPadding:0,i0(n,e=>{i0(e.before,y),i0(e.lines,y),i0(e.after,y)}),b=0,r.font=d.string,i0(e.footer,y),r.restore(),x+=m.width,{width:x,height:f}}function $4(e,t,r,n){const{x:a,width:s}=r,{width:o,chartArea:{left:i,right:l}}=e;let c="center";return"center"===n?c=a<=(i+l)/2?"left":"right":a<=s/2?c="left":a>=o-s/2&&(c="right"),function(e,t,r,n){const{x:a,width:s}=n,o=r.caretSize+r.caretPadding;return"left"===e&&a+s+o>t.width||"right"===e&&a-s-o<0||void 0}(c,e,t,r)&&(c="center"),c}function J4(e,t,r){const n=r.yAlign||t.yAlign||function(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}(e,r);return{xAlign:r.xAlign||t.xAlign||$4(e,t,r,n),yAlign:n}}function X4(e,t,r,n){const{caretSize:a,caretPadding:s,cornerRadius:o}=e,{xAlign:i,yAlign:l}=r,c=a+s,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:h}=V1(o);let m=function(e,t){let{x:r,width:n}=e;return"right"===t?r-=n:"center"===t&&(r-=n/2),r}(t,i);const f=function(e,t,r){let{y:n,height:a}=e;return"top"===t?n+=r:n-="bottom"===t?a+r:a/2,n}(t,l,c);return"center"===l?"left"===i?m+=c:"right"===i&&(m-=c):"left"===i?m-=Math.max(d,p)+a:"right"===i&&(m+=Math.max(u,h)+a),{x:V0(m,0,n.width-t.width),y:V0(f,0,n.height-t.height)}}function Q4(e,t,r){const n=H1(r.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function Z4(e){return K4([],q4(e))}function e5(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const t5={beforeTitle:XZ,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:XZ,beforeBody:XZ,beforeLabel:XZ,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return ZZ(r)||(t+=r),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:XZ,afterBody:XZ,beforeFooter:XZ,footer:XZ,afterFooter:XZ};function r5(e,t,r,n){const a=e[t].call(r,n);return"undefined"===typeof a?t5[t].call(r,n):a}class n5 extends l8{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&t.options.animation&&r.animations,a=new G2(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,r=this._tooltipItems,G1(e,{tooltip:t,tooltipItems:r,type:"tooltip"})));var e,t,r}getTitle(e,t){const{callbacks:r}=t,n=r5(r,"beforeTitle",this,e),a=r5(r,"title",this,e),s=r5(r,"afterTitle",this,e);let o=[];return o=K4(o,q4(n)),o=K4(o,q4(a)),o=K4(o,q4(s)),o}getBeforeBody(e,t){return Z4(r5(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,n=[];return i0(e,e=>{const t={before:[],lines:[],after:[]},a=e5(r,e);K4(t.before,q4(r5(a,"beforeLabel",this,e))),K4(t.lines,r5(a,"label",this,e)),K4(t.after,q4(r5(a,"afterLabel",this,e))),n.push(t)}),n}getAfterBody(e,t){return Z4(r5(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,n=r5(r,"beforeFooter",this,e),a=r5(r,"footer",this,e),s=r5(r,"afterFooter",this,e);let o=[];return o=K4(o,q4(n)),o=K4(o,q4(a)),o=K4(o,q4(s)),o}_createItems(e){const t=this._active,r=this.chart.data,n=[],a=[],s=[];let o,i,l=[];for(o=0,i=t.length;o<i;++o)l.push(G4(this.chart,t[o]));return e.filter&&(l=l.filter((t,n,a)=>e.filter(t,n,a,r))),e.itemSort&&(l=l.sort((t,n)=>e.itemSort(t,n,r))),i0(l,t=>{const r=e5(e.callbacks,t);n.push(r5(r,"labelColor",this,t)),a.push(r5(r,"labelPointStyle",this,t)),s.push(r5(r,"labelTextColor",this,t))}),this.labelColors=n,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const r=this.options.setContext(this.getContext()),n=this._active;let a,s=[];if(n.length){const e=H4[r.position].call(this,n,this._eventPosition);s=this._createItems(r),this.title=this.getTitle(s,r),this.beforeBody=this.getBeforeBody(s,r),this.body=this.getBody(s,r),this.afterBody=this.getAfterBody(s,r),this.footer=this.getFooter(s,r);const t=this._size=Y4(this,r),o=Object.assign({},e,t),i=J4(this.chart,r,o),l=X4(r,o,i,this.chart);this.xAlign=i.xAlign,this.yAlign=i.yAlign,a={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,n){const a=this.getCaretPosition(e,r,n);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,r){const{xAlign:n,yAlign:a}=this,{caretSize:s,cornerRadius:o}=r,{topLeft:i,topRight:l,bottomLeft:c,bottomRight:d}=V1(o),{x:u,y:p}=e,{width:h,height:m}=t;let f,x,g,b,y,v;return"center"===a?(y=p+m/2,"left"===n?(f=u,x=f-s,b=y+s,v=y-s):(f=u+h,x=f+s,b=y-s,v=y+s),g=f):(x="left"===n?u+Math.max(i,c)+s:"right"===n?u+h-Math.max(l,d)-s:this.caretX,"top"===a?(b=p,y=b-s,f=x-s,g=x+s):(b=p+m,y=b+s,f=x+s,g=x-s),v=b),{x1:f,x2:x,x3:g,y1:b,y2:y,y3:v}}drawTitle(e,t,r){const n=this.title,a=n.length;let s,o,i;if(a){const l=P2(r.rtl,this.x,this.width);for(e.x=Q4(this,r.titleAlign,r),t.textAlign=l.textAlign(r.titleAlign),t.textBaseline="middle",s=K1(r.titleFont),o=r.titleSpacing,t.fillStyle=r.titleColor,t.font=s.string,i=0;i<a;++i)t.fillText(n[i],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,i+1===a&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,t,r,n,a){const s=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:i,boxWidth:l}=a,c=K1(a.bodyFont),d=Q4(this,"left",a),u=n.x(d),p=i<c.lineHeight?(c.lineHeight-i)/2:0,h=t.y+p;if(a.usePointStyle){const t={radius:Math.min(l,i)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},r=n.leftForLtr(u,l)+l/2,c=h+i/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,C1(e,t,r,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,C1(e,t,r,c)}else{e.lineWidth=t0(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=n.leftForLtr(u,l),r=n.leftForLtr(n.xPlus(u,1),l-2),o=V1(s.borderRadius);Object.values(o).some(e=>0!==e)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,_1(e,{x:t,y:h,w:l,h:i,radius:o}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),_1(e,{x:r,y:h+1,w:l-2,h:i-2,radius:o}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(t,h,l,i),e.strokeRect(t,h,l,i),e.fillStyle=s.backgroundColor,e.fillRect(r,h+1,l-2,i-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:n}=this,{bodySpacing:a,bodyAlign:s,displayColors:o,boxHeight:i,boxWidth:l,boxPadding:c}=r,d=K1(r.bodyFont);let u=d.lineHeight,p=0;const h=P2(r.rtl,this.x,this.width),m=function(r){t.fillText(r,h.x(e.x+p),e.y+u/2),e.y+=u+a},f=h.textAlign(s);let x,g,b,y,v,j,w;for(t.textAlign=s,t.textBaseline="middle",t.font=d.string,e.x=Q4(this,f,r),t.fillStyle=r.bodyColor,i0(this.beforeBody,m),p=o&&"right"!==f?"center"===s?l/2+c:l+2+c:0,y=0,j=n.length;y<j;++y){for(x=n[y],g=this.labelTextColors[y],t.fillStyle=g,i0(x.before,m),b=x.lines,o&&b.length&&(this._drawColorBox(t,e,y,h,r),u=Math.max(d.lineHeight,i)),v=0,w=b.length;v<w;++v)m(b[v]),u=d.lineHeight;i0(x.after,m)}p=0,u=d.lineHeight,i0(this.afterBody,m),e.y-=a}drawFooter(e,t,r){const n=this.footer,a=n.length;let s,o;if(a){const i=P2(r.rtl,this.x,this.width);for(e.x=Q4(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=i.textAlign(r.footerAlign),t.textBaseline="middle",s=K1(r.footerFont),t.fillStyle=r.footerColor,t.font=s.string,o=0;o<a;++o)t.fillText(n[o],i.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+r.footerSpacing}}drawBackground(e,t,r,n){const{xAlign:a,yAlign:s}=this,{x:o,y:i}=e,{width:l,height:c}=r,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:h}=V1(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(o+d,i),"top"===s&&this.drawCaret(e,t,r,n),t.lineTo(o+l-u,i),t.quadraticCurveTo(o+l,i,o+l,i+u),"center"===s&&"right"===a&&this.drawCaret(e,t,r,n),t.lineTo(o+l,i+c-h),t.quadraticCurveTo(o+l,i+c,o+l-h,i+c),"bottom"===s&&this.drawCaret(e,t,r,n),t.lineTo(o+p,i+c),t.quadraticCurveTo(o,i+c,o,i+c-p),"center"===s&&"left"===a&&this.drawCaret(e,t,r,n),t.lineTo(o,i+d),t.quadraticCurveTo(o,i,o+d,i),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,n=r&&r.x,a=r&&r.y;if(n||a){const r=H4[e.position].call(this,this._active,this._eventPosition);if(!r)return;const s=this._size=Y4(this,e),o=Object.assign({},r,this._size),i=J4(t,e,o),l=X4(e,o,i,t);n._to===l.x&&a._to===l.y||(this.xAlign=i.xAlign,this.yAlign=i.yAlign,this.width=s.width,this.height=s.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const s=H1(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,n,t),D2(e,t.textDirection),a.y+=s.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),O2(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,n=e.map(e=>{let{datasetIndex:t,index:r}=e;const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[r],index:r}}),a=!l0(r,n),s=this._positionChanged(n,t);(a||s)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,a=this._active||[],s=this._getActiveElements(e,a,t,r),o=this._positionChanged(s,e),i=t||!l0(s,a)||o;return i&&(this._active=s,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),i}_getActiveElements(e,t,r,n){const a=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const s=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:r,caretY:n,options:a}=this,s=H4[a.position].call(this,e,t);return!1!==s&&(r!==s.x||n!==s.y)}}(0,HV.A)(n5,"positioners",H4);var a5={id:"tooltip",_element:n5,positioners:H4,afterInit(e,t,r){r&&(e.tooltip=new n5({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",(0,Mt.A)((0,Mt.A)({},r),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:t5},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function s5(e,t,r,n){const a=e.indexOf(t);if(-1===a)return((e,t,r,n)=>("string"===typeof t?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r))(e,t,r,n);return a!==e.lastIndexOf(t)?r:a}function o5(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class i5 extends b8{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:r,label:n}of t)e[r]===n&&e.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ZZ(e))return null;const r=this.getLabels();return((e,t)=>null===e?null:V0(Math.round(e),0,t))(t=isFinite(t)&&r[t]===e?t:s5(r,e,a0(t,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),t||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,n=[];let a=this.getLabels();a=0===e&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let s=e;s<=t;s++)n.push({value:s});return n}getLabelForValue(e){return o5.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function l5(e,t){const r=[],{bounds:n,step:a,min:s,max:o,precision:i,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,p=a||1,h=c-1,{min:m,max:f}=t,x=!ZZ(s),g=!ZZ(o),b=!ZZ(l),y=(f-m)/(d+1);let v,j,w,N,A=O0((f-m)/h/p)*p;if(A<1e-14&&!x&&!g)return[{value:m},{value:f}];N=Math.ceil(f/A)-Math.floor(m/A),N>h&&(A=O0(N*A/h/p)*p),ZZ(i)||(v=Math.pow(10,i),A=Math.ceil(A*v)/v),"ticks"===n?(j=Math.floor(m/A)*A,w=Math.ceil(f/A)*A):(j=m,w=f),x&&g&&a&&function(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}((o-s)/a,A/1e3)?(N=Math.round(Math.min((o-s)/A,c)),A=(o-s)/N,j=s,w=o):b?(j=x?s:j,w=g?o:w,N=l-1,A=(w-j)/N):(N=(w-j)/A,N=D0(N,Math.round(N),A/1e3)?Math.round(N):Math.ceil(N));const k=Math.max(R0(A),R0(j));v=Math.pow(10,ZZ(i)?k:i),j=Math.round(j*v)/v,w=Math.round(w*v)/v;let C=0;for(x&&(u&&j!==s?(r.push({value:s}),j<s&&C++,D0(Math.round((j+C*A)*v)/v,s,c5(s,y,e))&&C++):j<s&&C++);C<N;++C){const e=Math.round((j+C*A)*v)/v;if(g&&e>o)break;r.push({value:e})}return g&&u&&w!==o?r.length&&D0(r[r.length-1].value,o,c5(o,y,e))?r[r.length-1].value=o:r.push({value:o}):g&&w!==o||r.push({value:w}),r}function c5(e,t,r){let{horizontal:n,minRotation:a}=r;const s=M0(a),o=(n?Math.sin(s):Math.cos(s))||.001,i=.75*t*(""+e).length;return Math.min(t/o,i)}(0,HV.A)(i5,"id","category"),(0,HV.A)(i5,"defaults",{ticks:{callback:o5}});class d5 extends b8{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ZZ(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this;const s=e=>n=t?n:e,o=e=>a=r?a:e;if(e){const e=P0(n),t=P0(a);e<0&&t<0?o(0):e>0&&t>0&&s(0)}if(n===a){let t=0===a?1:Math.abs(.05*a);o(a+t),e||s(n-t)}this.min=n,this.max=a}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:r,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(n," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),r=r||11),r&&(t=Math.min(r,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n=l5({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&I0(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const n=(r-t)/Math.max(e.length-1,1)/2;t-=n,r+=n}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return h1(e,this.chart.options.locale,this.options.ticks.format)}}class u5 extends d5{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=r0(e)?e:0,this.max=r0(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=M0(this.options.ticks.minRotation),n=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}(0,HV.A)(u5,"id","linear"),(0,HV.A)(u5,"defaults",{ticks:{callback:f1.formatters.numeric}});const p5=e=>Math.floor(E0(e)),h5=(e,t)=>Math.pow(10,p5(e)+t);function m5(e){return 1===e/Math.pow(10,p5(e))}function f5(e,t,r){const n=Math.pow(10,r),a=Math.floor(e/n);return Math.ceil(t/n)-a}function x5(e,t){let{min:r,max:n}=t;r=n0(e.min,r);const a=[],s=p5(r);let o=function(e,t){let r=p5(t-e);for(;f5(e,t,r)>10;)r++;for(;f5(e,t,r)<10;)r--;return Math.min(r,p5(e))}(r,n),i=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=s>o?Math.pow(10,s):0,d=Math.round((r-c)*i)/i,u=Math.floor((r-c)/l/10)*l*10;let p=Math.floor((d-u)/Math.pow(10,o)),h=n0(e.min,Math.round((c+u+p*Math.pow(10,o))*i)/i);for(;h<n;)a.push({value:h,major:m5(h),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(o++,p=2,i=o>=0?1:i),h=Math.round((c+u+p*Math.pow(10,o))*i)/i;const m=n0(e.max,h);return a.push({value:m,major:m5(m),significand:p}),a}class g5 extends b8{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=d5.prototype.parse.apply(this,[e,t]);if(0!==r)return r0(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=r0(e)?Math.max(0,e):null,this.max=r0(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!r0(this._userMin)&&(this.min=e===h5(this.min,0)?h5(this.min,-1):h5(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,n=this.max;const a=t=>r=e?r:t,s=e=>n=t?n:e;r===n&&(r<=0?(a(1),s(10)):(a(h5(r,-1)),s(h5(n,1)))),r<=0&&a(h5(n,-1)),n<=0&&s(h5(r,1)),this.min=r,this.max=n}buildTicks(){const e=this.options,t=x5({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&I0(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":h1(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=E0(e),this._valueRange=E0(this.max)-E0(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(E0(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function b5(e){const t=e.ticks;if(t.display&&e.display){const e=H1(t.backdropPadding);return a0(t.font&&t.font.size,j1.font.size)+e.height}return 0}function y5(e,t,r){return r=e0(r)?r:[r],{w:N1(e,t.string,r),h:r.length*t.lineHeight}}function v5(e,t,r,n,a){return e===n||e===a?{start:t-r/2,end:t+r/2}:e<n||e>a?{start:t-r,end:t}:{start:t,end:t+r}}function j5(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),n=[],a=[],s=e._pointLabels.length,o=e.options.pointLabels,i=o.centerPointLabels?j0/s:0;for(let l=0;l<s;l++){const s=o.setContext(e.getPointLabelContext(l));a[l]=s.padding;const c=e.getPointPosition(l,e.drawingArea+a[l],i),d=K1(s.font),u=y5(e.ctx,d,e._pointLabels[l]);n[l]=u;const p=U0(e.getIndexAngle(l)+i),h=Math.round(_0(p));w5(r,t,p,v5(h,c.x,u.w,0,180),v5(h,c.y,u.h,90,270))}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=function(e,t,r){const n=[],a=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:i}=s.pointLabels,l={extra:b5(s)/2,additionalAngle:o?j0/a:0};let c;for(let d=0;d<a;d++){l.padding=r[d],l.size=t[d];const a=N5(e,d,l);n.push(a),"auto"===i&&(a.visible=A5(a,c),a.visible&&(c=a))}return n}(e,n,a)}function w5(e,t,r,n,a){const s=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let i=0,l=0;n.start<t.l?(i=(t.l-n.start)/s,e.l=Math.min(e.l,t.l-i)):n.end>t.r&&(i=(n.end-t.r)/s,e.r=Math.max(e.r,t.r+i)),a.start<t.t?(l=(t.t-a.start)/o,e.t=Math.min(e.t,t.t-l)):a.end>t.b&&(l=(a.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function N5(e,t,r){const n=e.drawingArea,{extra:a,additionalAngle:s,padding:o,size:i}=r,l=e.getPointPosition(t,n+a+o,s),c=Math.round(_0(U0(l.angle+C0))),d=function(e,t,r){90===r||270===r?e-=t/2:(r>270||r<90)&&(e-=t);return e}(l.y,i.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),p=function(e,t,r){"right"===r?e-=t:"center"===r&&(e-=t/2);return e}(l.x,i.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:p,top:d,right:p+i.w,bottom:d+i.h}}function A5(e,t){if(!t)return!0;const{left:r,top:n,right:a,bottom:s}=e;return!(S1({x:r,y:n},t)||S1({x:r,y:s},t)||S1({x:a,y:n},t)||S1({x:a,y:s},t))}function k5(e,t,r){const{left:n,top:a,right:s,bottom:o}=r,{backdropColor:i}=t;if(!ZZ(i)){const r=V1(t.borderRadius),l=H1(t.backdropPadding);e.fillStyle=i;const c=n-l.left,d=a-l.top,u=s-n+l.width,p=o-a+l.height;Object.values(r).some(e=>0!==e)?(e.beginPath(),_1(e,{x:c,y:d,w:u,h:p,radius:r}),e.fill()):e.fillRect(c,d,u,p)}}function C5(e,t,r,n){const{ctx:a}=e;if(r)a.arc(e.xCenter,e.yCenter,t,0,w0);else{let r=e.getPointPosition(0,t);a.moveTo(r.x,r.y);for(let s=1;s<n;s++)r=e.getPointPosition(s,t),a.lineTo(r.x,r.y)}}(0,HV.A)(g5,"id","logarithmic"),(0,HV.A)(g5,"defaults",{ticks:{callback:f1.formatters.logarithmic,major:{enabled:!0}}});class F5 extends d5{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=H1(b5(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=r0(e)&&!isNaN(e)?e:0,this.max=r0(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/b5(this.options))}generateTickLabels(e){d5.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const r=o0(this.options.pointLabels.callback,[e,t],this);return r||0===r?r:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?j5(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,n))}getIndexAngle(e){return U0(e*(w0/(this._pointLabels.length||1))+M0(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(ZZ(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ZZ(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return function(e,t,r){return G1(e,{label:r,index:t,type:"pointLabel"})}(this.getContext(),e,r)}}getPointPosition(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getIndexAngle(e)-C0+r;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:n,bottom:a}=this._pointLabelItems[e];return{left:t,top:r,right:n,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),C5(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:n,border:a}=t,s=this._pointLabels.length;let o,i,l;if(t.pointLabels.display&&function(e,t){const{ctx:r,options:{pointLabels:n}}=e;for(let a=t-1;a>=0;a--){const t=e._pointLabelItems[a];if(!t.visible)continue;const s=n.setContext(e.getPointLabelContext(a));k5(r,s,t);const o=K1(s.font),{x:i,y:l,textAlign:c}=t;M1(r,e._pointLabels[a],i,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),n.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){i=this.getDistanceFromCenterForValue(e.value);const r=this.getContext(t),o=n.setContext(r),l=a.setContext(r);!function(e,t,r,n,a){const s=e.ctx,o=t.circular,{color:i,lineWidth:l}=t;!o&&!n||!i||!l||r<0||(s.save(),s.strokeStyle=i,s.lineWidth=l,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),C5(e,r,o,n),s.closePath(),s.stroke(),s.restore())}(this,o,i,s,l)}}),r.display){for(e.save(),o=s-1;o>=0;o--){const n=r.setContext(this.getPointLabelContext(o)),{color:a,lineWidth:s}=n;s&&a&&(e.lineWidth=s,e.strokeStyle=a,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,i=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(o,i),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const n=this.getIndexAngle(0);let a,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((n,o)=>{if(0===o&&this.min>=0&&!t.reverse)return;const i=r.setContext(this.getContext(o)),l=K1(i.font);if(a=this.getDistanceFromCenterForValue(this.ticks[o].value),i.showLabelBackdrop){e.font=l.string,s=e.measureText(n.label).width,e.fillStyle=i.backdropColor;const t=H1(i.backdropPadding);e.fillRect(-s/2-t.left,-a-l.size/2-t.top,s+t.width,l.size+t.height)}M1(e,n.label,0,-a,l,{color:i.color,strokeColor:i.textStrokeColor,strokeWidth:i.textStrokeWidth})}),e.restore()}drawTitle(){}}(0,HV.A)(F5,"id","radialLinear"),(0,HV.A)(F5,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:f1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),(0,HV.A)(F5,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,HV.A)(F5,"descriptors",{angleLines:{_fallback:"grid"}});const S5={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},E5=Object.keys(S5);function P5(e,t){return e-t}function D5(e,t){if(ZZ(t))return null;const r=e._adapter,{parser:n,round:a,isoWeekday:s}=e._parseOpts;let o=t;return"function"===typeof n&&(o=n(o)),r0(o)||(o="string"===typeof n?r.parse(o,n):r.parse(o)),null===o?null:(a&&(o="week"!==a||!T0(s)&&!0!==s?r.startOf(o,a):r.startOf(o,"isoWeek",s)),+o)}function O5(e,t,r,n){const a=E5.length;for(let s=E5.indexOf(e);s<a-1;++s){const e=S5[E5[s]],a=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((r-t)/(a*e.size))<=n)return E5[s]}return E5[a-1]}function T5(e,t,r){if(r){if(r.length){const{lo:n,hi:a}=K0(r,t);e[r[n]>=t?r[n]:r[a]]=!0}}else e[t]=!0}function I5(e,t,r){const n=[],a={},s=t.length;let o,i;for(o=0;o<s;++o)i=t[o],a[i]=o,n.push({value:i,major:!1});return 0!==s&&r?function(e,t,r,n){const a=e._adapter,s=+a.startOf(t[0].value,n),o=t[t.length-1].value;let i,l;for(i=s;i<=o;i=+a.add(i,1,n))l=r[i],l>=0&&(t[l].major=!0);return t}(e,n,a,r):n}class M5 extends b8{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.time||(e.time={}),n=this._adapter=new A3(e.adapters.date);n.init(t),h0(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:D5(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:n,max:a,minDefined:s,maxDefined:o}=this.getUserBounds();function i(e){s||isNaN(e.min)||(n=Math.min(n,e.min)),o||isNaN(e.max)||(a=Math.max(a,e.max))}s&&o||(i(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||i(this.getMinMax(!1))),n=r0(n)&&!isNaN(n)?n:+t.startOf(Date.now(),r),a=r0(a)&&!isNaN(a)?a:+t.endOf(Date.now(),r)+1,this.min=Math.min(n,a-1),this.max=Math.max(n+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,n="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const a=this.min,s=function(e,t,r){let n=0,a=e.length;for(;n<a&&e[n]<t;)n++;for(;a>n&&e[a-1]>r;)a--;return n>0||a<e.length?e.slice(n,a):e}(n,a,this.max);return this._unit=t.unit||(r.autoSkip?O5(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(e,t,r,n,a){for(let s=E5.length-1;s>=E5.indexOf(r);s--){const r=E5[s];if(S5[r].common&&e._adapter.diff(a,n,r)>=t-1)return r}return E5[r?E5.indexOf(r):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(e){for(let t=E5.indexOf(e)+1,r=E5.length;t<r;++t)if(S5[E5[t]].common)return E5[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&s.reverse(),I5(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,a=0;this.options.offset&&r.length&&(e=this.getDecimalForValue(r[0]),n=1===r.length?1-e:(this.getDecimalForValue(r[1])-e)/2,t=this.getDecimalForValue(r[r.length-1]),a=1===r.length?t:(t-this.getDecimalForValue(r[r.length-2]))/2);const s=r.length<3?.5:.25;n=V0(n,0,s),a=V0(a,0,s),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){const e=this._adapter,t=this.min,r=this.max,n=this.options,a=n.time,s=a.unit||O5(a.minUnit,t,r,this._getLabelCapacity(t)),o=a0(n.ticks.stepSize,1),i="week"===s&&a.isoWeekday,l=T0(i)||!0===i,c={};let d,u,p=t;if(l&&(p=+e.startOf(p,"isoWeek",i)),p=+e.startOf(p,l?"day":s),e.diff(r,t,s)>1e5*o)throw new Error(t+" and "+r+" are too far apart with stepSize of "+o+" "+s);const h="data"===n.ticks.source&&this.getDataTimestamps();for(d=p,u=0;d<r;d=+e.add(d,o,s),u++)T5(c,d,h);return d!==r&&"ticks"!==n.bounds&&1!==u||T5(c,d,h),Object.keys(c).sort(P5).map(e=>+e)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,n=this._unit,a=t||r[n];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,n){const a=this.options,s=a.ticks.callback;if(s)return o0(s,[e,t,r],this);const o=a.time.displayFormats,i=this._unit,l=this._majorUnit,c=i&&o[i],d=l&&o[l],u=r[t],p=l&&d&&u&&u.major;return this._adapter.format(e,n||(p?d:c))}generateTickLabels(e){let t,r,n;for(t=0,r=e.length;t<r;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,n=M0(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(n),s=Math.sin(n),o=this._resolveTickFontOptions(0).size;return{w:r*a+o*s,h:r*s+o*a}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,n=r[t.unit]||r.millisecond,a=this._tickFormatFunction(e,0,I5(this,[e],this._majorUnit),n),s=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,r=this._cache.data||[];if(r.length)return r;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)r=r.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const n=this.getLabels();for(t=0,r=n.length;t<r;++t)e.push(D5(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return J0(e.sort(P5))}}function _5(e,t,r){let n,a,s,o,i=0,l=e.length-1;r?(t>=e[i].pos&&t<=e[l].pos&&({lo:i,hi:l}=q0(e,"pos",t)),({pos:n,time:s}=e[i]),({pos:a,time:o}=e[l])):(t>=e[i].time&&t<=e[l].time&&({lo:i,hi:l}=q0(e,"time",t)),({time:n,pos:s}=e[i]),({time:a,pos:o}=e[l]));const c=a-n;return c?s+(o-s)*(t-n)/c:s}(0,HV.A)(M5,"id","time"),(0,HV.A)(M5,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class R5 extends M5{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=_5(t,this.min),this._tableRange=_5(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,n=[],a=[];let s,o,i,l,c;for(s=0,o=e.length;s<o;++s)l=e[s],l>=t&&l<=r&&n.push(l);if(n.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(s=0,o=n.length;s<o;++s)c=n[s+1],i=n[s-1],l=n[s],Math.round((c+i)/2)!==l&&a.push({time:l,pos:s/(o-1)});return a}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return r.includes(e)&&r.length||r.splice(0,0,e),r.includes(t)&&1!==r.length||r.push(t),r.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(_5(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return _5(this._table,r*this._tableRange+this._minPos,!0)}}(0,HV.A)(R5,"id","timeseries"),(0,HV.A)(R5,"defaults",M5.defaults);const B5=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],L5="label";function z5(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function U5(e,t){e.labels=t}function W5(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L5;const n=[];e.datasets=t.map(t=>{const a=e.datasets.find(e=>e[r]===t[r]);return a&&t.data&&!n.includes(a)?(n.push(a),Object.assign(a,t),a):(0,Mt.A)({},t)})}function V5(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L5;const r={labels:[],datasets:[]};return U5(r,e.labels),W5(r,e.datasets,t),r}function H5(e,t){const{height:r=150,width:n=300,redraw:s=!1,datasetIdKey:o,type:i,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:p}=e,h=(0,go.A)(e,B5),m=(0,a.useRef)(null),f=(0,a.useRef)(null),x=()=>{m.current&&(f.current=new $8(m.current,{type:i,data:V5(l,o),options:c&&(0,Mt.A)({},c),plugins:d}),z5(t,f.current))},g=()=>{z5(t,null),f.current&&(f.current.destroy(),f.current=null)};return(0,a.useEffect)(()=>{!s&&f.current&&c&&function(e,t){const r=e.options;r&&t&&Object.assign(r,t)}(f.current,c)},[s,c]),(0,a.useEffect)(()=>{!s&&f.current&&U5(f.current.config.data,l.labels)},[s,l.labels]),(0,a.useEffect)(()=>{!s&&f.current&&l.datasets&&W5(f.current.config.data,l.datasets,o)},[s,l.datasets]),(0,a.useEffect)(()=>{f.current&&(s?(g(),setTimeout(x)):f.current.update(p))},[s,c,l.labels,l.datasets,p]),(0,a.useEffect)(()=>{f.current&&(g(),setTimeout(x))},[i]),(0,a.useEffect)(()=>(x(),()=>g()),[]),a.createElement("canvas",(0,Mt.A)({ref:m,role:"img",height:r,width:n},h),u)}const K5=(0,a.forwardRef)(H5);function q5(e,t){return $8.register(t),(0,a.forwardRef)((t,r)=>a.createElement(K5,(0,Mt.A)((0,Mt.A)({},t),{},{ref:r,type:e})))}const G5=q5("line",g3),Y5="/api",$5=()=>{const e=localStorage.getItem("token");return e?{Authorization:"Bearer ".concat(e)}:{}},J5={getLoginHistory:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await Sr.get("".concat(Y5,"/security/login-history"),{headers:$5(),params:e})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}},getActiveSessions:async()=>{try{return(await Sr.get("".concat(Y5,"/security/active-sessions"),{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}},terminateSession:async e=>{try{return(await Sr.delete("".concat(Y5,"/security/session/").concat(e),{headers:$5()})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}}},X5={getHealth:async()=>{try{return(await Sr.get("".concat(Y5,"/monitoring/health"),{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}},getMetrics:async()=>{try{return(await Sr.get("".concat(Y5,"/monitoring/metrics"),{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}},getCpu:async()=>{try{return(await Sr.get("".concat(Y5,"/monitoring/cpu"),{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}},getMemory:async()=>{try{return(await Sr.get("".concat(Y5,"/monitoring/memory"),{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}},getDisk:async()=>{try{return(await Sr.get("".concat(Y5,"/monitoring/disk"),{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}},getDatabase:async()=>{try{return(await Sr.get("".concat(Y5,"/monitoring/database"),{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}},getApiPerformance:async()=>{try{return(await Sr.get("".concat(Y5,"/monitoring/api-performance"),{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}},getAlerts:async()=>{try{return(await Sr.get("".concat(Y5,"/monitoring/alerts"),{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}},getProcess:async()=>{try{return(await Sr.get("".concat(Y5,"/monitoring/process"),{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}}},Q5={getLogs:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await Sr.get("".concat(Y5,"/audit/logs"),{headers:$5(),params:e})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}},getEntityHistory:async(e,t)=>{try{return(await Sr.get("".concat(Y5,"/audit/entity-history/").concat(e,"/").concat(t),{headers:$5()})).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n}},getUserActivity:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await Sr.get("".concat(Y5,"/audit/user-activity/").concat(e),{headers:$5(),params:t})).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n}},getSystemActivity:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await Sr.get("".concat(Y5,"/audit/system-activity"),{headers:$5(),params:e})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}},exportLogs:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await Sr.get("".concat(Y5,"/audit/export"),{headers:$5(),params:e,responseType:"blob"})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}},getActions:async()=>{try{return(await Sr.get("".concat(Y5,"/audit/actions"),{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}},getEntityTypes:async()=>{try{return(await Sr.get("".concat(Y5,"/audit/entity-types"),{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}},cleanup:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90;try{return(await Sr.delete("".concat(Y5,"/audit/cleanup"),{headers:$5(),params:{days:e}})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}}},Z5={getStats:async()=>{try{return(await Sr.get("".concat(Y5,"/backup/stats"),{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}},createBackup:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return(await Sr.post("".concat(Y5,"/backup/create"),{description:e},{headers:$5()})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}},listBackups:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await Sr.get("".concat(Y5,"/backup/list"),{headers:$5(),params:e})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}},getBackupDetails:async e=>{try{return(await Sr.get("".concat(Y5,"/backup/").concat(e),{headers:$5()})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}},verifyBackup:async e=>{try{return(await Sr.post("".concat(Y5,"/backup/").concat(e,"/verify"),{},{headers:$5()})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}},restoreBackup:async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return(await Sr.post("".concat(Y5,"/backup/").concat(e,"/restore"),{confirm:t},{headers:$5()})).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n}},deleteBackup:async e=>{try{return(await Sr.delete("".concat(Y5,"/backup/").concat(e),{headers:$5()})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}},cleanup:async()=>{try{return(await Sr.post("".concat(Y5,"/backup/cleanup"),{},{headers:$5()})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t}},downloadBackup:async e=>{try{return(await Sr.get("".concat(Y5,"/backup/download/").concat(e),{headers:$5(),responseType:"blob"})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}}},e6=(0,Qn.A)("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),t6=(0,Qn.A)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);$8.register(i5,u5,p4,d4,V4,a5,U4,R4);const r6=()=>{var e,t;const[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)([]),[h,m]=(0,a.useState)([]),[f,x]=(0,a.useState)([]);(0,a.useEffect)(()=>{g();const e=setInterval(g,5e3);return()=>clearInterval(e)},[]);const g=async()=>{try{var e;const[t,r,a]=await Promise.all([X5.getMetrics(),X5.getHealth(),X5.getAlerts()]);n(t.data),o(r.data),l((null===(e=a.data)||void 0===e?void 0:e.alerts)||[]);const s=(new Date).toLocaleTimeString();p(e=>[...e.slice(-19),t.data.cpu.usage]),m(e=>[...e.slice(-19),t.data.memory.usagePercent]),x(e=>[...e.slice(-19),s]),d(!1)}catch(t){console.error("Error fetching system metrics:",t),d(!1)}},b=e=>e<50?"bg-green-500":e<80?"bg-yellow-500":"bg-red-500",y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(e){return e+"%"}}},x:{display:!1}},interaction:{mode:"nearest",axis:"x",intersect:!1}},v={labels:f,datasets:[{label:"CPU Usage",data:u,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]},j={labels:f,datasets:[{label:"Memory Usage",data:h,borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",fill:!0,tension:.4}]};return c?(0,Vn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Vn.jsxs)("div",{className:"space-y-6",children:[s&&(0,Vn.jsx)("div",{className:"p-4 rounded-lg border-2 ".concat("healthy"===s.status?"border-green-500 bg-green-50":"warning"===s.status?"border-yellow-500 bg-yellow-50":"border-red-500 bg-red-50"),children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)(ri,{className:"h-6 w-6 ".concat("healthy"===s.status?"text-green-600":"warning"===s.status?"text-yellow-600":"text-red-600")}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"System Status"}),(0,Vn.jsx)("p",{className:"text-sm ".concat("healthy"===s.status?"text-green-700":"warning"===s.status?"text-yellow-700":"text-red-700"),children:s.message})]})]}),(0,Vn.jsx)("span",{className:"px-4 py-2 rounded-full font-semibold ".concat((e=>{switch(e){case"healthy":return"text-green-600 bg-green-100";case"warning":return"text-yellow-600 bg-yellow-100";case"critical":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}})(s.status)),children:s.status.toUpperCase()})]})}),i.length>0&&(0,Vn.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:(0,Vn.jsxs)("div",{className:"flex items-start",children:[(0,Vn.jsx)(ti,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,Vn.jsxs)("div",{className:"ml-3",children:[(0,Vn.jsxs)("h3",{className:"text-sm font-medium text-red-800",children:["Active Alerts (",i.length,")"]}),(0,Vn.jsx)("div",{className:"mt-2 space-y-1",children:i.slice(0,3).map((e,t)=>(0,Vn.jsxs)("p",{className:"text-sm text-red-700",children:["\u2022 ",e.message]},t))})]})]})}),r&&(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)(e6,{className:"h-5 w-5 text-blue-500"}),(0,Vn.jsx)("h3",{className:"font-semibold text-gray-900",children:"CPU"})]}),(0,Vn.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:[r.cpu.usage.toFixed(1),"%"]})]}),(0,Vn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,Vn.jsx)("div",{className:"h-2 rounded-full ".concat(b(r.cpu.usage)),style:{width:"".concat(r.cpu.usage,"%")}})}),(0,Vn.jsxs)("p",{className:"text-xs text-gray-500",children:[r.cpu.cores," cores \u2022 ",null===(e=r.cpu.loadAverage)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toFixed(2)," load avg"]})]}),(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)(ri,{className:"h-5 w-5 text-purple-500"}),(0,Vn.jsx)("h3",{className:"font-semibold text-gray-900",children:"Memory"})]}),(0,Vn.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:[r.memory.usagePercent.toFixed(1),"%"]})]}),(0,Vn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,Vn.jsx)("div",{className:"h-2 rounded-full ".concat(b(r.memory.usagePercent)),style:{width:"".concat(r.memory.usagePercent,"%")}})}),(0,Vn.jsxs)("p",{className:"text-xs text-gray-500",children:[(r.memory.used/1024/1024/1024).toFixed(2)," GB / ",(r.memory.total/1024/1024/1024).toFixed(2)," GB"]})]}),(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)(t6,{className:"h-5 w-5 text-green-500"}),(0,Vn.jsx)("h3",{className:"font-semibold text-gray-900",children:"Disk"})]}),(0,Vn.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:[r.disk.usagePercent.toFixed(1),"%"]})]}),(0,Vn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,Vn.jsx)("div",{className:"h-2 rounded-full ".concat(b(r.disk.usagePercent)),style:{width:"".concat(r.disk.usagePercent,"%")}})}),(0,Vn.jsxs)("p",{className:"text-xs text-gray-500",children:[(r.disk.used/1024/1024/1024).toFixed(2)," GB / ",(r.disk.total/1024/1024/1024).toFixed(2)," GB"]})]}),(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vn.jsx)(dW,{className:"h-5 w-5 text-yellow-500"}),(0,Vn.jsx)("h3",{className:"font-semibold text-gray-900",children:"Database"})]}),(0,Vn.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:r.database.activeConnections})]}),(0,Vn.jsxs)("div",{className:"space-y-1",children:[(0,Vn.jsxs)("p",{className:"text-xs text-gray-500",children:["Active: ",r.database.activeConnections," / ",r.database.maxConnections]}),(0,Vn.jsxs)("p",{className:"text-xs text-gray-500",children:["Size: ",(r.database.databaseSize/1024/1024).toFixed(2)," MB"]})]})]})]}),(0,Vn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"CPU Usage History"}),(0,Vn.jsx)("div",{className:"h-64",children:(0,Vn.jsx)(G5,{data:v,options:y})})]}),(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Memory Usage History"}),(0,Vn.jsx)("div",{className:"h-64",children:(0,Vn.jsx)(G5,{data:j,options:y})})]})]}),(null===r||void 0===r?void 0:r.process)&&(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Process Information"}),(0,Vn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-500",children:"Uptime"}),(0,Vn.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[Math.floor(r.process.uptime/3600),"h ",Math.floor(r.process.uptime%3600/60),"m"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-500",children:"PID"}),(0,Vn.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:r.process.pid})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-500",children:"Memory (RSS)"}),(0,Vn.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[(r.process.memory.rss/1024/1024).toFixed(2)," MB"]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-500",children:"Node Version"}),(0,Vn.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:r.process.nodeVersion})]})]})]})]})};var n6=r(2284);function a6(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function s6(e){a6(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,n6.A)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function o6(e){if(a6(1,arguments),!function(e){return a6(1,arguments),e instanceof Date||"object"===(0,n6.A)(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=s6(e);return!isNaN(Number(t))}function i6(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function l6(e,t){return a6(2,arguments),function(e,t){a6(2,arguments);var r=s6(e).getTime(),n=i6(t);return new Date(r+n)}(e,-i6(t))}function c6(e){a6(1,arguments);var t=s6(e),r=t.getUTCDay(),n=(r<1?7:0)+r-1;return t.setUTCDate(t.getUTCDate()-n),t.setUTCHours(0,0,0,0),t}function d6(e){a6(1,arguments);var t=s6(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=c6(n),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var o=c6(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function u6(e){a6(1,arguments);var t=s6(e),r=c6(t).getTime()-function(e){a6(1,arguments);var t=d6(e),r=new Date(0);return r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0),c6(r)}(t).getTime();return Math.round(r/6048e5)+1}var p6={};function h6(){return p6}function m6(e,t){var r,n,a,s,o,i,l,c;a6(1,arguments);var d=h6(),u=i6(null!==(r=null!==(n=null!==(a=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==a?a:d.weekStartsOn)&&void 0!==n?n:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=s6(e),h=p.getUTCDay(),m=(h<u?7:0)+h-u;return p.setUTCDate(p.getUTCDate()-m),p.setUTCHours(0,0,0,0),p}function f6(e,t){var r,n,a,s,o,i,l,c;a6(1,arguments);var d=s6(e),u=d.getUTCFullYear(),p=h6(),h=i6(null!==(r=null!==(n=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==a?a:p.firstWeekContainsDate)&&void 0!==n?n:null===(l=p.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(u+1,0,h),m.setUTCHours(0,0,0,0);var f=m6(m,t),x=new Date(0);x.setUTCFullYear(u,0,h),x.setUTCHours(0,0,0,0);var g=m6(x,t);return d.getTime()>=f.getTime()?u+1:d.getTime()>=g.getTime()?u:u-1}function x6(e,t){a6(1,arguments);var r=s6(e),n=m6(r,t).getTime()-function(e,t){var r,n,a,s,o,i,l,c;a6(1,arguments);var d=h6(),u=i6(null!==(r=null!==(n=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==a?a:d.firstWeekContainsDate)&&void 0!==n?n:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1),p=f6(e,t),h=new Date(0);return h.setUTCFullYear(p,0,u),h.setUTCHours(0,0,0,0),m6(h,t)}(r,t).getTime();return Math.round(n/6048e5)+1}function g6(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var b6={y:function(e,t){var r=e.getUTCFullYear(),n=r>0?r:1-r;return g6("yy"===t?n%100:n,t.length)},M:function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):g6(r+1,2)},d:function(e,t){return g6(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:function(e,t){return g6(e.getUTCHours()%12||12,t.length)},H:function(e,t){return g6(e.getUTCHours(),t.length)},m:function(e,t){return g6(e.getUTCMinutes(),t.length)},s:function(e,t){return g6(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,n=e.getUTCMilliseconds();return g6(Math.floor(n*Math.pow(10,r-3)),t.length)}};const y6=b6;var v6="midnight",j6="noon",w6="morning",N6="afternoon",A6="evening",k6="night",C6={G:function(e,t,r){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){var n=e.getUTCFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return y6.y(e,t)},Y:function(e,t,r,n){var a=f6(e,n),s=a>0?a:1-a;return"YY"===t?g6(s%100,2):"Yo"===t?r.ordinalNumber(s,{unit:"year"}):g6(s,t.length)},R:function(e,t){return g6(d6(e),t.length)},u:function(e,t){return g6(e.getUTCFullYear(),t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return g6(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return g6(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return y6.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return g6(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var a=x6(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):g6(a,t.length)},I:function(e,t,r){var n=u6(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):g6(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):y6.d(e,t)},D:function(e,t,r){var n=function(e){a6(1,arguments);var t=s6(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=r-t.getTime();return Math.floor(n/864e5)+1}(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):g6(n,t.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var a=e.getUTCDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return g6(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var a=e.getUTCDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return g6(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return g6(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n,a=e.getUTCHours();switch(n=12===a?j6:0===a?v6:a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n,a=e.getUTCHours();switch(n=a>=17?A6:a>=12?N6:a>=4?w6:k6,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){var n=e.getUTCHours()%12;return 0===n&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return y6.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):y6.H(e,t)},K:function(e,t,r){var n=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):g6(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):g6(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):y6.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):y6.s(e,t)},S:function(e,t){return y6.S(e,t)},X:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return S6(a);case"XXXX":case"XX":return E6(a);default:return E6(a,":")}},x:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();switch(t){case"x":return S6(a);case"xxxx":case"xx":return E6(a);default:return E6(a,":")}},O:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+F6(a,":");default:return"GMT"+E6(a,":")}},z:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+F6(a,":");default:return"GMT"+E6(a,":")}},t:function(e,t,r,n){var a=n._originalDate||e;return g6(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,r,n){return g6((n._originalDate||e).getTime(),t.length)}};function F6(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),s=n%60;if(0===s)return r+String(a);var o=t||"";return r+String(a)+o+g6(s,2)}function S6(e,t){return e%60===0?(e>0?"-":"+")+g6(Math.abs(e)/60,2):E6(e,t)}function E6(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e);return n+g6(Math.floor(a/60),2)+r+g6(a%60,2)}const P6=C6;var D6=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},O6=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},T6={p:O6,P:function(e,t){var r,n=e.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return D6(e,t);switch(a){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",D6(a,t)).replace("{{time}}",O6(s,t))}};const I6=T6;var M6=["D","DD"],_6=["YY","YYYY"];function R6(e,t,r){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var B6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const L6=function(e,t,r){var n,a=B6[e];return n="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function z6(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const U6={date:z6({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:z6({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:z6({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var W6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const V6=function(e,t,r,n){return W6[e]};function H6(e){return function(t,r){var n;if("formatting"===(null!==r&&void 0!==r&&r.context?String(r.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,s=null!==r&&void 0!==r&&r.width?String(r.width):a;n=e.formattingValues[s]||e.formattingValues[a]}else{var o=e.defaultWidth,i=null!==r&&void 0!==r&&r.width?String(r.width):e.defaultWidth;n=e.values[i]||e.values[o]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const K6={ordinalNumber:function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:H6({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:H6({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:H6({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:H6({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:H6({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function q6(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var o,i=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r;return}(l,function(e){return e.test(i)}):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r;return}(l,function(e){return e.test(i)});return o=e.valueCallback?e.valueCallback(c):c,{value:o=r.valueCallback?r.valueCallback(o):o,rest:t.slice(i.length)}}}var G6,Y6={ordinalNumber:(G6={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.match(G6.matchPattern);if(!r)return null;var n=r[0],a=e.match(G6.parsePattern);if(!a)return null;var s=G6.valueCallback?G6.valueCallback(a[0]):a[0];return{value:s=t.valueCallback?t.valueCallback(s):s,rest:e.slice(n.length)}}),era:q6({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:q6({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:q6({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:q6({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:q6({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const $6={code:"en-US",formatDistance:L6,formatLong:U6,formatRelative:V6,localize:K6,match:Y6,options:{weekStartsOn:0,firstWeekContainsDate:1}};var J6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,X6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Q6=/^'([^]*?)'?$/,Z6=/''/g,e9=/[a-zA-Z]/;function t9(e,t,r){var n,a,s,o,i,l,c,d,u,p,h,m,f,x,g,b,y,v;a6(2,arguments);var j=String(t),w=h6(),N=null!==(n=null!==(a=null===r||void 0===r?void 0:r.locale)&&void 0!==a?a:w.locale)&&void 0!==n?n:$6,A=i6(null!==(s=null!==(o=null!==(i=null!==(l=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==l?l:null===r||void 0===r||null===(c=r.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==i?i:w.firstWeekContainsDate)&&void 0!==o?o:null===(u=w.locale)||void 0===u||null===(p=u.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==s?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=i6(null!==(h=null!==(m=null!==(f=null!==(x=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==x?x:null===r||void 0===r||null===(g=r.locale)||void 0===g||null===(b=g.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==f?f:w.weekStartsOn)&&void 0!==m?m:null===(y=w.locale)||void 0===y||null===(v=y.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==h?h:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var C=s6(e);if(!o6(C))throw new RangeError("Invalid time value");var F=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(C),S=l6(C,F),E={firstWeekContainsDate:A,weekStartsOn:k,locale:N,_originalDate:C},P=j.match(X6).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,I6[t])(e,N.formatLong):e}).join("").match(J6).map(function(n){if("''"===n)return"'";var a=n[0];if("'"===a)return function(e){var t=e.match(Q6);if(!t)return e;return t[1].replace(Z6,"'")}(n);var s=P6[a];if(s)return null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!function(e){return-1!==_6.indexOf(e)}(n)||R6(n,t,String(e)),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!function(e){return-1!==M6.indexOf(e)}(n)||R6(n,t,String(e)),s(S,n,N.localize,E);if(a.match(e9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return n}).join("");return P}const r9=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(1),[u,p]=(0,a.useState)(1),[h,m]=(0,a.useState)("");(0,a.useEffect)(()=>{f()},[c]);const f=async()=>{try{const[e,r]=await Promise.all([Z5.listBackups({page:c,limit:10}),Z5.getStats()]);t(e.data.backups||[]),p(e.data.pages||1),n(r.data),o(!1)}catch(e){console.error("Error fetching backups:",e),o(!1)}},x=e=>{switch(e){case"COMPLETED":return(0,Vn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Completed"});case"VERIFIED":return(0,Vn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:"Verified"});case"FAILED":return(0,Vn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Failed"});case"IN_PROGRESS":return(0,Vn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"In Progress"});case"CORRUPTED":return(0,Vn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Corrupted"});default:return(0,Vn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:e})}},g=e=>{if(!e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["B","KB","MB","GB"][t]};return s?(0,Vn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Vn.jsxs)("div",{className:"space-y-6",children:[r&&(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Vn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-500",children:"Total Backups"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.totalBackups||0})]}),(0,Vn.jsx)(dW,{className:"h-8 w-8 text-blue-500"})]})}),(0,Vn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-500",children:"Success Rate"}),(0,Vn.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[r.successRate||0,"%"]})]}),(0,Vn.jsx)(Ea.A,{className:"h-8 w-8 text-green-500"})]})}),(0,Vn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-500",children:"Total Size"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:g(r.totalSize)})]}),(0,Vn.jsx)(t6,{className:"h-8 w-8 text-purple-500"})]})}),(0,Vn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-gray-500",children:"Avg Compression"}),(0,Vn.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[r.averageCompression||0,"%"]})]}),(0,Vn.jsx)(dW,{className:"h-8 w-8 text-yellow-500"})]})})]}),(null===r||void 0===r?void 0:r.latestBackup)&&(0,Vn.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded",children:(0,Vn.jsxs)("div",{className:"flex items-start",children:[(0,Vn.jsx)(Ea.A,{className:"h-5 w-5 text-blue-500 mt-0.5"}),(0,Vn.jsxs)("div",{className:"ml-3",children:[(0,Vn.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Latest Backup"}),(0,Vn.jsxs)("p",{className:"text-sm text-blue-700 mt-1",children:[r.latestBackup.fileName," \u2022 ",g(r.latestBackup.fileSize)," \u2022",r.latestBackup.status," \u2022 ",r.latestBackup.compressionRatio,"% compression"]})]})]})}),(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Manual Backup"}),(0,Vn.jsxs)("div",{className:"flex gap-4",children:[(0,Vn.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Backup description (optional)",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Vn.jsx)("button",{onClick:async()=>{if(!i)try{l(!0),await Z5.createBackup(h),m(""),await f(),alert("Backup created successfully!")}catch(e){console.error("Error creating backup:",e),alert("Failed to create backup: "+(e.message||"Unknown error"))}finally{l(!1)}},disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(Ho,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(dW,{className:"h-4 w-4"}),"Create Backup"]})})]})]}),(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Vn.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Backup History"})}),(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Vn.jsx)("thead",{className:"bg-gray-50",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"File Name"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Vn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,Vn.jsx)("tr",{children:(0,Vn.jsx)("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:"No backups found. Create your first backup above."})}):e.map(e=>(0,Vn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Vn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Vn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.fileName}),e.description&&(0,Vn.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:x(e.status)}),(0,Vn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[g(e.fileSize),(0,Vn.jsxs)("div",{className:"text-xs text-gray-500",children:[e.compressionRatio,"% compressed"]})]}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t9(new Date(e.createdAt),"PPp")}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Vn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vn.jsx)("button",{onClick:()=>(async e=>{try{(await Z5.verifyBackup(e)).success&&(alert("Backup verified successfully!"),await f())}catch(t){console.error("Error verifying backup:",t),alert("Failed to verify backup: "+(t.message||"Unknown error"))}})(e.id),className:"text-blue-600 hover:text-blue-900",title:"Verify Backup",children:(0,Vn.jsx)(Ea.A,{className:"h-4 w-4"})}),(0,Vn.jsx)("button",{onClick:()=>(async(e,t)=>{try{const r=await Z5.downloadBackup(e),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(n),document.body.removeChild(a)}catch(r){console.error("Error downloading backup:",r),alert("Failed to download backup: "+(r.message||"Unknown error"))}})(e.id,e.fileName),className:"text-green-600 hover:text-green-900",title:"Download Backup",children:(0,Vn.jsx)(Ai,{className:"h-4 w-4"})}),(0,Vn.jsx)("button",{onClick:()=>(async(e,t)=>{if(!window.confirm('\u26a0\ufe0f WARNING: This will restore the database from backup "'.concat(t,'".\n\n')+"ALL CURRENT DATA WILL BE REPLACED!\n\nAre you absolutely sure you want to continue?"))return;if(!window.confirm("This is your FINAL confirmation.\n\nType YES in the next prompt to proceed with restore."))return;if("YES"===prompt('Type "YES" to confirm restore:'))try{(await Z5.restoreBackup(e,!0)).success&&(alert("Backup restored successfully! Application will reload..."),window.location.reload())}catch(r){console.error("Error restoring backup:",r),alert("Failed to restore backup: "+(r.message||"Unknown error"))}else alert("Restore cancelled.")})(e.id,e.fileName),className:"text-yellow-600 hover:text-yellow-900",title:"Restore Backup",children:(0,Vn.jsx)(Ho,{className:"h-4 w-4"})}),(0,Vn.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Are you sure you want to delete backup "'.concat(t,'"?\n\nThis action cannot be undone.')))try{await Z5.deleteBackup(e),alert("Backup deleted successfully!"),await f()}catch(r){console.error("Error deleting backup:",r),alert("Failed to delete backup: "+(r.message||"Unknown error"))}})(e.id,e.fileName),className:"text-red-600 hover:text-red-900",title:"Delete Backup",children:(0,Vn.jsx)(ca,{className:"h-4 w-4"})})]})})]},e.id))})]})}),u>1&&(0,Vn.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,Vn.jsx)("button",{onClick:()=>d(e=>Math.max(1,e-1)),disabled:1===c,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Vn.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",c," of ",u]}),(0,Vn.jsx)("button",{onClick:()=>d(e=>Math.min(u,e+1)),disabled:c===u,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})},n9=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(1),[i,l]=(0,a.useState)(1),[c,d]=(0,a.useState)(0),[u,p]=(0,a.useState)({action:"",entityType:"",userId:"",startDate:"",endDate:"",search:""}),[h,m]=(0,a.useState)([]),[f,x]=(0,a.useState)([]),[g,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>{y()},[]),(0,a.useEffect)(()=>{v()},[s,u]);const y=async()=>{try{const[e,t]=await Promise.all([Q5.getActions(),Q5.getEntityTypes()]);m(e.data||[]),x(t.data||[])}catch(e){console.error("Error fetching metadata:",e)}},v=async()=>{try{n(!0);const e=(0,Mt.A)({page:s,limit:20},Object.fromEntries(Object.entries(u).filter(e=>{let[t,r]=e;return""!==r}))),r=await Q5.getLogs(e);t(r.data.logs||[]),l(r.data.pages||1),d(r.data.total||0),n(!1)}catch(e){console.error("Error fetching logs:",e),n(!1)}},j=(e,t)=>{p(r=>(0,Mt.A)((0,Mt.A)({},r),{},{[e]:t})),o(1)};return r&&0===e.length?(0,Vn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Audit Trail"}),(0,Vn.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[c," total logs"]})]}),(0,Vn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vn.jsxs)("button",{onClick:()=>b(!g),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[(0,Vn.jsx)(bP,{className:"h-4 w-4"}),g?"Hide":"Show"," Filters"]}),(0,Vn.jsxs)("button",{onClick:async()=>{try{const e=Object.fromEntries(Object.entries(u).filter(e=>{let[t,r]=e;return""!==r})),t=await Q5.exportLogs(e),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="audit_logs_".concat(t9(new Date,"yyyy-MM-dd_HHmmss"),".csv"),document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n)}catch(e){console.error("Error exporting logs:",e),alert("Failed to export logs: "+(e.message||"Unknown error"))}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[(0,Vn.jsx)(Ai,{className:"h-4 w-4"}),"Export CSV"]})]})]}),g&&(0,Vn.jsx)("div",{className:"border-t border-gray-200 pt-4 mt-4",children:(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,Vn.jsxs)("div",{className:"relative",children:[(0,Vn.jsx)(uE.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Vn.jsx)("input",{type:"text",value:u.search,onChange:e=>j("search",e.target.value),placeholder:"Search logs...",className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action"}),(0,Vn.jsxs)("select",{value:u.action,onChange:e=>j("action",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Vn.jsx)("option",{value:"",children:"All Actions"}),h.map(e=>(0,Vn.jsx)("option",{value:e,children:e},e))]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entity Type"}),(0,Vn.jsxs)("select",{value:u.entityType,onChange:e=>j("entityType",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Vn.jsx)("option",{value:"",children:"All Types"}),f.map(e=>(0,Vn.jsx)("option",{value:e,children:e},e))]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,Vn.jsx)("input",{type:"date",value:u.startDate,onChange:e=>j("startDate",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,Vn.jsx)("input",{type:"date",value:u.endDate,onChange:e=>j("endDate",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Vn.jsx)("div",{className:"flex items-end",children:(0,Vn.jsx)("button",{onClick:()=>{p({action:"",entityType:"",userId:"",startDate:"",endDate:"",search:""}),o(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Reset Filters"})})]})})]}),(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Vn.jsx)("thead",{className:"bg-gray-50",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Entity"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"})]})}),(0,Vn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,Vn.jsx)("tr",{children:(0,Vn.jsx)("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"No audit logs found."})}):e.map(e=>{return(0,Vn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t9(new Date(e.timestamp),"MMM dd, yyyy HH:mm:ss")}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)(ra,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,Vn.jsx)("div",{className:"text-sm text-gray-900",children:e.userName||e.userId})]})}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat((t=e.action,{CREATE:"bg-green-100 text-green-800",UPDATE:"bg-blue-100 text-blue-800",DELETE:"bg-red-100 text-red-800",LOGIN:"bg-purple-100 text-purple-800",LOGOUT:"bg-gray-100 text-gray-800",VIEW:"bg-yellow-100 text-yellow-800",EXPORT:"bg-orange-100 text-orange-800"}[t]||"bg-gray-100 text-gray-800")),children:e.action})}),(0,Vn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Vn.jsx)("div",{className:"text-sm text-gray-900",children:e.entityType}),e.entityId&&(0,Vn.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.entityId]})]}),(0,Vn.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:e.description||"-"}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.ipAddress||"-"})]},e.id);var t})})]})}),i>1&&(0,Vn.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,Vn.jsx)("button",{onClick:()=>o(e=>Math.max(1,e-1)),disabled:1===s,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Vn.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",s," of ",i]}),(0,Vn.jsx)("button",{onClick:()=>o(e=>Math.min(i,e+1)),disabled:s===i,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})},a9=(0,Qn.A)("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),s9=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(1),[c,d]=(0,a.useState)(1);(0,a.useEffect)(()=>{u();const e=setInterval(u,3e4);return()=>clearInterval(e)},[i]);const u=async()=>{try{const[e,r]=await Promise.all([J5.getActiveSessions(),J5.getLoginHistory({page:i,limit:10})]);t(e.data||[]),n(r.data.history||[]),d(r.data.pages||1),o(!1)}catch(e){console.error("Error fetching security data:",e),o(!1)}},p=e=>{if(!e)return(0,Vn.jsx)(dZ,{className:"h-5 w-5 text-gray-400"});const t=e.toLowerCase();return t.includes("mobile")||t.includes("android")||t.includes("iphone")?(0,Vn.jsx)(iZ,{className:"h-5 w-5 text-blue-500"}):(0,Vn.jsx)(a9,{className:"h-5 w-5 text-green-500"})};return s?(0,Vn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Vn.jsxs)("div",{className:"space-y-6",children:[(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Vn.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)(La,{className:"h-6 w-6 text-blue-600"}),(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Sessions"})]}),(0,Vn.jsxs)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold",children:[e.length," active"]})]})}),(0,Vn.jsx)("div",{className:"divide-y divide-gray-200",children:0===e.length?(0,Vn.jsx)("div",{className:"px-6 py-8 text-center text-gray-500",children:"No active sessions found."}):e.map(e=>(0,Vn.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50",children:(0,Vn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Vn.jsx)("div",{className:"mt-1",children:p(e.deviceType)}),(0,Vn.jsxs)("div",{className:"flex-1",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.userName}),e.isCurrent&&(0,Vn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded bg-green-100 text-green-800",children:"Current Session"})]}),(0,Vn.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Vn.jsx)(bo,{className:"h-4 w-4 text-gray-400"}),(0,Vn.jsxs)("span",{children:[e.ipAddress,e.location&&" \u2022 ".concat(e.location.city,", ").concat(e.location.country)]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Vn.jsx)(dZ,{className:"h-4 w-4 text-gray-400"}),(0,Vn.jsx)("span",{children:e.deviceType||"Unknown Device"})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Vn.jsx)(Do,{className:"h-4 w-4 text-gray-400"}),(0,Vn.jsx)("span",{className:"truncate max-w-md",children:e.userAgent})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Vn.jsx)(Sa,{className:"h-4 w-4 text-gray-400"}),(0,Vn.jsxs)("span",{children:["Login: ",t9(new Date(e.loginAt),"MMM dd, yyyy HH:mm:ss")]})]}),e.lastActivity&&(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Vn.jsx)(Sa,{className:"h-4 w-4 text-gray-400"}),(0,Vn.jsxs)("span",{children:["Last activity: ",t9(new Date(e.lastActivity),"MMM dd, yyyy HH:mm:ss")]})]})]})]})]}),!e.isCurrent&&(0,Vn.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to terminate this session?\n\nThe user will be logged out immediately."))try{await J5.terminateSession(e),alert("Session terminated successfully!"),await u()}catch(t){console.error("Error terminating session:",t),alert("Failed to terminate session: "+(t.message||"Unknown error"))}})(e.token),className:"ml-4 px-3 py-1.5 text-sm font-medium text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg border border-red-300 flex items-center gap-2",children:[(0,Vn.jsx)(sa,{className:"h-4 w-4"}),"Terminate"]})]})},e.token))})]}),(0,Vn.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Vn.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)(Sa,{className:"h-6 w-6 text-purple-600"}),(0,Vn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Login History"})]})}),(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Vn.jsx)("thead",{className:"bg-gray-50",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address / Location"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Device"}),(0,Vn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"})]})}),(0,Vn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===r.length?(0,Vn.jsx)("tr",{children:(0,Vn.jsx)("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:"No login history found."})}):r.map(e=>{return(0,Vn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vn.jsxs)("div",{className:"flex items-center",children:[(0,Vn.jsx)(ra,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,Vn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.userName})]})}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(t=e.success,t?(0,Vn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Success"}):(0,Vn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Failed"}))}),(0,Vn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Vn.jsx)("div",{className:"text-sm text-gray-900",children:e.ipAddress}),e.location&&(0,Vn.jsxs)("div",{className:"text-xs text-gray-500",children:[e.location.city,", ",e.location.country]})]}),(0,Vn.jsx)("td",{className:"px-6 py-4",children:(0,Vn.jsxs)("div",{className:"flex items-center",children:[p(e.deviceType),(0,Vn.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:e.deviceType||"Unknown"})]})}),(0,Vn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t9(new Date(e.loginAt),"MMM dd, yyyy HH:mm:ss")})]},e.id);var t})})]})}),c>1&&(0,Vn.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,Vn.jsx)("button",{onClick:()=>l(e=>Math.max(1,e-1)),disabled:1===i,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Vn.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",i," of ",c]}),(0,Vn.jsx)("button",{onClick:()=>l(e=>Math.min(c,e+1)),disabled:i===c,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})},o9=()=>{var e,t;const[r,n]=(0,a.useState)("metrics"),s=[{id:"metrics",name:"System Metrics",icon:ri,component:r6,description:"Real-time system health and performance monitoring"},{id:"backup",name:"Backup Manager",icon:dW,component:r9,description:"Database backup and restore operations"},{id:"audit",name:"Audit Trail",icon:di,component:n9,description:"Complete audit log and activity tracking"},{id:"security",name:"Security",icon:La,component:s9,description:"User sessions and login history"}],o=(null===(e=s.find(e=>e.id===r))||void 0===e?void 0:e.component)||r6;return(0,Vn.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Vn.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Vn.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Vn.jsx)("div",{className:"bg-blue-600 rounded-lg p-3",children:(0,Vn.jsx)(ya,{className:"h-8 w-8 text-white"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Operational Dashboard"}),(0,Vn.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"System monitoring, security, audit trail, and backup management"})]})]}),(0,Vn.jsx)("div",{className:"flex items-center space-x-2",children:(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 px-4 py-2 bg-green-50 rounded-lg",children:[(0,Vn.jsx)("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),(0,Vn.jsx)("span",{className:"text-sm font-medium text-green-700",children:"System Operational"})]})})]})})}),(0,Vn.jsx)("div",{className:"bg-white shadow-sm",children:(0,Vn.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Vn.jsx)("nav",{className:"flex space-x-8","aria-label":"Tabs",children:s.map(e=>{const t=e.icon,a=r===e.id;return(0,Vn.jsxs)("button",{onClick:()=>n(e.id),className:"\n                    group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm\n                    ".concat(a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                  "),children:[(0,Vn.jsx)(t,{className:"\n                      -ml-0.5 mr-2 h-5 w-5\n                      ".concat(a?"text-blue-500":"text-gray-400 group-hover:text-gray-500","\n                    ")}),(0,Vn.jsx)("span",{children:e.name})]},e.id)})})})}),(0,Vn.jsx)("div",{className:"bg-blue-50 border-b border-blue-100",children:(0,Vn.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,Vn.jsx)("p",{className:"text-sm text-blue-700",children:null===(t=s.find(e=>e.id===r))||void 0===t?void 0:t.description})})}),(0,Vn.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Vn.jsx)(o,{})}),(0,Vn.jsx)("div",{className:"bg-white border-t border-gray-200 mt-12",children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"bg-blue-100 rounded-lg p-2",children:(0,Vn.jsx)(ri,{className:"h-5 w-5 text-blue-600"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-gray-500",children:"System Health"}),(0,Vn.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:"Monitoring Active"})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"bg-green-100 rounded-lg p-2",children:(0,Vn.jsx)(dW,{className:"h-5 w-5 text-green-600"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-gray-500",children:"Daily Backups"}),(0,Vn.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:"Automated (2 AM)"})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"bg-purple-100 rounded-lg p-2",children:(0,Vn.jsx)(di,{className:"h-5 w-5 text-purple-600"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-gray-500",children:"Audit Trail"}),(0,Vn.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:"Complete Logging"})]})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vn.jsx)("div",{className:"bg-yellow-100 rounded-lg p-2",children:(0,Vn.jsx)(La,{className:"h-5 w-5 text-yellow-600"})}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-xs text-gray-500",children:"Security"}),(0,Vn.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:"Session Tracking"})]})]})]}),(0,Vn.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Vn.jsx)(Ca,{className:"h-5 w-5 text-gray-400"}),(0,Vn.jsx)("p",{className:"text-sm text-gray-500",children:"Enterprise-grade operational systems \u2022 Production-ready monitoring"})]}),(0,Vn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,Vn.jsx)(HE,{className:"h-4 w-4"}),(0,Vn.jsxs)("span",{children:["Last updated: ",(new Date).toLocaleString()]})]})]})})]})})]})},i9=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,p]=(0,a.useState)(""),[h,m]=(0,a.useState)(!1),[f,x]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null),[y,v]=(0,a.useState)(null),[j,w]=(0,a.useState)({}),[N,A]=(0,a.useState)({assetName:"",assetCode:"",assetCategory:"",purchasePrice:"",status:"ACTIVE",condition:"GOOD",location:"",description:""}),k={HEAVY_EQUIPMENT:"Alat Berat",VEHICLES:"Kendaraan",BUILDINGS:"Bangunan",OFFICE_EQUIPMENT:"Peralatan Kantor",TOOLS_MACHINERY:"Peralatan & Mesin",COMPUTERS_IT:"Komputer & IT"},C={ACTIVE:"Aktif",UNDER_MAINTENANCE:"Perawatan",IDLE:"Tidak Digunakan",DISPOSED:"Dibuang"},F={EXCELLENT:"Sangat Baik",GOOD:"Baik",FAIR:"Cukup",POOR:"Buruk"},S=()=>{A({assetName:"",assetCode:"",assetCategory:"",purchasePrice:"",status:"ACTIVE",condition:"GOOD",location:"",description:""})},E=e=>{const{name:t,value:r}=e.target;A(e=>(0,Mt.A)((0,Mt.A)({},e),{},{[t]:r}))},P=(0,a.useCallback)(async()=>{try{n(!0),o(null);const e=await Sr.get("/api/reports/fixed-asset/list");if(e.data.success){const r=e.data.data||[];t(r)}else o("Gagal memuat data aset")}catch(e){console.error("Error fetching assets:",e),o("Gagal memuat aset. Silakan coba lagi.")}finally{n(!1)}},[]);(0,a.useEffect)(()=>{P()},[P]);const D=()=>{v(null),w({})},O=e=>{const{name:t,value:r}=e.target;w(e=>(0,Mt.A)((0,Mt.A)({},e),{},{[t]:r}))},T=e.filter(e=>{var t,r;const n=(null===(t=e.assetName)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(r=e.assetCode)||void 0===r?void 0:r.toLowerCase().includes(i.toLowerCase())),a=!c||e.assetCategory===c,s=!u||e.status===u;return n&&a&&s}),I=e=>{switch(e){case"ACTIVE":return"bg-[#30D158]/20 text-[#30D158] border-[#30D158]/30";case"UNDER_MAINTENANCE":return"bg-[#FF9F0A]/20 text-[#FF9F0A] border-[#FF9F0A]/30";case"IDLE":default:return"bg-[#98989D]/20 text-[#98989D] border-[#98989D]/30";case"DISPOSED":return"bg-[#FF453A]/20 text-[#FF453A] border-[#FF453A]/30"}},M=e=>{switch(e){case"EXCELLENT":return"bg-[#30D158]/20 text-[#30D158] border-[#30D158]/30";case"GOOD":return"bg-[#0A84FF]/20 text-[#0A84FF] border-[#0A84FF]/30";case"FAIR":return"bg-[#FF9F0A]/20 text-[#FF9F0A] border-[#FF9F0A]/30";case"POOR":return"bg-[#FF453A]/20 text-[#FF453A] border-[#FF453A]/30";default:return"bg-[#98989D]/20 text-[#98989D] border-[#98989D]/30"}},_={total:e.length,active:e.filter(e=>"ACTIVE"===e.status).length,maintenance:e.filter(e=>"UNDER_MAINTENANCE"===e.status).length,totalValue:e.reduce((e,t)=>e+(parseFloat(t.purchasePrice)||0),0)};return r?(0,Vn.jsx)("div",{className:"flex items-center justify-center h-screen bg-[#1C1C1E]",children:(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0A84FF]"})}):(0,Vn.jsx)("div",{className:"p-6 bg-[#1C1C1E] min-h-screen",children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-4 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Total Aset"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-white",children:_.total})]}),(0,Vn.jsx)("div",{className:"w-12 h-12 bg-[#0A84FF]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(Xo,{className:"h-6 w-6 text-[#0A84FF]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-4 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Aktif"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-[#30D158]",children:_.active})]}),(0,Vn.jsx)("div",{className:"w-12 h-12 bg-[#30D158]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(ia.A,{className:"h-6 w-6 text-[#30D158]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-4 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Perawatan"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-[#FF9F0A]",children:_.maintenance})]}),(0,Vn.jsx)("div",{className:"w-12 h-12 bg-[#FF9F0A]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(Ho,{className:"h-6 w-6 text-[#FF9F0A]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-4 shadow-sm border border-[#38383A]",children:(0,Vn.jsx)("div",{className:"flex items-center justify-between",children:(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Total Nilai"}),(0,Vn.jsx)("p",{className:"text-lg font-bold text-white",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(_.totalValue)})]})})})]}),s&&(0,Vn.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg flex items-center justify-between",children:[(0,Vn.jsx)("span",{children:s}),(0,Vn.jsx)("button",{onClick:()=>o(null),className:"text-red-400 hover:text-red-300",children:(0,Vn.jsx)(ja.A,{className:"h-4 w-4"})})]}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl shadow-sm border border-[#38383A] p-4",children:(0,Vn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Vn.jsxs)("div",{className:"flex-1 relative",children:[(0,Vn.jsx)(uE.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-[#636366]"}),(0,Vn.jsx)("input",{type:"text",placeholder:"Cari aset atau kode...",value:i,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent"})]}),(0,Vn.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"",children:"Semua Kategori"}),Object.entries(k).map(e=>{let[t,r]=e;return(0,Vn.jsx)("option",{value:t,children:r},t)})]}),(0,Vn.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"px-3 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"",children:"Semua Status"}),Object.entries(C).map(e=>{let[t,r]=e;return(0,Vn.jsx)("option",{value:t,children:r},t)})]}),(0,Vn.jsxs)("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-all",children:[(0,Vn.jsx)(Pi,{className:"h-5 w-5"}),"Tambah Aset"]})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl shadow-sm border border-[#38383A] overflow-hidden",children:(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"w-full",children:[(0,Vn.jsx)("thead",{className:"bg-[#1C1C1E] border-b border-[#38383A]",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider w-8"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Aset"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Kategori & Lokasi"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase tracking-wider",children:"Harga"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-[#98989D] uppercase tracking-wider w-24",children:"Status"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-[#98989D] uppercase tracking-wider w-24",children:"Kondisi"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-[#98989D] uppercase tracking-wider w-28",children:"Aksi"})]})}),(0,Vn.jsxs)("tbody",{className:"divide-y divide-[#38383A]",children:[h&&(0,Vn.jsxs)("tr",{className:"bg-[#1C1C1E]/50",children:[(0,Vn.jsx)("td",{className:"px-3 py-3"}),(0,Vn.jsxs)("td",{className:"px-3 py-3",children:[(0,Vn.jsx)("input",{type:"text",name:"assetCode",value:N.assetCode,onChange:E,placeholder:"Kode: AST-001",required:!0,className:"w-full px-2 py-1 mb-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white placeholder-[#636366] focus:ring-1 focus:ring-[#0A84FF]"}),(0,Vn.jsx)("input",{type:"text",name:"assetName",value:N.assetName,onChange:E,placeholder:"Nama Aset *",required:!0,className:"w-full px-2 py-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white placeholder-[#636366] focus:ring-1 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("td",{className:"px-3 py-3",children:[(0,Vn.jsxs)("select",{name:"assetCategory",value:N.assetCategory,onChange:E,required:!0,className:"w-full px-2 py-1 mb-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white focus:ring-1 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"",children:"Pilih Kategori *"}),Object.entries(k).map(e=>{let[t,r]=e;return(0,Vn.jsx)("option",{value:t,children:r},t)})]}),(0,Vn.jsx)("input",{type:"text",name:"location",value:N.location,onChange:E,placeholder:"Lokasi",className:"w-full px-2 py-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white placeholder-[#636366] focus:ring-1 focus:ring-[#0A84FF]"})]}),(0,Vn.jsx)("td",{className:"px-3 py-3",children:(0,Vn.jsx)("input",{type:"number",name:"purchasePrice",value:N.purchasePrice,onChange:E,placeholder:"Harga",className:"w-full px-2 py-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white placeholder-[#636366] focus:ring-1 focus:ring-[#0A84FF]"})}),(0,Vn.jsx)("td",{className:"px-3 py-3",children:(0,Vn.jsx)("select",{name:"status",value:N.status,onChange:E,className:"w-full px-2 py-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white focus:ring-1 focus:ring-[#0A84FF]",children:Object.entries(C).map(e=>{let[t,r]=e;return(0,Vn.jsx)("option",{value:t,children:r},t)})})}),(0,Vn.jsx)("td",{className:"px-3 py-3",children:(0,Vn.jsx)("select",{name:"condition",value:N.condition,onChange:E,className:"w-full px-2 py-1 bg-[#2C2C2E] border border-[#38383A] rounded text-xs text-white focus:ring-1 focus:ring-[#0A84FF]",children:Object.entries(F).map(e=>{let[t,r]=e;return(0,Vn.jsx)("option",{value:t,children:r},t)})})}),(0,Vn.jsx)("td",{className:"px-3 py-3",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Vn.jsx)("button",{onClick:async e=>{e.preventDefault(),x(!0);try{const e=await Sr.post("/api/reports/fixed-asset/register",{asset_name:N.assetName,asset_code:N.assetCode,asset_category:N.assetCategory,purchase_price:parseFloat(N.purchasePrice)||0,status:N.status,condition:N.condition,location:N.location,description:N.description,purchase_date:(new Date).toISOString().split("T")[0]});if(!e.data.success)throw new Error(e.data.message||"Gagal menambah aset");await P(),S(),m(!1),o(null)}catch(s){var t,r;console.error("Error creating asset:",s),o((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||s.message)}finally{x(!1)}},disabled:f||!N.assetName||!N.assetCategory,className:"p-1 bg-[#30D158] text-white rounded hover:bg-[#30D158]/90 transition-colors disabled:opacity-50",title:"Simpan",children:f?(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}):(0,Vn.jsx)(ia.A,{className:"h-3 w-3"})}),(0,Vn.jsx)("button",{onClick:()=>{m(!1),S()},className:"p-1 bg-[#FF453A] text-white rounded hover:bg-[#FF453A]/90 transition-colors",title:"Batal",children:(0,Vn.jsx)(ja.A,{className:"h-3 w-3"})})]})})]}),0!==T.length||h?T.map(e=>(0,Vn.jsxs)(a.Fragment,{children:[(0,Vn.jsxs)("tr",{className:"hover:bg-[#38383A]/30 transition-colors",children:[(0,Vn.jsx)("td",{className:"px-3 py-3",children:(0,Vn.jsx)("button",{onClick:()=>{return t=e.id,void(y!==t&&b(g===t?null:t));var t},className:"text-[#98989D] hover:text-white transition-colors",title:g===e.id?"Tutup Detail":"Lihat Detail",children:g===e.id?(0,Vn.jsx)(mM,{className:"h-4 w-4"}):(0,Vn.jsx)(na.A,{className:"h-4 w-4"})})}),(0,Vn.jsxs)("td",{className:"px-3 py-3",children:[(0,Vn.jsx)("div",{className:"text-sm font-medium text-white",children:e.assetName}),(0,Vn.jsx)("div",{className:"text-xs text-[#636366] mt-0.5",children:e.assetCode})]}),(0,Vn.jsxs)("td",{className:"px-3 py-3",children:[(0,Vn.jsx)("div",{className:"text-sm text-white",children:k[e.assetCategory]||e.assetCategory}),(0,Vn.jsx)("div",{className:"text-xs text-[#98989D] mt-0.5",children:e.location||"-"})]}),(0,Vn.jsx)("td",{className:"px-3 py-3",children:(0,Vn.jsx)("div",{className:"text-sm text-white",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e.purchasePrice||0)})}),(0,Vn.jsx)("td",{className:"px-3 py-3 text-center",children:(0,Vn.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full border ".concat(I(e.status)),children:C[e.status]||e.status})}),(0,Vn.jsx)("td",{className:"px-3 py-3 text-center",children:(0,Vn.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full border ".concat(M(e.condition)),children:F[e.condition]||e.condition})}),(0,Vn.jsx)("td",{className:"px-3 py-3",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Vn.jsx)("button",{onClick:()=>(e=>{v(e.id),w({assetName:e.assetName||"",assetCode:e.assetCode||"",assetCategory:e.assetCategory||"",purchasePrice:e.purchasePrice||"",status:e.status||"ACTIVE",condition:e.condition||"GOOD",location:e.location||"",description:e.description||""}),b(e.id)})(e),className:"p-1 text-[#0A84FF] hover:bg-[#0A84FF]/10 rounded transition-colors",title:"Edit",children:(0,Vn.jsx)(fi,{className:"h-3.5 w-3.5"})}),(0,Vn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm('Hapus aset "'.concat(e.assetName,'"?\n\nTindakan ini tidak dapat dibatalkan.')))try{(await Sr.delete("/api/reports/fixed-asset/".concat(e.id))).data.success?(await P(),o(null)):o("Gagal menghapus aset")}catch(s){var t,r;console.error("Error deleting asset:",s),o((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Gagal menghapus aset")}})(e),className:"p-1 text-[#FF453A] hover:bg-[#FF453A]/10 rounded transition-colors",title:"Hapus",children:(0,Vn.jsx)(ca,{className:"h-3.5 w-3.5"})})]})})]}),g===e.id&&(0,Vn.jsx)("tr",{className:"bg-[#1C1C1E]/80",children:(0,Vn.jsx)("td",{colSpan:"7",className:"px-6 py-4",children:y===e.id?(0,Vn.jsxs)("form",{onSubmit:t=>(async(e,t)=>{e.preventDefault(),x(!0);try{const e=await Sr.put("/api/reports/fixed-asset/".concat(t),{asset_name:j.assetName,asset_code:j.assetCode,asset_category:j.assetCategory,purchase_price:parseFloat(j.purchasePrice)||0,status:j.status,condition:j.condition,location:j.location,description:j.description});if(!e.data.success)throw new Error(e.data.message||"Gagal mengupdate aset");await P(),v(null),w({}),o(null)}catch(s){var r,n;console.error("Error updating asset:",s),o((null===(r=s.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||s.message)}finally{x(!1)}})(t,e.id),className:"space-y-4",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#98989D] mb-1",children:"Nama Aset *"}),(0,Vn.jsx)("input",{type:"text",name:"assetName",value:j.assetName,onChange:O,required:!0,className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-sm text-white placeholder-[#636366] focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#98989D] mb-1",children:"Kode Aset"}),(0,Vn.jsx)("input",{type:"text",name:"assetCode",value:j.assetCode,onChange:O,className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-sm text-white placeholder-[#636366] focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#98989D] mb-1",children:"Kategori *"}),(0,Vn.jsxs)("select",{name:"assetCategory",value:j.assetCategory,onChange:O,required:!0,className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-sm text-white focus:ring-2 focus:ring-[#0A84FF]",children:[(0,Vn.jsx)("option",{value:"",children:"Pilih Kategori"}),Object.entries(k).map(e=>{let[t,r]=e;return(0,Vn.jsx)("option",{value:t,children:r},t)})]})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#98989D] mb-1",children:"Lokasi"}),(0,Vn.jsx)("input",{type:"text",name:"location",value:j.location,onChange:O,className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-sm text-white placeholder-[#636366] focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#98989D] mb-1",children:"Harga Pembelian"}),(0,Vn.jsx)("input",{type:"number",name:"purchasePrice",value:j.purchasePrice,onChange:O,className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-sm text-white placeholder-[#636366] focus:ring-2 focus:ring-[#0A84FF]"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#98989D] mb-1",children:"Status"}),(0,Vn.jsx)("select",{name:"status",value:j.status,onChange:O,className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-sm text-white focus:ring-2 focus:ring-[#0A84FF]",children:Object.entries(C).map(e=>{let[t,r]=e;return(0,Vn.jsx)("option",{value:t,children:r},t)})})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#98989D] mb-1",children:"Kondisi"}),(0,Vn.jsx)("select",{name:"condition",value:j.condition,onChange:O,className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-sm text-white focus:ring-2 focus:ring-[#0A84FF]",children:Object.entries(F).map(e=>{let[t,r]=e;return(0,Vn.jsx)("option",{value:t,children:r},t)})})]}),(0,Vn.jsxs)("div",{className:"md:col-span-2",children:[(0,Vn.jsx)("label",{className:"block text-xs font-medium text-[#98989D] mb-1",children:"Deskripsi"}),(0,Vn.jsx)("textarea",{name:"description",value:j.description,onChange:O,rows:"2",className:"w-full px-3 py-2 bg-[#2C2C2E] border border-[#38383A] rounded-lg text-sm text-white placeholder-[#636366] focus:ring-2 focus:ring-[#0A84FF]"})]})]}),(0,Vn.jsxs)("div",{className:"flex gap-2 justify-end pt-2 border-t border-[#38383A]",children:[(0,Vn.jsx)("button",{type:"button",onClick:D,className:"px-4 py-2 bg-[#38383A] text-white rounded-lg hover:bg-[#38383A]/70 transition-colors text-sm",children:"Batal"}),(0,Vn.jsx)("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-colors text-sm flex items-center gap-2 disabled:opacity-50",children:f?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Menyimpan..."]}):(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(ia.A,{className:"h-4 w-4"}),"Simpan Perubahan"]})})]})]}):(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-xs font-medium text-[#98989D]",children:"Nama Aset"}),(0,Vn.jsx)("p",{className:"mt-1 text-sm text-white",children:e.assetName})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-xs font-medium text-[#98989D]",children:"Kode Aset"}),(0,Vn.jsx)("p",{className:"mt-1 text-sm text-white",children:e.assetCode})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-xs font-medium text-[#98989D]",children:"Kategori"}),(0,Vn.jsx)("p",{className:"mt-1 text-sm text-white",children:k[e.assetCategory]||e.assetCategory})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-xs font-medium text-[#98989D]",children:"Lokasi"}),(0,Vn.jsx)("p",{className:"mt-1 text-sm text-white",children:e.location||"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-xs font-medium text-[#98989D]",children:"Harga Pembelian"}),(0,Vn.jsx)("p",{className:"mt-1 text-sm text-white",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e.purchasePrice||0)})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-xs font-medium text-[#98989D]",children:"Tanggal Pembelian"}),(0,Vn.jsx)("p",{className:"mt-1 text-sm text-white",children:e.purchaseDate?new Date(e.purchaseDate).toLocaleDateString("id-ID"):"-"})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-xs font-medium text-[#98989D]",children:"Status"}),(0,Vn.jsx)("p",{className:"mt-1",children:(0,Vn.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full border ".concat(I(e.status)),children:C[e.status]||e.status})})]}),(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("label",{className:"text-xs font-medium text-[#98989D]",children:"Kondisi"}),(0,Vn.jsx)("p",{className:"mt-1",children:(0,Vn.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full border ".concat(M(e.condition)),children:F[e.condition]||e.condition})})]}),e.description&&(0,Vn.jsxs)("div",{className:"md:col-span-3",children:[(0,Vn.jsx)("label",{className:"text-xs font-medium text-[#98989D]",children:"Deskripsi"}),(0,Vn.jsx)("p",{className:"mt-1 text-sm text-white",children:e.description})]})]})})})]},e.id)):(0,Vn.jsx)("tr",{children:(0,Vn.jsxs)("td",{colSpan:"7",className:"px-6 py-12 text-center",children:[(0,Vn.jsx)(Xo,{className:"h-12 w-12 text-[#636366] mx-auto mb-3"}),(0,Vn.jsx)("p",{className:"text-[#98989D]",children:"Tidak ada data aset"}),(0,Vn.jsx)("p",{className:"text-sm text-[#636366] mt-1",children:"Silakan tambahkan aset baru"})]})})]})]})})})]})})},l9=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),u={STRAIGHT_LINE:"Garis Lurus",DECLINING_BALANCE:"Saldo Menurun",DOUBLE_DECLINING:"Saldo Menurun Berganda"},p=(0,a.useCallback)(async()=>{try{n(!0);const e=await Sr.get("/api/reports/fixed-asset/list");if(e.data.success){const r=(e.data.data||[]).map(e=>{const t=parseFloat(e.purchasePrice)||0,r=parseFloat(e.salvageValue)||0,n=parseInt(e.usefulLife)||5,a=new Date(e.purchaseDate),s=new Date,o=12*(s.getFullYear()-a.getFullYear())+(s.getMonth()-a.getMonth()),i=t-r,l=i/n,c=l/12,d=Math.min(c*o,i),u=t-d;return(0,Mt.A)((0,Mt.A)({},e),{},{depreciableAmount:i,annualDepreciation:l,monthlyDepreciation:c,accumulatedDepreciation:d,netBookValue:u,depreciationMethod:"STRAIGHT_LINE",usefulLife:n})});t(r)}}catch(s){console.error("Error fetching depreciation data:",s),o("Gagal memuat data depresiasi")}finally{n(!1)}},[]);(0,a.useEffect)(()=>{p()},[p]);const h=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e),m=e=>{const t=[],r=new Date(e.purchaseDate).getFullYear();for(let n=1;n<=e.usefulLife;n++){const a=e.annualDepreciation,s=a*n,o=e.purchasePrice-Math.min(s,e.depreciableAmount);t.push({year:r+n-1,yearNumber:n,depreciation:a,accumulated:Math.min(s,e.depreciableAmount),netBookValue:Math.max(o,e.salvageValue||0)})}return t},f=e.filter(e=>{var t,r;return(null===(t=e.assetName)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(r=e.assetCode)||void 0===r?void 0:r.toLowerCase().includes(i.toLowerCase()))}),x={totalAssets:e.length,totalCost:e.reduce((e,t)=>e+(parseFloat(t.purchasePrice)||0),0),totalDepreciation:e.reduce((e,t)=>e+(t.accumulatedDepreciation||0),0),totalNetBook:e.reduce((e,t)=>e+(t.netBookValue||0),0)};return r?(0,Vn.jsx)("div",{className:"flex items-center justify-center h-screen bg-[#1C1C1E]",children:(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0A84FF]"})}):(0,Vn.jsx)("div",{className:"p-6 bg-[#1C1C1E] min-h-screen",children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-4 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Total Aset"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-white",children:x.totalAssets})]}),(0,Vn.jsx)("div",{className:"w-12 h-12 bg-[#0A84FF]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(Xo,{className:"h-6 w-6 text-[#0A84FF]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-4 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Total Biaya"}),(0,Vn.jsx)("p",{className:"text-lg font-bold text-white",children:h(x.totalCost)})]}),(0,Vn.jsx)("div",{className:"w-12 h-12 bg-[#0A84FF]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(li,{className:"h-6 w-6 text-[#0A84FF]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-4 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Akumulasi Depresiasi"}),(0,Vn.jsx)("p",{className:"text-lg font-bold text-[#FF9F0A]",children:h(x.totalDepreciation)})]}),(0,Vn.jsx)("div",{className:"w-12 h-12 bg-[#FF9F0A]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(Oi,{className:"h-6 w-6 text-[#FF9F0A]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-4 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Nilai Buku Bersih"}),(0,Vn.jsx)("p",{className:"text-lg font-bold text-[#30D158]",children:h(x.totalNetBook)})]}),(0,Vn.jsx)("div",{className:"w-12 h-12 bg-[#30D158]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(li,{className:"h-6 w-6 text-[#30D158]"})})]})})]}),s&&(0,Vn.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg flex items-center justify-between",children:[(0,Vn.jsx)("span",{children:s}),(0,Vn.jsx)("button",{onClick:()=>o(null),className:"text-red-400 hover:text-red-300",children:(0,Vn.jsx)(ja.A,{className:"h-4 w-4"})})]}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl shadow-sm border border-[#38383A] p-4",children:(0,Vn.jsxs)("div",{className:"flex gap-4",children:[(0,Vn.jsx)("input",{type:"text",placeholder:"Cari aset...",value:i,onChange:e=>l(e.target.value),className:"flex-1 px-4 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent"}),(0,Vn.jsxs)("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-all",children:[(0,Vn.jsx)(Ho,{className:"h-5 w-5"}),"Refresh"]})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl shadow-sm border border-[#38383A] overflow-hidden",children:(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"w-full",children:[(0,Vn.jsx)("thead",{className:"bg-[#1C1C1E] border-b border-[#38383A]",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase w-8"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase",children:"Aset"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase",children:"Metode"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase",children:"Harga Beli"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase",children:"Akumulasi"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase",children:"Nilai Buku"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase",children:"Per Tahun"})]})}),(0,Vn.jsx)("tbody",{className:"divide-y divide-[#38383A]",children:0===f.length?(0,Vn.jsx)("tr",{children:(0,Vn.jsxs)("td",{colSpan:"7",className:"px-6 py-12 text-center",children:[(0,Vn.jsx)(Xo,{className:"h-12 w-12 text-[#636366] mx-auto mb-3"}),(0,Vn.jsx)("p",{className:"text-[#98989D]",children:"Tidak ada data aset"})]})}):f.map(e=>(0,Vn.jsxs)(a.Fragment,{children:[(0,Vn.jsxs)("tr",{className:"hover:bg-[#38383A]/30 transition-colors",children:[(0,Vn.jsx)("td",{className:"px-3 py-3",children:(0,Vn.jsx)("button",{onClick:()=>{return t=e.id,void d(c===t?null:t);var t},className:"text-[#98989D] hover:text-white transition-colors",title:c===e.id?"Tutup Jadwal":"Lihat Jadwal",children:c===e.id?(0,Vn.jsx)(mM,{className:"h-4 w-4"}):(0,Vn.jsx)(na.A,{className:"h-4 w-4"})})}),(0,Vn.jsxs)("td",{className:"px-3 py-3",children:[(0,Vn.jsx)("div",{className:"text-sm font-medium text-white",children:e.assetName}),(0,Vn.jsx)("div",{className:"text-xs text-[#636366] mt-0.5",children:e.assetCode})]}),(0,Vn.jsxs)("td",{className:"px-3 py-3",children:[(0,Vn.jsx)("div",{className:"text-sm text-white",children:u[e.depreciationMethod]}),(0,Vn.jsxs)("div",{className:"text-xs text-[#98989D] mt-0.5",children:[e.usefulLife," tahun"]})]}),(0,Vn.jsx)("td",{className:"px-3 py-3 text-sm text-white",children:h(e.purchasePrice||0)}),(0,Vn.jsx)("td",{className:"px-3 py-3 text-sm text-[#FF9F0A]",children:h(e.accumulatedDepreciation||0)}),(0,Vn.jsx)("td",{className:"px-3 py-3 text-sm text-[#30D158] font-medium",children:h(e.netBookValue||0)}),(0,Vn.jsx)("td",{className:"px-3 py-3 text-sm text-white",children:h(e.annualDepreciation||0)})]}),c===e.id&&(0,Vn.jsx)("tr",{className:"bg-[#1C1C1E]/80",children:(0,Vn.jsx)("td",{colSpan:"7",className:"px-6 py-4",children:(0,Vn.jsxs)("div",{className:"space-y-3",children:[(0,Vn.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3",children:["Jadwal Depresiasi - ",e.assetName]}),(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"w-full",children:[(0,Vn.jsx)("thead",{className:"bg-[#2C2C2E]",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-[#98989D] uppercase",children:"Tahun"}),(0,Vn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-[#98989D] uppercase",children:"Depresiasi"}),(0,Vn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-[#98989D] uppercase",children:"Akumulasi"}),(0,Vn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-[#98989D] uppercase",children:"Nilai Buku"})]})}),(0,Vn.jsx)("tbody",{className:"divide-y divide-[#38383A]",children:m(e).map(e=>(0,Vn.jsxs)("tr",{className:"hover:bg-[#38383A]/30",children:[(0,Vn.jsxs)("td",{className:"px-4 py-2 text-sm text-white",children:["Tahun ",e.yearNumber," (",e.year,")"]}),(0,Vn.jsx)("td",{className:"px-4 py-2 text-sm text-[#FF9F0A]",children:h(e.depreciation)}),(0,Vn.jsx)("td",{className:"px-4 py-2 text-sm text-[#FF453A]",children:h(e.accumulated)}),(0,Vn.jsx)("td",{className:"px-4 py-2 text-sm text-[#30D158] font-medium",children:h(e.netBookValue)})]},e.year))})]})})]})})})]},e.id))})]})})})]})})},c9=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(""),c=(0,a.useCallback)(async()=>{try{n(!0);const e=await Sr.get("/api/reports/fixed-asset/list");if(e.data.success){const r=(e.data.data||[]).map(e=>{const t=new Date(e.purchaseDate),r=new Date;let n=12;"HEAVY_EQUIPMENT"===e.assetCategory&&(n=6),"VEHICLES"===e.assetCategory&&(n=3);const a=new Date(t);a.setMonth(a.getMonth()+n);const s=Math.ceil((a-r)/864e5),o=s<0,i=s>0&&s<=30;return(0,Mt.A)((0,Mt.A)({},e),{},{nextMaintenanceDate:a,daysUntilMaintenance:s,maintenanceInterval:n,status:o?"OVERDUE":i?"UPCOMING":"OK"})});t(r)}}catch(s){console.error("Error fetching maintenance data:",s),o("Gagal memuat data perawatan")}finally{n(!1)}},[]);(0,a.useEffect)(()=>{c()},[c]);const d=e.filter(e=>{var t,r;return(null===(t=e.assetName)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(r=e.assetCode)||void 0===r?void 0:r.toLowerCase().includes(i.toLowerCase()))}),u={total:e.length,overdue:e.filter(e=>"OVERDUE"===e.status).length,upcoming:e.filter(e=>"UPCOMING"===e.status).length,ok:e.filter(e=>"OK"===e.status).length},p=e=>{switch(e){case"OVERDUE":return"bg-[#FF453A]/20 text-[#FF453A] border-[#FF453A]/30";case"UPCOMING":return"bg-[#FF9F0A]/20 text-[#FF9F0A] border-[#FF9F0A]/30";default:return"bg-[#30D158]/20 text-[#30D158] border-[#30D158]/30"}};return r?(0,Vn.jsx)("div",{className:"flex items-center justify-center h-screen bg-[#1C1C1E]",children:(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0A84FF]"})}):(0,Vn.jsx)("div",{className:"p-6 bg-[#1C1C1E] min-h-screen",children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-4 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Total Aset"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-white",children:u.total})]}),(0,Vn.jsx)("div",{className:"w-12 h-12 bg-[#0A84FF]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(Xo,{className:"h-6 w-6 text-[#0A84FF]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-4 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Terlambat"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-[#FF453A]",children:u.overdue})]}),(0,Vn.jsx)("div",{className:"w-12 h-12 bg-[#FF453A]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(ti,{className:"h-6 w-6 text-[#FF453A]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-4 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Segera"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-[#FF9F0A]",children:u.upcoming})]}),(0,Vn.jsx)("div",{className:"w-12 h-12 bg-[#FF9F0A]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(io,{className:"h-6 w-6 text-[#FF9F0A]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-4 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Normal"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-[#30D158]",children:u.ok})]}),(0,Vn.jsx)("div",{className:"w-12 h-12 bg-[#30D158]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(Ea.A,{className:"h-6 w-6 text-[#30D158]"})})]})})]}),s&&(0,Vn.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg flex items-center justify-between",children:[(0,Vn.jsx)("span",{children:s}),(0,Vn.jsx)("button",{onClick:()=>o(null),className:"text-red-400 hover:text-red-300",children:(0,Vn.jsx)(ja.A,{className:"h-4 w-4"})})]}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl shadow-sm border border-[#38383A] p-4",children:(0,Vn.jsxs)("div",{className:"flex gap-4",children:[(0,Vn.jsx)("input",{type:"text",placeholder:"Cari aset...",value:i,onChange:e=>l(e.target.value),className:"flex-1 px-4 py-2 bg-[#1C1C1E] border border-[#38383A] rounded-lg text-white placeholder-[#636366] focus:ring-2 focus:ring-[#0A84FF] focus:border-transparent"}),(0,Vn.jsxs)("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-all",children:[(0,Vn.jsx)(Ho,{className:"h-5 w-5"}),"Refresh"]})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl shadow-sm border border-[#38383A] overflow-hidden",children:(0,Vn.jsx)("div",{className:"overflow-x-auto",children:(0,Vn.jsxs)("table",{className:"w-full",children:[(0,Vn.jsx)("thead",{className:"bg-[#1C1C1E] border-b border-[#38383A]",children:(0,Vn.jsxs)("tr",{children:[(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase",children:"Aset"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase",children:"Interval"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase",children:"Jadwal Berikutnya"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-[#98989D] uppercase",children:"Hari"}),(0,Vn.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-[#98989D] uppercase w-24",children:"Status"})]})}),(0,Vn.jsx)("tbody",{className:"divide-y divide-[#38383A]",children:0===d.length?(0,Vn.jsx)("tr",{children:(0,Vn.jsxs)("td",{colSpan:"5",className:"px-6 py-12 text-center",children:[(0,Vn.jsx)(Xo,{className:"h-12 w-12 text-[#636366] mx-auto mb-3"}),(0,Vn.jsx)("p",{className:"text-[#98989D]",children:"Tidak ada data perawatan"})]})}):d.map(e=>(0,Vn.jsxs)("tr",{className:"hover:bg-[#38383A]/30 transition-colors",children:[(0,Vn.jsxs)("td",{className:"px-3 py-3",children:[(0,Vn.jsx)("div",{className:"text-sm font-medium text-white",children:e.assetName}),(0,Vn.jsx)("div",{className:"text-xs text-[#636366] mt-0.5",children:e.assetCode})]}),(0,Vn.jsxs)("td",{className:"px-3 py-3 text-sm text-white",children:[e.maintenanceInterval," bulan"]}),(0,Vn.jsx)("td",{className:"px-3 py-3 text-sm text-white",children:e.nextMaintenanceDate.toLocaleDateString("id-ID")}),(0,Vn.jsx)("td",{className:"px-3 py-3 text-sm text-white",children:e.daysUntilMaintenance>0?"".concat(e.daysUntilMaintenance," hari"):"".concat(Math.abs(e.daysUntilMaintenance)," hari terlambat")}),(0,Vn.jsx)("td",{className:"px-3 py-3 text-center",children:(0,Vn.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full border ".concat(p(e.status)),children:"OVERDUE"===e.status?"Terlambat":"UPCOMING"===e.status?"Segera":"Normal"})})]},e.id))})]})})})]})})},d9=()=>{const[e,t]=(0,a.useState)({}),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),i=(0,a.useCallback)(async()=>{try{n(!0);const e=await Sr.get("/api/reports/fixed-asset/list");if(e.data.success){const r=e.data.data||[],n=r.reduce((e,t)=>e+(parseFloat(t.purchasePrice)||0),0),a={};r.forEach(e=>{const t=e.assetCategory||"OTHER";a[t]||(a[t]={count:0,value:0}),a[t].count+=1,a[t].value+=parseFloat(e.purchasePrice)||0});const s={};r.forEach(e=>{const t=e.status||"UNKNOWN";s[t]=(s[t]||0)+1}),t({total:r.length,totalValue:n,averageValue:r.length>0?n/r.length:0,byCategory:a,byStatus:s})}}catch(s){console.error("Error fetching analytics:",s),o("Gagal memuat analytics")}finally{n(!1)}},[]);(0,a.useEffect)(()=>{i()},[i]);const l=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e),c={HEAVY_EQUIPMENT:"Alat Berat",VEHICLES:"Kendaraan",BUILDINGS:"Bangunan",OFFICE_EQUIPMENT:"Peralatan Kantor",TOOLS_MACHINERY:"Peralatan & Mesin",COMPUTERS_IT:"Komputer & IT"},d={ACTIVE:"Aktif",UNDER_MAINTENANCE:"Perawatan",IDLE:"Tidak Digunakan",DISPOSED:"Dibuang"};return r?(0,Vn.jsx)("div",{className:"flex items-center justify-center h-screen bg-[#1C1C1E]",children:(0,Vn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0A84FF]"})}):(0,Vn.jsx)("div",{className:"p-6 bg-[#1C1C1E] min-h-screen",children:(0,Vn.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,Vn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-6 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Total Aset"}),(0,Vn.jsx)("p",{className:"text-3xl font-bold text-white",children:e.total||0})]}),(0,Vn.jsx)("div",{className:"w-14 h-14 bg-[#0A84FF]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(Xo,{className:"h-7 w-7 text-[#0A84FF]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-6 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Total Nilai"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-white",children:l(e.totalValue||0)})]}),(0,Vn.jsx)("div",{className:"w-14 h-14 bg-[#30D158]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(xa,{className:"h-7 w-7 text-[#30D158]"})})]})}),(0,Vn.jsx)("div",{className:"bg-[#2C2C2E] rounded-xl p-6 shadow-sm border border-[#38383A]",children:(0,Vn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm text-[#98989D] mb-1",children:"Rata-rata Nilai"}),(0,Vn.jsx)("p",{className:"text-2xl font-bold text-white",children:l(e.averageValue||0)})]}),(0,Vn.jsx)("div",{className:"w-14 h-14 bg-[#0A84FF]/20 rounded-xl flex items-center justify-center",children:(0,Vn.jsx)(ui,{className:"h-7 w-7 text-[#0A84FF]"})})]})})]}),s&&(0,Vn.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg flex items-center justify-between",children:[(0,Vn.jsx)("span",{children:s}),(0,Vn.jsx)("button",{onClick:()=>o(null),className:"text-red-400 hover:text-red-300",children:(0,Vn.jsx)(ja.A,{className:"h-4 w-4"})})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-xl shadow-sm border border-[#38383A] p-6",children:[(0,Vn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center",children:[(0,Vn.jsx)(rT,{className:"h-5 w-5 mr-2 text-[#0A84FF]"}),"Aset per Kategori"]}),(0,Vn.jsxs)("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 bg-[#0A84FF] text-white rounded-lg hover:bg-[#0A84FF]/90 transition-all text-sm",children:[(0,Vn.jsx)(Ho,{className:"h-4 w-4"}),"Refresh"]})]}),(0,Vn.jsx)("div",{className:"space-y-4",children:Object.entries(e.byCategory||{}).map(t=>{let[r,n]=t;return(0,Vn.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#1C1C1E] rounded-lg",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("p",{className:"text-sm font-medium text-white",children:c[r]||r}),(0,Vn.jsxs)("p",{className:"text-xs text-[#98989D] mt-1",children:[n.count," aset"]})]}),(0,Vn.jsxs)("div",{className:"text-right",children:[(0,Vn.jsx)("p",{className:"text-sm font-bold text-[#0A84FF]",children:l(n.value)}),(0,Vn.jsxs)("p",{className:"text-xs text-[#636366] mt-1",children:[(n.value/(e.totalValue||1)*100).toFixed(1),"%"]})]})]},r)})})]}),(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] rounded-xl shadow-sm border border-[#38383A] p-6",children:[(0,Vn.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center mb-6",children:[(0,Vn.jsx)(ba,{className:"h-5 w-5 mr-2 text-[#0A84FF]"}),"Aset per Status"]}),(0,Vn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(e.byStatus||{}).map(e=>{let[t,r]=e;const n={ACTIVE:"#30D158",UNDER_MAINTENANCE:"#FF9F0A",IDLE:"#98989D",DISPOSED:"#FF453A"}[t]||"#98989D";return(0,Vn.jsxs)("div",{className:"bg-[#1C1C1E] rounded-lg p-4 text-center",children:[(0,Vn.jsx)("p",{className:"text-3xl font-bold mb-2",style:{color:n},children:r}),(0,Vn.jsx)("p",{className:"text-sm text-[#98989D]",children:d[t]||t})]},t)})})]})]})})},u9=()=>{var e;const[t,r]=(0,a.useState)("registry"),n=[{id:"registry",label:"Asset Registry",icon:Xo,component:i9},{id:"depreciation",label:"Depreciation",icon:Oi,component:l9},{id:"maintenance",label:"Maintenance",icon:uW,component:c9},{id:"analytics",label:"Analytics",icon:rT,component:d9}],s=null===(e=n.find(e=>e.id===t))||void 0===e?void 0:e.component;return(0,Vn.jsxs)("div",{className:"min-h-screen bg-[#1C1C1E]",children:[(0,Vn.jsxs)("div",{className:"bg-[#2C2C2E] border-b border-[#38383A]",children:[(0,Vn.jsx)("div",{className:"px-6 py-6",children:(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Asset Management"}),(0,Vn.jsx)("p",{className:"text-[#98989D] mt-2",children:"Kelola aset konstruksi dan peralatan proyek"})]})}),(0,Vn.jsx)("div",{className:"px-6",children:(0,Vn.jsx)("nav",{className:"flex space-x-2","aria-label":"Tabs",children:n.map(e=>{const n=e.icon;return(0,Vn.jsxs)("button",{onClick:()=>r(e.id),className:"".concat(t===e.id?"bg-[#0A84FF] text-white":"text-[#98989D] hover:text-white hover:bg-[#38383A]/30"," inline-flex items-center px-4 py-2.5 font-medium text-sm rounded-t-lg transition-all duration-200"),children:[(0,Vn.jsx)(n,{className:"mr-2 h-4 w-4"}),(0,Vn.jsx)("span",{children:e.label})]},e.id)})})})]}),(0,Vn.jsx)("div",{className:"flex-1",children:s&&(0,Vn.jsx)(s,{})})]})},p9=()=>(0,Vn.jsx)(ve,{children:(0,Vn.jsx)(be,{index:!0,element:(0,Vn.jsx)(u9,{})})});const h9=function(){return(0,Vn.jsx)(Yn,{children:(0,Vn.jsx)(qn,{children:(0,Vn.jsx)(Se,{children:(0,Vn.jsx)("div",{className:"App",children:(0,Vn.jsxs)(ve,{children:[(0,Vn.jsx)(be,{path:"/login",element:(0,Vn.jsx)(Fa,{})}),(0,Vn.jsx)(be,{path:"/",element:(0,Vn.jsx)(zo,{})}),(0,Vn.jsx)(be,{path:"/dashboard",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(si,{})})})}),(0,Vn.jsx)(be,{path:"/admin",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(si,{})})})}),(0,Vn.jsx)(be,{path:"/finance",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(_E,{})})})}),(0,Vn.jsx)(be,{path:"/projects",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(TP,{})})})}),(0,Vn.jsx)(be,{path:"/approval",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(lW,{})})})}),(0,Vn.jsx)(be,{path:"/approvals",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(lW,{})})})}),(0,Vn.jsx)(be,{path:"/analytics",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(gZ,{})})})}),(0,Vn.jsx)(be,{path:"/projects/create",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(eD,{})})})}),(0,Vn.jsx)(be,{path:"/projects/:id",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(gM,{})})})}),(0,Vn.jsx)(be,{path:"/projects/:id/edit",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(SM,{})})})}),(0,Vn.jsx)(be,{path:"/admin/projects",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(TP,{})})})}),(0,Vn.jsx)(be,{path:"/admin/projects/create",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(eD,{})})})}),(0,Vn.jsx)(be,{path:"/admin/projects/:id",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(gM,{})})})}),(0,Vn.jsx)(be,{path:"/admin/projects/:id/edit",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(SM,{})})})}),(0,Vn.jsx)(be,{path:"/manpower",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(JM,{})})})}),(0,Vn.jsx)(be,{path:"/users",element:(0,Vn.jsx)(Xn,{roles:["admin"],children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(a_,{})})})}),(0,Vn.jsx)(be,{path:"/analytics",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(j_,{})})})}),(0,Vn.jsx)(be,{path:"/subsidiaries",element:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(M_,{})})}),(0,Vn.jsx)(be,{path:"/subsidiaries/create",element:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(G_,{})})}),(0,Vn.jsx)(be,{path:"/subsidiaries/:id",element:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(Q_,{})})}),(0,Vn.jsx)(be,{path:"/subsidiaries/:id/edit",element:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(xR,{})})}),(0,Vn.jsx)(be,{path:"/settings/*",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(xZ,{})})})}),(0,Vn.jsx)(be,{path:"/notifications",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(N_,{})})})}),(0,Vn.jsx)(be,{path:"/operations",element:(0,Vn.jsx)(Xn,{roles:["admin"],children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(o9,{})})})}),(0,Vn.jsx)(be,{path:"/assets/*",element:(0,Vn.jsx)(Xn,{children:(0,Vn.jsx)(Na,{children:(0,Vn.jsx)(p9,{})})})})]})})})})})};o.createRoot(document.getElementById("root")).render((0,Vn.jsx)(a.StrictMode,{children:(0,Vn.jsx)(h9,{})}))})()})();
//# sourceMappingURL=main.dcc33a79.js.map